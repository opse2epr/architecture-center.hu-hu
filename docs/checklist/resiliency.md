---
title: "Rugalmasságra vonatkozó ellenőrzőlista"
description: "Feladatlista, amely útmutatást hibatűrési szempontok a tervezés közben."
author: petertaylor9999
ms.date: 01/10/2018
ms.custom: resiliency, checklist
ms.openlocfilehash: 66ff802c1f7b35db147ffe4279982c827570c3c1
ms.sourcegitcommit: 3d6dba524cc7661740bdbaf43870de7728d60a01
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/11/2018
---
# <a name="resiliency-checklist"></a><span data-ttu-id="8191f-103">Rugalmasságra vonatkozó ellenőrzőlista</span><span class="sxs-lookup"><span data-stu-id="8191f-103">Resiliency checklist</span></span>

<span data-ttu-id="8191f-104">Rugalmasság azon képessége, a rendszer helyreállni hibák után, és továbbra is működik, és az egyik a [szoftver minőségű oszlopok](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="8191f-104">Resiliency is the ability of a system to recover from failures and continue to function, and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="8191f-105">Tervezése, és esetleg előforduló függően különböző kiküszöböléséhez tervezése a rugalmasságot az alkalmazás szükséges.</span><span class="sxs-lookup"><span data-stu-id="8191f-105">Designing your application for resiliency requires planning for and mitigating a variety of failure modes that could occur.</span></span> <span data-ttu-id="8191f-106">Az alábbi ellenőrzőlista segítségével ellenőrizze az alkalmazás architektúrák rugalmassági szempontból.</span><span class="sxs-lookup"><span data-stu-id="8191f-106">Use this checklist to review your application architecture from a resiliency standpoint.</span></span> 

## <a name="requirements"></a><span data-ttu-id="8191f-107">Követelmények</span><span class="sxs-lookup"><span data-stu-id="8191f-107">Requirements</span></span>

<span data-ttu-id="8191f-108">**Az ügyfél rendelkezésre állási követelményeinek meghatározását.**</span><span class="sxs-lookup"><span data-stu-id="8191f-108">**Define your customer's availability requirements.**</span></span> <span data-ttu-id="8191f-109">Az ügyfél összetevők rendelkezésre állását követelményekkel rendelkezik az alkalmazásban, és ez milyen hatással van az alkalmazás tervét.</span><span class="sxs-lookup"><span data-stu-id="8191f-109">Your customer will have availability requirements for the components in your application and this will affect your application's design.</span></span> <span data-ttu-id="8191f-110">Az ügyfél megállapodás lekérése az alkalmazás minden egyes adatra rendelkezésre állási céljai, ellenkező esetben a Tervező előfordulhat, hogy nem felelnek meg az ügyfél követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="8191f-110">Get agreement from your customer for the availability targets of each piece of your application, otherwise your design may not meet the customer's expectations.</span></span> <span data-ttu-id="8191f-111">További információkért lásd: [a rugalmasság követelmények meghatározását](../resiliency/index.md#defining-your-resiliency-requirements).</span><span class="sxs-lookup"><span data-stu-id="8191f-111">For more information, see [Defining your resiliency requirements](../resiliency/index.md#defining-your-resiliency-requirements).</span></span>

## <a name="application-design"></a><span data-ttu-id="8191f-112">Alkalmazás tervezése</span><span class="sxs-lookup"><span data-stu-id="8191f-112">Application Design</span></span>

<span data-ttu-id="8191f-113">**Hajtsa végre egy mód hibaelemzés (FMA) az alkalmazáshoz.**</span><span class="sxs-lookup"><span data-stu-id="8191f-113">**Perform a failure mode analysis (FMA) for your application.**</span></span> <span data-ttu-id="8191f-114">FMA az a folyamat egy alkalmazásba, a tervezési fázis korai szakaszában rugalmassági készítéséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-114">FMA is a process for building resiliency into an application early in the design stage.</span></span> <span data-ttu-id="8191f-115">További információkért lásd: [mód hibaelemzés][fma].</span><span class="sxs-lookup"><span data-stu-id="8191f-115">For more information, see [Failure mode analysis][fma].</span></span> <span data-ttu-id="8191f-116">Egy FMA céljai a következők:</span><span class="sxs-lookup"><span data-stu-id="8191f-116">The goals of an FMA include:</span></span>  

* <span data-ttu-id="8191f-117">Határozza meg, milyen típusú hibákat tapasztalhat az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="8191f-117">Identify what types of failures an application might experience.</span></span>
* <span data-ttu-id="8191f-118">Rögzítse a lehetséges hatások és hiba a kérelem a különböző típusú hatását.</span><span class="sxs-lookup"><span data-stu-id="8191f-118">Capture the potential effects and impact of each type of failure on the application.</span></span>
* <span data-ttu-id="8191f-119">Helyreállítási stratégiák meghatározása.</span><span class="sxs-lookup"><span data-stu-id="8191f-119">Identify recovery strategies.</span></span>
  

<span data-ttu-id="8191f-120">**Szolgáltatások több példányának telepítése.**</span><span class="sxs-lookup"><span data-stu-id="8191f-120">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="8191f-121">Ha az alkalmazás attól függ, hogy a szolgáltatás egyetlen példányát, a hibaérzékeny pontot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="8191f-121">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="8191f-122">Kiépítés több példány növeli a rugalmasságot és a méretezhetőséget.</span><span class="sxs-lookup"><span data-stu-id="8191f-122">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="8191f-123">A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amely több példányt biztosít.</span><span class="sxs-lookup"><span data-stu-id="8191f-123">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="8191f-124">Azure-szolgáltatásokhoz, konfigurálhatja a szerepkörök használandó [több példány](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span><span class="sxs-lookup"><span data-stu-id="8191f-124">For Azure Cloud Services, configure each of your roles to use [multiple instances](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span></span> <span data-ttu-id="8191f-125">A [Azure virtuális gépek (VM)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy a virtuális gép architektúrája tartalmazza az egynél több virtuális gép és az egyes virtuális gépek szerepel egy [rendelkezésre állási csoport][availability-sets].</span><span class="sxs-lookup"><span data-stu-id="8191f-125">For [Azure Virtual Machines (VMs)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your VM architecture includes more than one VM and that each VM is included in an [availability set][availability-sets].</span></span>   

<span data-ttu-id="8191f-126">**Használja az automatikus skálázás válaszolni a terhelés növekszik.**</span><span class="sxs-lookup"><span data-stu-id="8191f-126">**Use autoscaling to respond to increases in load.**</span></span> <span data-ttu-id="8191f-127">Az alkalmazás automatikusan, a betöltés növekedése horizontális nincs konfigurálva, akkor lehetséges, hogy az alkalmazás szolgáltatások sikertelen lesz, ha azok felhasználó által érintett válnak telített.</span><span class="sxs-lookup"><span data-stu-id="8191f-127">If your application is not configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="8191f-128">További részletekért olvassa el a következőket:</span><span class="sxs-lookup"><span data-stu-id="8191f-128">For more details, see the following:</span></span>

* <span data-ttu-id="8191f-129">Általános: [méretezhetőség ellenőrzőlista](./scalability.md)</span><span class="sxs-lookup"><span data-stu-id="8191f-129">General: [Scalability checklist](./scalability.md)</span></span>
* <span data-ttu-id="8191f-130">Az Azure App Service: [méretezése példányszám manuális vagy automatikus][app-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="8191f-130">Azure App Service: [Scale instance count manually or automatically][app-service-autoscale]</span></span>
* <span data-ttu-id="8191f-131">Felhőszolgáltatások: [hogyan automatikus méretezési egy felhőalapú szolgáltatás][cloud-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="8191f-131">Cloud Services: [How to auto scale a cloud service][cloud-service-autoscale]</span></span>
* <span data-ttu-id="8191f-132">Virtuális gépek: [automatikus skálázás és a virtuális gép skálázása beállítása][vmss-autoscale]</span><span class="sxs-lookup"><span data-stu-id="8191f-132">Virtual Machines: [Automatic scaling and virtual machine scale sets][vmss-autoscale]</span></span>

<span data-ttu-id="8191f-133">**Terheléselosztás használatával terjesztheti a kérelmeket.**</span><span class="sxs-lookup"><span data-stu-id="8191f-133">**Use load balancing to distribute requests.**</span></span> <span data-ttu-id="8191f-134">Szétosztja az alkalmazás kérelmek kifogástalan szolgáltatáspéldány Elforgatás sérült példányok eltávolításával.</span><span class="sxs-lookup"><span data-stu-id="8191f-134">Load balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="8191f-135">Ha a szolgáltatás az Azure App Service- vagy Azure Cloud Services használ, már terhelésű meg.</span><span class="sxs-lookup"><span data-stu-id="8191f-135">If your service uses Azure App Service or Azure Cloud Services, it is already load balanced for you.</span></span> <span data-ttu-id="8191f-136">Azonban ha az alkalmazás Azure virtuális gépeken, szüksége lesz egy terhelés-kiegyenlítő kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-136">However, if your application uses Azure VMs, you will need to provision a load balancer.</span></span> <span data-ttu-id="8191f-137">Tekintse meg a [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/) áttekintése További részleteket.</span><span class="sxs-lookup"><span data-stu-id="8191f-137">See the [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/) overview for more details.</span></span>

<span data-ttu-id="8191f-138">**Azure Alkalmazásátjárót több példány használatára konfigurálja.**</span><span class="sxs-lookup"><span data-stu-id="8191f-138">**Configure Azure Application Gateways to use multiple instances.**</span></span> <span data-ttu-id="8191f-139">Az alkalmazás követelményeitől függően egy [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) is lehet jobban megfelelnek az alkalmazás szolgáltatások kérések elosztása.</span><span class="sxs-lookup"><span data-stu-id="8191f-139">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="8191f-140">Azonban a Application Gateway szolgáltatás egyetlen példánya nem igazolt szolgáltatásiszint-szerződésben garantált ezért lehetséges, hogy az alkalmazás meghiúsulhat, ha az alkalmazás átjárópéldány sikertelen.</span><span class="sxs-lookup"><span data-stu-id="8191f-140">However, single instances of the Application Gateway service are not guaranteed by an SLA so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="8191f-141">Egynél több közepes vagy nagyobb alkalmazás átjárópéldányt be kell állítani az értelmében a szolgáltatás rendelkezésre állásának biztosítása kiépíteni a [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="8191f-141">Provision more than one medium or larger Application Gateway instance to guarantee availability of the service under the terms of the [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/).</span></span>

<span data-ttu-id="8191f-142">**Rendelkezésre állási készletek használata minden egyes alkalmazás szinten.**</span><span class="sxs-lookup"><span data-stu-id="8191f-142">**Use Availability Sets for each application tier.**</span></span> <span data-ttu-id="8191f-143">Helyezi el a példány egy [rendelkezésre állási csoport] [ availability-sets] biztosít egy magasabb [SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="8191f-143">Placing your instances in an [availability set][availability-sets] provides a higher [SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/).</span></span> 

<span data-ttu-id="8191f-144">**Vegye figyelembe, hogy az alkalmazás telepítéséhez a különféle régiókban.**</span><span class="sxs-lookup"><span data-stu-id="8191f-144">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="8191f-145">Ha az alkalmazás központi telepítése egy régiót, a ritka esetben az egész régió nem érhető el, az alkalmazás még nem lesz elérhető.</span><span class="sxs-lookup"><span data-stu-id="8191f-145">If your application is deployed to a single region, in the rare event the entire region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="8191f-146">Ennek az lehet az alkalmazás szolgáltatásiszint-szerződés feltételei szerint nem fogadható el.</span><span class="sxs-lookup"><span data-stu-id="8191f-146">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="8191f-147">Ha igen, fontolja meg az alkalmazás és a szolgáltatások központi telepítése a különféle régiókban.</span><span class="sxs-lookup"><span data-stu-id="8191f-147">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="8191f-148">A több területi központi telepítés a egy aktív-aktív mintát (a kérelmek osztja a több aktív példányok között) vagy egy aktív-passzív mintát (megőrzi a "meleg" példánya található tartalék, abban az esetben, ha az elsődleges példány nem).</span><span class="sxs-lookup"><span data-stu-id="8191f-148">A multi-region deployment can use an active-active pattern (distributing requests across multiple active instances) or an active-passive pattern (keeping a "warm" instance in reserve, in case the primary instance fails).</span></span> <span data-ttu-id="8191f-149">Azt javasoljuk, hogy az alkalmazás szolgáltatások több példányt telepít regionális párok között.</span><span class="sxs-lookup"><span data-stu-id="8191f-149">We recommend that you deploy multiple instances of your application's services across regional pairs.</span></span> <span data-ttu-id="8191f-150">További információkért lásd: [üzleti folytonossági és vészhelyreállítási helyreállítási (BCDR): Azure-régiókat párosítva](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="8191f-150">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

<span data-ttu-id="8191f-151">**Azure Traffic Manager segítségével különböző régiókban az alkalmazás forgalmat továbbítja.**</span><span class="sxs-lookup"><span data-stu-id="8191f-151">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span>  <span data-ttu-id="8191f-152">[Az Azure Traffic Manager] [ traffic-manager] hajtja végre a DNS-szinten terheléselosztási és más régiókba alapján irányítja a forgalmat a [a forgalom útválasztásához] [ traffic-manager-routing] Adja meg, hogy metódus, és az alkalmazás-végpontok állapotát.</span><span class="sxs-lookup"><span data-stu-id="8191f-152">[Azure Traffic Manager][traffic-manager] performs load balancing at the DNS level and will route traffic to different regions based on the [traffic routing][traffic-manager-routing] method you specify and the health of your application's endpoints.</span></span> <span data-ttu-id="8191f-153">Nélkül Forgalomkezelő egy régiót a központi telepítés, amely behatárolja méretezési, növeli az egyes felhasználók késést, és hatására az alkalmazás leállás esetén a régió kiterjedő szolgáltatás szüneteltetése.</span><span class="sxs-lookup"><span data-stu-id="8191f-153">Without Traffic Manager, you are limited to a single region for your deployment, which limits scale, increases latency for some users, and causes application downtime in the case of a region-wide service disruption.</span></span>

<span data-ttu-id="8191f-154">**A terheléselosztókkal és a forgalom kezelők állapotfigyelő mintavételt tesztelése és konfigurálása.**</span><span class="sxs-lookup"><span data-stu-id="8191f-154">**Configure and test health probes for your load balancers and traffic managers.**</span></span> <span data-ttu-id="8191f-155">Győződjön meg arról, hogy a health logika ellenőrzi a rendszer kritikus részét, és állapotteljesítmény megfelelően válaszol.</span><span class="sxs-lookup"><span data-stu-id="8191f-155">Ensure that your health logic checks the critical parts of the system and responds appropriately to health probes.</span></span>

* <span data-ttu-id="8191f-156">Az állapot-mintavételi csomagjai a [Azure Traffic Manager] [ traffic-manager] és [Azure Load Balancer] [ load-balancer] egy adott funkció szolgál.</span><span class="sxs-lookup"><span data-stu-id="8191f-156">The health probes for [Azure Traffic Manager][traffic-manager] and [Azure Load Balancer][load-balancer] serve a specific function.</span></span> <span data-ttu-id="8191f-157">A Traffic Manager, a állapotmintáihoz határozza meg, hogy egy másik régióban feladatátvételt.</span><span class="sxs-lookup"><span data-stu-id="8191f-157">For Traffic Manager, the health probe determines whether to fail over to another region.</span></span> <span data-ttu-id="8191f-158">A terheléselosztóhoz azt határozza meg a virtuális gép eltávolítása elforgatási.</span><span class="sxs-lookup"><span data-stu-id="8191f-158">For a load balancer, it determines whether to remove a VM from rotation.</span></span>      
* <span data-ttu-id="8191f-159">A rendszerállapot-végpontot egy Traffic Manager mintavétel ellenőrizze a kritikus függőségeket, amely ugyanabban a régióban belül vannak telepítve, és amelyek meghibásodása indíthat el egy feladatátvételt egy másik régióban.</span><span class="sxs-lookup"><span data-stu-id="8191f-159">For a Traffic Manager probe, your health endpoint should check any critical dependencies that are deployed within the same region, and whose failure should trigger a failover to another region.</span></span>  
* <span data-ttu-id="8191f-160">A terheléselosztóhoz az egészségügyi végpont jelenteniük kell a virtuális gép állapotát.</span><span class="sxs-lookup"><span data-stu-id="8191f-160">For a load balancer, the health endpoint should report the health of the VM.</span></span> <span data-ttu-id="8191f-161">Más rétegekkel vagy a külső szolgáltatások nem tartalmazzák.</span><span class="sxs-lookup"><span data-stu-id="8191f-161">Don't include other tiers or external services.</span></span> <span data-ttu-id="8191f-162">Ellenkező esetben kívül a virtuális gép előforduló hibát okoz, elforgatás a virtuális gép eltávolítása a terheléselosztó.</span><span class="sxs-lookup"><span data-stu-id="8191f-162">Otherwise, a failure that occurs outside the VM will cause the load balancer to remove the VM from rotation.</span></span>
* <span data-ttu-id="8191f-163">Útmutató a végrehajtási állapot az alkalmazás figyelése: [állapotfigyelő végpont figyelési mintát](https://msdn.microsoft.com/library/dn589789.aspx).</span><span class="sxs-lookup"><span data-stu-id="8191f-163">For guidance on implementing health monitoring in your application, see [Health Endpoint Monitoring Pattern](https://msdn.microsoft.com/library/dn589789.aspx).</span></span>

<span data-ttu-id="8191f-164">**Külső szolgáltatások figyelésére.**</span><span class="sxs-lookup"><span data-stu-id="8191f-164">**Monitor third-party services.**</span></span> <span data-ttu-id="8191f-165">Ha az alkalmazás függőségeit a harmadik féltől származó szolgáltatással, határozza meg, hol, hogyan külső szolgáltatásokról sikertelen lehet, és milyen hatással, ezek a hibák az alkalmazás rendelkezik majd.</span><span class="sxs-lookup"><span data-stu-id="8191f-165">If your application has dependencies on third-party services, identify where and how these third-party services can fail and what effect those failures will have on your application.</span></span> <span data-ttu-id="8191f-166">Egy külső szolgáltatás nem tartalmazhatnak figyelése és diagnosztikai, ezért fontos, hogy azok a indítások jelentkezzen és kivizsgált azokat az alkalmazás állapotának és diagnosztikai naplózás egyedi azonosító segítségével.</span><span class="sxs-lookup"><span data-stu-id="8191f-166">A third-party service may not include monitoring and diagnostics, so it's important to log your invocations of them and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="8191f-167">A figyelési és diagnosztika bevált gyakorlatok további információkért lásd: [megfigyelési és diagnosztikai útmutatást][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="8191f-167">For more information on proven practices for monitoring and diagnostics, see [Monitoring and Diagnostics guidance][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="8191f-168">**Győződjön meg arról, hogy bármely külső szolgáltatás felhasznált biztosít egy SLA-t.**</span><span class="sxs-lookup"><span data-stu-id="8191f-168">**Ensure that any third-party service you consume provides an SLA.**</span></span> <span data-ttu-id="8191f-169">Ha az alkalmazás olyan külső szolgáltatástól függ, de a harmadik féltől származó biztosít a rendelkezésre állási szolgáltatásiszint-szerződésben garantált formájában nem garantálja, az alkalmazás is nem lehet biztosítani.</span><span class="sxs-lookup"><span data-stu-id="8191f-169">If your application depends on a third-party service, but the third party provides no guarantee of availability in the form of an SLA, your application's availability also cannot be guaranteed.</span></span> <span data-ttu-id="8191f-170">Az SLA-t csak akkor az alkalmazás a legkevesebb szabad összetevő megegyezik.</span><span class="sxs-lookup"><span data-stu-id="8191f-170">Your SLA is only as good as the least available component of your application.</span></span>

<span data-ttu-id="8191f-171">**Rugalmasság minták távoli műveletek végrehajtása, megfelelő.**</span><span class="sxs-lookup"><span data-stu-id="8191f-171">**Implement resiliency patterns for remote operations where appropriate.**</span></span> <span data-ttu-id="8191f-172">Ha az alkalmazás távoli szolgáltatások közötti kommunikáció függ, hajtsa végre az átmeneti hibák kapcsolatos kialakítási minta, mint [újra mintát][retry-pattern], és [áramköri megszakító Minta][circuit-breaker].</span><span class="sxs-lookup"><span data-stu-id="8191f-172">If your application depends on communication between remote services, follow design patterns for dealing with transient failures, such as [Retry Pattern][retry-pattern], and [Circuit Breaker Pattern][circuit-breaker].</span></span> <span data-ttu-id="8191f-173">További információkért lásd: [rugalmassági stratégiák](../resiliency/index.md#resiliency-strategies).</span><span class="sxs-lookup"><span data-stu-id="8191f-173">For more information, see [Resiliency strategies](../resiliency/index.md#resiliency-strategies).</span></span>

<span data-ttu-id="8191f-174">**Amikor csak lehetséges aszinkron műveletek végrehajtására.**</span><span class="sxs-lookup"><span data-stu-id="8191f-174">**Implement asynchronous operations whenever possible.**</span></span> <span data-ttu-id="8191f-175">Szinkron műveletek se sajátíthassa ki az erőforrásokat, és más műveletek blokkolható, amíg a hívó megvárja-e a folyamat befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-175">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="8191f-176">Tervezze meg az alkalmazás számára, amikor csak lehetséges aszinkron műveletek engedélyezése részét képező összes.</span><span class="sxs-lookup"><span data-stu-id="8191f-176">Design each part of your application to allow for asynchronous operations whenever possible.</span></span> <span data-ttu-id="8191f-177">Aszinkron programozás megvalósításához a C# további információkért lásd: [aszinkron programozás az async és await][asynchronous-c-sharp].</span><span class="sxs-lookup"><span data-stu-id="8191f-177">For more information on how to implement asynchronous programming in C#, see [Asynchronous Programming with async and await][asynchronous-c-sharp].</span></span>

## <a name="data-management"></a><span data-ttu-id="8191f-178">Adatkezelés</span><span class="sxs-lookup"><span data-stu-id="8191f-178">Data management</span></span>

<span data-ttu-id="8191f-179">**Ismerje meg az alkalmazás-adatforrások replikációs módszereket.**</span><span class="sxs-lookup"><span data-stu-id="8191f-179">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="8191f-180">Az alkalmazásadatok különböző forrásokból tárolódnak, és másik rendelkezésre állási követelmények vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="8191f-180">Your application data will be stored in different data sources and have different availability requirements.</span></span> <span data-ttu-id="8191f-181">Értékelje ki a replikációs módszereket az egyes Azure, az adattárolás beleértve [Azure Storage replikációs](/azure/storage/storage-redundancy/) és [SQL adatbázis aktív Georeplikáció](/azure/sql-database/sql-database-geo-replication-overview/) annak érdekében, hogy az alkalmazás adatokat követelmények teljesülnek.</span><span class="sxs-lookup"><span data-stu-id="8191f-181">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage Replication](/azure/storage/storage-redundancy/) and [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span>

<span data-ttu-id="8191f-182">**Győződjön meg arról, hogy nincs egy felhasználói fiók rendelkezik-e éles és a biztonsági mentés adatokhoz való hozzáférés.**</span><span class="sxs-lookup"><span data-stu-id="8191f-182">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="8191f-183">A biztonsági mentések akkor biztonsága sérül, ha egy egyetlen felhasználói fiókkal is a termelési, és a biztonsági mentési források írási engedéllyel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="8191f-183">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="8191f-184">Egy rosszindulatú felhasználó szándékosan sikerült törölni az adatokat, míg az átlagos felhasználók tudta véletlenül törölni.</span><span class="sxs-lookup"><span data-stu-id="8191f-184">A malicious user could purposely delete all your data, while a regular user could accidentally delete it.</span></span> <span data-ttu-id="8191f-185">Tervezze meg az alkalmazás számára korlátozza az engedélyeket az egyes felhasználói fiókok, hogy csak az írási hozzáférést igénylő felhasználók írási hozzáféréssel rendelkezik, és csak a termelési vagy biztonsági mentés, de soha sem egyszerre mindkettőre.</span><span class="sxs-lookup"><span data-stu-id="8191f-185">Design your application to limit the permissions of each user account so that only the users that require write access have write access and it's only to either production or backup, but not both.</span></span>

<span data-ttu-id="8191f-186">**A dokumentum az adatforrás feladatátvétele és a feladat-visszavételt feldolgozni, és tesztelik azt.**</span><span class="sxs-lookup"><span data-stu-id="8191f-186">**Document your data source fail over and fail back process and test it.**</span></span> <span data-ttu-id="8191f-187">Abban az esetben, ha az adatforrás nem catastrophically emberi beavatkozást kell kövesse az utasításokat a feladatátvételt egy új adatforrás készlete.</span><span class="sxs-lookup"><span data-stu-id="8191f-187">In the case where your data source fails catastrophically, a human operator will have to follow a set of documented instructions to fail over to a new data source.</span></span> <span data-ttu-id="8191f-188">Ha dokumentált lépéseiben hibák, operátor nem lesz képes sikeresen betartásuk és az erőforrás a feladatátvétel.</span><span class="sxs-lookup"><span data-stu-id="8191f-188">If the documented steps have errors, an operator will not be able to successfully follow them and fail over the resource.</span></span> <span data-ttu-id="8191f-189">Rendszeresen tesztelniük a utasítás lépéseket annak ellenőrzéséhez, hogy azokat a következő operátor sikeres feladatátvételt, és a feladat-visszavételt a adatforrás képes.</span><span class="sxs-lookup"><span data-stu-id="8191f-189">Regularly test the instruction steps to verify that an operator following them is able to successfully fail over and fail back the data source.</span></span>

<span data-ttu-id="8191f-190">**Ellenőrizze az adatok biztonsági mentése.**</span><span class="sxs-lookup"><span data-stu-id="8191f-190">**Validate your data backups.**</span></span> <span data-ttu-id="8191f-191">Rendszeresen győződjön meg arról, hogy a biztonsági mentési adatokat várt parancsfájl futtatásával érvényesíteni az adatok integritását, a séma és a lekérdezések.</span><span class="sxs-lookup"><span data-stu-id="8191f-191">Regularly verify that your backup data is what you expect by running a script to validate data integrity, schema, and queries.</span></span> <span data-ttu-id="8191f-192">Nincs rendelkezik egy biztonsági mentés, ha még nincs visszaállítása az adatforrások hasznos pont.</span><span class="sxs-lookup"><span data-stu-id="8191f-192">There's no point having a backup if it's not useful to restore your data sources.</span></span> <span data-ttu-id="8191f-193">Naplófájl, és jelentést esetlegesen bekövetkező inkonzisztencia, így javítható a biztonsági mentési szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="8191f-193">Log and report any inconsistencies so the backup service can be repaired.</span></span>

<span data-ttu-id="8191f-194">**Érdemes lehet georedundáns tárolás fiók típusa.**</span><span class="sxs-lookup"><span data-stu-id="8191f-194">**Consider using a storage account type that is geo-redundant.**</span></span> <span data-ttu-id="8191f-195">Egy Azure Storage-fiókban tárolt adatok helyben mindig replikálódik.</span><span class="sxs-lookup"><span data-stu-id="8191f-195">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="8191f-196">Van azonban több replikálási gyakorlata választhat, ha a Storage-fiók ki van építve.</span><span class="sxs-lookup"><span data-stu-id="8191f-196">However, there are multiple replication strategies to choose from when a Storage Account is provisioned.</span></span> <span data-ttu-id="8191f-197">Válassza ki [Azure-írásvédett Georedundáns redundáns tárolás (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage) szemben a ritka esetben alkalmazás adatok védelme, amikor egy teljes terület nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="8191f-197">Select [Azure Read-Access Geo Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage) to protect your application data against the rare case when an entire region becomes unavailable.</span></span>

> [!NOTE]
> <span data-ttu-id="8191f-198">Virtuális gépekhez ne használja az RA-GRS replikációs visszaállítani a virtuális gépek lemezei (VHD-fájlokat).</span><span class="sxs-lookup"><span data-stu-id="8191f-198">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="8191f-199">Ehelyett használjon [Azure biztonsági mentés][azure-backup].</span><span class="sxs-lookup"><span data-stu-id="8191f-199">Instead, use [Azure Backup][azure-backup].</span></span>   
>
>

## <a name="security"></a><span data-ttu-id="8191f-200">Biztonság</span><span class="sxs-lookup"><span data-stu-id="8191f-200">Security</span></span>

<span data-ttu-id="8191f-201">**Alkalmazás szintű védelmet biztosít a elosztott szolgáltatásmegtagadásos (DDoS-) támadások megvalósításához.**</span><span class="sxs-lookup"><span data-stu-id="8191f-201">**Implement application-level protection against distributed denial of service (DDoS) attacks.**</span></span> <span data-ttu-id="8191f-202">Azure-szolgáltatások a hálózati rétegben DDos-támadások elleni védelmét.</span><span class="sxs-lookup"><span data-stu-id="8191f-202">Azure services are protected against DDos attacks at the network layer.</span></span> <span data-ttu-id="8191f-203">Azonban Azure nem lánctámadások elleni védelem érdekében alkalmazásréteg, nehéz a rosszindulatú felhasználók a kérelmek igaz felhasználói kérelmek megkülönböztetésére.</span><span class="sxs-lookup"><span data-stu-id="8191f-203">However, Azure cannot protect against application-layer attacks, because it is difficult to distinguish between true user requests from malicious user requests.</span></span> <span data-ttu-id="8191f-204">Hogyan alkalmazásszintű DDoS-támadások elleni védelem érdekében további információkért lásd: a "DDoS elleni védelme" szakaszában [Microsoft Azure hálózati biztonság](http://download.microsoft.com/download/C/A/3/CA3FC5C0-ECE0-4F87-BF4B-D74064A00846/AzureNetworkSecurity_v3_Feb2015.pdf) (PDF-fájl letöltése).</span><span class="sxs-lookup"><span data-stu-id="8191f-204">For more information on how to protect against application-layer DDoS attacks, see the "Protecting against DDoS" section of [Microsoft Azure Network Security](http://download.microsoft.com/download/C/A/3/CA3FC5C0-ECE0-4F87-BF4B-D74064A00846/AzureNetworkSecurity_v3_Feb2015.pdf) (PDF download).</span></span>

<span data-ttu-id="8191f-205">**Valósítja meg az alkalmazás erőforrások elérése érdekében a legalacsonyabb jogosultsági szint elvét.**</span><span class="sxs-lookup"><span data-stu-id="8191f-205">**Implement the principle of least privilege for access to the application's resources.**</span></span> <span data-ttu-id="8191f-206">Az alapértelmezett, az alkalmazás erőforrások elérése érdekében a lehető legjobban korlátozza kell lennie.</span><span class="sxs-lookup"><span data-stu-id="8191f-206">The default for access to the application's resources should be as restrictive as possible.</span></span> <span data-ttu-id="8191f-207">Engedélyek magasabb szintű jóváhagyási alapon.</span><span class="sxs-lookup"><span data-stu-id="8191f-207">Grant higher level permissions on an approval basis.</span></span> <span data-ttu-id="8191f-208">Alapértelmezés szerint az alkalmazás erőforrásokhoz túlságosan megengedő hozzáférést engedélyező eredményezhet valaki véletlenül vagy szándékosan erőforrások törlése.</span><span class="sxs-lookup"><span data-stu-id="8191f-208">Granting overly permissive access to your application's resources by default can result in someone purposely or accidentally deleting resources.</span></span> <span data-ttu-id="8191f-209">Azure biztosít [szerepköralapú hozzáférés-vezérlés](/azure/active-directory/role-based-access-built-in-roles/) kezelheti a felhasználói jogosultságok, azonban fontos, hogy más erőforrások, amelyek a saját engedélyek rendszerek például az SQL Server legalacsonyabb jogosultsági engedélyeinek ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="8191f-209">Azure provides [role-based access control](/azure/active-directory/role-based-access-built-in-roles/) to manage user privileges, but it's important to verify least privilege permissions for other resources that have their own permissions systems such as SQL Server.</span></span>

## <a name="testing"></a><span data-ttu-id="8191f-210">Tesztelés</span><span class="sxs-lookup"><span data-stu-id="8191f-210">Testing</span></span>

<span data-ttu-id="8191f-211">**Feladatátvevő és az alkalmazás-tesztelési feladat-visszavétel végrehajtására.**</span><span class="sxs-lookup"><span data-stu-id="8191f-211">**Perform failover and failback testing for your application.**</span></span> <span data-ttu-id="8191f-212">Ha még nem teljes körűen tesztelve feladatátvétel és a feladat-visszavétel, nem lehet biztos, hogy az alkalmazás a függő szolgáltatások helyreállnak szinkronizált módon katasztrófa utáni helyreállítás során.</span><span class="sxs-lookup"><span data-stu-id="8191f-212">If you haven't fully tested failover and failback, you can't be certain that the dependent services in your application come back up in a synchronized manner during disaster recovery.</span></span> <span data-ttu-id="8191f-213">Győződjön meg arról, hogy az alkalmazás függő szolgáltatások feladatátvétel és a megfelelő sorrendben sikertelen.</span><span class="sxs-lookup"><span data-stu-id="8191f-213">Ensure that your application's dependent services failover and fail back in the correct order.</span></span>

<span data-ttu-id="8191f-214">**Hajtsa végre a hiba-injektálás az alkalmazás tesztelése.**</span><span class="sxs-lookup"><span data-stu-id="8191f-214">**Perform fault-injection testing for your application.**</span></span> <span data-ttu-id="8191f-215">Az alkalmazás számos különféle oka, például a tanúsítvány lejárta, vagy a virtuális gépek tárhelyének a hibáit rendszererőforrás kimerülése meghiúsulhat.</span><span class="sxs-lookup"><span data-stu-id="8191f-215">Your application can fail for many different reasons, such as certificate expiration, exhaustion of system resources in a VM, or storage failures.</span></span> <span data-ttu-id="8191f-216">Az alkalmazás teszteléséhez szimulálva vagy kiváltó hibák valós üzemi környezetben, a lehető legközelebb környezetben.</span><span class="sxs-lookup"><span data-stu-id="8191f-216">Test your application in an environment as close as possible to production, by simulating or triggering real failures.</span></span> <span data-ttu-id="8191f-217">Például tanúsítványok törlése, mesterségesen erőforrást a rendszer vagy egy tárolási forrás törlése.</span><span class="sxs-lookup"><span data-stu-id="8191f-217">For example, delete certificates, artificially consume system resources, or delete a storage source.</span></span> <span data-ttu-id="8191f-218">Ellenőrizze az alkalmazás képes tudja elhárítani az összes típusú hibák, önmagában, és együtt.</span><span class="sxs-lookup"><span data-stu-id="8191f-218">Verify your application's ability to recover from all types of faults, alone and in combination.</span></span> <span data-ttu-id="8191f-219">Ellenőrizze, hogy a hibák nem propagálása vagy egymásra épülő keresztül a rendszer.</span><span class="sxs-lookup"><span data-stu-id="8191f-219">Check that failures are not propagating or cascading through your system.</span></span>

<span data-ttu-id="8191f-220">**Futtasson teszteket üzemben mindkét szintetikus és valós felhasználói adatok használatával.**</span><span class="sxs-lookup"><span data-stu-id="8191f-220">**Run tests in production using both synthetic and real user data.**</span></span> <span data-ttu-id="8191f-221">Vizsgálat és éles azonosak ritkán, ezért fontos kék/zöld vagy Kanári központi és az alkalmazás tesztelése éles üzemben.</span><span class="sxs-lookup"><span data-stu-id="8191f-221">Test and production are rarely identical, so it's important to use blue/green or a canary deployment and test your application in production.</span></span> <span data-ttu-id="8191f-222">Ez lehetővé teszi az alkalmazás tesztelése éles üzemben valós terhelés, és teljesen telepítésekor várt módon működik.</span><span class="sxs-lookup"><span data-stu-id="8191f-222">This allows you to test your application in production under real load and ensure it will function as expected when fully deployed.</span></span>

## <a name="deployment"></a><span data-ttu-id="8191f-223">Környezet</span><span class="sxs-lookup"><span data-stu-id="8191f-223">Deployment</span></span>

<span data-ttu-id="8191f-224">**A dokumentum a kiadási folyamat az alkalmazáshoz.**</span><span class="sxs-lookup"><span data-stu-id="8191f-224">**Document the release process for your application.**</span></span> <span data-ttu-id="8191f-225">Részletes kibocsátási folyamat dokumentációja, nélkül operátor lehet, hogy rossz frissítés központi telepítéséhez vagy az alkalmazás nem megfelelően konfigurálja.</span><span class="sxs-lookup"><span data-stu-id="8191f-225">Without detailed release process documentation, an operator might deploy a bad update or improperly configure settings for your application.</span></span> <span data-ttu-id="8191f-226">Egyértelműen határozza meg és dokumentálja a kiadási folyamat, és győződjön meg arról, hogy a teljes operations csapat rendelkezésére.</span><span class="sxs-lookup"><span data-stu-id="8191f-226">Clearly define and document your release process, and ensure that it's available to the entire operations team.</span></span> 

<span data-ttu-id="8191f-227">**Az alkalmazás központi telepítési folyamat automatizálása.**</span><span class="sxs-lookup"><span data-stu-id="8191f-227">**Automate your application's deployment process.**</span></span> <span data-ttu-id="8191f-228">Ha a műveleti személyzet kell manuálisan telepíteni az alkalmazást, emberi tévedések a központi telepítés meghiúsulását okozhatják.</span><span class="sxs-lookup"><span data-stu-id="8191f-228">If your operations staff is required to manually deploy your application, human error can cause the deployment to fail.</span></span> 

<span data-ttu-id="8191f-229">**Tervezze meg a kiadási folyamat rendelkezésre állásának maximalizálását.**</span><span class="sxs-lookup"><span data-stu-id="8191f-229">**Design your release process to maximize application availability.**</span></span> <span data-ttu-id="8191f-230">A kiadási folyamathoz szükséges szolgáltatások üzembe helyezése során offline állapotba, ha az alkalmazás nem lehet ismét online állapotú lesz.</span><span class="sxs-lookup"><span data-stu-id="8191f-230">If your release process requires services to go offline during deployment, your application will be unavailable until they come back online.</span></span> <span data-ttu-id="8191f-231">Használja a [kék/zöld](http://martinfowler.com/bliki/BlueGreenDeployment.html) vagy [Kanári kiadás](http://martinfowler.com/bliki/CanaryRelease.html) telepítési technika az éles az alkalmazás telepítése.</span><span class="sxs-lookup"><span data-stu-id="8191f-231">Use the [blue/green](http://martinfowler.com/bliki/BlueGreenDeployment.html) or [canary release](http://martinfowler.com/bliki/CanaryRelease.html) deployment technique to deploy your application to production.</span></span> <span data-ttu-id="8191f-232">Az alábbi eljárások is tartalmaz, amely telepítése éles kódban mellett a kiadás kódot, így a felhasználók kiadás kód átirányíthatók éles kódban meghibásodása.</span><span class="sxs-lookup"><span data-stu-id="8191f-232">Both of these techniques involve deploying your release code alongside production code so users of release code can be redirected to production code in the event of a failure.</span></span>

<span data-ttu-id="8191f-233">**Naplófájl, és az alkalmazások központi telepítésének naplózására.**</span><span class="sxs-lookup"><span data-stu-id="8191f-233">**Log and audit your application's deployments.**</span></span> <span data-ttu-id="8191f-234">Ha előkészített központi telepítési módszerek, például a kék/zöld vagy Kanári kiadások éles környezetben az alkalmazást egynél több verziója lesz.</span><span class="sxs-lookup"><span data-stu-id="8191f-234">If you use staged deployment techniques such as blue/green or canary releases there will be more than one version of your application running in production.</span></span> <span data-ttu-id="8191f-235">Probléma jöjjön létre, ha fontos meghatározni az alkalmazás melyik verzióját okozza a problémát.</span><span class="sxs-lookup"><span data-stu-id="8191f-235">If a problem should occur, it's critical to determine which version of your application is causing a problem.</span></span> <span data-ttu-id="8191f-236">A lehető legtöbb verzióspecifikus információkat robusztus naplózási stratégia megvalósításához.</span><span class="sxs-lookup"><span data-stu-id="8191f-236">Implement a robust logging strategy to capture as much version-specific information as possible.</span></span>

<span data-ttu-id="8191f-237">**A visszaállítási terven központi telepítés rendelkezik.**</span><span class="sxs-lookup"><span data-stu-id="8191f-237">**Have a rollback plan for deployment.**</span></span> <span data-ttu-id="8191f-238">Akkor lehet, hogy az alkalmazások központi telepítésének sikertelen volt, és miatt az alkalmazás már nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="8191f-238">It's possible that your application deployment could fail and cause your application to become unavailable.</span></span> <span data-ttu-id="8191f-239">Tervezze meg a visszaállítási folyamat lépjen vissza a legutóbbi ismert helyes verzióját, és minimalizálják az állásidőt.</span><span class="sxs-lookup"><span data-stu-id="8191f-239">Design a rollback process to go back to a last known good version and minimize downtime.</span></span> 

## <a name="operations"></a><span data-ttu-id="8191f-240">Műveletek</span><span class="sxs-lookup"><span data-stu-id="8191f-240">Operations</span></span>

<span data-ttu-id="8191f-241">**Gyakorlati tanácsok a figyelés és riasztás az alkalmazás megvalósításához.**</span><span class="sxs-lookup"><span data-stu-id="8191f-241">**Implement best practices for monitoring and alerting in your application.**</span></span> <span data-ttu-id="8191f-242">Nem megfelelő figyelési, diagnosztikai és riasztások nincs mód, az alkalmazás észlelésére, és javítsa ki az operátor értesítést.</span><span class="sxs-lookup"><span data-stu-id="8191f-242">Without proper monitoring, diagnostics, and alerting, there is no way to detect failures in your application and alert an operator to fix them.</span></span> <span data-ttu-id="8191f-243">További információkért lásd: [megfigyelési és diagnosztikai útmutatást][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="8191f-243">For more information, see [Monitoring and Diagnostics guidance][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="8191f-244">**Távoli hívás a statisztikai adatok és információk számára elérhetővé tenni az alkalmazás csapatához.**</span><span class="sxs-lookup"><span data-stu-id="8191f-244">**Measure remote call statistics and make the information available to the application team.**</span></span>  <span data-ttu-id="8191f-245">Ha nem nyomon követése és távoli hívás statisztikát valós időben, és tekintse át ezt az információt könnyű megoldást biztosítson a, a műveleti csapata nem fog egy azonnali képet kaphat az alkalmazás állapotát.</span><span class="sxs-lookup"><span data-stu-id="8191f-245">If you don't track and report remote call statistics in real time and provide an easy way to review this information, the operations team will not have an instantaneous view into the health of your application.</span></span> <span data-ttu-id="8191f-246">Ha csak mérték átlagos távoli híváskor, akkor nem kell elegendő információt, hogy láthatóvá váljon állít ki a szolgáltatásban.</span><span class="sxs-lookup"><span data-stu-id="8191f-246">And if you only measure average remote call time, you will not have enough information to reveal issues in the services.</span></span> <span data-ttu-id="8191f-247">Például a késés, az átviteli sebesség és a hibák 99 és 95 százalékos érték a távoli hívás metrikák foglalják össze.</span><span class="sxs-lookup"><span data-stu-id="8191f-247">Summarize remote call metrics such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span> <span data-ttu-id="8191f-248">Hajtsa végre statisztikai elemzések a mérni kívánt fedik le az egyes PERCENTILIS során előforduló hibákról.</span><span class="sxs-lookup"><span data-stu-id="8191f-248">Perform statistical analysis on the metrics to uncover errors that occur within each percentile.</span></span>

<span data-ttu-id="8191f-249">**Nyomon követheti a átmeneti kivételeket és az újrapróbálkozások számát egy megfelelő időkeretre keresztül.**</span><span class="sxs-lookup"><span data-stu-id="8191f-249">**Track the number of transient exceptions and retries over an appropriate timeframe.**</span></span> <span data-ttu-id="8191f-250">Ha nem nyomon követése és átmeneti kivételek figyelése és az újrapróbálkozások adott idő alatt, akkor lehetséges, hogy egy probléma vagy sikertelen elrejthető, az alkalmazás újrapróbálkozási logika.</span><span class="sxs-lookup"><span data-stu-id="8191f-250">If you don't track and monitor transient exceptions and retry attempts over time, it's possible that an issue or failure could be hidden by your application's retry logic.</span></span> <span data-ttu-id="8191f-251">Ez azt jelenti, hogy a figyelés és naplózás csak sikeres vagy sikertelen volt egy művelet látható, ha a tényt, hogy a művelet több alkalommal ismételhető kivételek miatt volt-e rejtett.</span><span class="sxs-lookup"><span data-stu-id="8191f-251">That is, if your monitoring and logging only shows success or failure of an operation, the fact that the operation had to be retried multiple times due to exceptions will be hidden.</span></span> <span data-ttu-id="8191f-252">A tendencia növekvő kivételek időbeli azt jelzi, hogy a szolgáltatás hibájáról sikertelenek lehetnek.</span><span class="sxs-lookup"><span data-stu-id="8191f-252">A trend of increasing exceptions over time indicates that the service is having an issue and may fail.</span></span> <span data-ttu-id="8191f-253">További információkért lásd: [ismételje meg a szolgáltatás konkrét útmutatást][retry-service-guidance].</span><span class="sxs-lookup"><span data-stu-id="8191f-253">For more information, see [Retry service specific guidance][retry-service-guidance].</span></span>

<span data-ttu-id="8191f-254">**Egy korai figyelmeztető rendszert, amely riasztást küld a kezelőnek megvalósításához.**</span><span class="sxs-lookup"><span data-stu-id="8191f-254">**Implement an early warning system that alerts an operator.**</span></span> <span data-ttu-id="8191f-255">Azonosítsa a teljesítmény a az alkalmazás állapotát, például az átmeneti kivételeket és a távoli utaló késés hívja, és állítsa be a megfelelő küszöbérték esetében.</span><span class="sxs-lookup"><span data-stu-id="8191f-255">Identify the key performance indicators of your application's health, such as transient exceptions and remote call latency, and set appropriate threshold values for each of them.</span></span> <span data-ttu-id="8191f-256">Riasztás küldése műveletek a küszöbérték elérésekor.</span><span class="sxs-lookup"><span data-stu-id="8191f-256">Send an alert to operations when the threshold value is reached.</span></span> <span data-ttu-id="8191f-257">Állítsa be ezeket a küszöbértékeket, hogy ahhoz, hogy kritikus válik, és válaszolni helyreállítási problémák azonosításához.</span><span class="sxs-lookup"><span data-stu-id="8191f-257">Set these thresholds at levels that identify issues before they become critical and require a recovery response.</span></span>

<span data-ttu-id="8191f-258">**Győződjön meg arról, hogy a csoport több személy be van tanítva, az alkalmazás figyelése, és végezze el a manuális helyreállítási lépéseket.**</span><span class="sxs-lookup"><span data-stu-id="8191f-258">**Ensure that more than one person on the team is trained to monitor the application and perform any manual recovery steps.**</span></span> <span data-ttu-id="8191f-259">Ha csak egyetlen operátor a figyelheti az alkalmazást, és helyreállítási lépések indítsa a csoport, az adott személy a hibaérzékeny pontok kialakulását válik.</span><span class="sxs-lookup"><span data-stu-id="8191f-259">If you only have a single operator on the team who can monitor the application and kick off recovery steps, that person becomes a single point of failure.</span></span> <span data-ttu-id="8191f-260">Több személyt is alkalmaznia észlelése és a helyreállítási betanítása, és győződjön meg arról, hogy mindig van legalább egy aktív bármikor.</span><span class="sxs-lookup"><span data-stu-id="8191f-260">Train multiple individuals on detection and recovery and make sure there is always at least one active at any time.</span></span>

<span data-ttu-id="8191f-261">**Győződjön meg arról, hogy az alkalmazás nem futtatható mentése elleni [Azure-előfizetésre vonatkozó korlátok](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="8191f-261">**Ensure that your application does not run up against [Azure subscription limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="8191f-262">Azure-előfizetések korlátokkal rendelkeznek az adott erőforrástípusokra, például az erőforrás-csoportok száma, a magok száma és a storage-fiókok száma.</span><span class="sxs-lookup"><span data-stu-id="8191f-262">Azure subscriptions have limits on certain resource types, such as number of resource groups, number of cores, and number of storage accounts.</span></span>  <span data-ttu-id="8191f-263">Ha az alkalmazás követelményeinek haladhatja meg az Azure-előfizetésre vonatkozó korlátok, hozzon létre egy másik Azure előfizetés és a kiépítés elegendő erőforrással van.</span><span class="sxs-lookup"><span data-stu-id="8191f-263">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span>

<span data-ttu-id="8191f-264">**Győződjön meg arról, hogy az alkalmazás nem futtatható mentése elleni [/ szolgáltatásra vonatkozó korlátozások](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="8191f-264">**Ensure that your application does not run up against [per-service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="8191f-265">Az egyes Azure-szolgáltatások fogyasztás korlátokkal rendelkeznek &mdash; például korlátozza a tárolási, átviteli, kapcsolatok, a kérelmek másodpercenkénti és más metrikákkal száma.</span><span class="sxs-lookup"><span data-stu-id="8191f-265">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="8191f-266">A kérelem sikertelen lesz, ha megkísérli meghaladó erőforrások használatára.</span><span class="sxs-lookup"><span data-stu-id="8191f-266">Your application will fail if it attempts to use resources beyond these limits.</span></span> <span data-ttu-id="8191f-267">Ennek eredményeképpen az érintett felhasználók sávszélesség-szabályozási és lehetséges állásideje.</span><span class="sxs-lookup"><span data-stu-id="8191f-267">This will result in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="8191f-268">Attól függően, hogy az adott szolgáltatás és alkalmazás igényeinek, gyakran elkerülhető, ezek a korlátozások (például egy másik tarifacsomag kiválasztása) vertikális felskálázásával vagy kiterjesztése (új példányok hozzáadása).</span><span class="sxs-lookup"><span data-stu-id="8191f-268">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (adding new instances).</span></span>  

<span data-ttu-id="8191f-269">**Tervezze meg a kiszolgálóalkalmazás tárolási követelményei az Azure storage méretezhetőségi és Teljesítménycélok alá.**</span><span class="sxs-lookup"><span data-stu-id="8191f-269">**Design your application's storage requirements to fall within Azure storage scalability and performance targets.**</span></span> <span data-ttu-id="8191f-270">Az Azure storage célja, hogy az előre definiált méretezhetőségi és Teljesítménycélok belül működik, így tervezése az alkalmazás-tárolók ezen célok belül.</span><span class="sxs-lookup"><span data-stu-id="8191f-270">Azure storage is designed to function within predefined scalability and performance targets, so design your application to utilize storage within those targets.</span></span> <span data-ttu-id="8191f-271">Ha ezeken a célokon túllépi az alkalmazáshoz fog tapasztalni tárolási sávszélesség-szabályozás.</span><span class="sxs-lookup"><span data-stu-id="8191f-271">If you exceed these targets your application will experience storage throttling.</span></span> <span data-ttu-id="8191f-272">A javítás érdekében további Tárfiókok kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-272">To fix this, provision additional Storage Accounts.</span></span> <span data-ttu-id="8191f-273">Ha a Tárfiók korlátot találkoznak futtatja, további Azure-előfizetések kiépíteni, és azt követően a további Tárfiókok nem.</span><span class="sxs-lookup"><span data-stu-id="8191f-273">If you run up against the Storage Account limit, provision additional Azure Subscriptions and then provision additional Storage Accounts there.</span></span> <span data-ttu-id="8191f-274">További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéloknak](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="8191f-274">For more information, see [Azure Storage Scalability and Performance Targets](/azure/storage/storage-scalability-targets/).</span></span>

<span data-ttu-id="8191f-275">**Válassza ki az alkalmazást a megfelelő Virtuálisgép-méretet.**</span><span class="sxs-lookup"><span data-stu-id="8191f-275">**Select the right VM size for your application.**</span></span> <span data-ttu-id="8191f-276">A tényleges Processzor, memória, lemez és a virtuális gépek éles környezetben i/o-mérjük, és ellenőrizze, hogy elegendő-e a kijelölt Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="8191f-276">Measure the actual CPU, memory, disk, and I/O of your VMs in production and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="8191f-277">Ha nem, az alkalmazás problémákba ütközhetnek, kapacitás, a virtuális gépek megközelíti a határértékeket.</span><span class="sxs-lookup"><span data-stu-id="8191f-277">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="8191f-278">Részletesen ismerteti a Virtuálisgép-méretek [az Azure virtuális gépek méretei](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8191f-278">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="8191f-279">**Annak megállapítása, hogy az alkalmazás terhelés állandó vagy ingadozó adott idő alatt.**</span><span class="sxs-lookup"><span data-stu-id="8191f-279">**Determine if your application's workload is stable or fluctuating over time.**</span></span> <span data-ttu-id="8191f-280">Ha a terhelést időbeli ingadozik, használja az Azure Virtuálisgép-méretezési állítja be automatikus skálázási Virtuálisgép-példányok száma.</span><span class="sxs-lookup"><span data-stu-id="8191f-280">If your workload fluctuates over time, use Azure VM scale sets to automatically scale the number of VM instances.</span></span> <span data-ttu-id="8191f-281">Ellenkező esetben kell manuálisan növeli vagy csökkenti a virtuális gépek számát.</span><span class="sxs-lookup"><span data-stu-id="8191f-281">Otherwise, you will have to manually increase or decrease the number of VMs.</span></span> <span data-ttu-id="8191f-282">További információkért lásd: a [virtuális gépek méretezési készletek áttekintése](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span><span class="sxs-lookup"><span data-stu-id="8191f-282">For more information, see the [Virtual Machine Scale Sets Overview](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span></span>

<span data-ttu-id="8191f-283">**Válassza ki a megfelelő szolgáltatásréteg az Azure SQL Database.**</span><span class="sxs-lookup"><span data-stu-id="8191f-283">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="8191f-284">Ha az alkalmazás az Azure SQL Database, győződjön meg arról, hogy megadta-e a megfelelő szolgáltatási rétegben.</span><span class="sxs-lookup"><span data-stu-id="8191f-284">If your application uses Azure SQL Database, ensure that you have selected the appropriate service tier.</span></span> <span data-ttu-id="8191f-285">Ha olyan réteghez, amely nem tudja kezelni az alkalmazás adatbázis-tranzakciós egységek (DTU) követelmények választja, az adatok felhasználásával halmozódni fog.</span><span class="sxs-lookup"><span data-stu-id="8191f-285">If you select a tier that is not able to handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="8191f-286">A megfelelő service-csomag kiválasztásával további információkért lásd: [SQL Database beállításai és teljesítménye: az egyes szolgáltatásszinteken elérhető](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="8191f-286">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>

<span data-ttu-id="8191f-287">**Hozzon létre egy folyamatot, az Azure támogatási való interakció.**</span><span class="sxs-lookup"><span data-stu-id="8191f-287">**Create a process for interacting with Azure support.**</span></span> <span data-ttu-id="8191f-288">Ha a folyamat való kapcsolódáshoz [az Azure támogatási](https://azure.microsoft.com/support/plans/) van nincs beállítva ahhoz, hogy forduljon az ügyfélszolgálathoz igény szerint növelhesse, állásidő lesz kell hosszabbítani, a támogatási folyamat valójában az első alkalommal.</span><span class="sxs-lookup"><span data-stu-id="8191f-288">If the process for contacting [Azure support](https://azure.microsoft.com/support/plans/) is not set before the need to contact support arises, downtime will be prolonged as the support process is navigated for the first time.</span></span> <span data-ttu-id="8191f-289">A folyamat, lépjen kapcsolatba az ügyfélszolgálattal, és problémák növekvő kezdettől fogva az alkalmazás rugalmassági részeként tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="8191f-289">Include the process for contacting support and escalating issues as part of your application's resiliency from the outset.</span></span>

<span data-ttu-id="8191f-290">**Győződjön meg arról, hogy az alkalmazás nem használja a több mint előfizetésenként storage-fiókok maximális számát.**</span><span class="sxs-lookup"><span data-stu-id="8191f-290">**Ensure that your application doesn't use more than the maximum number of storage accounts per subscription.**</span></span> <span data-ttu-id="8191f-291">Azure lehetővé teszi, hogy legfeljebb 200 tárfiókok előfizetésenként.</span><span class="sxs-lookup"><span data-stu-id="8191f-291">Azure allows a maximum of 200 storage accounts per subscription.</span></span> <span data-ttu-id="8191f-292">Ha az alkalmazás további tárfiókokat, mint amennyi az előfizetésben jelenleg elérhető, akkor hozzon létre egy új előfizetést, és nincs további storage-fiókok létrehozása.</span><span class="sxs-lookup"><span data-stu-id="8191f-292">If your application requires more storage accounts than are currently available in your subscription, you will have to create a new subscription and create additional storage accounts there.</span></span> <span data-ttu-id="8191f-293">További információkért lásd: [Azure-előfizetés és szolgáltatási korlátok, kvóták és megkötések](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="8191f-293">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>

<span data-ttu-id="8191f-294">**Győződjön meg arról, hogy az alkalmazás nem haladja meg a virtuális gépek lemezeit a méretezhetőségi célok.**</span><span class="sxs-lookup"><span data-stu-id="8191f-294">**Ensure that your application doesn't exceed the scalability targets for virtual machine disks.**</span></span> <span data-ttu-id="8191f-295">Az Azure infrastruktúra-szolgáltatási virtuális gép támogatja az adatlemezek számos tényező, többek között a Virtuálisgép-méretet és a tárfiók típusától függően számos csatolni.</span><span class="sxs-lookup"><span data-stu-id="8191f-295">An Azure IaaS VM supports attaching a number of data disks depending on several factors, including the VM size and type of storage account.</span></span> <span data-ttu-id="8191f-296">Ha az alkalmazás meghaladja a virtuálisgép-lemezeket a méretezhetőségi célok, további tárfiókok kiépíteni, és hozzon létre a virtuális gép lemezeinek van.</span><span class="sxs-lookup"><span data-stu-id="8191f-296">If your application exceeds the scalability targets for virtual machine disks, provision additional storage accounts and create the virtual machine disks there.</span></span> <span data-ttu-id="8191f-297">További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéloknak](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks)</span><span class="sxs-lookup"><span data-stu-id="8191f-297">For more information, see [Azure Storage Scalability and Performance Targets](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks)</span></span>

## <a name="telemetry"></a><span data-ttu-id="8191f-298">Telemetria</span><span class="sxs-lookup"><span data-stu-id="8191f-298">Telemetry</span></span>

<span data-ttu-id="8191f-299">**Jelentkezzen telemetriai adatokat, az alkalmazás az éles környezetben futása közben.**</span><span class="sxs-lookup"><span data-stu-id="8191f-299">**Log telemetry data while the application is running in the production environment.**</span></span> <span data-ttu-id="8191f-300">Robusztus telemetriai adatainak rögzítésére során az alkalmazás az éles környezetben fut, vagy Ön nem rendelkezik elegendő információt diagnosztizálásához problémák okait, amíg az aktívan van szolgál a felhasználók.</span><span class="sxs-lookup"><span data-stu-id="8191f-300">Capture robust telemetry information while the application is running in the production environment or you will not have sufficient information to diagnose the cause of issues while it's actively serving users.</span></span> <span data-ttu-id="8191f-301">További információkért lásd: [megfigyelési és diagnosztikai][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="8191f-301">For more information, see [Monitoring and Diagnostics][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="8191f-302">**Egy aszinkron mintát használ naplózási megvalósításához.**</span><span class="sxs-lookup"><span data-stu-id="8191f-302">**Implement logging using an asynchronous pattern.**</span></span> <span data-ttu-id="8191f-303">Ha a naplózási műveletek szinkron, előfordulhat, hogy letiltják a az alkalmazás kódjában.</span><span class="sxs-lookup"><span data-stu-id="8191f-303">If logging operations are synchronous, they might block your application code.</span></span> <span data-ttu-id="8191f-304">Győződjön meg arról, hogy a naplózási műveletek aszinkron műveletek megvalósítása.</span><span class="sxs-lookup"><span data-stu-id="8191f-304">Ensure that your logging operations are implemented as asynchronous operations.</span></span>

<span data-ttu-id="8191f-305">**Naplóadatok összefüggéseket szolgáltatás határain túlnyúló.**</span><span class="sxs-lookup"><span data-stu-id="8191f-305">**Correlate log data across service boundaries.**</span></span> <span data-ttu-id="8191f-306">A felhasználó kérésére egy tipikus n szintű alkalmazást, előfordulhat, hogy haladnak át a több szolgáltatás határokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-306">In a typical n-tier application, a user request may traverse several service boundaries.</span></span> <span data-ttu-id="8191f-307">Például a felhasználó kérésére általában származik, a webes réteg átadott az üzleti szint és végül őrzi meg az adatréteg.</span><span class="sxs-lookup"><span data-stu-id="8191f-307">For example, a user request typically originates in the web tier and is passed to the business tier and finally persisted in the data tier.</span></span> <span data-ttu-id="8191f-308">Az összetettebb forgatókönyveket a felhasználó kérésére számos különböző szolgáltatásaikat és adataikat áruházak osztható ki.</span><span class="sxs-lookup"><span data-stu-id="8191f-308">In more complex scenarios, a user request may be distributed to many different services and data stores.</span></span> <span data-ttu-id="8191f-309">Győződjön meg arról, hogy a rendszer ad eredményül hívások szolgáltatás határokon keresztül történő, a kérelem követheti nyomon az alkalmazás teljes.</span><span class="sxs-lookup"><span data-stu-id="8191f-309">Ensure that your logging system correlates calls across service boundaries so you can track the request throughout your application.</span></span>

## <a name="azure-resources"></a><span data-ttu-id="8191f-310">Azure-erőforrások</span><span class="sxs-lookup"><span data-stu-id="8191f-310">Azure Resources</span></span>

<span data-ttu-id="8191f-311">**Erőforrások kiépítése Azure Resource Manager-sablonok használatára.**</span><span class="sxs-lookup"><span data-stu-id="8191f-311">**Use Azure Resource Manager templates to provision resources.**</span></span> <span data-ttu-id="8191f-312">Resource Manager-sablonok megkönnyítik a PowerShell vagy az Azure parancssori felület, amely egy megbízható folyamatot központi telepítések automatizálásához.</span><span class="sxs-lookup"><span data-stu-id="8191f-312">Resource Manager templates make it easier to automate deployments via PowerShell or the Azure CLI, which leads to a more reliable deployment process.</span></span> <span data-ttu-id="8191f-313">További információkért lásd: [Azure Resource Manager áttekintése][resource-manager].</span><span class="sxs-lookup"><span data-stu-id="8191f-313">For more information, see [Azure Resource Manager overview][resource-manager].</span></span>

<span data-ttu-id="8191f-314">**Adjon meg erőforrások beszédes nevet.**</span><span class="sxs-lookup"><span data-stu-id="8191f-314">**Give resources meaningful names.**</span></span> <span data-ttu-id="8191f-315">Jogosultságot ad az erőforrások kifejező nevet megkönnyíti egy adott erőforrás található, és megismerheti a szerepkör.</span><span class="sxs-lookup"><span data-stu-id="8191f-315">Giving resources meaningful names makes it easier to locate a specific resource and understand its role.</span></span> <span data-ttu-id="8191f-316">További információkért lásd: [elnevezési konvenciói Azure-erőforrások](../best-practices/naming-conventions.md)</span><span class="sxs-lookup"><span data-stu-id="8191f-316">For more information, see [Naming conventions for Azure resources](../best-practices/naming-conventions.md)</span></span>

<span data-ttu-id="8191f-317">**Szerepköralapú hozzáférés-vezérlést (RBAC) használata.**</span><span class="sxs-lookup"><span data-stu-id="8191f-317">**Use role-based access control (RBAC).**</span></span> <span data-ttu-id="8191f-318">Az RBAC segítségével az üzembe helyezett Azure erőforrásokhoz való hozzáférés szabályozása.</span><span class="sxs-lookup"><span data-stu-id="8191f-318">Use RBAC to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="8191f-319">Az RBAC lehetővé teszi az engedélyezési szerepkörök hozzárendelése a DevOps csapat tagjai ahhoz, hogy a véletlen törlés vagy a módosításokat a telepített erőforrások.</span><span class="sxs-lookup"><span data-stu-id="8191f-319">RBAC lets you assign authorization roles to members of your DevOps team, to prevent accidental deletion or changes to deployed resources.</span></span> <span data-ttu-id="8191f-320">További információkért lásd: [hozzáféréskezelést az Azure-portálon az első lépései](/azure/active-directory/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="8191f-320">For more information, see [Get started with access management in the Azure portal](/azure/active-directory/role-based-access-control-what-is/)</span></span>

<span data-ttu-id="8191f-321">**Kritikus erőforrásokat, például virtuális gépek erőforrás zárolások használja.**</span><span class="sxs-lookup"><span data-stu-id="8191f-321">**Use resource locks for critical resources, such as VMs.**</span></span> <span data-ttu-id="8191f-322">Erőforrás zárolások megakadályozhatják, hogy a kezelőnek véletlenül töröl egy erőforrást.</span><span class="sxs-lookup"><span data-stu-id="8191f-322">Resource locks prevent an operator from accidentally deleting a resource.</span></span> <span data-ttu-id="8191f-323">További információkért lásd: [erőforrások az Azure Resource Manager zárolása](/azure/azure-resource-manager/resource-group-lock-resources/)</span><span class="sxs-lookup"><span data-stu-id="8191f-323">For more information, see [Lock resources with Azure Resource Manager](/azure/azure-resource-manager/resource-group-lock-resources/)</span></span>

<span data-ttu-id="8191f-324">**Válassza ki a regionális párokat.**</span><span class="sxs-lookup"><span data-stu-id="8191f-324">**Choose regional pairs.**</span></span> <span data-ttu-id="8191f-325">Két régió telepítésekor választhat ugyanarra a regionális két régióban.</span><span class="sxs-lookup"><span data-stu-id="8191f-325">When deploying to two regions, choose regions from the same regional pair.</span></span> <span data-ttu-id="8191f-326">Széles körű leállás esetén minden párból az egyik régió helyreállítása előnyt élvez.</span><span class="sxs-lookup"><span data-stu-id="8191f-326">In the event of a broad outage, recovery of one region is prioritized out of every pair.</span></span> <span data-ttu-id="8191f-327">Egyes szolgáltatások, például a Georedundáns tárolás párosított régió automatikus replikációs adja meg.</span><span class="sxs-lookup"><span data-stu-id="8191f-327">Some services such as Geo-Redundant Storage provide automatic replication to the paired region.</span></span> <span data-ttu-id="8191f-328">További információkért lásd: [üzleti folytonossági és vészhelyreállítási helyreállítási (BCDR): Azure párosítva régiók](/azure/best-practices-availability-paired-regions)</span><span class="sxs-lookup"><span data-stu-id="8191f-328">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions)</span></span>

<span data-ttu-id="8191f-329">**Erőforráscsoportok függvény és életciklus rendezhetők.**</span><span class="sxs-lookup"><span data-stu-id="8191f-329">**Organize resource groups by function and lifecycle.**</span></span>  <span data-ttu-id="8191f-330">Általában egy erőforráscsoportot az azonos életciklussal rendelkező erőforrásokat kell tartalmaznia.</span><span class="sxs-lookup"><span data-stu-id="8191f-330">In general, a resource group should contain resources that share the same lifecycle.</span></span> <span data-ttu-id="8191f-331">Így könnyebben központi telepítések felügyeletéhez szükséges, törölje a próbatelepítések, és rendelje hozzá a hozzáférési jogok, így csökkentve az esélye, éles környezet véletlenül törölték vagy módosították.</span><span class="sxs-lookup"><span data-stu-id="8191f-331">This makes it easier to manage deployments, delete test deployments, and assign access rights, reducing the chance that a production deployment is accidentally deleted or modified.</span></span> <span data-ttu-id="8191f-332">Termelési környezetben, fejlesztési, külön erőforráscsoportokat létrehozni, és tesztelési környezetben.</span><span class="sxs-lookup"><span data-stu-id="8191f-332">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="8191f-333">Több régióban üzembe helyezése esetén külön erőforráscsoportok helyezték erőforrások mindegyik régióhoz.</span><span class="sxs-lookup"><span data-stu-id="8191f-333">In a multi-region deployment, put resources for each region into separate resource groups.</span></span> <span data-ttu-id="8191f-334">Így könnyebben egy régió tartozik újratelepíteni az nem befolyásolja a többi régió(k) esetében.</span><span class="sxs-lookup"><span data-stu-id="8191f-334">This makes it easier to redeploy one region without affecting the other region(s).</span></span>

## <a name="azure-services"></a><span data-ttu-id="8191f-335">Azure-szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="8191f-335">Azure Services</span></span>
<span data-ttu-id="8191f-336">A következő ellenőrzőlista elemek az Azure-ban meghatározott szolgáltatásokat vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="8191f-336">The following checklist items apply to specific services in Azure.</span></span>

- [<span data-ttu-id="8191f-337">APP SERVICE</span><span class="sxs-lookup"><span data-stu-id="8191f-337">App Service</span></span>](#app-service)
- [<span data-ttu-id="8191f-338">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="8191f-338">Application Gateway</span></span>](#application-gateway)
- [<span data-ttu-id="8191f-339">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="8191f-339">Cosmos DB</span></span>](#cosmos-db)
- [<span data-ttu-id="8191f-340">Redis Cache</span><span class="sxs-lookup"><span data-stu-id="8191f-340">Redis Cache</span></span>](#redis-cache)
- [<span data-ttu-id="8191f-341">Search</span><span class="sxs-lookup"><span data-stu-id="8191f-341">Search</span></span>](#search)
- [<span data-ttu-id="8191f-342">Storage</span><span class="sxs-lookup"><span data-stu-id="8191f-342">Storage</span></span>](#storage)
- [<span data-ttu-id="8191f-343">SQL Database</span><span class="sxs-lookup"><span data-stu-id="8191f-343">SQL Database</span></span>](#sql-database)
- [<span data-ttu-id="8191f-344">A virtuális gépen futó SQL Server</span><span class="sxs-lookup"><span data-stu-id="8191f-344">SQL Server running in a VM</span></span>](#sql-server-running-in-a-vm)
- [<span data-ttu-id="8191f-345">Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="8191f-345">Traffic Manager</span></span>](#traffic-manager)
- [<span data-ttu-id="8191f-346">Virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="8191f-346">Virtual Machines</span></span>](#virtual-machines)
- [<span data-ttu-id="8191f-347">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="8191f-347">Virtual Network</span></span>](#virtual-network)

### <a name="app-service"></a><span data-ttu-id="8191f-348">App Service</span><span class="sxs-lookup"><span data-stu-id="8191f-348">App Service</span></span>

<span data-ttu-id="8191f-349">**Standard vagy prémium szintű csomagot használja.**</span><span class="sxs-lookup"><span data-stu-id="8191f-349">**Use Standard or Premium tier.**</span></span> <span data-ttu-id="8191f-350">Ezek a rétegek átmeneti üzembe helyezési ponti támogatja, és automatikus biztonsági mentés.</span><span class="sxs-lookup"><span data-stu-id="8191f-350">These tiers support staging slots and automated backups.</span></span> <span data-ttu-id="8191f-351">További információkért lásd: [Azure App Service-csomagok részletes áttekintése](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/)</span><span class="sxs-lookup"><span data-stu-id="8191f-351">For more information, see [Azure App Service plans in-depth overview](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/)</span></span>

<span data-ttu-id="8191f-352">**Kerülje a skálázás felfelé vagy lefelé.**</span><span class="sxs-lookup"><span data-stu-id="8191f-352">**Avoid scaling up or down.**</span></span> <span data-ttu-id="8191f-353">Ehelyett válassza ki a réteg és a példány mérete, hogy alkalmazkodjanak a teljesítménykövetelményekhez szokásos terhelés alatt, majd [horizontális felskálázás](/azure/app-service-web/web-sites-scale/) a példányok adatforgalma változásainak kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-353">Instead, select a tier and instance size that meet your performance requirements under typical load, and then [scale out](/azure/app-service-web/web-sites-scale/) the instances to handle changes in traffic volume.</span></span> <span data-ttu-id="8191f-354">Skálázás felfelé és lefelé indíthatnak újra kell indítani az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="8191f-354">Scaling up and down may trigger an application restart.</span></span>  

<span data-ttu-id="8191f-355">**Adattár konfigurálása alkalmazás-beállításként.**</span><span class="sxs-lookup"><span data-stu-id="8191f-355">**Store configuration as app settings.**</span></span> <span data-ttu-id="8191f-356">Alkalmazásbeállítások segítségével Alkalmazásbeállítások konfigurációs beállításokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="8191f-356">Use app settings to hold configuration settings as app settings.</span></span> <span data-ttu-id="8191f-357">Adja meg a beállításokat a Resource Manager-sablonok vagy a powershellel, így azokat az automatikus központi telepítésének részeként, / folyamat, amely megbízhatóbb frissítése.</span><span class="sxs-lookup"><span data-stu-id="8191f-357">Define the settings in your Resource Manager templates, or using PowerShell, so that you can apply them as part of an automated deployment / update process, which is more reliable.</span></span> <span data-ttu-id="8191f-358">További információkért lásd: [webes alkalmazások konfigurálása az Azure App Service](/azure/app-service-web/web-sites-configure/).</span><span class="sxs-lookup"><span data-stu-id="8191f-358">For more information, see [Configure web apps in Azure App Service](/azure/app-service-web/web-sites-configure/).</span></span>

<span data-ttu-id="8191f-359">**Hozzon létre külön App Service-csomagokról éles és tesztelési.**</span><span class="sxs-lookup"><span data-stu-id="8191f-359">**Create separate App Service plans for production and test.**</span></span> <span data-ttu-id="8191f-360">Ne használjon üzembe helyezési ponti az éles telepítési a teszteléshez.</span><span class="sxs-lookup"><span data-stu-id="8191f-360">Don't use slots on your production deployment for testing.</span></span>  <span data-ttu-id="8191f-361">Minden alkalmazás belül az azonos App Service-csomag az ugyanazon Virtuálisgép-példány megosztása.</span><span class="sxs-lookup"><span data-stu-id="8191f-361">All apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="8191f-362">Éles üzemi pontjának és próbatelepítést be a csomagot, negatívan befolyásolhatja az éles környezet.</span><span class="sxs-lookup"><span data-stu-id="8191f-362">If you put production and test deployments in the same plan, it can negatively affect the production deployment.</span></span> <span data-ttu-id="8191f-363">Például terhelés tesztek csökkentheti a élő munkakörnyezeti helyet.</span><span class="sxs-lookup"><span data-stu-id="8191f-363">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="8191f-364">Tegyen próbatelepítést egy külön tervbe, hogy ezeket elszigeteli éles verzióját.</span><span class="sxs-lookup"><span data-stu-id="8191f-364">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>  

<span data-ttu-id="8191f-365">**A webes API-k külön webalkalmazások.**</span><span class="sxs-lookup"><span data-stu-id="8191f-365">**Separate web apps from web APIs.**</span></span> <span data-ttu-id="8191f-366">Ha a megoldás egy előtér-webkiszolgáló és a webes API-k is rendelkezik, fontolja meg, decomposing őket külön App Service-alkalmazásokba.</span><span class="sxs-lookup"><span data-stu-id="8191f-366">If your solution has both a web front-end and a web API, consider decomposing them into separate App Service apps.</span></span> <span data-ttu-id="8191f-367">Ez a kialakítás megkönnyíti a megoldás felbontani a munkaterhelés szerint.</span><span class="sxs-lookup"><span data-stu-id="8191f-367">This design makes it easier to decompose the solution by workload.</span></span> <span data-ttu-id="8191f-368">Futtathatja a web app és az API-t az önálló App Service-csomagokról, így ezek egymástól függetlenül lehet méretezni.</span><span class="sxs-lookup"><span data-stu-id="8191f-368">You can run the web app and the API in separate App Service plans, so they can be scaled independently.</span></span> <span data-ttu-id="8191f-369">Ha nincs szüksége ekkora szintű méretezhetőséget, először telepítheti az alkalmazások azokat a csomagot, és áthelyezi őket külön tervek később, ha szükséges.</span><span class="sxs-lookup"><span data-stu-id="8191f-369">If you don't need that level of scalability at first, you can deploy the apps into the same plan, and move them into separate plans later, if needed.</span></span>

<span data-ttu-id="8191f-370">**Ne használja az alkalmazás biztonsági mentési szolgáltatás Azure SQL-adatbázisok biztonsági mentése.**</span><span class="sxs-lookup"><span data-stu-id="8191f-370">**Avoid using the App Service backup feature to back up Azure SQL databases.**</span></span> <span data-ttu-id="8191f-371">Ehelyett használjon [SQL-adatbázis automatikus biztonsági mentés][sql-backup].</span><span class="sxs-lookup"><span data-stu-id="8191f-371">Instead, use [SQL Database automated backups][sql-backup].</span></span> <span data-ttu-id="8191f-372">App Service biztonsági mentés az adatbázist egy SQL .bacpac fájlba, amely költségek dtu-k exportálja.</span><span class="sxs-lookup"><span data-stu-id="8191f-372">App Service backup exports the database to a SQL .bacpac file, which costs DTUs.</span></span>  

<span data-ttu-id="8191f-373">**Telepíthet egy átmeneti helyet.**</span><span class="sxs-lookup"><span data-stu-id="8191f-373">**Deploy to a staging slot.**</span></span> <span data-ttu-id="8191f-374">Az átmeneti egy üzembe helyezési tárhely létrehozása.</span><span class="sxs-lookup"><span data-stu-id="8191f-374">Create a deployment slot for staging.</span></span> <span data-ttu-id="8191f-375">Alkalmazás frissítések telepítése az átmeneti helyet, és a telepítés előtt csere az éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="8191f-375">Deploy application updates to the staging slot, and verify the deployment before swapping it into production.</span></span> <span data-ttu-id="8191f-376">Ez csökkenti az éles környezetben egy hibás frissítés esélyét.</span><span class="sxs-lookup"><span data-stu-id="8191f-376">This reduces the chance of a bad update in production.</span></span> <span data-ttu-id="8191f-377">Emellett biztosítja, hogy a példányainak Mielőtt éles környezetben felcserélés folyamatban vannak tárolóhelyspecifikus.</span><span class="sxs-lookup"><span data-stu-id="8191f-377">It also ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="8191f-378">Számos alkalmazás jelentős melegítési és cold-a kezdési idő rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="8191f-378">Many applications have a significant warmup and cold-start time.</span></span> <span data-ttu-id="8191f-379">További információkért lásd: [átmeneti környezet az Azure App Service web Apps beállítása](/azure/app-service-web/web-sites-staged-publishing/).</span><span class="sxs-lookup"><span data-stu-id="8191f-379">For more information, see [Set up staging environments for web apps in Azure App Service](/azure/app-service-web/web-sites-staged-publishing/).</span></span>

<span data-ttu-id="8191f-380">**Egy üzembe helyezési tárhely ahhoz, hogy a legutóbbi helyes (LKG) központi telepítés létrehozása.**</span><span class="sxs-lookup"><span data-stu-id="8191f-380">**Create a deployment slot to hold the last-known-good (LKG) deployment.**</span></span> <span data-ttu-id="8191f-381">Üzemi környezetben telepít egy frissítést, ha az előző éles környezet áthelyezi a LKG tárolóhelye.</span><span class="sxs-lookup"><span data-stu-id="8191f-381">When you deploy an update to production, move the previous production deployment into the LKG slot.</span></span> <span data-ttu-id="8191f-382">Így könnyebben rossz üzemelő példány visszaállítása.</span><span class="sxs-lookup"><span data-stu-id="8191f-382">This makes it easier to roll back a bad deployment.</span></span> <span data-ttu-id="8191f-383">Ha később felderíteni a probléma, gyorsan visszatérhet a LKG verziót.</span><span class="sxs-lookup"><span data-stu-id="8191f-383">If you discover a problem later, you can quickly revert to the LKG version.</span></span> <span data-ttu-id="8191f-384">További információkért lásd: [alapvető webalkalmazás](../reference-architectures/app-service-web-app/basic-web-app.md).</span><span class="sxs-lookup"><span data-stu-id="8191f-384">For more information, see [Basic web application](../reference-architectures/app-service-web-app/basic-web-app.md).</span></span>

<span data-ttu-id="8191f-385">**Diagnosztikai naplózás engedélyezése**, beleértve a alkalmazásnaplózás és web server naplózása.</span><span class="sxs-lookup"><span data-stu-id="8191f-385">**Enable diagnostics logging**, including application logging and web server logging.</span></span> <span data-ttu-id="8191f-386">Naplózási figyelése és diagnosztika fontos.</span><span class="sxs-lookup"><span data-stu-id="8191f-386">Logging is important for monitoring and diagnostics.</span></span> <span data-ttu-id="8191f-387">Lásd: [az Azure App Service web Apps diagnosztikai naplózás engedélyezése](/azure/app-service-web/web-sites-enable-diagnostic-log/)</span><span class="sxs-lookup"><span data-stu-id="8191f-387">See [Enable diagnostics logging for web apps in Azure App Service](/azure/app-service-web/web-sites-enable-diagnostic-log/)</span></span>

<span data-ttu-id="8191f-388">**A blob-tároló napló.**</span><span class="sxs-lookup"><span data-stu-id="8191f-388">**Log to blob storage.**</span></span> <span data-ttu-id="8191f-389">Így könnyebben, amely összegyűjti és elemzi az adatokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-389">This makes it easier to collect and analyze the data.</span></span>

<span data-ttu-id="8191f-390">**Hozzon létre egy külön tárfiókot a naplókat.**</span><span class="sxs-lookup"><span data-stu-id="8191f-390">**Create a separate storage account for logs.**</span></span> <span data-ttu-id="8191f-391">Ne használja ugyanazt a tárfiókot naplókat és az alkalmazásadatokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-391">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="8191f-392">Ez segít megakadályozni a naplózás alkalmazásteljesítmény csökkentése.</span><span class="sxs-lookup"><span data-stu-id="8191f-392">This helps to prevent logging from reducing application performance.</span></span>

<span data-ttu-id="8191f-393">**Figyelemmel kísérni a teljesítményét.**</span><span class="sxs-lookup"><span data-stu-id="8191f-393">**Monitor performance.**</span></span> <span data-ttu-id="8191f-394">A Teljesítményfigyelő szolgáltatás például [New Relic](http://newrelic.com/) vagy [Application Insights](/azure/application-insights/app-insights-overview/) alkalmazás teljesítményének figyelése és a terhelés viselkedését.</span><span class="sxs-lookup"><span data-stu-id="8191f-394">Use a performance monitoring service such as [New Relic](http://newrelic.com/) or [Application Insights](/azure/application-insights/app-insights-overview/) to monitor application performance and behavior under load.</span></span>  <span data-ttu-id="8191f-395">Teljesítményfigyelés lehetővé teszi az alkalmazás valós idejű betekintést.</span><span class="sxs-lookup"><span data-stu-id="8191f-395">Performance monitoring gives you real-time insight into the application.</span></span> <span data-ttu-id="8191f-396">Lehetővé teszi eseményadatokat, és végezze el a probléma alapvető okát a hibákat.</span><span class="sxs-lookup"><span data-stu-id="8191f-396">It enables you to diagnose issues and perform root-cause analysis of failures.</span></span>

### <a name="application-gateway"></a><span data-ttu-id="8191f-397">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="8191f-397">Application Gateway</span></span>

<span data-ttu-id="8191f-398">**Legalább két példányt kiépítéséhez.**</span><span class="sxs-lookup"><span data-stu-id="8191f-398">**Provision at least two instances.**</span></span> <span data-ttu-id="8191f-399">Alkalmazás-átjáró üzembe helyezéséhez legalább két példánnyal.</span><span class="sxs-lookup"><span data-stu-id="8191f-399">Deploy Application Gateway with at least two instances.</span></span> <span data-ttu-id="8191f-400">Egyetlen példány a hibaérzékeny pontok kialakulását.</span><span class="sxs-lookup"><span data-stu-id="8191f-400">A single instance is a single point of failure.</span></span> <span data-ttu-id="8191f-401">Két vagy több példányát használja a redundancia és a méretezhetőséget.</span><span class="sxs-lookup"><span data-stu-id="8191f-401">Use two or more instances for redundancy and scalability.</span></span> <span data-ttu-id="8191f-402">Ahhoz, hogy érvényes a [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/), el kell juttatnia legalább két közepes vagy nagyobb példányát.</span><span class="sxs-lookup"><span data-stu-id="8191f-402">In order to qualify for the [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/), you must provision two or more medium or larger instances.</span></span>

### <a name="cosmos-db"></a><span data-ttu-id="8191f-403">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="8191f-403">Cosmos DB</span></span>

<span data-ttu-id="8191f-404">**Az adatbázis replikálása régiók között.**</span><span class="sxs-lookup"><span data-stu-id="8191f-404">**Replicate the database across regions.**</span></span> <span data-ttu-id="8191f-405">Cosmos DB lehetővé teszi tetszőleges számú Azure-régiók társítandó egy Cosmos-adatbázis adatbázis-fiók.</span><span class="sxs-lookup"><span data-stu-id="8191f-405">Cosmos DB allows you to associate any number of Azure regions with a Cosmos DB database account.</span></span> <span data-ttu-id="8191f-406">Egy Cosmos DB adatbázisban régió egy írási és olvasási több régióba is rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="8191f-406">A Cosmos DB database can have one write region and multiple read regions.</span></span> <span data-ttu-id="8191f-407">Ha hiba történik a írási régióban, egy másik replikából olvashatja.</span><span class="sxs-lookup"><span data-stu-id="8191f-407">If there is a failure in the write region, you can read from another replica.</span></span> <span data-ttu-id="8191f-408">Az ügyfél SDK kezeli ezt automatikusan.</span><span class="sxs-lookup"><span data-stu-id="8191f-408">The Client SDK handles this automatically.</span></span> <span data-ttu-id="8191f-409">Az írási régió, egy másik régióban is átadásra.</span><span class="sxs-lookup"><span data-stu-id="8191f-409">You can also fail over the write region to another region.</span></span> <span data-ttu-id="8191f-410">További információkért lásd: [miként ossza el a globális adatok Azure Cosmos DB?](/azure/documentdb/documentdb-distribute-data-globally)</span><span class="sxs-lookup"><span data-stu-id="8191f-410">For more information, see [How to distribute data globally with Azure Cosmos DB?](/azure/documentdb/documentdb-distribute-data-globally)</span></span>

### <a name="redis-cache"></a><span data-ttu-id="8191f-411">Redis Cache</span><span class="sxs-lookup"><span data-stu-id="8191f-411">Redis Cache</span></span>

<span data-ttu-id="8191f-412">**A georeplikáció konfigurálása**.</span><span class="sxs-lookup"><span data-stu-id="8191f-412">**Configure Geo-replication**.</span></span> <span data-ttu-id="8191f-413">A georeplikáció lehetővé teszi a csatolás két Premium szint Azure Redis Cache példányt.</span><span class="sxs-lookup"><span data-stu-id="8191f-413">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="8191f-414">Az elsődleges gyorsítótár írt adatokat a másodlagos csak olvasható gyorsítótárának replikálódik.</span><span class="sxs-lookup"><span data-stu-id="8191f-414">Data written to the primary cache is replicated to a secondary read-only cache.</span></span> <span data-ttu-id="8191f-415">További információkért lásd: [georeplikáció konfigurálása az Azure Redis Cache](/azure/redis-cache/cache-how-to-geo-replication)</span><span class="sxs-lookup"><span data-stu-id="8191f-415">For more information, see [How to configure Geo-replication for Azure Redis Cache](/azure/redis-cache/cache-how-to-geo-replication)</span></span>

<span data-ttu-id="8191f-416">**Adatmegőrzés konfigurálásához.**</span><span class="sxs-lookup"><span data-stu-id="8191f-416">**Configure data persistence.**</span></span> <span data-ttu-id="8191f-417">A redis-adatmegőrzés lehetővé teszi a Redis tárolt adatok megőrzéséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-417">Redis persistence allows you to persist data stored in Redis.</span></span> <span data-ttu-id="8191f-418">Pillanatképek és hardver meghibásodása esetén is betölthet adatainak biztonsági mentését is.</span><span class="sxs-lookup"><span data-stu-id="8191f-418">You can also take snapshots and back up the data, which you can load in case of a hardware failure.</span></span> <span data-ttu-id="8191f-419">További információkért lásd: [adatok megőrzését egy prémium szintű Azure Redis Cache konfigurálása](/azure/redis-cache/cache-how-to-premium-persistence)</span><span class="sxs-lookup"><span data-stu-id="8191f-419">For more information, see [How to configure data persistence for a Premium Azure Redis Cache](/azure/redis-cache/cache-how-to-premium-persistence)</span></span>

<span data-ttu-id="8191f-420">Ha a Redis Cache-gyorsítótár egy ideiglenes, nem pedig egy állandó tároló használ, ezek a javaslatok nem feltétlenül vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="8191f-420">If you are using Redis Cache as a temporary data cache and not as a persistent store, these recommendations may not apply.</span></span> 

### <a name="search"></a><span data-ttu-id="8191f-421">Keresés</span><span class="sxs-lookup"><span data-stu-id="8191f-421">Search</span></span>

<span data-ttu-id="8191f-422">**Több replika kiépítéséhez.**</span><span class="sxs-lookup"><span data-stu-id="8191f-422">**Provision more than one replica.**</span></span> <span data-ttu-id="8191f-423">Legalább két replikákat használ a olvasási magas rendelkezésre állású, vagy az olvasási és írási magas rendelkezésre állású három.</span><span class="sxs-lookup"><span data-stu-id="8191f-423">Use at least two replicas for read high-availability, or three for read-write high-availability.</span></span>

<span data-ttu-id="8191f-424">**Indexelő több területi telepítések konfigurálása.**</span><span class="sxs-lookup"><span data-stu-id="8191f-424">**Configure indexers for multi-region deployments.**</span></span> <span data-ttu-id="8191f-425">Ha egy több területi központi telepítéssel rendelkezik, fontolja meg az indexelő folytonosságát lehetőségeknek.</span><span class="sxs-lookup"><span data-stu-id="8191f-425">If you have a multi-region deployment, consider your options for continuity in indexing.</span></span>

  * <span data-ttu-id="8191f-426">Ha az adatforrás georeplikált, általában kell mutatnia minden egyes regionális Azure Search szolgáltatás indexelő fogja a helyi adatok adatforrás replikáját.</span><span class="sxs-lookup"><span data-stu-id="8191f-426">If the data source is geo-replicated, you should generally point each indexer of each regional Azure Search service to its local data source replica.</span></span> <span data-ttu-id="8191f-427">Azt a módszert azonban nem ajánlott nagy adatmennyiségek Azure SQL adatbázis tárolja.</span><span class="sxs-lookup"><span data-stu-id="8191f-427">However, that approach is not recommended for large datasets stored in Azure SQL Database.</span></span> <span data-ttu-id="8191f-428">A hiba oka, hogy Azure Search nem végezhető el a másodlagos SQL-adatbázis-replikákat, csak az elsődleges replikára változott növekményes indexelő.</span><span class="sxs-lookup"><span data-stu-id="8191f-428">The reason is that Azure Search cannot perform incremental indexing from secondary SQL Database replicas, only from primary replicas.</span></span> <span data-ttu-id="8191f-429">Összes indexelő helyette, mutasson az elsődleges másodpéldány.</span><span class="sxs-lookup"><span data-stu-id="8191f-429">Instead, point all indexers to the primary replica.</span></span> <span data-ttu-id="8191f-430">A feladatátvétel után az új elsődleges replika az Azure Search indexelők helyen.</span><span class="sxs-lookup"><span data-stu-id="8191f-430">After a failover, point the Azure Search indexers at the new primary replica.</span></span>  
  * <span data-ttu-id="8191f-431">Ha az adatforrás nincs georeplikált, pont több indexelők ugyanarra az adatforrásra, így több régióba Azure Search szolgáltatás folyamatosan és egymástól függetlenül felületindexét az adatforrás.</span><span class="sxs-lookup"><span data-stu-id="8191f-431">If the data source is not geo-replicated, point multiple indexers at the same data source, so that Azure Search services in multiple regions continuously and independently index from the data source.</span></span> <span data-ttu-id="8191f-432">További információkért lásd: [Azure Search teljesítmény- és optimalizálási szempontok][search-optimization].</span><span class="sxs-lookup"><span data-stu-id="8191f-432">For more information, see [Azure Search performance and optimization considerations][search-optimization].</span></span>

### <a name="storage"></a><span data-ttu-id="8191f-433">Tárolás</span><span class="sxs-lookup"><span data-stu-id="8191f-433">Storage</span></span>

<span data-ttu-id="8191f-434">**Az alkalmazásadatok használja az írásvédett georedundáns tárolás (RA-GRS).**</span><span class="sxs-lookup"><span data-stu-id="8191f-434">**For application data, use read-access geo-redundant storage (RA-GRS).**</span></span> <span data-ttu-id="8191f-435">RA-GRS tárolási másodlagos régióba replikálja az adatokat, és a másodlagos régióban olvasási hozzáférést biztosít.</span><span class="sxs-lookup"><span data-stu-id="8191f-435">RA-GRS storage replicates the data to a secondary region, and provides read-only access from the secondary region.</span></span> <span data-ttu-id="8191f-436">Ha egy tárolási leállás az elsődleges régióban, az alkalmazást a másodlagos régióba lehet beolvasni az adatokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-436">If there is a storage outage in the primary region, the application can read the data from the secondary region.</span></span> <span data-ttu-id="8191f-437">További információkért lásd: [Azure Storage replikációs](/azure/storage/storage-redundancy/).</span><span class="sxs-lookup"><span data-stu-id="8191f-437">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy/).</span></span>

<span data-ttu-id="8191f-438">**A virtuális gépek lemezei felügyelt lemezek használhatók.**</span><span class="sxs-lookup"><span data-stu-id="8191f-438">**For VM disks, use Managed Disks.**</span></span> <span data-ttu-id="8191f-439">[Által kezelt lemezeken] [ managed-disks] megbízhatóságnak virtuális gépek rendelkezésre állási csoportba, mert a lemezek megfelelően különítve egymástól elkerülése érdekében a hibaérzékeny pontokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-439">[Managed Disks][managed-disks] provide better reliability for VMs in an availability set, because the disks are sufficiently isolated from each other to avoid single points of failure.</span></span> <span data-ttu-id="8191f-440">Felügyelt lemezek is, nem a VHD-k egy tárfiókot létre IOPS határértékeken.</span><span class="sxs-lookup"><span data-stu-id="8191f-440">Also, Managed Disks aren't subject to the IOPS limits of VHDs created in a storage account.</span></span> <span data-ttu-id="8191f-441">További információkért lásd: [a Windows Azure virtuális gépek rendelkezésre állásának kezelése][vm-manage-availability].</span><span class="sxs-lookup"><span data-stu-id="8191f-441">For more information, see [Manage the availability of Windows virtual machines in Azure][vm-manage-availability].</span></span>

<span data-ttu-id="8191f-442">**A várólista-tároló hozzon létre egy biztonsági mentési várólistát egy másik régióban.**</span><span class="sxs-lookup"><span data-stu-id="8191f-442">**For Queue storage, create a backup queue in another region.**</span></span> <span data-ttu-id="8191f-443">Várólista tárolására csak olvasható replika korlátozott használatát, mert nem a várólistára vagy created elemek.</span><span class="sxs-lookup"><span data-stu-id="8191f-443">For Queue storage, a read-only replica has limited use, because you can't queue or dequeue items.</span></span> <span data-ttu-id="8191f-444">Ehelyett hozzon létre egy biztonsági mentési várólistát egy másik régióban tárfiókokban.</span><span class="sxs-lookup"><span data-stu-id="8191f-444">Instead, create a backup queue in a storage account in another region.</span></span> <span data-ttu-id="8191f-445">Egy tároló leállás esetén az alkalmazás használhat a biztonsági mentési várólista, míg az elsődleges régióban elérhető újra.</span><span class="sxs-lookup"><span data-stu-id="8191f-445">If there is a storage outage, the application can use the backup queue, until the primary region becomes available again.</span></span> <span data-ttu-id="8191f-446">Így az alkalmazás továbbra is az új kérelmek tud feldolgozni.</span><span class="sxs-lookup"><span data-stu-id="8191f-446">That way, the application can still process new requests.</span></span>  

### <a name="sql-database"></a><span data-ttu-id="8191f-447">SQL Database</span><span class="sxs-lookup"><span data-stu-id="8191f-447">SQL Database</span></span>

<span data-ttu-id="8191f-448">**Standard vagy prémium szintű csomagot használja.**</span><span class="sxs-lookup"><span data-stu-id="8191f-448">**Use Standard or Premium tier.**</span></span> <span data-ttu-id="8191f-449">Ezek a rétegek adjon meg egy már pont időponthoz kötött visszaállítás időszak (35 nap).</span><span class="sxs-lookup"><span data-stu-id="8191f-449">These tiers provide a longer point-in-time restore period (35 days).</span></span> <span data-ttu-id="8191f-450">További információkért lásd: [SQL Database beállításai és teljesítménye](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="8191f-450">For more information, see [SQL Database options and performance](/azure/sql-database/sql-database-service-tiers/).</span></span>

<span data-ttu-id="8191f-451">**SQL-adatbázis naplózásának engedélyezése.**</span><span class="sxs-lookup"><span data-stu-id="8191f-451">**Enable SQL Database auditing.**</span></span> <span data-ttu-id="8191f-452">Naplózás rosszindulatú támadások és emberi tévedések diagnosztizálásához használható.</span><span class="sxs-lookup"><span data-stu-id="8191f-452">Auditing can be used to diagnose malicious attacks or human error.</span></span> <span data-ttu-id="8191f-453">További információkért lásd: [Ismerkedés az SQL-adatbázis naplózásának](/azure/sql-database/sql-database-auditing-get-started/).</span><span class="sxs-lookup"><span data-stu-id="8191f-453">For more information, see [Get started with SQL database auditing](/azure/sql-database/sql-database-auditing-get-started/).</span></span>

<span data-ttu-id="8191f-454">**Aktív Georeplikáció használja** használatát aktív Georeplikáció olvasható másodlagos létrehozásához egy másik régióban.</span><span class="sxs-lookup"><span data-stu-id="8191f-454">**Use Active Geo-Replication** Use Active Geo-Replication to create a readable secondary in a different region.</span></span>  <span data-ttu-id="8191f-455">Ha az elsődleges adatbázis, vagy egyszerűen csak offline állapotba helyezte, hajtsa végre a másodlagos adatbázis manuális feladatátvétele van szüksége.</span><span class="sxs-lookup"><span data-stu-id="8191f-455">If your primary database fails, or simply needs to be taken offline, perform a manual failover to the secondary database.</span></span>  <span data-ttu-id="8191f-456">Feladatátvételt, amíg a másodlagos adatbázis csak olvasható maradjon.</span><span class="sxs-lookup"><span data-stu-id="8191f-456">Until you fail over, the secondary database remains read-only.</span></span>  <span data-ttu-id="8191f-457">További információkért lásd: [SQL adatbázis aktív Georeplikáció](/azure/sql-database/sql-database-geo-replication-overview/).</span><span class="sxs-lookup"><span data-stu-id="8191f-457">For more information, see [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/).</span></span>

<span data-ttu-id="8191f-458">**Horizontális használja.**</span><span class="sxs-lookup"><span data-stu-id="8191f-458">**Use sharding.**</span></span> <span data-ttu-id="8191f-459">Fontolja meg az adatbázis vízszintesen particionálásához horizontális használatát.</span><span class="sxs-lookup"><span data-stu-id="8191f-459">Consider using sharding to partition the database horizontally.</span></span> <span data-ttu-id="8191f-460">Horizontális tartalék elkülönítési biztosít.</span><span class="sxs-lookup"><span data-stu-id="8191f-460">Sharding can provide fault isolation.</span></span> <span data-ttu-id="8191f-461">További információkért lásd: [az Azure SQL Database kiterjesztése](/azure/sql-database/sql-database-elastic-scale-introduction/).</span><span class="sxs-lookup"><span data-stu-id="8191f-461">For more information, see [Scaling out with Azure SQL Database](/azure/sql-database/sql-database-elastic-scale-introduction/).</span></span>

<span data-ttu-id="8191f-462">**Pont időponthoz kötött visszaállítás segítségével emberi tévedések helyreállíthatók.**</span><span class="sxs-lookup"><span data-stu-id="8191f-462">**Use point-in-time restore to recover from human error.**</span></span>  <span data-ttu-id="8191f-463">Pont időponthoz kötött visszaállítás adja vissza, az idő az adatbázis egy korábbi állapotba.</span><span class="sxs-lookup"><span data-stu-id="8191f-463">Point-in-time restore returns your database to an earlier point in time.</span></span> <span data-ttu-id="8191f-464">További információkért lásd: [használatával automatikus adatbázis biztonsági mentése Azure SQL-adatbázis helyreállítása][sql-restore].</span><span class="sxs-lookup"><span data-stu-id="8191f-464">For more information, see [Recover an Azure SQL database using automated database backups][sql-restore].</span></span>

<span data-ttu-id="8191f-465">**Georedundáns helyreállítás használni a helyreállításhoz a szolgáltatáskimaradás.**</span><span class="sxs-lookup"><span data-stu-id="8191f-465">**Use geo-restore to recover from a service outage.**</span></span> <span data-ttu-id="8191f-466">Georedundáns helyreállítás egy adatbázisát állítja vissza a georedundáns biztonsági másolatból.</span><span class="sxs-lookup"><span data-stu-id="8191f-466">Geo-restore restores a database from a geo-redundant backup.</span></span>  <span data-ttu-id="8191f-467">További információkért lásd: [használatával automatikus adatbázis biztonsági mentése Azure SQL-adatbázis helyreállítása][sql-restore].</span><span class="sxs-lookup"><span data-stu-id="8191f-467">For more information, see [Recover an Azure SQL database using automated database backups][sql-restore].</span></span>

### <a name="sql-server-running-in-a-vm"></a><span data-ttu-id="8191f-468">A virtuális gépen futó SQL Server</span><span class="sxs-lookup"><span data-stu-id="8191f-468">SQL Server running in a VM</span></span>

<span data-ttu-id="8191f-469">**Az adatbázis replikálása.**</span><span class="sxs-lookup"><span data-stu-id="8191f-469">**Replicate the database.**</span></span> <span data-ttu-id="8191f-470">SQL Server Always On rendelkezésre állási csoportok használja replikálja az adatbázist.</span><span class="sxs-lookup"><span data-stu-id="8191f-470">Use SQL Server Always On Availability Groups to replicate the database.</span></span> <span data-ttu-id="8191f-471">Magas rendelkezésre állást biztosít, ha egy SQL Server-példány sikertelen.</span><span class="sxs-lookup"><span data-stu-id="8191f-471">Provides high availability if one SQL Server instance fails.</span></span> <span data-ttu-id="8191f-472">További információkért lásd: [futtassa a Windows virtuális gépek N szintű alkalmazások](../reference-architectures/virtual-machines-windows/n-tier.md)</span><span class="sxs-lookup"><span data-stu-id="8191f-472">For more information, see [Run Windows VMs for an N-tier application](../reference-architectures/virtual-machines-windows/n-tier.md)</span></span>

<span data-ttu-id="8191f-473">**Az adatbázis biztonsági mentése**.</span><span class="sxs-lookup"><span data-stu-id="8191f-473">**Back up the database**.</span></span> <span data-ttu-id="8191f-474">Ha már használja a [Azure biztonsági mentés](https://azure.microsoft.com/documentation/services/backup/) biztonsági mentése a virtuális gépek, érdemes lehet [Azure biztonsági mentés az SQL Server számítási feladatait a DPM használatának](/azure/backup/backup-azure-backup-sql/).</span><span class="sxs-lookup"><span data-stu-id="8191f-474">If you are already using [Azure Backup](https://azure.microsoft.com/documentation/services/backup/) to back up your VMs, consider using [Azure Backup for SQL Server workloads using DPM](/azure/backup/backup-azure-backup-sql/).</span></span> <span data-ttu-id="8191f-475">Ezt a módszert van egy biztonsági mentési rendszergazda szerepkör a szervezet és a virtuális gépek és az SQL Server-egyesített helyreállítási folyamattal.</span><span class="sxs-lookup"><span data-stu-id="8191f-475">With this approach, there is one backup administrator role for the organization and a unified recovery procedure for VMs and SQL Server.</span></span> <span data-ttu-id="8191f-476">Ellenkező esetben használja [SQL Server felügyelt Microsoft Azure Backup](https://msdn.microsoft.com/library/dn449496.aspx).</span><span class="sxs-lookup"><span data-stu-id="8191f-476">Otherwise, use [SQL Server Managed Backup to Microsoft Azure](https://msdn.microsoft.com/library/dn449496.aspx).</span></span>

### <a name="traffic-manager"></a><span data-ttu-id="8191f-477">Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="8191f-477">Traffic Manager</span></span>

<span data-ttu-id="8191f-478">**Manuális feladat-visszavétel végrehajtására.**</span><span class="sxs-lookup"><span data-stu-id="8191f-478">**Perform manual failback.**</span></span> <span data-ttu-id="8191f-479">A Traffic Manager feladatátvételt követően végrehajtása manuális feladat-visszavétel ahelyett, hogy automatikusan sikertelen vissza.</span><span class="sxs-lookup"><span data-stu-id="8191f-479">After a Traffic Manager failover, perform manual failback, rather than automatically failing back.</span></span> <span data-ttu-id="8191f-480">Mielőtt ismét sikertelen, ellenőrizze, hogy minden alkalmazás alrendszer kifogástalan.</span><span class="sxs-lookup"><span data-stu-id="8191f-480">Before failing back, verify that all application subsystems are healthy.</span></span>  <span data-ttu-id="8191f-481">Ellenkező esetben hozhat létre olyan helyzet, amelyben az alkalmazás tükrözése oda-vissza adatközpontok között.</span><span class="sxs-lookup"><span data-stu-id="8191f-481">Otherwise, you can create a situation where the application flips back and forth between data centers.</span></span> <span data-ttu-id="8191f-482">További információkért lásd: [virtuális gépek futtatása a magas rendelkezésre állású több régióba](../reference-architectures/virtual-machines-windows/multi-region-application.md).</span><span class="sxs-lookup"><span data-stu-id="8191f-482">For more information, see [Run VMs in multiple regions for high availability](../reference-architectures/virtual-machines-windows/multi-region-application.md).</span></span>

<span data-ttu-id="8191f-483">**Állapot-mintavételi végpont létrehozása.**</span><span class="sxs-lookup"><span data-stu-id="8191f-483">**Create a health probe endpoint.**</span></span> <span data-ttu-id="8191f-484">Hozzon létre egy egyéni végpontot, amelyhez a jelentést az alkalmazás általános állapotát.</span><span class="sxs-lookup"><span data-stu-id="8191f-484">Create a custom endpoint that reports on the overall health of the application.</span></span> <span data-ttu-id="8191f-485">Ez lehetővé teszi, hogy áthelyezze a feladatokat, ha bármely kritikus elérési sikertelen, nem csak az előtér Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="8191f-485">This enables Traffic Manager to fail over if any critical path fails, not just the front end.</span></span> <span data-ttu-id="8191f-486">A végpont egy HTTP-hibakódot kell visszaadnia, ha bármely kritikus függőségi viszonyban a nem megfelelő vagy nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="8191f-486">The endpoint should return an HTTP error code if any critical dependency is unhealthy or unreachable.</span></span> <span data-ttu-id="8191f-487">Azonban jelentést nem a nem kritikus szolgáltatások által jelzett hibákat.</span><span class="sxs-lookup"><span data-stu-id="8191f-487">Don't report errors for non-critical services, however.</span></span> <span data-ttu-id="8191f-488">Ellenkező esetben a állapotmintáihoz feladatátvételt válthat nincs szükség esetén, a vakriasztások létrehozása.</span><span class="sxs-lookup"><span data-stu-id="8191f-488">Otherwise, the health probe might trigger failover when it's not needed, creating false positives.</span></span> <span data-ttu-id="8191f-489">További információkért lásd: [Traffic Manager-végpont figyelése és a feladatátvételi](/azure/traffic-manager/traffic-manager-monitoring/).</span><span class="sxs-lookup"><span data-stu-id="8191f-489">For more information, see [Traffic Manager endpoint monitoring and failover](/azure/traffic-manager/traffic-manager-monitoring/).</span></span>

### <a name="virtual-machines"></a><span data-ttu-id="8191f-490">Virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="8191f-490">Virtual Machines</span></span>

<span data-ttu-id="8191f-491">**Kerülje a termelési munkaterhelés futó egyetlen virtuális gép.**</span><span class="sxs-lookup"><span data-stu-id="8191f-491">**Avoid running a production workload on a single VM.**</span></span> <span data-ttu-id="8191f-492">Egyetlen Virtuálisgép-telepítéshez nem is lehetséges legyen tervezett vagy nem tervezett karbantartás.</span><span class="sxs-lookup"><span data-stu-id="8191f-492">A single VM deployment is not resilient to planned or unplanned maintenance.</span></span> <span data-ttu-id="8191f-493">Ehelyett több virtuális gép elhelyezése egy rendelkezésre állási csoportot vagy [Virtuálisgép-méretezési készlet](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/), az előtérben terheléselosztót.</span><span class="sxs-lookup"><span data-stu-id="8191f-493">Instead, put multiple VMs in an availability set or [VM scale set](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/), with a load balancer in front.</span></span>

<span data-ttu-id="8191f-494">**Adja meg a rendelkezésre állási készlet, amikor a virtuális Gépet.**</span><span class="sxs-lookup"><span data-stu-id="8191f-494">**Specify an availability set when you provision the VM.**</span></span> <span data-ttu-id="8191f-495">Jelenleg nincs semmilyen módon nem adja hozzá a virtuális gépek rendelkezésre állási készlet a virtuális gép kiépítése után.</span><span class="sxs-lookup"><span data-stu-id="8191f-495">Currently, there is no way to add a VM to an availability set after the VM is provisioned.</span></span> <span data-ttu-id="8191f-496">Hozzáadásakor egy új virtuális gép rendelkezésre állási állítsa, hozzon létre egy hálózati Adaptert a virtuális géphez, majd adja hozzá a hálózati adapter a háttér-címkészlet a terheléselosztón.</span><span class="sxs-lookup"><span data-stu-id="8191f-496">When you add a new VM to an existing availability set, make sure to create a NIC for the VM, and add the NIC to the back-end address pool on the load balancer.</span></span> <span data-ttu-id="8191f-497">Ellenkező esetben a load balancer nem irányítható a hálózati forgalom, hogy a virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="8191f-497">Otherwise, the load balancer won't route network traffic to that VM.</span></span>

<span data-ttu-id="8191f-498">**Minden alkalmazás réteg üzembe egy külön rendelkezésre állási csoportban.**</span><span class="sxs-lookup"><span data-stu-id="8191f-498">**Put each application tier into a separate Availability Set.**</span></span> <span data-ttu-id="8191f-499">Az N szintű alkalmazásban nem helyezték virtuális gépek a különböző rétegeket az azonos rendelkezésre állási csoportot.</span><span class="sxs-lookup"><span data-stu-id="8191f-499">In an N-tier application, don't put VMs from different tiers into the same availability set.</span></span> <span data-ttu-id="8191f-500">Virtuális gépek rendelkezésre állási csoportba kerülnek, (FDs) tartalék tartományokban, és frissítse a tartományok (UD).</span><span class="sxs-lookup"><span data-stu-id="8191f-500">VMs in an availability set are placed across fault domains (FDs) and update domains (UD).</span></span> <span data-ttu-id="8191f-501">Azonban ahhoz, hogy a redundancia előnye, hogy FDs és UDs, a rendelkezésre állási csoport minden virtuális gép képesnek kell lennie a azonos ügyfélkérelmet kezelni.</span><span class="sxs-lookup"><span data-stu-id="8191f-501">However, to get the redundancy benefit of FDs and UDs, every VM in the availability set must be able to handle the same client requests.</span></span>

<span data-ttu-id="8191f-502">**Válassza ki a megfelelő Virtuálisgép-méretet, a teljesítményre vonatkozó követelmények alapján.**</span><span class="sxs-lookup"><span data-stu-id="8191f-502">**Choose the right VM size based on performance requirements.**</span></span> <span data-ttu-id="8191f-503">Amikor egy meglévő alkalmazások és szolgáltatások Azure helyezi át, a Virtuálisgép-méretet, amely a leginkább megegyezik a helyszíni kiszolgálók kezdődik.</span><span class="sxs-lookup"><span data-stu-id="8191f-503">When moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="8191f-504">Ezután a munkaterhelések tényleges Processzor, memória és IOPS lemez teljesítménye mérhető, és állítsa be a méretet, ha szükséges.</span><span class="sxs-lookup"><span data-stu-id="8191f-504">Then measure the performance of your actual workload with respect to CPU, memory, and disk IOPS, and adjust the size if needed.</span></span> <span data-ttu-id="8191f-505">Ezzel biztosíthatja az alkalmazások viselkedése a várt módon egy felhőalapú környezetben.</span><span class="sxs-lookup"><span data-stu-id="8191f-505">This helps to ensure the application behaves as expected in a cloud environment.</span></span> <span data-ttu-id="8191f-506">Is ha több hálózati adapter van szüksége, vegye figyelembe az egyes hálózati adapter határérték.</span><span class="sxs-lookup"><span data-stu-id="8191f-506">Also, if you need multiple NICs, be aware of the NIC limit for each size.</span></span>

<span data-ttu-id="8191f-507">**Használja a felügyelt lemezeit a VHD-k.**</span><span class="sxs-lookup"><span data-stu-id="8191f-507">**Use Managed Disks for VHDs.**</span></span> <span data-ttu-id="8191f-508">[Által kezelt lemezeken] [ managed-disks] megbízhatóságnak virtuális gépek rendelkezésre állási csoportba, mert a lemezek megfelelően különítve egymástól elkerülése érdekében a hibaérzékeny pontokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-508">[Managed Disks][managed-disks] provide better reliability for VMs in an availability set, because the disks are sufficiently isolated from each other to avoid single points of failure.</span></span> <span data-ttu-id="8191f-509">Felügyelt lemezek is, nem a VHD-k egy tárfiókot létre IOPS határértékeken.</span><span class="sxs-lookup"><span data-stu-id="8191f-509">Also, Managed Disks aren't subject to the IOPS limits of VHDs created in a storage account.</span></span> <span data-ttu-id="8191f-510">További információkért lásd: [a Windows Azure virtuális gépek rendelkezésre állásának kezelése][vm-manage-availability].</span><span class="sxs-lookup"><span data-stu-id="8191f-510">For more information, see [Manage the availability of Windows virtual machines in Azure][vm-manage-availability].</span></span>

<span data-ttu-id="8191f-511">**Alkalmazásokat telepít a adatlemezt, nem az operációsrendszer-lemezképet.**</span><span class="sxs-lookup"><span data-stu-id="8191f-511">**Install applications on a data disk, not the OS disk.**</span></span> <span data-ttu-id="8191f-512">Ellenkező esetben előfordulhat, hogy elérte a lemez méretének korlátját.</span><span class="sxs-lookup"><span data-stu-id="8191f-512">Otherwise, you may reach the disk size limit.</span></span>

<span data-ttu-id="8191f-513">**Azure Backup használatával biztonsági másolatot készíteni a virtuális gépek.**</span><span class="sxs-lookup"><span data-stu-id="8191f-513">**Use Azure Backup to back up VMs.**</span></span> <span data-ttu-id="8191f-514">Biztonsági mentés véletlen adatvesztést elleni védelem érdekében.</span><span class="sxs-lookup"><span data-stu-id="8191f-514">Backups protect against accidental data loss.</span></span> <span data-ttu-id="8191f-515">További információkért lásd: [Azure virtuális gépek védelme a recovery services-tároló](/azure/backup/backup-azure-vms-first-look-arm/).</span><span class="sxs-lookup"><span data-stu-id="8191f-515">For more information, see [Protect Azure VMs with a recovery services vault](/azure/backup/backup-azure-vms-first-look-arm/).</span></span>

<span data-ttu-id="8191f-516">**Diagnosztikai naplók engedélyezése**, többek között az alapszintű rendszerállapot metrika, infrastruktúra naplókat, és [rendszerindítási diagnosztika][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="8191f-516">**Enable diagnostic logs**, including basic health metrics, infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="8191f-517">Rendszerindítási diagnosztika segíthetnek diagnosztizálni rendszerindítási hiba, ha a virtuális gép nem indítható állapotának beolvasása.</span><span class="sxs-lookup"><span data-stu-id="8191f-517">Boot diagnostics can help you diagnose a boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="8191f-518">További információkért lásd: [áttekintés az Azure diagnosztikai naplók][diagnostics-logs].</span><span class="sxs-lookup"><span data-stu-id="8191f-518">For more information, see [Overview of Azure Diagnostic Logs][diagnostics-logs].</span></span>

<span data-ttu-id="8191f-519">**A AzureLogCollector a kiterjesztést használni.**</span><span class="sxs-lookup"><span data-stu-id="8191f-519">**Use the AzureLogCollector extension.**</span></span> <span data-ttu-id="8191f-520">(Windows virtuális gépek csak.) A bővítmény összesíti az Azure platformon naplókat, és feltölti az Azure storage az operátort, a virtuális Géphez való távoli bejelentkezés nélkül.</span><span class="sxs-lookup"><span data-stu-id="8191f-520">(Windows VMs only.) This extension aggregates Azure platform logs and uploads them to Azure storage, without the operator remotely logging into the VM.</span></span> <span data-ttu-id="8191f-521">További információkért lásd: [AzureLogCollector bővítmény](/azure/virtual-machines/virtual-machines-windows-log-collector-extension/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8191f-521">For more information, see [AzureLogCollector Extension](/azure/virtual-machines/virtual-machines-windows-log-collector-extension/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

### <a name="virtual-network"></a><span data-ttu-id="8191f-522">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="8191f-522">Virtual Network</span></span>

<span data-ttu-id="8191f-523">**Engedélyezési vagy tiltólista nyilvános IP-címek, vegye fel az NSG az alhálózatot.**</span><span class="sxs-lookup"><span data-stu-id="8191f-523">**To whitelist or block public IP addresses, add an NSG to the subnet.**</span></span> <span data-ttu-id="8191f-524">Engedélyezze a hozzáférést a rosszindulatú felhasználóktól, vagy a hozzáférés engedélyezése csak a felhasználók, akik jogosult az alkalmazás eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="8191f-524">Block access from malicious users, or allow access only from users who have privilege to access the application.</span></span>  

<span data-ttu-id="8191f-525">**Hozzon létre egy egyéni állapotmintáihoz.**</span><span class="sxs-lookup"><span data-stu-id="8191f-525">**Create a custom health probe.**</span></span> <span data-ttu-id="8191f-526">HTTP vagy TCP tesztelheti a Load Balancer állapot-mintavételi csomagjai.</span><span class="sxs-lookup"><span data-stu-id="8191f-526">Load Balancer Health Probes can test either HTTP or TCP.</span></span> <span data-ttu-id="8191f-527">Ha egy virtuális Gépet egy HTTP-kiszolgáló fut, a HTTP-vizsgálatot mint egy TCP-Hálózatfigyelővel a állapotadatainak jobb kijelző.</span><span class="sxs-lookup"><span data-stu-id="8191f-527">If a VM runs an HTTP server, the HTTP probe is a better indicator of health status than a TCP probe.</span></span> <span data-ttu-id="8191f-528">HTTP-vizsgálatot használjon egy egyéni végpontot, amelyhez a jelentések általános állapotát, az alkalmazásnak, beleértve az összes kritikus függőségeket.</span><span class="sxs-lookup"><span data-stu-id="8191f-528">For an HTTP probe, use a custom endpoint that reports the overall health of the application, including all critical dependencies.</span></span> <span data-ttu-id="8191f-529">További információkért lásd: [Azure Load Balancer áttekintése](/azure/load-balancer/load-balancer-overview/).</span><span class="sxs-lookup"><span data-stu-id="8191f-529">For more information, see [Azure Load Balancer overview](/azure/load-balancer/load-balancer-overview/).</span></span>

<span data-ttu-id="8191f-530">**A állapotmintáihoz nincs blokkolás.**</span><span class="sxs-lookup"><span data-stu-id="8191f-530">**Don't block the health probe.**</span></span> <span data-ttu-id="8191f-531">A Load Balancer állapotmintáihoz egy ismert IP-címet, 168.63.129.16 küldi.</span><span class="sxs-lookup"><span data-stu-id="8191f-531">The Load Balancer Health probe is sent from a known IP address, 168.63.129.16.</span></span> <span data-ttu-id="8191f-532">Bejövő és kimenő forgalmat az IP-bármely tűzfal házirendek és a hálózati biztonsági csoport (NSG) szabályok nincs blokkolás.</span><span class="sxs-lookup"><span data-stu-id="8191f-532">Don't block traffic to or from this IP in any firewall policies or network security group (NSG) rules.</span></span> <span data-ttu-id="8191f-533">Blokkolja a állapotmintáihoz okozna a terheléselosztóra, majd távolítsa el a virtuális gép elforgatás.</span><span class="sxs-lookup"><span data-stu-id="8191f-533">Blocking the health probe would cause the load balancer to remove the VM from rotation.</span></span>

<span data-ttu-id="8191f-534">**Terheléselosztó naplózását.**</span><span class="sxs-lookup"><span data-stu-id="8191f-534">**Enable Load Balancer logging.**</span></span> <span data-ttu-id="8191f-535">A naplók megjelenítése a háttér-hány virtuális gépek nem fordulnak elő a hálózati forgalom miatt sikertelen mintavételi válaszokat.</span><span class="sxs-lookup"><span data-stu-id="8191f-535">The logs show how many VMs on the back-end are not receiving network traffic due to failed probe responses.</span></span> <span data-ttu-id="8191f-536">További információkért lásd: [analytics keresse meg a Azure Load Balancer](/azure/load-balancer/load-balancer-monitor-log/).</span><span class="sxs-lookup"><span data-stu-id="8191f-536">For more information, see [Log analytics for Azure Load Balancer](/azure/load-balancer/load-balancer-monitor-log/).</span></span>


<!-- links -->
[app-service-autoscale]: /azure/monitoring-and-diagnostics/insights-how-to-scale/
[asynchronous-c-sharp]: /dotnet/articles/csharp/async
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
[azure-backup]: https://azure.microsoft.com/documentation/services/backup/
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[circuit-breaker]: ../patterns/circuit-breaker.md
[cloud-service-autoscale]: /azure/cloud-services/cloud-services-how-to-scale/
[diagnostics-logs]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs/
[fma]: ../resiliency/failure-mode-analysis.md
[resilient-deployment]: ../resiliency/index.md#resilient-deployment
[load-balancer]: /azure/load-balancer/load-balancer-overview/
[managed-disks]: /azure/storage/storage-managed-disks-overview
[monitoring-and-diagnostics-guidance]: ../best-practices/monitoring.md
[resource-manager]: /azure/azure-resource-manager/resource-group-overview/
[retry-pattern]: ../patterns/retry.md
[retry-service-guidance]: ../best-practices/retry-service-specific.md
[search-optimization]: /azure/search/search-performance-optimization/
[sql-backup]: /azure/sql-database/sql-database-automated-backups/
[sql-restore]: /azure/sql-database/sql-database-recovery-using-backups/
[traffic-manager]: /azure/traffic-manager/traffic-manager-overview/
[traffic-manager-routing]: /azure/traffic-manager/traffic-manager-routing-methods/
[vm-manage-availability]: /azure/virtual-machines/windows/manage-availability#use-managed-disks-for-vms-in-an-availability-set
[vmss-autoscale]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/
