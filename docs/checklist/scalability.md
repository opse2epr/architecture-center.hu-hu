---
title: Méretezhetőségi ellenőrzőlisták
titleSuffix: Azure Design Review Framework
description: Ellenőrzőlista skálázhatóságára vonatkozó kialakítási szempontok az Azure automatikus Skálázáshoz.
author: dragon119
ms.date: 01/10/2018
ms.topic: checklist
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: checklist
ms.openlocfilehash: 7532926cc02316cef7a91a7072288cf841e83d30
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58298874"
---
# <a name="scalability-checklist"></a>Méretezhetőségi ellenőrzőlisták

Méretezhetőség rendszer azon képessége, a rendszer megnövekedett terhelés kezelésére, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md). Az alábbi ellenőrzőlista használatával tekintse át az alkalmazásarchitektúra skálázhatósági szempontból.

## <a name="application-design"></a>Alkalmazás-tervezés

**A számítási feladatok particionálása**. Tervezze meg a folyamat diszkrét és decomposable részeit. Egyes részek méretének minimalizálása a szokásos szabályok el a problémákat, és az egyetlen felelősséget elvet követése során. Ez lehetővé teszi, hogy úgy, hogy a lehető legnagyobbra növeli az egyes számítási egységek (például egy szerepkör vagy adatbázis-kiszolgáló) használata elosztani az összetevőit. Azt is megkönnyíti az alkalmazás méretezése az adott erőforrás-példányok hozzáadásával. Az összetettebb tartományok esetében érdemes a bevezetése egy [mikroszolgáltatási architektúra](..//guide/architecture-styles/microservices.md).

**Méretezés tervezése**. Méretezés lehetővé teszi az alkalmazások való reagálás a változó terhelés növelésével és szerepkörök, a példányok számának csökkentésével várólistára helyezi, és más szolgáltatások használják. Azonban az alkalmazást úgy kell megtervezni a szem előtt. Például az alkalmazás és a szolgáltatásokat használ, hogy a kérelmek átirányíthatók tetszőleges példányra állapotmentes kell lennie. Ez is megakadályozza, hogy hozzáadását és eltávolítását a konkrét példányok negatívan befolyásoló aktuális felhasználó. Kell is megvalósítása konfigurációt vagy -példányok automatikus észlelés hozzáadása és eltávolítása, hogy az alkalmazás kódja hajthat végre a szükséges útválasztás. Például egy webalkalmazás előfordulhat, hogy segítségével üzenetsorok készlete egy ciklikus időszeletelés módszerével irányíthatja a kérelmeket a feldolgozói szerepkörök a háttérben futó szolgáltatások. A webalkalmazás kell tudni észleli a módosításokat a sikeres irányíthatja a kérelmeket, és az alkalmazás terhelésének elosztása a sorok száma.

**Skálázási egységként**. Tervezze meg a további erőforrások növekedéshez. Az egyes erőforrások tudja, a méretezési korlátok felső, és ezek a korlátok túllépnek horizontális skálázást vagy felbontási használatával. Határozza meg, a rendszer jól meghatározott készletek az erőforrások tekintetében a méretezési egységeket. Így alkalmazása horizontális felskálázási műveletek könnyebben és kevesebb a hibalehetőség negatív hatással lehet az alkalmazáson keresztül a teljes rendszer egyes részei az erőforráshiány okozta korlátozások. Hozzáadás x például előfordulhat, hogy a webes és feldolgozói szerepkörök számának y további várólisták száma és a storage-fiókok kezelése a szerepkörök által létrehozott további számítási z számát. Így sikerült áll, a skálázási egység x webes és feldolgozói szerepkörök *y* várólisták, és *z* storage-fiókok. Megtervezni az alkalmazást, így könnyen méretezése, egy vagy több skálázási egység.

**Kerülje az ügyfél affinitását**. Ahol lehetséges, győződjön meg arról, hogy az alkalmazáshoz nincs szükség a kapcsolat. Kérelmek így átirányítható bármelyik példányra, és a példányok száma nincs jelentősége. Ezzel elkerülhető a terhelését, tárolása, lekérése és fenntartásának minden egyes felhasználó állapot adatait is.

**Kihasználhatja az automatikus skálázás platformfunkciók**. A üzemeltetési platformot támogatja-e egy automatikus skálázási képesség, például az Azure automatikus méretezési funkciójával, inkább egyéni vagy külső mechanizmust, ha a beépített mechanizmus a követelmények nem teljesíthető. Ütemezett skálázási szabályok használata, ha egy indítási késleltetés nélkül rendelkezésre állnak-e erőforrások biztosítása érdekében a lehető, de adja hozzá a reaktív automatikus skálázást a szabályokat, ahol igény szerint a váratlan módosítások igénycsúcsok kielégítéséhez. Használhatja az automatikus skálázási műveletek a Service Management API, az automatikus skálázás beállításához, majd adja hozzá az egyéni számlálókat szabályokra. További információkért lásd: [automatikus skálázási útmutató](../best-practices/auto-scaling.md).

**Háttérfeladatként intenzív CPU IO-feladatok kiszervezése**. Ha egy kérelem egy várt futtatására vagy számára a jelentős erőforrásokat hosszú időt igénybe, kiszervezheti egy külön feladat, a kérelem feldolgozása. Feldolgozói szerepkörök és a háttérben futó feladatok (attól függően, a üzemeltetési platform) segítségével hajtsa végre ezeket a feladatokat. Ez a stratégia lehetővé teszi, hogy a szolgáltatás továbbra is megkapja a további kéréseket, és továbbra is válaszol-e.  További információkért lásd: [Háttérfeladatokhoz](../best-practices/background-jobs.md).

**Háttérfeladatok okozott terhelés elosztásához**. Ahol nincs sok háttérfeladatokat, vagy a tevékenységek elvégzésére jelentős időt és erőforrásokat, a munkahelyi elosztva több számítási egységet (például feldolgozói szerepkörök vagy a háttérben futó feladatok). Egy lehetséges megoldást találhat a [versengő felhasználók mintája](../patterns/competing-consumers.md).

**Érdemes lehet felé helyez át egy *osztanak meg semmit* architektúra**. Egy nem osztott architektúra független, önellátó csomópontokat, amelyeken nincs egyetlen pont, a versengés (például a megosztott szolgáltatások vagy a storage) használja. Ezt elméletileg egy olyan rendszer szinte végtelenül felskálázható méretezheti. Bár egy teljes körűen osztanak meg semmit a megközelítés általában nem a legtöbb alkalmazás gyakorlati, tehet elérhetővé lehetőségek tervezhet a jobb méretezhetőség érdekében. Például a kiszolgálóoldali munkamenet-állapot használatának elkerülése, ügyfél affinitását adatparticionálás jsou jó példák egy megosztott mellőző architektúra felé helyezi át.

## <a name="data-management"></a>Adatkezelés

**Használja az adatparticionálás**. Az adatok felosztása több adatbázis és adatbázis-kiszolgálók, vagy az alkalmazást, hogy az adatok tárolási szolgáltatás, amely tervezési is adja meg ezt a particionálása transzparens módon (például Azure SQL Database Elastic Database és az Azure Table storage). Ez a megközelítés segíthet a teljesítmény maximalizálása és a könnyebb méretezés. Nincsenek különböző technikák, például a vízszintesen, függőlegesen particionálás és megfelelően működik. Ezek kombinációját használhatja a legnagyobb előny a nagyobb lekérdezési teljesítmény, méretezhetőség egyszerűbb, rugalmasabb felügyeleti, jobb rendelkezésre állás eléréséhez, és megfelel a tároló tárolja majd az adatok. Emellett érdemes lehet különböző típusú adattár a különféle adatok, mennyire vannak optimalizálva az adott típusú adatok alapján kiválasztása. Ebbe beletartozik egy relációs adatbázis, a table storage, a dokumentum-adatbázis vagy egy oszlopcsalád-adattár, helyett, vagy lehető használatával. További információkért lásd: [Adatparticionálási útmutató](../best-practices/data-partitioning.md).

**A végleges konzisztencia tervezési**. Végleges konzisztencia javítja a skálázhatóságot, csökkenteni, illetve eltávolításával a több üzletben particionált kapcsolódó adatok szinkronizálásához szükséges idő. Költsége, hogy adatok esetén nem mindig konzisztens írásvédett, és néhány írási műveletek ütközéseket okozhat. Végleges konzisztencia olyan esetekben, ahol ugyanazok az adatok gyakran beolvasott, de ritkán írt ideális megoldást. További információkért lásd: a [adatkonzisztencia – ismertető](https://msdn.microsoft.com/library/dn589800.aspx).

**Csökkentse az összetevők és szolgáltatások közötti forgalmas interakciók**. Kerülje a kialakítása, amelyben egy alkalmazás több alkalommal hívnia egy szolgáltatás szükséges interakciók (amelyek mindegyike visszaadja a kisebb mennyiségű adatot), ahelyett, hogy adhatnak vissza minden adat egyetlen hívással. Ahol lehetséges, összevonás egyetlen számos kapcsolódó műveletek, ha a hívás, hogy egy szolgáltatás vagy összetevő, amely érzékelhető késést. Ez megkönnyíti a teljesítmény figyelése és összetett optimalizálására. Például a tárolt eljárások található adatbázisok tárolják az összetett logikát, és adatváltások és erőforrás-zárolással számának csökkentése.

**Üzenetsorok használata az adatok írásáért a nagy sebesség a terhelés kiegyenlítése érdekében**. Igény szerinti szolgáltatáshoz forgalomnövekedés túlterhelhetik futó szolgáltatás és a eszkalálásáról hibákhoz vezethet. Ennek megelőzése érdekében vegye fontolóra a [terhelés üzenetsor-alapú terheléskiegyenlítési minta](../patterns/queue-based-load-leveling.md). Használhat egy üzenetsort, amely pufferként működik, a feladat és a egy szolgáltatás, amely meghívja a között. Ez is smooth időszakos nagy terheléseket, amelyek egyébként okozhatnak a szolgáltatás meghiúsulhat vagy a feladaton időtúllépés.

**Az adattár terhelése minimalizálható legyen**. Az adattár gyakran feldolgozás szűk keresztmetszet, költséges erőforrás, és gyakran nem egyszerű horizontális felskálázását. Ahol lehetséges, távolítsa el a logikai (például XML-dokumentumok vagy JSON-objektumok feldolgozása) az adattárból, és hajtsa végre az alkalmazáson belül feldolgozása. Például átadása helyett XML az adatbázishoz (más, mint egy átlátszatlan karakterlánc Storage), szerializálni vagy deszerializálni az XML-fájl az alkalmazásrétegre belül és adja át, az adattár natív formátumban. Általában sokkal egyszerűbb legyen a horizontális felskálázás az alkalmazáshoz, mint az adattár, ezért meg kell próbálni tegye a lehető az alkalmazáson belül a nagy számítási igényű feldolgozás jelentős részét.

**Minimalizálja a lekért adatok mennyisége**. Csak az oszlopok megadása, és sorok kiválasztásához feltétel használatával szükséges adatok olvashatók be. Győződjön meg a táblázat érték paraméterek használatát és a megfelelő elkülönítési szintet. Használat mechanizmusok, például entitáscímkék adatok beolvasása feleslegesen elkerülése érdekében.

**Agresszív használjon gyorsítótárazást**. Használjon gyorsítótárazást, amikor csak lehetséges, erőforrások és szolgáltatások létrehozása vagy adatok terhelésének csökkentése érdekében. Gyorsítótárazás általában olyan adatok, amelyek viszonylag statikus, vagy igénylő jelentős feldolgozási beszerzése. Gyorsítótárazás történjen, minden szinten adott esetben az alkalmazás többek között az adatok hozzáférés és a felhasználói felület létrehozása minden egyes rétegben. További információt a [gyorsítótárazási útmutatóban](../best-practices/caching.md) találhat.

**Az adatmennyiség növekedését és megőrzési kezelni**. Egy alkalmazás által tárolt adatok mennyisége idővel növekszik. Ennek a növekedésnek növeli a tárolási költségeket, valamint a késést az adatok, alkalmazás átviteli sebességet és teljesítményt érintő elérésekor. Rendszeres időközönként archív tárolási szint, amely már nem érhető el a régi adatok némelyike, vagy helyezze át a ritkán elért adatok hosszú távú tárolóba, amely több költséghatékony megoldás, akkor is, ha a hozzáférési késés nagyobb lehet.

**Adatok átvitele az objektumok (DTOs) egy hatékony bináris formátumú optimalizálása**. DTOs a rendszer átadja az alkalmazás a rétegek közötti több alkalommal. Minimalizálja a mérete csökkenti az erőforrások és a hálózat terhelése. A kötelező formátumot az egyes helyeken, ahol használják az adatok átalakítása a terhelést a megtakarítások azonban egyenleg. Fogadja el a formátum, amely rendelkezik a legnagyobb együttműködési újrafelhasználás-összetevők engedélyezése.

**Gyorsítótár-vezérlő**. Tervezze meg és konfigurálhatja az alkalmazás használatához a kimeneti gyorsítótár vagy töredékben gyorsítótárazása amennyiben lehetséges, a feldolgozási terhelés csökkentése érdekében.

**Ügyféloldali gyorsítótárazás engedélyezése**. Webes alkalmazások engedélyeznie kell a gyorsítótár beállításait a gyorsítótárazható tartalom. Ez gyakran alapértelmezés szerint nincs engedélyezve. Konfigurálja a kiszolgálót, hogy a megfelelő gyorsítótárának engedélyezése a proxy kiszolgálókon és ügyfeleken tartalom gyorsítótárazását vezérlő fejléceket.

**Az Azure blob storage és az Azure Content Delivery Network segítségével csökkentheti az alkalmazás terhelését**. Vegye figyelembe, hogy statikus vagy viszonylag statikus nyilvános tartalmak, képek, erőforrások, parancsfájlok és stíluslapok, például blob storage tárolóban végzett tárolása. Ez a megközelítés mentesíti az alkalmazást a dinamikusan létrehozni ezt a tartalmat az egyes kérések által okozott terhelés. Továbbá vegye figyelembe, a Content Delivery Network használatával a tartalom gyorsítótárazása és továbbítására az ügyfelek számára. A Content Delivery Network használatával az ügyfél teljesítménye növelhető, mivel a tartalom a földrajzilag legközelebb elhelyezkedő adatközpontból, amely tartalmaz egy Content Delivery Network gyorsítótár kerül. További információkért lásd: a [Tartalomkézbesítési hálózati útmutató a Content](../best-practices/cdn.md).

**Optimalizálása és SQL-lekérdezések és az indexek finomhangolása**. Néhány T-SQL-utasítások vagy szerkezeteket teljesítményéről, amely a kód egy tárolt eljárást az optimalizálással lehet szűkíteni kedvezőtlen hatással lehet. Kerülje például a konvertálás **datetime** típust egy **varchar** és összehasonlítása előtt egy **datetime** Szövegkonstansérték. Használja helyette a dátum/idő összehasonlító függvények. A megfelelő indexek hiánya is lelassíthatja a lekérdezés végrehajtása. Ha egy objektumrelációs/leképezés keretrendszert használja, ismerje meg, hogyan működik, és milyen hatással lehet az adatelérési réteg teljesítményét. További információkért lásd: [lekérdezések hangolása](https://technet.microsoft.com/library/ms176005.aspx).

**Érdemes lehet megszüntetni azok normalizáltságát adatok**. Adatok normalizálási segít kiszűrésével és inkonzisztencia elkerülése érdekében. Azonban több indexek karbantartása, a hivatkozási integritás-ellenőrzésének, végrehajtása több hozzáfér az adatok kisebb tömbökre, és az adatok elhelyezkedését a táblázatok összekapcsolása egy általános teljesítményt befolyásoló ír elő. Fontolja meg, ha néhány további tárolási kötet és az ismétlődést az adattár terhelésének csökkentése érdekében fogadható el. Továbbá vegye figyelembe, ha maga az alkalmazás (Ez általában egyszerűbb méretezése) is lehet hivatkozni átveszi a feladatokat, köztük a hivatkozási integritás kezelése az adattár terhelésének csökkentése érdekében. További információkért lásd: [Adatparticionálási útmutató](../best-practices/data-partitioning.md).

## <a name="implementation"></a>Megvalósítás

**Tekintse át a teljesítménnyel kapcsolatos kizárási minták**. Lásd: [felhőalapú alkalmazások teljesítménnyel kapcsolatos kizárási minták](../antipatterns/index.md) a gyakori eljárások, amelyek nagy eséllyel eredményez méretezhetőségi problémákat, amikor egy alkalmazás nagy terhelésnek van kitéve.

**Asynchronní volání kanálu használata**. A kód aszinkron, amikor lehetséges, ha használ elérésére erőforrások vagy szolgáltatások, amelyek i/o vagy a hálózati sávszélességet, illetve, hogy előfordulhat, hogy korlátozza érzékelhető késést, annak érdekében, hogy a hívó szálat zárolását.

**Erőforrások zárolásának elkerülése és a egy optimista módszert használja helyette**. Soha nem zár hozzáférés az erőforrásokhoz, például a storage és más szolgáltatásokkal, amelyek érzékelhető késést, mivel ez egy elsődleges oka gyenge teljesítményt. Mindig használjon optimista megközelítések a párhuzamos műveletek, például a tárolókba kezelése. A tárolási réteg funkciók használatával ütközések kezelése. Az elosztott alkalmazások adatok előfordulhat, hogy csak végül lesznek konzisztensek.

**Magas tömöríthető adatok tömörítése nagy késésű, alacsony sávszélességű hálózatokon**. A legtöbb esetben egy webalkalmazás az alkalmazás által létrehozott és a hálózaton keresztül továbbított adatok legnagyobb mennyisége HTTP-válaszok az ügyfelektől érkező kérelmeket. HTTP-tömörítésének csökkentheti a kiválasztott specifikációktól, különösen a statikus tartalmat. Költség, valamint a csökkenti a hálózat terhelése Ez csökkentheti, mintha dinamikus tartalom tömörítése érje fractionally magasabb terhelés a kiszolgálón. Más, több általánosított környezetekben az adattömörítés csökkentheti a továbbított adatok mennyisége és átviteli idő és költségek minimalizálása érdekében, de tömörítésre vagy kibontásra folyamatok díjak terhelést. Emiatt a tömörítés csak használandó teljesítmény bizonyítható nyereség esetén. Más szerializálási módszereket, például JSON vagy bináris kódolású, előfordulhat, hogy csökkentheti az adattartalom-méretkorlát kellene kevésbé befolyásolja a teljesítményt, mivel megnövekszik, az XML.

**Kapcsolatok és az erőforrások használatban vannak idő minimalizálásához**. Kapcsolatok és csak az erőforrások karbantartása, amennyiben szeretné használni őket. Nyissa meg például a kapcsolatokat Minél később, és hogy vissza kell juttatni a kapcsolatot a kapcsolatkészletből minél hamarabb. Erőforrások lehető késői beszerezni, és azokról a lehető leghamarabb.

**A szükséges kapcsolatok számának minimalizálása**. Szolgáltatáskapcsolatokat erőforrások számára. A szám szükség, és győződjön meg arról, hogy a meglévő kapcsolatok újra felhasználhatók, amikor csak lehetséges, korlátozza. Például után végez hitelesítést, használja a megszemélyesítés, ahol kódot futtathat egy bizonyos identitásra. Ez segít a legjobb kihasználása a kapcsolatot a kapcsolatkészletből kapcsolatok újrafelhasználásával.
  
> [!NOTE]
> Egyes szolgáltatások API-k automatikusan újra felhasználhatja a kapcsolatok, megadott szolgáltatásra jellemző útmutatást követi. Fontos, hogy megértette a feltételeket, amelyeknek-kapcsolat engedélyezése az alkalmazás által használt egyes szolgáltatások újból felhasználja.

**Kérelmek küldése a hálózat használatának optimalizálására, és kötegekben**. Például küldjön, és kötegekben üzenetek olvasásakor a várólista elérésekor, és hajtsa végre több olvasások és írások kötegként tároló vagy gyorsítótár elérésekor. Ez segít a hatékonyság a szolgáltatásokat és adattárakat, a hálózati hívások számának csökkentésével.

**Kerülje a követelmény, hogy a kiszolgálóoldali munkamenet-állapot tárolása** ahol csak lehetséges. A kiszolgálóoldali munkamenet-állapot-felügyeleti legtöbbször ügyfél affinitását (amely van, az egyes kérelmek az egyazon kiszolgálópéldányon Útválasztás), amely hatással van a rendszer méretezési képességét. Ideális esetben úgy kell megterveznie az ügyfelek az általuk használt kiszolgálók megállapodást állapot nélkülire kell. Azonban ha az alkalmazás kell munkamenet-állapot karbantartásához, bizalmas adatok tárolásához, vagy nagy mennyiségű, egy elosztott kiszolgálóoldali adatok ügyfél gyorsítótár, amely hozzáférhet az alkalmazás összes példányáról.

**Optimalizálja tárolási táblasémákat**. Tábla tárolja, az átadott és feldolgozása történhet az összes lekérdezés, például az Azure table storage, az a tábla- és oszlopneveket igénylő használata esetén érdemes lehet rövidebb neveket a terhelés csökkentése érdekében. Azonban nem lecsökken olvashatóság érdekében vagy kezelhetőségi túlságosan kompakt nevek használatával.

**Erőforrás-függőségek létrehozása, üzembe helyezés során, vagy az alkalmazás indításakor**. Kerülje az ismételt hívások módszerekre, amelyek tesztelése erőforrás létezik-e, és ezután hozza létre az erőforrást, ha még nem létezik. Például módszerek *CloudTable.CreateIfNotExists* és *CloudQueue.CreateIfNotExists* az Azure Storage ügyféloldali kódtár hajtsa végre ezt a mintát. Ezek a metódusok szegmenshelyek jelentős terhelést, ha azokat egy tárolótáblában vagy a storage-üzenetsor minden hozzáférés előtt kerül meghívásra. Instead:

- Az alkalmazás telepítésekor, vagy első elindításakor a szükséges erőforrások létrehozása (egyetlen meghívása *CreateIfNotExists* az indítási a minden erőforrás egy webes vagy feldolgozói szerepkör kódját fogadható el). Azonban mindenképpen kezelni a kivételeket, amelyek akkor fordulhatnak elő, ha a kódot próbál meg hozzáférni egy erőforrás, amely nem létezik. Ebben az esetben kell naplózhatja a kivételt, és hogy egy erőforrás hiányzik valószínűleg riasztást küldhet az operátornak.
- Bizonyos körülmények között célszerű lehet a kivételkezelő kód részeként a hiányzó erőforrás létrehozásához. De a megközelítést csak óvatosan kell elfogadnia, mert lehet, hogy az erőforrás nem meglétét, a programozási hibáról van szó (például kijavítsa a hibásan leírt erőforrás nevét), vagy valamilyen más infrastruktúra-szintű hiba.

**Egyszerűsített keretrendszerek használata**. Alaposan válassza ki az API-k és keretrendszereket használhat, erőforrás-használat, végrehajtási ideje és az alkalmazás teljes terhelésének minimalizálása érdekében. Például Web API használatával kezeli a szolgáltatáskéréseket az alkalmazás erőforrás-igényű csökkentheti és növelheti a végrehajtási sebességét, de nem feltétlenül alkalmas speciális forgatókönyvek, ahol a további funkciókat a Windows Communication Foundation szükség.

**Vegye figyelembe, minimalizálja a szolgáltatásfiókok számát**. Például az erőforrások eléréséhez meghatározott fiók használata vagy szolgáltatásokat, amelyek korlátozzák a kapcsolatokat, vagy hajtson végre jobb, ha kevesebb kapcsolatok megmaradnak. Ez a megközelítés gyakori szolgáltatásokhoz, például adatbázisok, de ez hatással lehet a pontos naplózási műveletek miatt az eredeti felhasználó megszemélyesítésének a lehetősége.

**Teljesítmény profilkészítés végez, és a terheléses tesztelés** részeként teszt rutinjait, és annak érdekében, hogy az alkalmazás által végrehajtott végleges, és szükség szerint méretezhető előtt a fejlesztés során. A tesztelési jelenhet meg a termelési platform és az azonos típusú hardver azonos típusú és mennyiségű adatot és felhasználói terhelés, éles környezetben fog történni. További információkért lásd: [felhőszolgáltatás teljesítményének tesztelése](/azure/vs-azure-tools-performance-profiling-cloud-services/).
