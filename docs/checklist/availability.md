---
title: Rendelkezésre állási ellenőrzőlisták
titleSuffix: Azure Design Review Framework
description: A feladatlista, amely rendelkezésre állási problémák során tervezési útmutatást nyújt.
author: dragon119
ms.date: 11/26/2018
ms.topic: checklist
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: checklist
ms.openlocfilehash: 2e0c337cb0a5f343ae3dd94ae209d01f063cab35
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58298950"
---
# <a name="availability-checklist"></a>Rendelkezésre állási ellenőrzőlisták

Rendelkezésre állás az időarány, amíg, ameddig a rendszer működik és üzemel, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md). Az alábbi ellenőrzőlista használatával tekintse át az alkalmazásarchitektúra egy rendelkezésre állási szempontból.

## <a name="application-design"></a>Alkalmazás-tervezés

**Kerülje el minden olyan hibaérzékeny pont.** Több példány megakadályozza, hogy egy meghibásodási pont rendelkezésre állását érintő összetevők, szolgáltatások, erőforrások és számítási példányok kell telepíteni. Ez magában foglalja a hitelesítési mechanizmusok. Tervezze meg az alkalmazás konfigurálható, hogy több példány üzemeltetéséhez, valamint hogy automatikusan észleli a hibákat, és nem sérült példányok, ahol a platform ezt nem teszi automatikusan irányuló kérelmek átirányítása.

**Számítási feladatok lebontása a szolgáltatásiszint-célkitűzés által.** Ha egy szolgáltatás áll, amelyek kritikus és a kevésbé kritikus fontosságú számítási feladatokhoz, eltérően kezelheti őket, és adja meg a service-szolgáltatások és a rendelkezésre állási követelményeinek-példányok számát.

**Kis méret, és megismerheti a függőségei.** Ahol lehetséges használt különböző szolgáltatások számának csökkentése érdekében, és hogy biztosan megismerje az összes funkció és szolgáltatás függőséget, amely létezik a rendszerben. Ez magában foglalja a függőségek jellegét, és meghibásodás hatása, vagy csökkenteni a mindegyiknél az alkalmazás általános teljesítménye.

**Tervezési feladatokat, és üzeneteket, hogy idempotensek lesznek, ha lehetséges**. Egy művelet idempotens, ha többször is megismételhető, és ugyanazt az eredményt. Idempotens is győződjön meg arról, hogy az ismétlődő kérelmek problémák nem okoznak. Üzenet fogyasztók és az általuk végzett műveletek kell idempotens, hogy a korábban végrehajtott műveletet nem jelennek meg az eredmények érvénytelen. Ez azt jelentheti, hogy észlelni a duplikált üzeneteket, vagy a konzisztencia biztosítása egy optimista megközelítéssel ütközések kezelése érdekében.

**A közvetítő, amely megvalósítja a magas rendelkezésre állású, kritikus fontosságú tranzakciók használja.** Számos felhőalapú alkalmazások használatával üzenetkezelési inicializálhatnak olyan feladatokat, amelyek aszinkron módon történik. Garantálja az üzenetek kézbesítését, az üzenetkezelési rendszer magas rendelkezésre állást kell biztosítania. [Az Azure Service Bus-üzenetkezelés](/azure/service-bus-messaging) valósít meg *legalább egyszer* szemantikáját. Ez azt jelenti, hogy egy üzenetet egy üzenetsorba közzétett nem vesznek el, bár a duplikált kézbesíteni bizonyos körülmények között lehet. Ha üzenet feldolgozás idempotens (lásd az előző elemet), ismétlődő kézbesítési nem lehet probléma.

**Szabályosan csökkeni alkalmazások tervezéséről.** Az alkalmazás terhelésének haladhatja meg a kapacitás egy, vagy további alkatrészek, így csökken a rendelkezésre állás és a kapcsolatok meghiúsultak. Méretezés igény kielégítése érdekében ez segíthet, de egy más tényezők, például az erőforrások elérhetőségét és a költségek által megszabott felső határértéket elérheti. Amikor egy alkalmazás eléri egy erőforráskorlátot, hogy minimalizálja a felhasználó a megfelelő műveletet kell vennie. Például egy e-kereskedelmi rendszerben-e a feldolgozási sorrendben alrendszer törzs vagy meghiúsul, akkor ideiglenesen letiltható miközben lehetővé teszi az egyéb funkciókat, például a termékkatalógus tallózása. Érdemes lehet elhalasztani a kérelmeket az sikertelen alrendszer, így például továbbra is a vásárlók nyújthatnak be rendelést, de mentésével későbbi feldolgozás céljából, ha a rendelések alrendszer ismét elérhető.

**Gyors burst események szabályosan kezelésére.** A legtöbb alkalmazás idővel munkaterhelésű kezeléséhez szükséges. Automatikus méretezés segít a terhelés kezeléséhez, de eltarthat egy kis ideig további példányok online állapotba kerül, és a kérelmek kezelésére. Megakadályozza, hogy a tevékenység hirtelen és váratlan adatlöketekkel az alkalmazás túlterhel: tervezzen, használja a szolgáltatások várólista kérelmeket, és a leállás nélküli teljesítménycsökkenés, amikor várólisták, amelyek közel teljes kapacitás. Győződjön meg arról, hogy nincs elegendő teljesítményt és kapacitást kiürítési az üzenetsorokhoz és a szálankénti függőben lévő kérések kezelésére nem burst körülmények között érhető el. További információkért lásd: a [terhelés üzenetsor-alapú terheléskiegyenlítési minta](../patterns/queue-based-load-leveling.md).

## <a name="deployment-and-maintenance"></a>Üzembe helyezése és karbantartása

**Telepítse a szolgáltatások több példányát.** Ha az alkalmazás egy szolgáltatás egyetlen példánya függ, a meghibásodási pontot hoz létre. Üzembe helyezett példányban több növeli a rugalmasságot és méretezhetőséget is. A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amelynek keretében több példányt. Az Azure Cloud Services, konfigurálja az összes, használja a szerepkörök [több példány](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management). A [Azure Virtual Machines (VM)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy a virtuális gép architektúra tartalmaz-e egynél több virtuális gép és minden virtuális gép szerepel egy [rendelkezésre állási csoport][availability-sets].

**Vegye figyelembe, hogy az alkalmazás üzembe helyezése több régióban.** Ha az alkalmazás egyetlen régióban üzembe, az esemény ritkán fordul elő a teljes régió elérhetetlenné válik, az alkalmazás még nem lesz elérhető. Lehet, hogy ez elfogadhatatlan az alkalmazás szolgáltatásiszint-szerződés feltételei szerint. Ha igen, fontolja meg az alkalmazás és a hozzá tartozó szolgáltatások telepítése több régióban.

**Automatizálhatja, és tesztelje a központi telepítési és karbantartási feladatok.** Az elosztott alkalmazások, amelyek együtt kell működniük a több részből állnak. Üzembe helyezés érdemes automatizálni, például a parancsfájlokat a kipróbált és bevált mechanizmusok használatával. Ezek frissítése és a konfiguráció ellenőrzése és az üzembe helyezési folyamat automatizálható. Használat [Azure Resource Manager-sablonok](/azure/azure-resource-manager/resource-group-authoring-templates) kiépíteni az Azure-erőforrás. Is használható automatikus technikák alkalmazás frissítések végrehajtásához. Elengedhetetlen az teszteléséhez győződjön meg arról, hogy hibákat nem további üzemkimaradást eredményezhet, teljes mértékben a folyamatokat. Az összes központi telepítési eszközök védelme érdekében az üzembe helyezett alkalmazás; megfelelő biztonsági korlátozásokat kell rendelkeznie. határozza meg, és gondosan telepítési szabályzatokat léptethet, és az emberi beavatkozások szükségességének minimálisra csökkentése.

**Használja a platform átmeneti és üzemi funkcióit.** . Például az Azure App Service támogatja [üzembe helyezési pontok](/azure/app-service/web-sites-staged-publishing), amelyek segítségével előtt sikeressége az éles környezetben üzembe helyezésének ütemezése. Az Azure Service Fabric támogatja a [a működés közbeni frissítés](/azure/service-fabric/service-fabric-application-upgrade) alkalmazás szolgáltatásokhoz.

**Helyezze a virtuális gépek (VM) egy rendelkezésre állási csoportban.** Rendelkezésre állás maximalizálása érdekében hozzon létre minden egyes Virtuálisgép-szerepkör több példányát, és helyezze el ezek a példányok ugyanazt a rendelkezésre állási csoportban. Ha több virtuális gépet, amely szolgálja ki a különböző szerepkörökhöz, például különböző alkalmazásrétegek, hozzon létre egy rendelkezésre állási csoportot minden egyes Virtuálisgép-szerepkör. Például hozzon létre egy rendelkezésre állási csoportot a webes szint és a egy másik, az adatréteg számára.

**Az Azure Site Recovery virtuális gépeket replikálni.** A rendelkezésre állás maximalizálása a virtuális gépek replikálása egy másik Azure-régióban [Site Recovery][site-recovery]. Győződjön meg arról, hogy a virtuális gépek összes replikálódnak a szintek az alkalmazás. Egy a forrásrégióban bekövetkező szolgáltatáskimaradás esetén is átadja a feladatokat a virtuális gépek a más régióba percen belül.

## <a name="data-management"></a>Adatkezelés

**Az Azure Storage-adatok georeplikálása**. Az Azure Storage szolgáltatásban az adatok automatikus replikációja belül az egy kínai adatközpont. Még magasabb rendelkezésre állás érdekében használja az írásvédett georedundáns tárolás (-RAGRS), amely egy másodlagos régióba replikálja az adatokat, és az adatokat a másodlagos helyen csak olvasható hozzáférést biztosít. Az adatok a tartós még egy teljes regionális kimaradás vagy vészhelyzet esetén. További információkért lásd: [Azure Storage replikáció](/azure/storage/storage-redundancy).

**Georeplikáció adatbázisok**. Az Azure SQL Database és a Cosmos DB is támogatja a georeplikációt, ami lehetővé teszi, hogy a másodlagos adatbázis-replikák konfigurálása más régiókban. Másodlagos adatbázisok lekérdezése és a feladatátvétel esetén egy adatközpont-leállás esetén vagy az elsődleges adatbázishoz való kapcsolódáshoz nem érhetők el. További információkért lásd: [feladatátvételi csoportok és az aktív georeplikáció](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) és [hogyan globális adatterjesztés az Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).

**Az optimista egyidejűség és a végleges konzisztencia**. Tranzakció, hogy a erőforrások zárolása (pesszimista egyidejűségi) keresztüli elérésének letiltása gyenge teljesítményhez vezethetnek, és jelentősen csökkentheti a rendelkezésre állást. Ezeket a problémákat az elosztott rendszerek különösen akuttá válhat. Sok esetben gondos tervezés és technikák, például a particionálás minimalizálhatja az előforduló ütköző frissítésének esélyét. Ahol az adatokat a rendszer replikálja, vagy külön-külön frissített áruházbeli olvasható, az adatok csak akkor végül konzisztens. Azonban az előnyöket általában sokkal nyomósabbak a tranzakciók azonnali konzisztencia biztosításához a rendelkezésre állási gyakorolt hatást.

**Rendszeres biztonsági mentéssel és időponthoz visszaállítással**. Automatikusan és rendszeresen biztonsági másolatokat, amely máshol nem őrződnek meg, és ellenőrizze a megbízhatóan visszaállíthatja az adatokat és a magának az alkalmazásnak kell hiba fordul elő. Győződjön meg arról, hogy a biztonsági mentések felel meg a helyreállítási időkorlátot (RPO). Adatreplikálás nem áll egy biztonsági mentési funkcióval, mivel az emberi hiba vagy rosszindulatú műveleteket is az adatok sérültek minden replika között. Lehet, hogy a biztonsági mentési folyamat biztonságos az úton lévő és a storage-ban tárolt adatok védelméhez. Adatbázisok és a egy adattár részeit általában visszaállíthatja egy korábbi időpontra időben tranzakciós naplók használatával. További információkért lásd: [helyreállítás adatsérülés vagy véletlen törlés](../resiliency/recovery-data-corruption.md)

**Az Azure Site Recovery Virtuálisgép-lemezek replikálásához.** Amikor replikálhat Azure virtuális gépek [Site Recovery][site-recovery], a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik. A helyreállítási pontok jönnek létre néhány perces időközönként. Ez lehetővé teszi egy RPO sorrendjében perc.

## <a name="errors-and-failures"></a>Hibák és hibák

**Konfigurálja a kérelem időtúllépése.** Szolgáltatások és erőforrások miatt a kérelem sikertelen elérhetetlenné válhat. Ügyeljen arra, hogy a alkalmazni, időtúllépések megfelelő minden szolgáltatáshoz vagy erőforráshoz, valamint az ügyfél, amely hozzájuk férni. Bizonyos esetekben előfordulhat, hogy engedélyezi a hosszabb időkorlát az ügyfélen, attól függően, a környezetet és más műveletek, amelyek az ügyfél hajt végre adott alkalmazáspéldány esetében. Nagyon rövid időtúllépések okozhat túl sok újrapróbálkozás műveletek szolgáltatásokhoz és erőforrásokhoz, amelyek jelentős késéssel rendelkeznek. Nagyon hosszú időtúllépések okozhat blokkolása, ha nagy számú kérelem várólistára kerülnek, Várakozás a szolgáltatás vagy erőforrás válaszolni.

**Az átmeneti hibák által okozott sikertelen műveletek újrapróbálása.** Tervezze meg a hozzáféréshez minden szolgáltatásokhoz és erőforrásokhoz, ha nem eleve támogatják automatikus kapcsolat újrapróbálkozási újrapróbálkozási stratégiát. Használja a stratégia, amely tartalmaz egy növekvő késleltetés számának hibák növeli, hogy az erőforrás terhelve és, hogy szabályosan helyreállítani, és várólistára került kérelmeket kezeli az újrapróbálkozások között. A nagyon rövid késések folyamatos újrapróbálkozások valószínűleg elmérgesítik azokat a problémát. További információkért tekintse meg [az adott szolgáltatásokra vonatkozó újrapróbálkozási útmutatást](../best-practices/retry-service-specific.md).

**Áramköri, ezáltal pedig kaszkádolt meghibásodásokhoz elkerülése érdekében hajtja végre.** Előfordulhat, hogy olyan helyzetekben, amelyben átmeneti vagy más hibák, és a egy szolgáltatást, a teljes hiba súlyossága a részleges kapcsolódási vártnál sokkal normál való visszatéréshez. , ha egy szolgáltatás nagyon elfoglalt, a rendszer egy része sikertelen lehet, hogy hiba egész hibasorozatot indíthat, és váljon kritikus rendszererőforrásokat akadályozhatnak, mint például a memória, szálak, az alakzatot tartásával blokkolva sok művelet eredményez és adatbázis-kapcsolatok. Ahelyett, hogy nem valószínű, hogy sikeres művelet újrapróbálása folyamatosan, az alkalmazás kell gyorsan fogad el, hogy a művelet sikertelen volt, és ez a hiba kezelésére. Az áramkör-megszakító minta használatával meghatározott ideig adott műveletek esetében kérelmek elutasítása. További információkért lásd: a [áramkör-megszakító minta](../patterns/circuit-breaker.md).

**Compose, vagy több összetevő térhet vissza.** Tervezhet alkalmazásokat érintő művelet és a meglévő kapcsolatok nélkül több példány üzemeltetéséhez, ahol csak lehetséges. Több példány üzemeltetéséhez kérelmek közöttük, terjesztése és felismeri és elkerülheti a kérések küldését sikertelen példányok, annak érdekében, hogy a rendelkezésre állás maximalizálása érdekében.

**Egy másik szolgáltatás vagy a munkafolyamat térhet vissza.** Például ha az SQL Database-adatbázisba írása sikertelen, ideiglenesen tárolja az adatokat a blob storage vagy a Redis Cache. Visszajátszani az írást, az SQL Database-amikor elérhetővé válik a szolgáltatás lehetőséget biztosíthat. Bizonyos esetekben egy meghiúsult művelet lehet egy valamilyen alternatív műveletet, amely lehetővé teszi az alkalmazás továbbra is működnek, még ha egy összetevő vagy szolgáltatás sikertelen. Ha lehetséges hibák észlelése, és átirányítja a kérések más egy megfelelő alternatív funkció által nyújtott szolgáltatások vagy biztonsági mentése vagy korlátozott funkciókkal példányok is karbantartani alapvető műveleteket, amíg az elsődleges szolgáltatás offline állapotban.

## <a name="monitoring-and-disaster-recovery"></a>Figyelés és a vészhelyreállítás

**Adja meg a részletes instrumentation valószínűleg hibák és sikertelen események** a helyzet, a üzemeltetési csapat jelenti. Hibák az valószínűleg, de nem rendelkezik még történt, adja meg a hiba okának megállapításához, csökkentheti a helyzet létszámmal engedélyezéséhez szükséges adatokat, és győződjön meg arról, hogy a rendszer továbbra is elérhető. Már bekövetkezett hibák az alkalmazás kell egy megfelelő hibaüzenetet térjen vissza a felhasználónak azonban próbálja folytatni a fut, jóllehet az korlátozott funkciókkal. Minden esetben a monitorozási rendszer rögzíteni kell átfogó információkat az létszámmal életbe lépjenek gyors helyreállítás, és ha szükséges, tervezők és fejlesztők módosításához a rendszer a helyzet újra elkerülése érdekében.

**Figyelheti a fájlrendszer állapotának ellenőrzése funkciók megvalósítása.** Az állapotát és a egy alkalmazás teljesítményének idővel romoljon, anélkül, hogy észrevehető, amíg nem sikerül. Mintavételezők megvalósításához, vagy ellenőrizze a végrehajtott rendszeresen az alkalmazáson kívüli funkciók. Az ellenőrzések egyszerű: az alkalmazás egészére, az alkalmazás egyes részei, az alkalmazás által használt egyes szolgáltatások, vagy az egyes összetevők válaszidő mérése is lehet. Ellenőrizze a funkciókat hajthatja végre a folyamatokat, így biztosíthatja azok érvényes eredményeket, mérheti a késés és rendelkezésre állásának ellenőrzése és információk nyerhetők a rendszer.

**Feladatátvétel és a tartalék rendszerek rendszeresen tesztelje.** Változások a rendszerek és az operations befolyásolhatják a feladatátvétel és a tartalék függvények, de a hatás nem észlelhető, mindaddig, amíg a fő rendszer meghibásodik, vagy túlterhelt válik. Tesztelje előtt szükség van a meghiúsult lépések kompenzációjához futásidőben élő probléma. Ha használ [Azure Site Recovery] [ site-recovery] virtuális gépek replikálásához vészhelyreállítási próbákat rendszeres időközönként feladatátvételi teszt elvégzésével. További információkért lásd: [vészhelyreállítási gyakorlatának futtatása az Azure-bA][site-recovery-test].

**Tesztelje a monitorozási rendszerek.** Az Automatikus feladatátvétel és a tartalék rendszerek, és manuális képi megjelenítés, a rendszer állapotának és teljesítményének irányítópultok használatával, az összes függő monitorozási és rendszerállapot megfelelően működik-e. Ha ezek az elemek meghibásodik, a kritikus információk tévesztés, vagy pontatlan adatokat, az operátornak előfordulhat, hogy nem valósíthat meg, hogy a rendszer sérült vagy meghibásodott.

**Hosszan futó munkafolyamatok az előrehaladását úgy követheti nyomon, és ismételje meg a hiba esetén.** Hosszan futó munkafolyamatok gyakran több lépésből állnak. Győződjön meg arról, hogy az egyes lépések egymástól független, és annak esélyét, hogy a teljes munkafolyamatot állítható vissza kell minimalizálása érdekében újból próbálkozhat, vagy, hogy több kompenzáló tranzakciók kell végrehajtani. Figyelheti és kezelheti a hosszan futó munkafolyamatok előrehaladását egy minta megvalósításával [Feladatütemező ügynök felügyeleti mintájának](../patterns/scheduler-agent-supervisor.md).

**Vész-helyreállítási terv.** Hozzon létre egy elfogadott, teljes körűen tesztelve bármilyen rendszer rendelkezésre állását esetlegesen befolyásoló hiba helyreállítási tervet. Válassza ki a többhelyes vészhelyreállítás recovery architektúrájáról alapvető fontosságú alkalmazásokhoz. A konkrét tulajdonost, a vész-helyreállítási terv, beleértve az automatizálási és tesztelési azonosításához. Győződjön meg arról a csomag létezik jól dokumentált, és automatizálhatják a lehető legnagyobb mértékben. Hozzon létre egy biztonsági mentési stratégia az összes hivatkozást és a tranzakciós adatok, és rendszeresen Tesztelje ezeket a biztonsági másolatokat a helyreállítását. A terv, és hajtsa végre a rendszeres vészhelyreállítási szimulációk miként ellenőrzi és javítja a terv létszámmal betanításához. Ha használ [Azure Site Recovery] [ site-recovery] virtuális gépek replikálása egy teljesen automatizált helyreállítási terv feladatátvételi percek alatt a teljes alkalmazás létrehozása.

<!-- links -->
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
[site-recovery]: /azure/site-recovery/
[site-recovery-test]: /azure/site-recovery/site-recovery-test-failover-to-azure
