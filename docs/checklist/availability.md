---
title: "Rendelkezésre állási ellenőrzőlista"
description: "Feladatlista, amely útmutatást a rendelkezésre állási aggályokat tervezés közben."
author: dragon119
ms.date: 01/10/2018
ms.custom: checklist
ms.openlocfilehash: b66968f8e0e4cdde9b5ce9aea11c2b4011958b38
ms.sourcegitcommit: 3d6dba524cc7661740bdbaf43870de7728d60a01
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/11/2018
---
# <a name="availability-checklist"></a><span data-ttu-id="7e3a7-103">Rendelkezésre állási ellenőrzőlista</span><span class="sxs-lookup"><span data-stu-id="7e3a7-103">Availability checklist</span></span>

<span data-ttu-id="7e3a7-104">Rendelkezésre állási időpont a rendszer működési, és üzemel aránya, és az egyik a [szoftver minőségű oszlopok](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-104">Availability is the proportion of time that a system is functional and working, and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="7e3a7-105">Az alábbi ellenőrzőlista segítségével ellenőrizze az alkalmazás architektúrák egy rendelkezésre állási tükrözik.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-105">Use this checklist to review your application architecture from an availability standpoint.</span></span> 

## <a name="application-design"></a><span data-ttu-id="7e3a7-106">Alkalmazás tervezése</span><span class="sxs-lookup"><span data-stu-id="7e3a7-106">Application design</span></span>

<span data-ttu-id="7e3a7-107">**Kerülje a hibaérzékeny pontok kialakulását.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-107">**Avoid any single point of failure.**</span></span> <span data-ttu-id="7e3a7-108">Összetevők, szolgáltatások, erőforrások és számítási példányokért, megakadályozhatja, hogy a hibaérzékeny pontok kialakulását a rendelkezésre állási érintő több példányt kell telepíteni.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-108">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="7e3a7-109">Ez magában foglalja a hitelesítési mechanizmusok.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-109">This includes authentication mechanisms.</span></span> <span data-ttu-id="7e3a7-110">Tervezze meg az alkalmazás több példányt használja, és a automatikusan észleli a hibákat, és nem sérült példányokat, ahol a platform ezt nem automatikusan irányuló kérelmek átirányítása konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-110">Design the application to be configurable to use multiple instances, and to automatically detect failures and redirect requests to non-failed instances where the platform does not do this automatically.</span></span>

<span data-ttu-id="7e3a7-111">**Munkaterhelések felbontani szolgáltatásiszint-objectove által.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-111">**Decompose workloads by service-level objectove.**</span></span> <span data-ttu-id="7e3a7-112">Ha egy szolgáltatás áll kritikus és kevésbé szempontból kritikus fontosságú munkaterhelésekhez, másképp kezelheti azokat, és adja meg a szolgáltatások és a rendelkezésre állási követelményeinek megfelelően-példányok száma.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-112">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>

<span data-ttu-id="7e3a7-113">**Kis méret, és függőségei ismertetése.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-113">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="7e3a7-114">Különböző szolgáltatások, ahol csak lehetséges használt számának minimálisra csökkentése, és ismerje meg az összes, amely szerepel a rendszer a szolgáltatás és a szolgáltatás függőségeit.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-114">Minimize the number of different services used where possible, and ensure you understand all of the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="7e3a7-115">Ez magában foglalja az ügyet, ezeket a függőségeket, és a meghibásodás hatása, vagy az alkalmazás általános mindegyiknél a szűk.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-115">This includes the nature of these dependencies, and the impact of failure or reduced performance in each one on the overall application.</span></span> <span data-ttu-id="7e3a7-116">Lásd: [a rugalmasság követelmények meghatározását](../resiliency/index.md#defining-your-resiliency-requirements).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-116">See [Defining your resiliency requirements](../resiliency/index.md#defining-your-resiliency-requirements).</span></span>

<span data-ttu-id="7e3a7-117">**Tervezési feladatokat és üzenetek idempotent lennie, ahol csak lehetséges**.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-117">**Design tasks and messages to be idempotent where possible**.</span></span> <span data-ttu-id="7e3a7-118">Egy művelet idempotent, ha többször is megismételhető, és ugyanazt az eredményt eredményez.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-118">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="7e3a7-119">Idempotencia bizonyosodjon meg arról, hogy ismétlődő kérelmek nem problémákhoz.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-119">Idempotency can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="7e3a7-120">Üzenet a fogyasztók és az általuk végzett műveletek kell lennie az idempotent, hogy a korábban végrehajtott műveletnek nem jeleníti meg az érvénytelen.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-120">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="7e3a7-121">Ez azt jelentheti, hogy a duplikált üzenetek észlelésére, vagy a konzisztencia biztosítása ütközések kezelnek optimista módszer használatát.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-121">This may mean detecting duplicated messages, or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>

<span data-ttu-id="7e3a7-122">**Magas rendelkezésre állás a kritikus tranzakciók megvalósító üzenet közvetítő használata.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-122">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="7e3a7-123">Felhő számos alkalmazás használja a üzenetküldési kezdeményezése feladatok végrehajtására kerül sor aszinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-123">Many cloud applications use messaging to initiate tasks that are performed asynchronously.</span></span> <span data-ttu-id="7e3a7-124">Üzenetek garantálja, hogy az üzenetkezelési rendszeréhez magas rendelkezésre állású kell biztosítania.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-124">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="7e3a7-125">[Az Azure Service Bus üzenetkezelés](/azure/service-bus-messaging) megvalósítja *legalább egyszer* szemantikáját.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-125">[Azure Service Bus Messaging](/azure/service-bus-messaging) implements *at least once* semantics.</span></span> <span data-ttu-id="7e3a7-126">Ez azt jelenti, hogy annak a várólistára közzétett üzenet nem elvesznek, bár a duplikált kézbesíteni bizonyos körülmények között lehet.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-126">This means that a message posted to a queue will not be lost, although duplicate copies may be delivered under certain circumstances.</span></span> <span data-ttu-id="7e3a7-127">Az idempotent üzenetfeldolgozás esetén (lásd az előző elem), ismételt kézbesítés nem lehet probléma.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-127">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>

<span data-ttu-id="7e3a7-128">**Szabályosan teljesítményű alkalmazásokhoz tervezéséhez.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-128">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="7e3a7-129">Egy alkalmazás terhelése haladhatja meg a kapacitás az egyik, vagy további részeit, ami kevesebb a rendelkezésre állási és kapcsolatok nem sikerült.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-129">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="7e3a7-130">Skálázás segítséget, hogy enyhítse a, de más tényezőktől, például az erőforrás-elérhetőséget vagy költség által meghatározott maximális elérheti.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-130">Scaling can help to alleviate this, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="7e3a7-131">Egy erőforrás-korlát elérésekor a kérelmet kell vennie a felhasználó hatás minimalizálása érdekében a megfelelő műveletet.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-131">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="7e3a7-132">Például egy kereskedelmi rendszerben a feldolgozási sorrendben alrendszer alatt áll, törzs vagy meghiúsul, ha ideiglenesen letiltható úgy, hogy más funkciókat, például a termékkatalógus böngészés közben.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-132">For example, in an ecommerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="7e3a7-133">Kérelmek hibás alrendszer, például továbbra is engedélyezése az ügyfelek számára a rendelések, de a rendelések alrendszer elérhető esetén újra mentése őket későbbi feldolgozásra, célszerű lehet.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-133">It might be appropriate to postpone requests to a failing subsystem, for example still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>

<span data-ttu-id="7e3a7-134">**Gyors kapacitásnövelés események kezelésére.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-134">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="7e3a7-135">A legtöbb alkalmazásokat kell időbeli különböző munkaterhelések kezelésére.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-135">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="7e3a7-136">Automatikus skálázással segítséget a terhelés kezelésére, de ez eltarthat egy ideig, további példányok-kérelmeket kezelnek, és online állapotba.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-136">Auto-scaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="7e3a7-137">Az alkalmazás overwhelming hirtelen és váratlan felszakadásáig tevékenység megakadályozása: tervezése a várólista kéréseket a szolgáltatásokat használ, és szabályosan vezethetnek, amikor várólisták, amelyek közel teljes körű kapacitását.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-137">Prevent sudden and unexpected bursts of activity from overwhelming the application: design it to queue requests to the services it uses and degrade gracefully when queues are near to full capacity.</span></span> <span data-ttu-id="7e3a7-138">Győződjön meg arról, hogy van elegendő teljesítményt és kapacitást elérhető nem kapacitásnövelés körülmények üríti ki a várólisták és a függőben lévő kérések kezelésére.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-138">Ensure that there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="7e3a7-139">További információkért lásd: a [terhelés simítás mintát várólista alapú](https://msdn.microsoft.com/library/dn589783.aspx).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-139">For more information, see the [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx).</span></span>

## <a name="deployment-and-maintenance"></a><span data-ttu-id="7e3a7-140">Telepítés és karbantartás</span><span class="sxs-lookup"><span data-stu-id="7e3a7-140">Deployment and maintenance</span></span>

<span data-ttu-id="7e3a7-141">**Szolgáltatások több példányának telepítése.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-141">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="7e3a7-142">Ha az alkalmazás attól függ, hogy a szolgáltatás egyetlen példányát, a hibaérzékeny pontot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-142">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="7e3a7-143">Kiépítés több példány növeli a rugalmasságot és a méretezhetőséget.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-143">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="7e3a7-144">A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amely több példányt biztosít.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-144">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="7e3a7-145">Azure-szolgáltatásokhoz, konfigurálhatja a szerepkörök használandó [több példány](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-145">For Azure Cloud Services, configure each of your roles to use [multiple instances](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span></span> <span data-ttu-id="7e3a7-146">A [Azure virtuális gépek (VM)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy a virtuális gép architektúrája tartalmazza az egynél több virtuális gép és az egyes virtuális gépek szerepel egy [rendelkezésre állási csoport][availability-sets].</span><span class="sxs-lookup"><span data-stu-id="7e3a7-146">For [Azure Virtual Machines (VMs)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your VM architecture includes more than one VM and that each VM is included in an [availability set][availability-sets].</span></span>

<span data-ttu-id="7e3a7-147">**Vegye figyelembe, hogy az alkalmazás telepítéséhez a különféle régiókban.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-147">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="7e3a7-148">Ha az alkalmazás központi telepítése egy régiót, a ritka esetben az egész régió nem érhető el, az alkalmazás még nem lesz elérhető.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-148">If your application is deployed to a single region, in the rare event the entire region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="7e3a7-149">Ennek az lehet az alkalmazás szolgáltatásiszint-szerződés feltételei szerint nem fogadható el.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-149">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="7e3a7-150">Ha igen, fontolja meg az alkalmazás és a szolgáltatások központi telepítése a különféle régiókban.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-150">If so, consider deploying your application and its services across multiple regions.</span></span>

<span data-ttu-id="7e3a7-151">**Automatizálásához és központi telepítési és karbantartási feladatok.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-151">**Automate and test deployment and maintenance tasks.**</span></span> <span data-ttu-id="7e3a7-152">Elosztott alkalmazások, amelyek együttműködése kell több részből állnak.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-152">Distributed applications consist of multiple parts that must work together.</span></span> <span data-ttu-id="7e3a7-153">Központi telepítés érdemes automatizálni, például parancsfájlok tesztelése és bevált mechanizmusok használatával.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-153">Deployment should be automated, using tested and proven mechanisms such as scripts.</span></span> <span data-ttu-id="7e3a7-154">Ezek frissítése és a konfiguráció ellenőrzése és a telepítési folyamat automatizálása.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-154">These can update and validate configuration, and automate the deployment process.</span></span> <span data-ttu-id="7e3a7-155">Használjon [Azure Resource Manager-sablonok](/azure/azure-resource-manager/resource-group-authoring-templates) kiépíteni az Azure-erőforrás.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-155">Use [Azure Resource Manager templates](/azure/azure-resource-manager/resource-group-authoring-templates) to provision Azure resource.</span></span> <span data-ttu-id="7e3a7-156">Is használjon automatikus technikák alkalmazás-frissítéseinek elvégzéséhez.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-156">Also use automated techniques to perform application updates.</span></span> <span data-ttu-id="7e3a7-157">Elengedhetetlen tesztelik az összes teljesen biztosításához, hogy hibákat nem indítják el további állásidő ezeket a folyamatokat.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-157">It is vital to test all of these processes fully to ensure that errors do not cause additional downtime.</span></span> <span data-ttu-id="7e3a7-158">A központi telepítési eszközöket rendelkeznie kell a telepített alkalmazás; védelmére alkalmas biztonsági korlátozások Adja meg, és gondosan telepítési házirendek kényszerítését, és minimalizálása érdekében emberi beavatkozás szükséges.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-158">All deployment tools must have suitable security restrictions to protect the deployed application; define and enforce deployment policies carefully and minimize the need for human intervention.</span></span>

<span data-ttu-id="7e3a7-159">**A platform átmeneti és üzemi szolgáltatásának használatához.** .</span><span class="sxs-lookup"><span data-stu-id="7e3a7-159">**Use staging and production features of the platform.**.</span></span> <span data-ttu-id="7e3a7-160">Például az Azure App Service támogat [üzembe helyezési](/azure/app-service/web-sites-staged-publishing), amelyek segítségével a központi telepítés előtt csere a termelési tesztelése.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-160">For example, Azure App Service supports [deployment slots](/azure/app-service/web-sites-staged-publishing), which you can use to stage a deployment before swapping it to production.</span></span> <span data-ttu-id="7e3a7-161">Támogatja az Azure Service Fabric [működés közbeni frissítés](/azure/service-fabric/service-fabric-application-upgrade) alkalmazás szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-161">Azure Service Fabric supports [rolling upgrades](/azure/service-fabric/service-fabric-application-upgrade) to application services.</span></span>

<span data-ttu-id="7e3a7-162">**Virtuális gépek (VM) helyez egy rendelkezésre állási csoportot.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-162">**Place virtual machines (VMs) in an availability set.**</span></span> <span data-ttu-id="7e3a7-163">Rendelkezésre állásának maximalizálását, hozzon létre minden egyes Virtuálisgép-szerepkör több példányát, és ezek a példányok helyez az azonos rendelkezésre állási készletbe.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-163">To maximize availability, create multiple instances of each VM role and place these instances in the same availability set.</span></span> <span data-ttu-id="7e3a7-164">Ha rendelkezik, amelyek különböző szerepköröket, például különböző alkalmazásrétegek szolgál, a rendelkezésre állási készlet minden egyes Virtuálisgép-szerepkör létrehozása több virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-164">If have multiple VMs that serve different roles, such as different application tiers, create an availability set for each VM role.</span></span> <span data-ttu-id="7e3a7-165">Hozzon létre például a rendelkezésre állási készlet a webes réteg, és egy másik az adatréteg.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-165">For example, create an availability set for the web tier and another for the data tier.</span></span>

## <a name="data-management"></a><span data-ttu-id="7e3a7-166">Adatkezelés</span><span class="sxs-lookup"><span data-stu-id="7e3a7-166">Data management</span></span>

<span data-ttu-id="7e3a7-167">**Az Azure Storage földrajzi-replikálás adatok**.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-167">**Geo-replicate data in Azure Storage**.</span></span> <span data-ttu-id="7e3a7-168">Adatait az Azure Storage automatikusan replikálja a rendszer belül az adatközpontban.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-168">Data in Azure Storage is automatically replicated within in a datacenter.</span></span> <span data-ttu-id="7e3a7-169">A még magasabb rendelkezésre állás érdekében használja az írásvédett georedundáns tárolás (-RAGRS), amely replikálja az adatokat egy másodlagos régióban, és olvasási hozzáférést biztosít az adatokhoz a másodlagos helyen.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-169">For even higher availability, use Read-access geo-redundant storage (-RAGRS), which replicates your data to a secondary region and provides read-only access to the data in the secondary location.</span></span> <span data-ttu-id="7e3a7-170">Az adatok tartósságát teljes regionális kimaradás vagy katasztrófa esetén is.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-170">The data is durable even in the case of a complete regional outage or a disaster.</span></span> <span data-ttu-id="7e3a7-171">További információkért lásd: [Azure Storage replikációs](/azure/storage/storage-redundancy).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-171">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy).</span></span>

<span data-ttu-id="7e3a7-172">**Földrajzi-replikálás adatbázisok**.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-172">**Geo-replicate databases**.</span></span> <span data-ttu-id="7e3a7-173">Azure SQL-adatbázis és a Cosmos DB egyaránt támogatja a georeplikáció, amely lehetővé teszi, más régiókban másodlagos adatbázis-replikák konfigurálásához.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-173">Azure SQL Database and Cosmos DB both support geo-replication, which enables you to configure secondary database replicas in other regions.</span></span> <span data-ttu-id="7e3a7-174">Másodlagos adatbázisok a lekérdezésre, és feladatátvétel esetén egy adatközpont-meghibásodás után vagy az elsődleges adatbázishoz való kapcsolódáshoz nem érhetők el.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-174">Secondary databases are available for querying and for failover in the case of a data center outage or the inability to connect to the primary database.</span></span> <span data-ttu-id="7e3a7-175">További információkért lásd: [feladatátvételi csoportok és aktív georeplikáció](/azure/sql-database/sql-database-geo-replication-overview) (SQL-adatbázis) és [miként ossza el a globális adatok Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-175">For more information, see [Failover groups and active geo-replication](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) and [How to distribute data globally with Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).</span></span>

<span data-ttu-id="7e3a7-176">**Egyidejű hozzáférések optimista és a végleges konzisztencia**.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-176">**Use optimistic concurrency and eventual consistency**.</span></span> <span data-ttu-id="7e3a7-177">Tranzakciók, hogy a zárolás (pesszimista feldolgozási) keresztül erőforrásokhoz való hozzáférés letiltása miatt romolhat a teljesítmény, és jelentősen csökkentheti a rendelkezésre állási.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-177">Transactions that block access to resources through locking (pessimistic concurrency) can cause poor performance and considerably reduce availability.</span></span> <span data-ttu-id="7e3a7-178">Ezek a problémák különösen nagy elosztott rendszerek válhat.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-178">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="7e3a7-179">Sok esetben gondos tervezés és technikák, például a particionálás minimálisra előforduló ütköző frissítések esélyét.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-179">In many cases, careful design and techniques such as partitioning can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="7e3a7-180">Ha az adatokat a rendszer replikálja, vagy külön-külön frissített áruházbeli olvasható, az adatok csak akkor idővel konzisztenssé.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-180">Where data is replicated, or is read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="7e3a7-181">De a következő előnyöket általában sokkal járó a hatás rendelkezésre állását a tranzakciók azonnali konzisztencia biztosítja.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-181">But the advantages usually far outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>

<span data-ttu-id="7e3a7-182">**Rendszeres biztonsági mentést és időpontban visszaállítási**.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-182">**Use periodic backup and point-in-time restore**.</span></span> <span data-ttu-id="7e3a7-183">Automatikusan és rendszeresen, amely máshol nem őrződik meg az adatok biztonsági másolatát, és ellenőrizze a megbízhatóan helyreállíthatja az adatokat és a magának az alkalmazásnak kell hiba fordulhat elő.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-183">Regularly and automatically back up data that is not preserved elsewhere, and verify you can reliably restore both the data and the application itself should a failure occur.</span></span> <span data-ttu-id="7e3a7-184">Győződjön meg arról, hogy biztonsági mentések megfelelnek-e a helyreállítási pont célkitűzés (RPO).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-184">Ensure that backups meet your Recovery Point Objective (RPO).</span></span> <span data-ttu-id="7e3a7-185">Adatreplikálás nincs biztonsági mentését végző szolgáltatás, mert emberi tévedések vagy rosszindulatú műveleteket is sérült adatok a replikák között.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-185">Data replication is not a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="7e3a7-186">A biztonsági mentési folyamat az adatok az átvitel során, és a tárolási biztonságos kell lennie.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-186">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="7e3a7-187">Adatbázisok vagy adattárat részei általában lehessen helyreállítani egy korábbi időpontra idő tranzakciós naplók segítségével.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-187">Databases or parts of a data store can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="7e3a7-188">További információkért lásd: [adatsérülés vagy véletlen törlés helyreállítása](../resiliency/recovery-data-corruption.md)</span><span class="sxs-lookup"><span data-stu-id="7e3a7-188">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md)</span></span>

## <a name="errors-and-failures"></a><span data-ttu-id="7e3a7-189">Hibák és hibák</span><span class="sxs-lookup"><span data-stu-id="7e3a7-189">Errors and failures</span></span>

<span data-ttu-id="7e3a7-190">**Kérelem időtúllépése konfigurálása.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-190">**Configure request timeouts.**</span></span> <span data-ttu-id="7e3a7-191">Szolgáltatások és erőforrások kérelem sikertelen lesz, amely elérhetetlenné válnának.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-191">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="7e3a7-192">Győződjön meg arról, hogy megfelelőek-e a időtúllépést alkalmaz minden szolgáltatás vagy az erőforrás továbbá az ügyfélnek, amelyik hozzájuk férni.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-192">Ensure that the timeouts you apply are appropriate for each service or resource as well as the client that is accessing them.</span></span> <span data-ttu-id="7e3a7-193">Bizonyos esetekben előfordulhat, hogy engedélyezi a egy hosszabb időtúllépési egy ügyfelet, attól függően, hogy a környezet és egyéb műveleteket az ügyfél végző adott példánya esetében.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-193">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="7e3a7-194">Előfordulhat, hogy a nagyon rövid időtúllépések túlzott újrapróbálkozási műveletek szolgáltatásokhoz és erőforrásokhoz, amely jelentős késéssel rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-194">Very short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="7e3a7-195">Nagyon hosszú időtúllépések okozhat, ha nagyszámú kérelmek várólistára blokkolja, egy szolgáltatás vagy az erőforrás válaszolni vár.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-195">Very long timeouts can cause blocking if a large number of requests are queued, waiting for a service or resource to respond.</span></span>

<span data-ttu-id="7e3a7-196">**Próbálja meg újra a sikertelen műveleteket átmeneti hibák által okozott.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-196">**Retry failed operations caused by transient faults.**</span></span> <span data-ttu-id="7e3a7-197">Tervezze meg a hozzáféréshez minden szolgáltatásokhoz és erőforrásokhoz, ha nem eleve támogatják automatikus újrapróbálkozási újrapróbálkozási stratégiát.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-197">Design a retry strategy for access to all services and resources where they do not inherently support automatic connection retry.</span></span> <span data-ttu-id="7e3a7-198">Használja a stratégia, amely tartalmaz egy növekvő késleltetés hibák növekszik, megelőzve az erőforrás, és engedélyezze a szabályosan helyreállításához, és kezelni a sorba állított kérelmek száma az újrapróbálkozások között.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-198">Use a strategy that includes an increasing delay between retries as the number of failures increases, to prevent overloading of the resource and to allow it to gracefully recover and handle queued requests.</span></span> <span data-ttu-id="7e3a7-199">A nagyon rövid késések folyamatos újrapróbálkozások valószínűleg elmérgesítik azokat a problémát.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-199">Continual retries with very short delays are likely to exacerbate the problem.</span></span> <span data-ttu-id="7e3a7-200">További információkért lásd: [ismételje meg az adott szolgáltatások útmutatást](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-200">For more information, see [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>

<span data-ttu-id="7e3a7-201">**Valósítja meg a kapcsolatcsoport megtörje kaszkádolt hibák elkerülése érdekében.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-201">**Implement circuit breaking to avoid cascading failures.**</span></span> <span data-ttu-id="7e3a7-202">Előfordulhat, hogy olyan helyzetekben, ahol átmeneti vagy más hibák, a beállításnak a szolgáltatás teljes hiba súlyossága a egy részleges a kapcsolat megszakadása sokkal vártnál tovább tart vissza a szokásos módon folytatódik.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-202">There may be situations in which transient or other faults, ranging in severity from a partial loss of connectivity to the complete failure of a service, take much longer than expected to return to normal.</span></span> <span data-ttu-id="7e3a7-203">, ha a szolgáltatás foglalt, a rendszer egy része sikertelen lehet, hogy kaszkádolt hibákhoz vezethet és eredményez alakzatot kritikus rendszer-erőforrások, például a memória, a szálak, amíg zárolva váljon sok művelet és adatbázis-kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-203">, if a service is very busy, failure in one part of the system may lead to cascading failures, and result in many operations becoming blocked while holding onto critical system resources such as memory, threads, and database connections.</span></span> <span data-ttu-id="7e3a7-204">Helyett folyamatosan újrapróbálkozás egy művelet, amely várhatóan nem sikeres, az alkalmazás kell gyorsan fogadnia, hogy a művelet sikertelen volt, és ez a hiba kezelésére.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-204">Instead of continually retrying an operation that is unlikely to succeed, the application should quickly accept that the operation has failed, and gracefully handle this failure.</span></span> <span data-ttu-id="7e3a7-205">Az áramköri megszakító minta segítségével meghatározott ideig egyes műveletek kérelmeket.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-205">Use the Circuit Breaker pattern to reject requests for specific operations for defined periods.</span></span> <span data-ttu-id="7e3a7-206">További információkért lásd: [áramköri megszakító mintát](../patterns/circuit-breaker.md).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-206">For more information, see [Circuit Breaker Pattern](../patterns/circuit-breaker.md).</span></span>

<span data-ttu-id="7e3a7-207">**Állítható össze, vagy több összetevőjét térhet vissza.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-207">**Compose or fall back to multiple components.**</span></span> <span data-ttu-id="7e3a7-208">Tervezze meg alkalmazások legyen használva több példánya nélkül érintő művelet és a meglévő kapcsolatokat, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-208">Design applications to use multiple instances without affecting operation and existing connections where possible.</span></span> <span data-ttu-id="7e3a7-209">Több példányt használja, és terjesztése kérelmek közöttük, és észlelése és elkerülése érdekében rendelkezésre állásának maximalizálását küldött kérésekkel sikertelen példányok.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-209">Use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances, in order to maximize availability.</span></span>

<span data-ttu-id="7e3a7-210">**Egy másik szolgáltatás vagy a munkafolyamat térhet vissza.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-210">**Fall back to a different service or workflow.**</span></span> <span data-ttu-id="7e3a7-211">Például ha az SQL-adatbázisba írás sikertelen, ideiglenesen tárolja az adatokat a blob-tároló vagy a Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-211">For example, if writing to SQL Database fails, temporarily store data in blob storage or Redis Cache.</span></span> <span data-ttu-id="7e3a7-212">Lehetőséget nyújtanak olyan SQL-adatbázisba írt visszajátszani, amikor a szolgáltatás elérhetővé válik.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-212">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="7e3a7-213">Bizonyos esetekben a sikertelen művelettel valamilyen alternatív művelet végrehajtását, amely lehetővé teszi az alkalmazás továbbra is működnek, még ha egy összetevő vagy szolgáltatás sikertelen lehet.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-213">In some cases, a failed operation may have an alternative action that allows the application to continue to work even when a component or service fails.</span></span> <span data-ttu-id="7e3a7-214">Ha lehetséges észlelésére, és átirányítja a kérelmek más szolgáltatások is a megfelelő alternatív funkciókat kínáló, vagy biztonsági mentése vagy csökkentett példányok, amelyek alapvető műveleteket is tartanak, amikor elsődleges szolgáltatás offline állapotban.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-214">If possible, detect failures and redirect requests to other services that can offer a suitable alternative functionality, or to back up or reduced functionality instances that can maintain core operations while the primary service is offline.</span></span>

## <a name="monitoring-and-disaster-recovery"></a><span data-ttu-id="7e3a7-215">Figyelés és katasztrófa-helyreállítás</span><span class="sxs-lookup"><span data-stu-id="7e3a7-215">Monitoring and disaster recovery</span></span>

<span data-ttu-id="7e3a7-216">**Adja meg a gazdag instrumentation valószínűleg hibák és sikertelen események** műveleti személyzet a helyzet jelentését.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-216">**Provide rich instrumentation for likely failures and failure events** to report the situation to operations staff.</span></span> <span data-ttu-id="7e3a7-217">Hibák, amelyek valószínűleg, de nem rendelkezik még történt, engedélyezése a dolgozók a hiba okának megállapításához, a helyzet csökkentése nem elegendő adatot szolgáltatja, és győződjön meg arról, hogy a rendszer továbbra is elérhető.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-217">For failures that are likely but have not yet occurred, provide sufficient data to enable operations staff to determine the cause, mitigate the situation, and ensure that the system remains available.</span></span> <span data-ttu-id="7e3a7-218">A már bekövetkezett hibák az alkalmazás kell térjen vissza a megfelelő hibaüzenet a felhasználó számára, de megpróbálja folytatni futását a fut, jóllehet az korlátozott funkciókkal.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-218">For failures that have already occurred, the application should return an appropriate error message to the user but attempt to continue running, albeit with reduced functionality.</span></span> <span data-ttu-id="7e3a7-219">Minden esetben a felügyeleti rendszer rögzítsen átfogó részletek műveleti személyzet, amely érvényesíti a gyors helyreállítás engedélyezéséhez és ha szükséges, a tervezők és fejlesztők módosításához a rendszer a helyzet újra megelőzése érdekében.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-219">In all cases, the monitoring system should capture comprehensive details to enable operations staff to effect a quick recovery, and if necessary, for designers and developers to modify the system to prevent the situation from arising again.</span></span>

<span data-ttu-id="7e3a7-220">**Rendszerállapot figyelése ellenőrzési funkciók alkalmazásával.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-220">**Monitor system health by implementing checking functions.**</span></span> <span data-ttu-id="7e3a7-221">Állapotának és az alkalmazások teljesítményének idővel romoljon, anélkül, hogy észrevehető, amíg meg nem hiúsul.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-221">The health and performance of an application can degrade over time, without being noticeable until it fails.</span></span> <span data-ttu-id="7e3a7-222">Megvalósítása mintavételek menüpontban, vagy ellenőrizze a függvények, amelyek végrehajtott rendszeresen az alkalmazáson kívül.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-222">Implement probes or check functions that are executed regularly from outside the application.</span></span> <span data-ttu-id="7e3a7-223">Lehet, hogy az ellenőrzések más dolga, mint az alkalmazás egészének, az alkalmazás egyes részei, az egyes szolgáltatások, az alkalmazás által használt, vagy az egyes összetevők válaszidő méri.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-223">These checks can be as simple as measuring response time for the application as a whole, for individual parts of the application, for individual services that the application uses, or for individual components.</span></span> <span data-ttu-id="7e3a7-224">Ellenőrizze, hogy funkciók végrehajtható folyamatok azok érvényes eredményt, késleltetés mérése és elérhetőségének ellenőrzése és adatot kigyűjteni a rendszerből.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-224">Check functions can execute processes to ensure they produce valid results, measure latency and check availability, and extract information from the system.</span></span>

<span data-ttu-id="7e3a7-225">**Rendszeresen tesztelniük a feladatátvételi és a tartalék rendszerek.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-225">**Regularly test all failover and fallback systems.**</span></span> <span data-ttu-id="7e3a7-226">Rendszerek és a műveletek változásai befolyásolhatják a feladatátvételi és tartalék funkciók, de a hatás nem észlelhető, amíg a fő rendszer meghibásodik, vagy válik túlterhelt.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-226">Changes to systems and operations may affect failover and fallback functions, but the impact may not be detected until the main system fails or becomes overloaded.</span></span> <span data-ttu-id="7e3a7-227">Tesztelje azt, mielőtt kiegyensúlyozása érdekében futásidőben élő probléma szükséges.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-227">Test it before it is required to compensate for a live problem at runtime.</span></span>

<span data-ttu-id="7e3a7-228">**A figyelési tesztrendszerek.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-228">**Test the monitoring systems.**</span></span> <span data-ttu-id="7e3a7-229">Automatikus feladatátvétel és a tartalék rendszerek, és a rendszer állapotának és teljesítményének irányítópultok használatával manuális képi megjelenítés, minden a figyelési és megfelelően működik-e instrumentation függ.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-229">Automated failover and fallback systems, and manual visualization of system health and performance by using dashboards, all depend on monitoring and instrumentation functioning correctly.</span></span> <span data-ttu-id="7e3a7-230">Ha ezeket az elemeket meghibásodik, tévesztési fontos információk, vagy a jelentés pontatlan adatait, az üzemeltető előfordulhat, hogy nem valósíthat meg, hogy a rendszer sérült vagy meghibásodott.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-230">If these elements fail, miss critical information, or report inaccurate data, an operator might not realize that the system is unhealthy or failing.</span></span>

<span data-ttu-id="7e3a7-231">**Hosszan futó munkafolyamatok előrehaladását úgy követheti nyomon, és ismételje meg a hiba esetén.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-231">**Track the progress of long-running workflows and retry on failure.**</span></span> <span data-ttu-id="7e3a7-232">Hosszan futó munkafolyamatok gyakran több lépésekből állnak.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-232">Long-running workflows are often composed of multiple steps.</span></span> <span data-ttu-id="7e3a7-233">Győződjön meg arról, hogy minden lépés független, és követően újra megkísérelhető lehetőségének csökkentése érdekében, hogy a teljes munkafolyamat kell állítható vissza, vagy több kompenzációs tranzakciók kell hajtható végre.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-233">Ensure that each step is independent and can be retried to minimize the chance that the entire workflow will need to be rolled back, or that multiple compensating transactions need to be executed.</span></span> <span data-ttu-id="7e3a7-234">Figyelheti és kezelheti a hosszan futó munkafolyamatok előrehaladását egy minta implementálásával [Feladatütemező ügynök felügyelő mintát](../patterns/scheduler-agent-supervisor.md).</span><span class="sxs-lookup"><span data-stu-id="7e3a7-234">Monitor and manage the progress of long-running workflows by implementing a pattern such as [Scheduler Agent Supervisor Pattern](../patterns/scheduler-agent-supervisor.md).</span></span>

<span data-ttu-id="7e3a7-235">**Vész-helyreállítási terv.**</span><span class="sxs-lookup"><span data-stu-id="7e3a7-235">**Plan for disaster recovery.**</span></span> <span data-ttu-id="7e3a7-236">A helyreállítás során bármilyen hiba, amely hatással lehet a rendszer rendelkezésre állás elfogadott, teljes körűen tesztelve terv létrehozása.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-236">Create an accepted, fully-tested plan for recovery from any type of failure that may affect system availability.</span></span> <span data-ttu-id="7e3a7-237">Válassza ki a kritikus fontosságú alkalmazások egy többhelyes vész helyreállítási architektúrát.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-237">Choose a multi-site disaster recovery architecture for any mission-critical applications.</span></span> <span data-ttu-id="7e3a7-238">Azonosítsa a konkrét tulajdonost a vész-helyreállítási terv, beleértve az automatizálás és tesztelését.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-238">Identify a specific owner of the disaster recovery plan, including automation and testing.</span></span> <span data-ttu-id="7e3a7-239">Győződjön meg arról a terv dokumentált, és a lehető legnagyobb mértékben folyamat automatizálásához.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-239">Ensure the plan is well-documented, and automate the process as much as possible.</span></span> <span data-ttu-id="7e3a7-240">Állítson be a hivatkozást és a tranzakciós adatokat a biztonsági mentési stratégia, és rendszeresen tesztelése a visszaállítást a biztonsági mentéseket.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-240">Establish a backup strategy for all reference and transactional data, and test the restoration of these backups regularly.</span></span> <span data-ttu-id="7e3a7-241">A terv, és hajtsa végre a rendszeres katasztrófa szimulációja ellenőrzése és javítása a terv műveleti személyzet betanításához.</span><span class="sxs-lookup"><span data-stu-id="7e3a7-241">Train operations staff to execute the plan, and perform regular disaster simulations to validate and improve the plan.</span></span>

<!-- links -->
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
