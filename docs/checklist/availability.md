---
title: Rendelkezésre állási ellenőrzőlista
description: Feladatlista, amely útmutatást a rendelkezésre állási aggályokat tervezés közben.
author: dragon119
ms.date: 01/10/2018
ms.custom: checklist
ms.openlocfilehash: 324d8200d822eb1a7dce95ba4b2a7f29b00fb291
ms.sourcegitcommit: 441185360db49cfb3cf39527b68f318d17d4cb3d
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/19/2018
ms.locfileid: "27973110"
---
# <a name="availability-checklist"></a>Rendelkezésre állási ellenőrzőlista

Rendelkezésre állási időpont a rendszer működési, és üzemel aránya, és az egyik a [szoftver minőségű oszlopok](../guide/pillars.md). Az alábbi ellenőrzőlista segítségével ellenőrizze az alkalmazás architektúrák egy rendelkezésre állási tükrözik. 

## <a name="application-design"></a>Alkalmazás tervezése

**Kerülje a hibaérzékeny pontok kialakulását.** Összetevők, szolgáltatások, erőforrások és számítási példányokért, megakadályozhatja, hogy a hibaérzékeny pontok kialakulását a rendelkezésre állási érintő több példányt kell telepíteni. Ez magában foglalja a hitelesítési mechanizmusok. Tervezze meg az alkalmazás több példányt használja, és a automatikusan észleli a hibákat, és nem sérült példányokat, ahol a platform ezt nem automatikusan irányuló kérelmek átirányítása konfigurálható.

**Munkaterhelések felbontani szolgáltatásiszint-célkitűzés által.** Ha egy szolgáltatás áll kritikus és kevésbé szempontból kritikus fontosságú munkaterhelésekhez, másképp kezelheti azokat, és adja meg a szolgáltatások és a rendelkezésre állási követelményeinek megfelelően-példányok száma.

**Kis méret, és függőségei ismertetése.** Különböző szolgáltatások, ahol csak lehetséges használt számának minimálisra csökkentése, és ismerje meg az összes, amely szerepel a rendszer a szolgáltatás és a szolgáltatás függőségeit. Ez magában foglalja az ügyet, ezeket a függőségeket, és a meghibásodás hatása, vagy az alkalmazás általános mindegyiknél a szűk. Lásd: [a rugalmasság követelmények meghatározását](../resiliency/index.md#defining-your-resiliency-requirements).

**Tervezési feladatokat és üzenetek idempotent lennie, ahol csak lehetséges**. Egy művelet idempotent, ha többször is megismételhető, és ugyanazt az eredményt eredményez. Idempotencia bizonyosodjon meg arról, hogy ismétlődő kérelmek nem problémákhoz. Üzenet a fogyasztók és az általuk végzett műveletek kell lennie az idempotent, hogy a korábban végrehajtott műveletnek nem jeleníti meg az érvénytelen. Ez azt jelentheti, hogy a duplikált üzenetek észlelésére, vagy a konzisztencia biztosítása ütközések kezelnek optimista módszer használatát.

**Magas rendelkezésre állás a kritikus tranzakciók megvalósító üzenet közvetítő használata.** Felhő számos alkalmazás használja a üzenetküldési kezdeményezése feladatok végrehajtására kerül sor aszinkron módon történik. Üzenetek garantálja, hogy az üzenetkezelési rendszeréhez magas rendelkezésre állású kell biztosítania. [Az Azure Service Bus üzenetkezelés](/azure/service-bus-messaging) megvalósítja *legalább egyszer* szemantikáját. Ez azt jelenti, hogy annak a várólistára közzétett üzenet nem elvesznek, bár a duplikált kézbesíteni bizonyos körülmények között lehet. Az idempotent üzenetfeldolgozás esetén (lásd az előző elem), ismételt kézbesítés nem lehet probléma.

**Szabályosan teljesítményű alkalmazásokhoz tervezéséhez.** Egy alkalmazás terhelése haladhatja meg a kapacitás az egyik, vagy további részeit, ami kevesebb a rendelkezésre állási és kapcsolatok nem sikerült. Skálázás segítséget, hogy enyhítse a, de más tényezőktől, például az erőforrás-elérhetőséget vagy költség által meghatározott maximális elérheti. Egy erőforrás-korlát elérésekor a kérelmet kell vennie a felhasználó hatás minimalizálása érdekében a megfelelő műveletet. Például egy kereskedelmi rendszerben a feldolgozási sorrendben alrendszer alatt áll, törzs vagy meghiúsul, ha ideiglenesen letiltható úgy, hogy más funkciókat, például a termékkatalógus böngészés közben. Kérelmek hibás alrendszer, például továbbra is engedélyezése az ügyfelek számára a rendelések, de a rendelések alrendszer elérhető esetén újra mentése őket későbbi feldolgozásra, célszerű lehet.

**Gyors kapacitásnövelés események kezelésére.** A legtöbb alkalmazásokat kell időbeli különböző munkaterhelések kezelésére. Automatikus skálázással segítséget a terhelés kezelésére, de ez eltarthat egy ideig, további példányok-kérelmeket kezelnek, és online állapotba. Az alkalmazás overwhelming hirtelen és váratlan felszakadásáig tevékenység megakadályozása: tervezése a várólista kéréseket a szolgáltatásokat használ, és szabályosan vezethetnek, amikor várólisták, amelyek közel teljes körű kapacitását. Győződjön meg arról, hogy van elegendő teljesítményt és kapacitást elérhető nem kapacitásnövelés körülmények üríti ki a várólisták és a függőben lévő kérések kezelésére. További információkért lásd: a [terhelés simítás mintát várólista alapú](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Telepítés és karbantartás

**Szolgáltatások több példányának telepítése.** Ha az alkalmazás attól függ, hogy a szolgáltatás egyetlen példányát, a hibaérzékeny pontot hoz létre. Kiépítés több példány növeli a rugalmasságot és a méretezhetőséget. A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amely több példányt biztosít. Azure-szolgáltatásokhoz, konfigurálhatja a szerepkörök használandó [több példány](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management). A [Azure virtuális gépek (VM)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy a virtuális gép architektúrája tartalmazza az egynél több virtuális gép és az egyes virtuális gépek szerepel egy [rendelkezésre állási csoport][availability-sets].

**Vegye figyelembe, hogy az alkalmazás telepítéséhez a különféle régiókban.** Ha az alkalmazás központi telepítése egy régiót, a ritka esetben az egész régió nem érhető el, az alkalmazás még nem lesz elérhető. Ennek az lehet az alkalmazás szolgáltatásiszint-szerződés feltételei szerint nem fogadható el. Ha igen, fontolja meg az alkalmazás és a szolgáltatások központi telepítése a különféle régiókban.

**Automatizálásához és központi telepítési és karbantartási feladatok.** Elosztott alkalmazások, amelyek együttműködése kell több részből állnak. Központi telepítés érdemes automatizálni, például parancsfájlok tesztelése és bevált mechanizmusok használatával. Ezek frissítése és a konfiguráció ellenőrzése és a telepítési folyamat automatizálása. Használjon [Azure Resource Manager-sablonok](/azure/azure-resource-manager/resource-group-authoring-templates) kiépíteni az Azure-erőforrás. Is használjon automatikus technikák alkalmazás-frissítéseinek elvégzéséhez. Elengedhetetlen tesztelik az összes teljesen biztosításához, hogy hibákat nem indítják el további állásidő ezeket a folyamatokat. A központi telepítési eszközöket rendelkeznie kell a telepített alkalmazás; védelmére alkalmas biztonsági korlátozások Adja meg, és gondosan telepítési házirendek kényszerítését, és minimalizálása érdekében emberi beavatkozás szükséges.

**A platform átmeneti és üzemi szolgáltatásának használatához.** . Például az Azure App Service támogat [üzembe helyezési](/azure/app-service/web-sites-staged-publishing), amelyek segítségével a központi telepítés előtt csere a termelési tesztelése. Támogatja az Azure Service Fabric [működés közbeni frissítés](/azure/service-fabric/service-fabric-application-upgrade) alkalmazás szolgáltatásokhoz.

**Virtuális gépek (VM) helyez egy rendelkezésre állási csoportot.** Rendelkezésre állásának maximalizálását, hozzon létre minden egyes Virtuálisgép-szerepkör több példányát, és ezek a példányok helyez az azonos rendelkezésre állási készletbe. Ha rendelkezik, amelyek különböző szerepköröket, például különböző alkalmazásrétegek szolgál, a rendelkezésre állási készlet minden egyes Virtuálisgép-szerepkör létrehozása több virtuális géphez. Hozzon létre például a rendelkezésre állási készlet a webes réteg, és egy másik az adatréteg.

## <a name="data-management"></a>Adatkezelés

**Az Azure Storage földrajzi-replikálás adatok**. Adatait az Azure Storage automatikusan replikálja a rendszer belül az adatközpontban. A még magasabb rendelkezésre állás érdekében használja az írásvédett georedundáns tárolás (-RAGRS), amely replikálja az adatokat egy másodlagos régióban, és olvasási hozzáférést biztosít az adatokhoz a másodlagos helyen. Az adatok tartósságát teljes regionális kimaradás vagy katasztrófa esetén is. További információkért lásd: [Azure Storage replikációs](/azure/storage/storage-redundancy).

**Földrajzi-replikálás adatbázisok**. Azure SQL-adatbázis és a Cosmos DB egyaránt támogatja a georeplikáció, amely lehetővé teszi, más régiókban másodlagos adatbázis-replikák konfigurálásához. Másodlagos adatbázisok a lekérdezésre, és feladatátvétel esetén egy adatközpont-meghibásodás után vagy az elsődleges adatbázishoz való kapcsolódáshoz nem érhetők el. További információkért lásd: [feladatátvételi csoportok és aktív georeplikáció](/azure/sql-database/sql-database-geo-replication-overview) (SQL-adatbázis) és [miként ossza el a globális adatok Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).

**Egyidejű hozzáférések optimista és a végleges konzisztencia**. Tranzakciók, hogy a zárolás (pesszimista feldolgozási) keresztül erőforrásokhoz való hozzáférés letiltása miatt romolhat a teljesítmény, és jelentősen csökkentheti a rendelkezésre állási. Ezek a problémák különösen nagy elosztott rendszerek válhat. Sok esetben gondos tervezés és technikák, például a particionálás minimálisra előforduló ütköző frissítések esélyét. Ha az adatokat a rendszer replikálja, vagy külön-külön frissített áruházbeli olvasható, az adatok csak akkor idővel konzisztenssé. De a következő előnyöket általában sokkal járó a hatás rendelkezésre állását a tranzakciók azonnali konzisztencia biztosítja.

**Rendszeres biztonsági mentést és időpontban visszaállítási**. Automatikusan és rendszeresen, amely máshol nem őrződik meg az adatok biztonsági másolatát, és ellenőrizze a megbízhatóan helyreállíthatja az adatokat és a magának az alkalmazásnak kell hiba fordulhat elő. Győződjön meg arról, hogy biztonsági mentések megfelelnek-e a helyreállítási pont célkitűzés (RPO). Adatreplikálás nincs biztonsági mentését végző szolgáltatás, mert emberi tévedések vagy rosszindulatú műveleteket is sérült adatok a replikák között. A biztonsági mentési folyamat az adatok az átvitel során, és a tárolási biztonságos kell lennie. Adatbázisok vagy adattárat részei általában lehessen helyreállítani egy korábbi időpontra idő tranzakciós naplók segítségével. További információkért lásd: [adatsérülés vagy véletlen törlés helyreállítása](../resiliency/recovery-data-corruption.md)

## <a name="errors-and-failures"></a>Hibák és hibák

**Kérelem időtúllépése konfigurálása.** Szolgáltatások és erőforrások kérelem sikertelen lesz, amely elérhetetlenné válnának. Győződjön meg arról, hogy megfelelőek-e a időtúllépést alkalmaz minden szolgáltatás vagy az erőforrás továbbá az ügyfélnek, amelyik hozzájuk férni. Bizonyos esetekben előfordulhat, hogy engedélyezi a egy hosszabb időtúllépési egy ügyfelet, attól függően, hogy a környezet és egyéb műveleteket az ügyfél végző adott példánya esetében. Előfordulhat, hogy a nagyon rövid időtúllépések túlzott újrapróbálkozási műveletek szolgáltatásokhoz és erőforrásokhoz, amely jelentős késéssel rendelkeznek. Nagyon hosszú időtúllépések okozhat, ha nagyszámú kérelmek várólistára blokkolja, egy szolgáltatás vagy az erőforrás válaszolni vár.

**Próbálja meg újra a sikertelen műveleteket átmeneti hibák által okozott.** Tervezze meg a hozzáféréshez minden szolgáltatásokhoz és erőforrásokhoz, ha nem eleve támogatják automatikus újrapróbálkozási újrapróbálkozási stratégiát. Használja a stratégia, amely tartalmaz egy növekvő késleltetés hibák növekszik, megelőzve az erőforrás, és engedélyezze a szabályosan helyreállításához, és kezelni a sorba állított kérelmek száma az újrapróbálkozások között. A nagyon rövid késések folyamatos újrapróbálkozások valószínűleg elmérgesítik azokat a problémát. További információkért lásd: [ismételje meg az adott szolgáltatások útmutatást](../best-practices/retry-service-specific.md).

**Valósítja meg a kapcsolatcsoport megtörje kaszkádolt hibák elkerülése érdekében.** Előfordulhat, hogy olyan helyzetekben, ahol átmeneti vagy más hibák, a beállításnak a szolgáltatás teljes hiba súlyossága a egy részleges a kapcsolat megszakadása sokkal vártnál tovább tart vissza a szokásos módon folytatódik. , ha a szolgáltatás foglalt, a rendszer egy része sikertelen lehet, hogy kaszkádolt hibákhoz vezethet és eredményez alakzatot kritikus rendszer-erőforrások, például a memória, a szálak, amíg zárolva váljon sok művelet és adatbázis-kapcsolatok. Helyett folyamatosan újrapróbálkozás egy művelet, amely várhatóan nem sikeres, az alkalmazás kell gyorsan fogadnia, hogy a művelet sikertelen volt, és ez a hiba kezelésére. Az áramköri megszakító minta segítségével meghatározott ideig egyes műveletek kérelmeket. További információkért lásd: [áramköri megszakító mintát](../patterns/circuit-breaker.md).

**Állítható össze, vagy több összetevőjét térhet vissza.** Tervezze meg alkalmazások legyen használva több példánya nélkül érintő művelet és a meglévő kapcsolatokat, ahol csak lehetséges. Több példányt használja, és terjesztése kérelmek közöttük, és észlelése és elkerülése érdekében rendelkezésre állásának maximalizálását küldött kérésekkel sikertelen példányok.

**Egy másik szolgáltatás vagy a munkafolyamat térhet vissza.** Például ha az SQL-adatbázisba írás sikertelen, ideiglenesen tárolja az adatokat a blob-tároló vagy a Redis Cache. Lehetőséget nyújtanak olyan SQL-adatbázisba írt visszajátszani, amikor a szolgáltatás elérhetővé válik. Bizonyos esetekben a sikertelen művelettel valamilyen alternatív művelet végrehajtását, amely lehetővé teszi az alkalmazás továbbra is működnek, még ha egy összetevő vagy szolgáltatás sikertelen lehet. Ha lehetséges észlelésére, és átirányítja a kérelmek más szolgáltatások is a megfelelő alternatív funkciókat kínáló, vagy biztonsági mentése vagy csökkentett példányok, amelyek alapvető műveleteket is tartanak, amikor elsődleges szolgáltatás offline állapotban.

## <a name="monitoring-and-disaster-recovery"></a>Figyelés és katasztrófa-helyreállítás

**Adja meg a gazdag instrumentation valószínűleg hibák és sikertelen események** műveleti személyzet a helyzet jelentését. Hibák, amelyek valószínűleg, de nem rendelkezik még történt, engedélyezése a dolgozók a hiba okának megállapításához, a helyzet csökkentése nem elegendő adatot szolgáltatja, és győződjön meg arról, hogy a rendszer továbbra is elérhető. A már bekövetkezett hibák az alkalmazás kell térjen vissza a megfelelő hibaüzenet a felhasználó számára, de megpróbálja folytatni futását a fut, jóllehet az korlátozott funkciókkal. Minden esetben a felügyeleti rendszer rögzítsen átfogó részletek műveleti személyzet, amely érvényesíti a gyors helyreállítás engedélyezéséhez és ha szükséges, a tervezők és fejlesztők módosításához a rendszer a helyzet újra megelőzése érdekében.

**Rendszerállapot figyelése ellenőrzési funkciók alkalmazásával.** Állapotának és az alkalmazások teljesítményének idővel romoljon, anélkül, hogy észrevehető, amíg meg nem hiúsul. Megvalósítása mintavételek menüpontban, vagy ellenőrizze a függvények, amelyek végrehajtott rendszeresen az alkalmazáson kívül. Lehet, hogy az ellenőrzések más dolga, mint az alkalmazás egészének, az alkalmazás egyes részei, az egyes szolgáltatások, az alkalmazás által használt, vagy az egyes összetevők válaszidő méri. Ellenőrizze, hogy funkciók végrehajtható folyamatok azok érvényes eredményt, késleltetés mérése és elérhetőségének ellenőrzése és adatot kigyűjteni a rendszerből.

**Rendszeresen tesztelniük a feladatátvételi és a tartalék rendszerek.** Rendszerek és a műveletek változásai befolyásolhatják a feladatátvételi és tartalék funkciók, de a hatás nem észlelhető, amíg a fő rendszer meghibásodik, vagy válik túlterhelt. Tesztelje azt, mielőtt kiegyensúlyozása érdekében futásidőben élő probléma szükséges.

**A figyelési tesztrendszerek.** Automatikus feladatátvétel és a tartalék rendszerek, és a rendszer állapotának és teljesítményének irányítópultok használatával manuális képi megjelenítés, minden a figyelési és megfelelően működik-e instrumentation függ. Ha ezeket az elemeket meghibásodik, tévesztési fontos információk, vagy a jelentés pontatlan adatait, az üzemeltető előfordulhat, hogy nem valósíthat meg, hogy a rendszer sérült vagy meghibásodott.

**Hosszan futó munkafolyamatok előrehaladását úgy követheti nyomon, és ismételje meg a hiba esetén.** Hosszan futó munkafolyamatok gyakran több lépésekből állnak. Győződjön meg arról, hogy minden lépés független, és követően újra megkísérelhető lehetőségének csökkentése érdekében, hogy a teljes munkafolyamat kell állítható vissza, vagy több kompenzációs tranzakciók kell hajtható végre. Figyelheti és kezelheti a hosszan futó munkafolyamatok előrehaladását egy minta implementálásával [Feladatütemező ügynök felügyelő mintát](../patterns/scheduler-agent-supervisor.md).

**Vész-helyreállítási terv.** A helyreállítás során bármilyen hiba, amely hatással lehet a rendszer rendelkezésre állás elfogadott, teljes körűen tesztelve terv létrehozása. Válassza ki a kritikus fontosságú alkalmazások egy többhelyes vész helyreállítási architektúrát. Azonosítsa a konkrét tulajdonost a vész-helyreállítási terv, beleértve az automatizálás és tesztelését. Győződjön meg arról a terv dokumentált, és a lehető legnagyobb mértékben folyamat automatizálásához. Állítson be a hivatkozást és a tranzakciós adatokat a biztonsági mentési stratégia, és rendszeresen tesztelése a visszaállítást a biztonsági mentéseket. A terv, és hajtsa végre a rendszeres katasztrófa szimulációja ellenőrzése és javítása a terv műveleti személyzet betanításához.

<!-- links -->
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
