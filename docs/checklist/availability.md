---
title: Rendelkezésre állási ellenőrzőlisták
description: A feladatlista, amely rendelkezésre állási problémák során tervezési útmutatást nyújt.
author: dragon119
ms.date: 01/10/2018
ms.custom: checklist
ms.openlocfilehash: cea5baf8c37bf793c5de60f6c2be809629df072b
ms.sourcegitcommit: 2154e93a0a075e1f7425a6eb11fc3f03c1300c23
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/30/2018
ms.locfileid: "39352627"
---
# <a name="availability-checklist"></a><span data-ttu-id="40930-103">Rendelkezésre állási ellenőrzőlisták</span><span class="sxs-lookup"><span data-stu-id="40930-103">Availability checklist</span></span>

<span data-ttu-id="40930-104">Rendelkezésre állás az időarány, amíg, ameddig a rendszer működik és üzemel, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="40930-104">Availability is the proportion of time that a system is functional and working, and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="40930-105">Az alábbi ellenőrzőlista használatával tekintse át az alkalmazásarchitektúra egy rendelkezésre állási szempontból.</span><span class="sxs-lookup"><span data-stu-id="40930-105">Use this checklist to review your application architecture from an availability standpoint.</span></span> 

## <a name="application-design"></a><span data-ttu-id="40930-106">Alkalmazás-tervezés</span><span class="sxs-lookup"><span data-stu-id="40930-106">Application design</span></span>

<span data-ttu-id="40930-107">**Kerülje el minden olyan hibaérzékeny pont.**</span><span class="sxs-lookup"><span data-stu-id="40930-107">**Avoid any single point of failure.**</span></span> <span data-ttu-id="40930-108">Több példány megakadályozza, hogy egy meghibásodási pont rendelkezésre állását érintő összetevők, szolgáltatások, erőforrások és számítási példányok kell telepíteni.</span><span class="sxs-lookup"><span data-stu-id="40930-108">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="40930-109">Ez magában foglalja a hitelesítési mechanizmusok.</span><span class="sxs-lookup"><span data-stu-id="40930-109">This includes authentication mechanisms.</span></span> <span data-ttu-id="40930-110">Tervezze meg az alkalmazás konfigurálható, hogy több példány üzemeltetéséhez, valamint hogy automatikusan észleli a hibákat, és nem sérült példányok, ahol a platform ezt nem teszi automatikusan irányuló kérelmek átirányítása.</span><span class="sxs-lookup"><span data-stu-id="40930-110">Design the application to be configurable to use multiple instances, and to automatically detect failures and redirect requests to non-failed instances where the platform does not do this automatically.</span></span>

<span data-ttu-id="40930-111">**Számítási feladatok lebontása a szolgáltatásiszint-célkitűzés által.**</span><span class="sxs-lookup"><span data-stu-id="40930-111">**Decompose workloads by service-level objective.**</span></span> <span data-ttu-id="40930-112">Ha egy szolgáltatás áll, amelyek kritikus és a kevésbé kritikus fontosságú számítási feladatokhoz, eltérően kezelheti őket, és adja meg a service-szolgáltatások és a rendelkezésre állási követelményeinek-példányok számát.</span><span class="sxs-lookup"><span data-stu-id="40930-112">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>

<span data-ttu-id="40930-113">**Kis méret, és megismerheti a függőségei.**</span><span class="sxs-lookup"><span data-stu-id="40930-113">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="40930-114">Ahol lehetséges használt különböző szolgáltatások számának csökkentése érdekében, és hogy biztosan megismerje az összes funkció és szolgáltatás függőséget, amely létezik a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="40930-114">Minimize the number of different services used where possible, and ensure you understand all of the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="40930-115">Ez magában foglalja a függőségek jellegét, és meghibásodás hatása, vagy csökkenteni a mindegyiknél az alkalmazás általános teljesítménye.</span><span class="sxs-lookup"><span data-stu-id="40930-115">This includes the nature of these dependencies, and the impact of failure or reduced performance in each one on the overall application.</span></span>

<span data-ttu-id="40930-116">**Tervezési feladatokat, és üzeneteket, hogy idempotensek lesznek, ha lehetséges**.</span><span class="sxs-lookup"><span data-stu-id="40930-116">**Design tasks and messages to be idempotent where possible**.</span></span> <span data-ttu-id="40930-117">Egy művelet idempotens, ha többször is megismételhető, és ugyanazt az eredményt.</span><span class="sxs-lookup"><span data-stu-id="40930-117">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="40930-118">Idempotens is győződjön meg arról, hogy az ismétlődő kérelmek problémák nem okoznak.</span><span class="sxs-lookup"><span data-stu-id="40930-118">Idempotency can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="40930-119">Üzenet fogyasztók és az általuk végzett műveletek kell idempotens, hogy a korábban végrehajtott műveletet nem jelennek meg az eredmények érvénytelen.</span><span class="sxs-lookup"><span data-stu-id="40930-119">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="40930-120">Ez azt jelentheti, hogy észlelni a duplikált üzeneteket, vagy a konzisztencia biztosítása egy optimista megközelítéssel ütközések kezelése érdekében.</span><span class="sxs-lookup"><span data-stu-id="40930-120">This may mean detecting duplicated messages, or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>

<span data-ttu-id="40930-121">**A közvetítő, amely megvalósítja a magas rendelkezésre állású, kritikus fontosságú tranzakciók használja.**</span><span class="sxs-lookup"><span data-stu-id="40930-121">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="40930-122">Számos felhőalapú alkalmazások használatával üzenetkezelési inicializálhatnak olyan feladatokat, amelyek aszinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="40930-122">Many cloud applications use messaging to initiate tasks that are performed asynchronously.</span></span> <span data-ttu-id="40930-123">Garantálja az üzenetek kézbesítését, az üzenetkezelési rendszer magas rendelkezésre állást kell biztosítania.</span><span class="sxs-lookup"><span data-stu-id="40930-123">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="40930-124">[Az Azure Service Bus-üzenetkezelés](/azure/service-bus-messaging) valósít meg *legalább egyszer* szemantikáját.</span><span class="sxs-lookup"><span data-stu-id="40930-124">[Azure Service Bus Messaging](/azure/service-bus-messaging) implements *at least once* semantics.</span></span> <span data-ttu-id="40930-125">Ez azt jelenti, hogy egy üzenetet egy üzenetsorba közzétett nem vesznek el, bár a duplikált kézbesíteni bizonyos körülmények között lehet.</span><span class="sxs-lookup"><span data-stu-id="40930-125">This means that a message posted to a queue will not be lost, although duplicate copies may be delivered under certain circumstances.</span></span> <span data-ttu-id="40930-126">Ha üzenet feldolgozás idempotens (lásd az előző elemet), ismétlődő kézbesítési nem lehet probléma.</span><span class="sxs-lookup"><span data-stu-id="40930-126">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>

<span data-ttu-id="40930-127">**Szabályosan csökkeni alkalmazások tervezéséről.**</span><span class="sxs-lookup"><span data-stu-id="40930-127">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="40930-128">Az alkalmazás terhelésének haladhatja meg a kapacitás egy, vagy további alkatrészek, így csökken a rendelkezésre állás és a kapcsolatok meghiúsultak.</span><span class="sxs-lookup"><span data-stu-id="40930-128">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="40930-129">Méretezés igény kielégítése érdekében ez segíthet, de egy más tényezők, például az erőforrások elérhetőségét és a költségek által megszabott felső határértéket elérheti.</span><span class="sxs-lookup"><span data-stu-id="40930-129">Scaling can help to alleviate this, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="40930-130">Amikor egy alkalmazás eléri egy erőforráskorlátot, hogy minimalizálja a felhasználó a megfelelő műveletet kell vennie.</span><span class="sxs-lookup"><span data-stu-id="40930-130">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="40930-131">Például egy e-kereskedelmi rendszerben-e a feldolgozási sorrendben alrendszer törzs vagy meghiúsul, akkor ideiglenesen letiltható miközben lehetővé teszi az egyéb funkciókat, például a termékkatalógus tallózása.</span><span class="sxs-lookup"><span data-stu-id="40930-131">For example, in an ecommerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="40930-132">Érdemes lehet elhalasztani a kérelmeket az sikertelen alrendszer, így például továbbra is a vásárlók nyújthatnak be rendelést, de mentésével későbbi feldolgozás céljából, ha a rendelések alrendszer ismét elérhető.</span><span class="sxs-lookup"><span data-stu-id="40930-132">It might be appropriate to postpone requests to a failing subsystem, for example still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>

<span data-ttu-id="40930-133">**Gyors burst események szabályosan kezelésére.**</span><span class="sxs-lookup"><span data-stu-id="40930-133">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="40930-134">A legtöbb alkalmazás idővel munkaterhelésű kezeléséhez szükséges.</span><span class="sxs-lookup"><span data-stu-id="40930-134">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="40930-135">Automatikus méretezés segít a terhelés kezeléséhez, de eltarthat egy kis ideig további példányok online állapotba kerül, és a kérelmek kezelésére.</span><span class="sxs-lookup"><span data-stu-id="40930-135">Auto-scaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="40930-136">Megakadályozza, hogy a tevékenység hirtelen és váratlan adatlöketekkel az alkalmazás túlterhel: tervezzen, használja a szolgáltatások várólista kérelmeket, és a leállás nélküli teljesítménycsökkenés, amikor várólisták, amelyek közel teljes kapacitás.</span><span class="sxs-lookup"><span data-stu-id="40930-136">Prevent sudden and unexpected bursts of activity from overwhelming the application: design it to queue requests to the services it uses and degrade gracefully when queues are near to full capacity.</span></span> <span data-ttu-id="40930-137">Győződjön meg arról, hogy nincs elegendő teljesítményt és kapacitást kiürítési az üzenetsorokhoz és a szálankénti függőben lévő kérések kezelésére nem burst körülmények között érhető el.</span><span class="sxs-lookup"><span data-stu-id="40930-137">Ensure that there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="40930-138">További információkért lásd: a [üzenetsor-alapú terheléskiegyenlítési mintát](https://msdn.microsoft.com/library/dn589783.aspx).</span><span class="sxs-lookup"><span data-stu-id="40930-138">For more information, see the [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx).</span></span>

## <a name="deployment-and-maintenance"></a><span data-ttu-id="40930-139">Üzembe helyezése és karbantartása</span><span class="sxs-lookup"><span data-stu-id="40930-139">Deployment and maintenance</span></span>

<span data-ttu-id="40930-140">**Telepítse a szolgáltatások több példányát.**</span><span class="sxs-lookup"><span data-stu-id="40930-140">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="40930-141">Ha az alkalmazás egy szolgáltatás egyetlen példánya függ, a meghibásodási pontot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="40930-141">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="40930-142">Üzembe helyezett példányban több növeli a rugalmasságot és méretezhetőséget is.</span><span class="sxs-lookup"><span data-stu-id="40930-142">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="40930-143">A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amelynek keretében több példányt.</span><span class="sxs-lookup"><span data-stu-id="40930-143">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="40930-144">Az Azure Cloud Services, konfigurálja az összes, használja a szerepkörök [több példány](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span><span class="sxs-lookup"><span data-stu-id="40930-144">For Azure Cloud Services, configure each of your roles to use [multiple instances](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span></span> <span data-ttu-id="40930-145">A [Azure Virtual Machines (VM)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy a virtuális gép architektúra tartalmaz-e egynél több virtuális gép és minden virtuális gép szerepel egy [rendelkezésre állási csoport][availability-sets].</span><span class="sxs-lookup"><span data-stu-id="40930-145">For [Azure Virtual Machines (VMs)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your VM architecture includes more than one VM and that each VM is included in an [availability set][availability-sets].</span></span>

<span data-ttu-id="40930-146">**Vegye figyelembe, hogy az alkalmazás üzembe helyezése több régióban.**</span><span class="sxs-lookup"><span data-stu-id="40930-146">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="40930-147">Ha az alkalmazás egyetlen régióban üzembe, az esemény ritkán fordul elő a teljes régió elérhetetlenné válik, az alkalmazás még nem lesz elérhető.</span><span class="sxs-lookup"><span data-stu-id="40930-147">If your application is deployed to a single region, in the rare event the entire region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="40930-148">Lehet, hogy ez elfogadhatatlan az alkalmazás szolgáltatásiszint-szerződés feltételei szerint.</span><span class="sxs-lookup"><span data-stu-id="40930-148">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="40930-149">Ha igen, fontolja meg az alkalmazás és a hozzá tartozó szolgáltatások telepítése több régióban.</span><span class="sxs-lookup"><span data-stu-id="40930-149">If so, consider deploying your application and its services across multiple regions.</span></span>

<span data-ttu-id="40930-150">**Automatizálhatja, és tesztelje a központi telepítési és karbantartási feladatok.**</span><span class="sxs-lookup"><span data-stu-id="40930-150">**Automate and test deployment and maintenance tasks.**</span></span> <span data-ttu-id="40930-151">Az elosztott alkalmazások, amelyek együtt kell működniük a több részből állnak.</span><span class="sxs-lookup"><span data-stu-id="40930-151">Distributed applications consist of multiple parts that must work together.</span></span> <span data-ttu-id="40930-152">Üzembe helyezés érdemes automatizálni, például a parancsfájlokat a kipróbált és bevált mechanizmusok használatával.</span><span class="sxs-lookup"><span data-stu-id="40930-152">Deployment should be automated, using tested and proven mechanisms such as scripts.</span></span> <span data-ttu-id="40930-153">Ezek frissítése és a konfiguráció ellenőrzése és az üzembe helyezési folyamat automatizálható.</span><span class="sxs-lookup"><span data-stu-id="40930-153">These can update and validate configuration, and automate the deployment process.</span></span> <span data-ttu-id="40930-154">Használat [Azure Resource Manager-sablonok](/azure/azure-resource-manager/resource-group-authoring-templates) kiépíteni az Azure-erőforrás.</span><span class="sxs-lookup"><span data-stu-id="40930-154">Use [Azure Resource Manager templates](/azure/azure-resource-manager/resource-group-authoring-templates) to provision Azure resource.</span></span> <span data-ttu-id="40930-155">Is használható automatikus technikák alkalmazás frissítések végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="40930-155">Also use automated techniques to perform application updates.</span></span> <span data-ttu-id="40930-156">Elengedhetetlen az teszteléséhez győződjön meg arról, hogy hibákat nem további üzemkimaradást eredményezhet, teljes mértékben a folyamatokat.</span><span class="sxs-lookup"><span data-stu-id="40930-156">It is vital to test all of these processes fully to ensure that errors do not cause additional downtime.</span></span> <span data-ttu-id="40930-157">Az összes központi telepítési eszközök védelme érdekében az üzembe helyezett alkalmazás; megfelelő biztonsági korlátozásokat kell rendelkeznie. határozza meg, és gondosan telepítési szabályzatokat léptethet, és az emberi beavatkozások szükségességének minimálisra csökkentése.</span><span class="sxs-lookup"><span data-stu-id="40930-157">All deployment tools must have suitable security restrictions to protect the deployed application; define and enforce deployment policies carefully and minimize the need for human intervention.</span></span>

<span data-ttu-id="40930-158">**Használja a platform átmeneti és üzemi funkcióit.** .</span><span class="sxs-lookup"><span data-stu-id="40930-158">**Use staging and production features of the platform.**.</span></span> <span data-ttu-id="40930-159">Például az Azure App Service támogatja [üzembe helyezési pontok](/azure/app-service/web-sites-staged-publishing), amelyek segítségével előtt sikeressége az éles környezetben üzembe helyezésének ütemezése.</span><span class="sxs-lookup"><span data-stu-id="40930-159">For example, Azure App Service supports [deployment slots](/azure/app-service/web-sites-staged-publishing), which you can use to stage a deployment before swapping it to production.</span></span> <span data-ttu-id="40930-160">Az Azure Service Fabric támogatja a [a működés közbeni frissítés](/azure/service-fabric/service-fabric-application-upgrade) alkalmazás szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="40930-160">Azure Service Fabric supports [rolling upgrades](/azure/service-fabric/service-fabric-application-upgrade) to application services.</span></span>

<span data-ttu-id="40930-161">**Helyezze a virtuális gépek (VM) egy rendelkezésre állási csoportban.**</span><span class="sxs-lookup"><span data-stu-id="40930-161">**Place virtual machines (VMs) in an availability set.**</span></span> <span data-ttu-id="40930-162">Rendelkezésre állás maximalizálása érdekében hozzon létre minden egyes Virtuálisgép-szerepkör több példányát, és helyezze el ezek a példányok ugyanazt a rendelkezésre állási csoportban.</span><span class="sxs-lookup"><span data-stu-id="40930-162">To maximize availability, create multiple instances of each VM role and place these instances in the same availability set.</span></span> <span data-ttu-id="40930-163">Ha több virtuális gép kiszolgálása különböző szerepköröket, például különböző alkalmazásrétegek, hozzon létre egy rendelkezésre állási csoport minden virtuális gép szerepkör rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="40930-163">If have multiple VMs that serve different roles, such as different application tiers, create an availability set for each VM role.</span></span> <span data-ttu-id="40930-164">Például hozzon létre egy rendelkezésre állási csoportot a webes szint és a egy másik, az adatréteg számára.</span><span class="sxs-lookup"><span data-stu-id="40930-164">For example, create an availability set for the web tier and another for the data tier.</span></span>

## <a name="data-management"></a><span data-ttu-id="40930-165">Adatkezelés</span><span class="sxs-lookup"><span data-stu-id="40930-165">Data management</span></span>

<span data-ttu-id="40930-166">**Az Azure Storage-adatok georeplikálása**.</span><span class="sxs-lookup"><span data-stu-id="40930-166">**Geo-replicate data in Azure Storage**.</span></span> <span data-ttu-id="40930-167">Az Azure Storage szolgáltatásban az adatok automatikus replikációja belül az egy kínai adatközpont.</span><span class="sxs-lookup"><span data-stu-id="40930-167">Data in Azure Storage is automatically replicated within in a datacenter.</span></span> <span data-ttu-id="40930-168">Még magasabb rendelkezésre állás érdekében használja az írásvédett georedundáns tárolás (-RAGRS), amely egy másodlagos régióba replikálja az adatokat, és az adatokat a másodlagos helyen csak olvasható hozzáférést biztosít.</span><span class="sxs-lookup"><span data-stu-id="40930-168">For even higher availability, use Read-access geo-redundant storage (-RAGRS), which replicates your data to a secondary region and provides read-only access to the data in the secondary location.</span></span> <span data-ttu-id="40930-169">Az adatok a tartós még egy teljes regionális kimaradás vagy vészhelyzet esetén.</span><span class="sxs-lookup"><span data-stu-id="40930-169">The data is durable even in the case of a complete regional outage or a disaster.</span></span> <span data-ttu-id="40930-170">További információkért lásd: [Azure Storage replikáció](/azure/storage/storage-redundancy).</span><span class="sxs-lookup"><span data-stu-id="40930-170">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy).</span></span>

<span data-ttu-id="40930-171">**Georeplikáció adatbázisok**.</span><span class="sxs-lookup"><span data-stu-id="40930-171">**Geo-replicate databases**.</span></span> <span data-ttu-id="40930-172">Az Azure SQL Database és a Cosmos DB is támogatja a georeplikációt, ami lehetővé teszi, hogy a másodlagos adatbázis-replikák konfigurálása más régiókban.</span><span class="sxs-lookup"><span data-stu-id="40930-172">Azure SQL Database and Cosmos DB both support geo-replication, which enables you to configure secondary database replicas in other regions.</span></span> <span data-ttu-id="40930-173">Másodlagos adatbázisok lekérdezése és a feladatátvétel esetén egy adatközpont-leállás esetén vagy az elsődleges adatbázishoz való kapcsolódáshoz nem érhetők el.</span><span class="sxs-lookup"><span data-stu-id="40930-173">Secondary databases are available for querying and for failover in the case of a data center outage or the inability to connect to the primary database.</span></span> <span data-ttu-id="40930-174">További információkért lásd: [feladatátvételi csoportok és az aktív georeplikáció](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) és [hogyan globális adatterjesztés az Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).</span><span class="sxs-lookup"><span data-stu-id="40930-174">For more information, see [Failover groups and active geo-replication](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) and [How to distribute data globally with Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).</span></span>

<span data-ttu-id="40930-175">**Az optimista egyidejűség és a végleges konzisztencia**.</span><span class="sxs-lookup"><span data-stu-id="40930-175">**Use optimistic concurrency and eventual consistency**.</span></span> <span data-ttu-id="40930-176">Tranzakció, hogy a erőforrások zárolása (pesszimista egyidejűségi) keresztüli elérésének letiltása gyenge teljesítményhez vezethetnek, és jelentősen csökkentheti a rendelkezésre állást.</span><span class="sxs-lookup"><span data-stu-id="40930-176">Transactions that block access to resources through locking (pessimistic concurrency) can cause poor performance and considerably reduce availability.</span></span> <span data-ttu-id="40930-177">Ezeket a problémákat az elosztott rendszerek különösen akuttá válhat.</span><span class="sxs-lookup"><span data-stu-id="40930-177">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="40930-178">Sok esetben gondos tervezés és technikák, például a particionálás minimalizálhatja az előforduló ütköző frissítésének esélyét.</span><span class="sxs-lookup"><span data-stu-id="40930-178">In many cases, careful design and techniques such as partitioning can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="40930-179">Ahol az adatokat a rendszer replikálja, vagy külön-külön frissített áruházbeli olvasható, az adatok csak akkor végül konzisztens.</span><span class="sxs-lookup"><span data-stu-id="40930-179">Where data is replicated, or is read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="40930-180">Azonban az előnyöket általában sokkal nyomósabbak a tranzakciók azonnali konzisztencia biztosításához a rendelkezésre állási gyakorolt hatást.</span><span class="sxs-lookup"><span data-stu-id="40930-180">But the advantages usually far outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>

<span data-ttu-id="40930-181">**Rendszeres biztonsági mentéssel és időponthoz visszaállítással**.</span><span class="sxs-lookup"><span data-stu-id="40930-181">**Use periodic backup and point-in-time restore**.</span></span> <span data-ttu-id="40930-182">Automatikusan és rendszeresen biztonsági másolatokat, amely máshol nem őrződnek meg, és ellenőrizze a megbízhatóan visszaállíthatja az adatokat és a magának az alkalmazásnak kell hiba fordul elő.</span><span class="sxs-lookup"><span data-stu-id="40930-182">Regularly and automatically back up data that is not preserved elsewhere, and verify you can reliably restore both the data and the application itself should a failure occur.</span></span> <span data-ttu-id="40930-183">Győződjön meg arról, hogy a biztonsági mentések felel meg a helyreállítási időkorlátot (RPO).</span><span class="sxs-lookup"><span data-stu-id="40930-183">Ensure that backups meet your Recovery Point Objective (RPO).</span></span> <span data-ttu-id="40930-184">Adatreplikálás nem áll egy biztonsági mentési funkcióval, mivel az emberi hiba vagy rosszindulatú műveleteket is az adatok sérültek minden replika között.</span><span class="sxs-lookup"><span data-stu-id="40930-184">Data replication is not a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="40930-185">Lehet, hogy a biztonsági mentési folyamat biztonságos az úton lévő és a storage-ban tárolt adatok védelméhez.</span><span class="sxs-lookup"><span data-stu-id="40930-185">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="40930-186">Adatbázisok és a egy adattár részeit általában visszaállíthatja egy korábbi időpontra időben tranzakciós naplók használatával.</span><span class="sxs-lookup"><span data-stu-id="40930-186">Databases or parts of a data store can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="40930-187">További információkért lásd: [helyreállítás adatsérülés vagy véletlen törlés](../resiliency/recovery-data-corruption.md)</span><span class="sxs-lookup"><span data-stu-id="40930-187">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md)</span></span>

## <a name="errors-and-failures"></a><span data-ttu-id="40930-188">Hibák és hibák</span><span class="sxs-lookup"><span data-stu-id="40930-188">Errors and failures</span></span>

<span data-ttu-id="40930-189">**Konfigurálja a kérelem időtúllépése.**</span><span class="sxs-lookup"><span data-stu-id="40930-189">**Configure request timeouts.**</span></span> <span data-ttu-id="40930-190">Szolgáltatások és erőforrások miatt a kérelem sikertelen elérhetetlenné válhat.</span><span class="sxs-lookup"><span data-stu-id="40930-190">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="40930-191">Ügyeljen arra, hogy a alkalmazni, időtúllépések megfelelő minden szolgáltatáshoz vagy erőforráshoz, valamint az ügyfél, amely hozzájuk férni.</span><span class="sxs-lookup"><span data-stu-id="40930-191">Ensure that the timeouts you apply are appropriate for each service or resource as well as the client that is accessing them.</span></span> <span data-ttu-id="40930-192">Bizonyos esetekben előfordulhat, hogy engedélyezi a hosszabb időkorlát az ügyfélen, attól függően, a környezetet és más műveletek, amelyek az ügyfél hajt végre adott alkalmazáspéldány esetében.</span><span class="sxs-lookup"><span data-stu-id="40930-192">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="40930-193">Nagyon rövid időtúllépések okozhat túl sok újrapróbálkozás műveletek szolgáltatásokhoz és erőforrásokhoz, amelyek jelentős késéssel rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="40930-193">Very short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="40930-194">Nagyon hosszú időtúllépések okozhat blokkolása, ha nagy számú kérelem várólistára kerülnek, Várakozás a szolgáltatás vagy erőforrás válaszolni.</span><span class="sxs-lookup"><span data-stu-id="40930-194">Very long timeouts can cause blocking if a large number of requests are queued, waiting for a service or resource to respond.</span></span>

<span data-ttu-id="40930-195">**Az átmeneti hibák által okozott sikertelen műveletek újrapróbálása.**</span><span class="sxs-lookup"><span data-stu-id="40930-195">**Retry failed operations caused by transient faults.**</span></span> <span data-ttu-id="40930-196">Tervezze meg a hozzáféréshez minden szolgáltatásokhoz és erőforrásokhoz, ha nem eleve támogatják automatikus kapcsolat újrapróbálkozási újrapróbálkozási stratégiát.</span><span class="sxs-lookup"><span data-stu-id="40930-196">Design a retry strategy for access to all services and resources where they do not inherently support automatic connection retry.</span></span> <span data-ttu-id="40930-197">Használja a stratégia, amely tartalmaz egy növekvő késleltetés számának hibák növeli, hogy az erőforrás terhelve és, hogy szabályosan helyreállítani, és várólistára került kérelmeket kezeli az újrapróbálkozások között.</span><span class="sxs-lookup"><span data-stu-id="40930-197">Use a strategy that includes an increasing delay between retries as the number of failures increases, to prevent overloading of the resource and to allow it to gracefully recover and handle queued requests.</span></span> <span data-ttu-id="40930-198">A nagyon rövid késések folyamatos újrapróbálkozások valószínűleg elmérgesítik azokat a problémát.</span><span class="sxs-lookup"><span data-stu-id="40930-198">Continual retries with very short delays are likely to exacerbate the problem.</span></span> <span data-ttu-id="40930-199">További információkért tekintse meg [az adott szolgáltatásokra vonatkozó újrapróbálkozási útmutatást](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="40930-199">For more information, see [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>

<span data-ttu-id="40930-200">**Áramköri, ezáltal pedig kaszkádolt meghibásodásokhoz elkerülése érdekében hajtja végre.**</span><span class="sxs-lookup"><span data-stu-id="40930-200">**Implement circuit breaking to avoid cascading failures.**</span></span> <span data-ttu-id="40930-201">Előfordulhat, hogy olyan helyzetekben, amelyben átmeneti vagy más hibák, és a egy szolgáltatást, a teljes hiba súlyossága a részleges kapcsolódási vártnál sokkal normál való visszatéréshez.</span><span class="sxs-lookup"><span data-stu-id="40930-201">There may be situations in which transient or other faults, ranging in severity from a partial loss of connectivity to the complete failure of a service, take much longer than expected to return to normal.</span></span> <span data-ttu-id="40930-202">, ha egy szolgáltatás nagyon elfoglalt, a rendszer egy része sikertelen lehet, hogy hiba egész hibasorozatot indíthat, és váljon kritikus rendszererőforrásokat akadályozhatnak, mint például a memória, szálak, az alakzatot tartásával blokkolva sok művelet eredményez és adatbázis-kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="40930-202">, if a service is very busy, failure in one part of the system may lead to cascading failures, and result in many operations becoming blocked while holding onto critical system resources such as memory, threads, and database connections.</span></span> <span data-ttu-id="40930-203">Ahelyett, hogy nem valószínű, hogy sikeres művelet újrapróbálása folyamatosan, az alkalmazás kell gyorsan fogad el, hogy a művelet sikertelen volt, és ez a hiba kezelésére.</span><span class="sxs-lookup"><span data-stu-id="40930-203">Instead of continually retrying an operation that is unlikely to succeed, the application should quickly accept that the operation has failed, and gracefully handle this failure.</span></span> <span data-ttu-id="40930-204">Az áramkör-megszakító minta használatával meghatározott ideig adott műveletek esetében kérelmek elutasítása.</span><span class="sxs-lookup"><span data-stu-id="40930-204">Use the Circuit Breaker pattern to reject requests for specific operations for defined periods.</span></span> <span data-ttu-id="40930-205">További információkért lásd: [áramkör-megszakító minta](../patterns/circuit-breaker.md).</span><span class="sxs-lookup"><span data-stu-id="40930-205">For more information, see [Circuit Breaker Pattern](../patterns/circuit-breaker.md).</span></span>

<span data-ttu-id="40930-206">**Compose, vagy több összetevő térhet vissza.**</span><span class="sxs-lookup"><span data-stu-id="40930-206">**Compose or fall back to multiple components.**</span></span> <span data-ttu-id="40930-207">Tervezhet alkalmazásokat érintő művelet és a meglévő kapcsolatok nélkül több példány üzemeltetéséhez, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="40930-207">Design applications to use multiple instances without affecting operation and existing connections where possible.</span></span> <span data-ttu-id="40930-208">Több példány üzemeltetéséhez kérelmek közöttük, terjesztése és felismeri és elkerülheti a kérések küldését sikertelen példányok, annak érdekében, hogy a rendelkezésre állás maximalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="40930-208">Use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances, in order to maximize availability.</span></span>

<span data-ttu-id="40930-209">**Egy másik szolgáltatás vagy a munkafolyamat térhet vissza.**</span><span class="sxs-lookup"><span data-stu-id="40930-209">**Fall back to a different service or workflow.**</span></span> <span data-ttu-id="40930-210">Például ha az SQL Database-adatbázisba írása sikertelen, ideiglenesen tárolja az adatokat a blob storage vagy a Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="40930-210">For example, if writing to SQL Database fails, temporarily store data in blob storage or Redis Cache.</span></span> <span data-ttu-id="40930-211">Visszajátszani az írást, az SQL Database-amikor elérhetővé válik a szolgáltatás lehetőséget biztosíthat.</span><span class="sxs-lookup"><span data-stu-id="40930-211">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="40930-212">Bizonyos esetekben egy meghiúsult művelet lehet egy valamilyen alternatív műveletet, amely lehetővé teszi az alkalmazás továbbra is működnek, még ha egy összetevő vagy szolgáltatás sikertelen.</span><span class="sxs-lookup"><span data-stu-id="40930-212">In some cases, a failed operation may have an alternative action that allows the application to continue to work even when a component or service fails.</span></span> <span data-ttu-id="40930-213">Ha lehetséges hibák észlelése, és átirányítja a kérések más egy megfelelő alternatív funkció által nyújtott szolgáltatások vagy biztonsági mentése vagy korlátozott funkciókkal példányok is karbantartani alapvető műveleteket, amíg az elsődleges szolgáltatás offline állapotban.</span><span class="sxs-lookup"><span data-stu-id="40930-213">If possible, detect failures and redirect requests to other services that can offer a suitable alternative functionality, or to back up or reduced functionality instances that can maintain core operations while the primary service is offline.</span></span>

## <a name="monitoring-and-disaster-recovery"></a><span data-ttu-id="40930-214">Figyelés és a vészhelyreállítás</span><span class="sxs-lookup"><span data-stu-id="40930-214">Monitoring and disaster recovery</span></span>

<span data-ttu-id="40930-215">**Adja meg a részletes instrumentation valószínűleg hibák és sikertelen események** a helyzet, a üzemeltetési csapat jelenti.</span><span class="sxs-lookup"><span data-stu-id="40930-215">**Provide rich instrumentation for likely failures and failure events** to report the situation to operations staff.</span></span> <span data-ttu-id="40930-216">Hibák az valószínűleg, de nem rendelkezik még történt, adja meg a hiba okának megállapításához, csökkentheti a helyzet létszámmal engedélyezéséhez szükséges adatokat, és győződjön meg arról, hogy a rendszer továbbra is elérhető.</span><span class="sxs-lookup"><span data-stu-id="40930-216">For failures that are likely but have not yet occurred, provide sufficient data to enable operations staff to determine the cause, mitigate the situation, and ensure that the system remains available.</span></span> <span data-ttu-id="40930-217">Már bekövetkezett hibák az alkalmazás kell egy megfelelő hibaüzenetet térjen vissza a felhasználónak azonban próbálja folytatni a fut, jóllehet az korlátozott funkciókkal.</span><span class="sxs-lookup"><span data-stu-id="40930-217">For failures that have already occurred, the application should return an appropriate error message to the user but attempt to continue running, albeit with reduced functionality.</span></span> <span data-ttu-id="40930-218">Minden esetben a monitorozási rendszer rögzíteni kell átfogó információkat az létszámmal életbe lépjenek gyors helyreállítás, és ha szükséges, tervezők és fejlesztők módosításához a rendszer a helyzet újra elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="40930-218">In all cases, the monitoring system should capture comprehensive details to enable operations staff to effect a quick recovery, and if necessary, for designers and developers to modify the system to prevent the situation from arising again.</span></span>

<span data-ttu-id="40930-219">**Figyelheti a fájlrendszer állapotának ellenőrzése funkciók megvalósítása.**</span><span class="sxs-lookup"><span data-stu-id="40930-219">**Monitor system health by implementing checking functions.**</span></span> <span data-ttu-id="40930-220">Az állapotát és a egy alkalmazás teljesítményének idővel romoljon, anélkül, hogy észrevehető, amíg nem sikerül.</span><span class="sxs-lookup"><span data-stu-id="40930-220">The health and performance of an application can degrade over time, without being noticeable until it fails.</span></span> <span data-ttu-id="40930-221">Mintavételezők megvalósításához, vagy ellenőrizze a végrehajtott rendszeresen az alkalmazáson kívüli funkciók.</span><span class="sxs-lookup"><span data-stu-id="40930-221">Implement probes or check functions that are executed regularly from outside the application.</span></span> <span data-ttu-id="40930-222">Az ellenőrzések egyszerű: az alkalmazás egészére, az alkalmazás egyes részei, az alkalmazás által használt egyes szolgáltatások, vagy az egyes összetevők válaszidő mérése is lehet.</span><span class="sxs-lookup"><span data-stu-id="40930-222">These checks can be as simple as measuring response time for the application as a whole, for individual parts of the application, for individual services that the application uses, or for individual components.</span></span> <span data-ttu-id="40930-223">Ellenőrizze a funkciókat hajthatja végre a folyamatokat, így biztosíthatja azok érvényes eredményeket, mérheti a késés és rendelkezésre állásának ellenőrzése és információk nyerhetők a rendszer.</span><span class="sxs-lookup"><span data-stu-id="40930-223">Check functions can execute processes to ensure they produce valid results, measure latency and check availability, and extract information from the system.</span></span>

<span data-ttu-id="40930-224">**Feladatátvétel és a tartalék rendszerek rendszeresen tesztelje.**</span><span class="sxs-lookup"><span data-stu-id="40930-224">**Regularly test all failover and fallback systems.**</span></span> <span data-ttu-id="40930-225">Változások a rendszerek és az operations befolyásolhatják a feladatátvétel és a tartalék függvények, de a hatás nem észlelhető, mindaddig, amíg a fő rendszer meghibásodik, vagy túlterhelt válik.</span><span class="sxs-lookup"><span data-stu-id="40930-225">Changes to systems and operations may affect failover and fallback functions, but the impact may not be detected until the main system fails or becomes overloaded.</span></span> <span data-ttu-id="40930-226">Tesztelje előtt szükség van a meghiúsult lépések kompenzációjához futásidőben élő probléma.</span><span class="sxs-lookup"><span data-stu-id="40930-226">Test it before it is required to compensate for a live problem at runtime.</span></span>

<span data-ttu-id="40930-227">**Tesztelje a monitorozási rendszerek.**</span><span class="sxs-lookup"><span data-stu-id="40930-227">**Test the monitoring systems.**</span></span> <span data-ttu-id="40930-228">Az Automatikus feladatátvétel és a tartalék rendszerek, és manuális képi megjelenítés, a rendszer állapotának és teljesítményének irányítópultok használatával, az összes függő monitorozási és rendszerállapot megfelelően működik-e.</span><span class="sxs-lookup"><span data-stu-id="40930-228">Automated failover and fallback systems, and manual visualization of system health and performance by using dashboards, all depend on monitoring and instrumentation functioning correctly.</span></span> <span data-ttu-id="40930-229">Ha ezek az elemek meghibásodik, a kritikus információk tévesztés, vagy pontatlan adatokat, az operátornak előfordulhat, hogy nem valósíthat meg, hogy a rendszer sérült vagy meghibásodott.</span><span class="sxs-lookup"><span data-stu-id="40930-229">If these elements fail, miss critical information, or report inaccurate data, an operator might not realize that the system is unhealthy or failing.</span></span>

<span data-ttu-id="40930-230">**Hosszan futó munkafolyamatok az előrehaladását úgy követheti nyomon, és ismételje meg a hiba esetén.**</span><span class="sxs-lookup"><span data-stu-id="40930-230">**Track the progress of long-running workflows and retry on failure.**</span></span> <span data-ttu-id="40930-231">Hosszan futó munkafolyamatok gyakran több lépésből állnak.</span><span class="sxs-lookup"><span data-stu-id="40930-231">Long-running workflows are often composed of multiple steps.</span></span> <span data-ttu-id="40930-232">Győződjön meg arról, hogy az egyes lépések egymástól független, és annak esélyét, hogy a teljes munkafolyamatot állítható vissza kell minimalizálása érdekében újból próbálkozhat, vagy, hogy több kompenzáló tranzakciók kell végrehajtani.</span><span class="sxs-lookup"><span data-stu-id="40930-232">Ensure that each step is independent and can be retried to minimize the chance that the entire workflow will need to be rolled back, or that multiple compensating transactions need to be executed.</span></span> <span data-ttu-id="40930-233">Figyelheti és kezelheti a hosszan futó munkafolyamatok előrehaladását egy minta megvalósításával [Feladatütemező ügynök felügyeleti mintáját](../patterns/scheduler-agent-supervisor.md).</span><span class="sxs-lookup"><span data-stu-id="40930-233">Monitor and manage the progress of long-running workflows by implementing a pattern such as [Scheduler Agent Supervisor Pattern](../patterns/scheduler-agent-supervisor.md).</span></span>

<span data-ttu-id="40930-234">**Vész-helyreállítási terv.**</span><span class="sxs-lookup"><span data-stu-id="40930-234">**Plan for disaster recovery.**</span></span> <span data-ttu-id="40930-235">Hozzon létre egy elfogadott, teljes körűen tesztelve bármilyen rendszer rendelkezésre állását esetlegesen befolyásoló hiba helyreállítási tervet.</span><span class="sxs-lookup"><span data-stu-id="40930-235">Create an accepted, fully-tested plan for recovery from any type of failure that may affect system availability.</span></span> <span data-ttu-id="40930-236">Válassza ki a többhelyes vészhelyreállítás recovery architektúrájáról alapvető fontosságú alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="40930-236">Choose a multi-site disaster recovery architecture for any mission-critical applications.</span></span> <span data-ttu-id="40930-237">A konkrét tulajdonost, a vész-helyreállítási terv, beleértve az automatizálási és tesztelési azonosításához.</span><span class="sxs-lookup"><span data-stu-id="40930-237">Identify a specific owner of the disaster recovery plan, including automation and testing.</span></span> <span data-ttu-id="40930-238">Győződjön meg arról a csomag létezik jól dokumentált, és automatizálhatják a lehető legnagyobb mértékben.</span><span class="sxs-lookup"><span data-stu-id="40930-238">Ensure the plan is well-documented, and automate the process as much as possible.</span></span> <span data-ttu-id="40930-239">Hozzon létre egy biztonsági mentési stratégia az összes hivatkozást és a tranzakciós adatok, és rendszeresen Tesztelje ezeket a biztonsági másolatokat a helyreállítását.</span><span class="sxs-lookup"><span data-stu-id="40930-239">Establish a backup strategy for all reference and transactional data, and test the restoration of these backups regularly.</span></span> <span data-ttu-id="40930-240">A terv, és hajtsa végre a rendszeres vészhelyreállítási szimulációk miként ellenőrzi és javítja a terv létszámmal betanításához.</span><span class="sxs-lookup"><span data-stu-id="40930-240">Train operations staff to execute the plan, and perform regular disaster simulations to validate and improve the plan.</span></span>

<!-- links -->
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
