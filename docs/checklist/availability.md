---
title: "Rendelkezésre állási ellenőrzőlista"
description: "Feladatlista, amely útmutatást a rendelkezésre állási aggályokat tervezés közben."
author: dragon119
ms.date: 03/24/2017
ms.custom: checklist
ms.openlocfilehash: 14e6cd6f25f613ea9793b5cf6c4f1abe6f405b74
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="availability-checklist"></a>Rendelkezésre állási ellenőrzőlista
[!INCLUDE [header](../_includes/header.md)]

## <a name="application-design"></a>Alkalmazás tervezése
* **Kerülje a hibaérzékeny pontok kialakulását.** Összetevők, szolgáltatások, erőforrások és számítási példányokért, megakadályozhatja, hogy a hibaérzékeny pontok kialakulását a rendelkezésre állási érintő több példányt kell telepíteni. Ez magában foglalja a hitelesítési mechanizmusok. Tervezze meg az alkalmazás több példányt használja, és a automatikusan észleli a hibákat, és nem sérült példányokat, ahol a platform ezt nem automatikusan irányuló kérelmek átirányítása konfigurálható.
* **Egy másik szolgáltatásiszint-szerződést terhelési felbontani.** Ha egy szolgáltatás áll kritikus és kevésbé szempontból kritikus fontosságú munkaterhelésekhez, másképp kezelheti azokat, és adja meg a szolgáltatások és a rendelkezésre állási követelményeinek megfelelően-példányok száma.
* **Kis méret, és függőségei ismertetése.** Különböző szolgáltatások, ahol csak lehetséges használt számának minimálisra csökkentése, és ismerje meg az összes, amely szerepel a rendszer a szolgáltatás és a szolgáltatás függőségeit. Ez magában foglalja az ügyet, ezeket a függőségeket, és a meghibásodás hatása, vagy az alkalmazás általános mindegyiknél a szűk. A Microsoft biztosítja, hogy legalább 99,9 százalékos rendelkezésre állási a legtöbb szolgáltatást, de ez azt jelenti, hogy minden további szolgáltatás egy alkalmazás potenciálisan támaszkodik csökkenti az általános rendelkezésre állási SLA-t, a rendszer 0,1 százalékkal.
* **Tervezési feladatokat és üzenetek kell lennie az idempotent (biztonságosan ismételhető), ahol csak lehetséges**, így a duplikált kérelmek nem okoz problémát. Például egy szolgáltatás, amely kezeli a kérelmeket, a rendszer egyéb részeivel, amely összekötőként gyártók által küldött üzenetek ügyféllel működhet. Ha a fogyasztó nem sikerül, az üzenet feldolgozása után azonban, hogy feldolgozásukat igazolása előtt, egy gyártó előfordulhat, hogy igényelnie ismétlési sikerült kell kezelt a felhasználó egy másik példánya. Emiatt a fogyasztók és az általuk végzett műveletek kell lennie az idempotent, hogy a korábban végrehajtott műveletnek nem jeleníti meg az érvénytelen. Ez azt jelentheti, hogy a duplikált üzenetek észlelésére, vagy a konzisztencia biztosítása ütközések kezelnek optimista módszer használatát.
* **Magas rendelkezésre állás a kritikus tranzakciók megvalósító üzenet közvetítő használata.** Feladatok elindítása vagy távoli szolgáltatások eléréséhez több forgatókönyv használt üzenetküldési utasításokat az alkalmazás és a célként megadott szolgáltatás között. A legjobb teljesítmény érdekében az alkalmazás tudja elküldeni az üzenetet, és anélkül, hogy a válaszra várakozás dolgozza fel a további kérelmeket, majd vissza kell lennie. Üzenetek garantálja, hogy az üzenetkezelési rendszeréhez magas rendelkezésre állású kell biztosítania. Az Azure Service Bus-üzenetsorok megvalósítása *legalább egyszer* szemantikáját. Ez azt jelenti, hogy minden üzenet várólista közzé nem elveszik, bár a duplikált kézbesíteni bizonyos körülmények között lehet. Az idempotent üzenetfeldolgozás esetén (lásd az előző elem), ismételt kézbesítés nem lehet probléma.
* **Alkalmazások szabályosan kezd** történő csatlakozáskor erőforrás-korlátozások és a felhasználó hatás minimalizálása érdekében hajtsa végre a megfelelő műveletet. Néhány esetben az alkalmazás terhelésének haladhatja meg a kapacitás az egyik, vagy további részeit, ami kevesebb a rendelkezésre állási és kapcsolatok nem sikerült. Skálázás segítséget, hogy enyhítse a, de más tényezőktől, például az erőforrás-elérhetőséget vagy költség által meghatározott maximális elérheti. Az alkalmazás tervezze meg úgy, hogy ebben a helyzetben automatikusan csökkentheti a szabályosan. Például egy kereskedelmi rendszerben, ha a feldolgozási sorrendben alrendszer a törzs (vagy még nem sikerült teljesen), átmenetileg letiltható míg az egyéb funkciók (például a termékkatalógus böngészés) a folytatáshoz. Kérelmek hibás alrendszer, például továbbra is engedélyezése az ügyfelek számára a rendelések, de a rendelések alrendszer elérhető esetén újra mentése őket későbbi feldolgozásra, célszerű lehet.
* **Gyors kapacitásnövelés események kezelésére.** A legtöbb alkalmazásokat kell adott idő alatt, például csúcsait thing először egy üzleti alkalmazás vagy egy új terméken kereskedelmi webhelyen kiadásakor reggel a különböző munkaterhelések kezelésére. Automatikus skálázással segítséget a terhelés kezelésére, de ez eltarthat egy ideig, további példányok-kérelmeket kezelnek, és online állapotba. Az alkalmazás overwhelming hirtelen és váratlan felszakadásáig tevékenység megakadályozása: tervezése a várólista kéréseket a szolgáltatásokat használ, és szabályosan vezethetnek, amikor várólisták, amelyek közel teljes körű kapacitását. Győződjön meg arról, hogy van elegendő teljesítményt és kapacitást elérhető nem kapacitásnövelés körülmények üríti ki a várólisták és a függőben lévő kérések kezelésére. További információkért lásd: a [terhelés simítás mintát várólista alapú](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Telepítés és karbantartás
* **Az egyes szolgáltatások szerepkört több példányának telepítése.** A Microsoft lehetővé teszi a rendelkezésre állási garanciák szolgáltatások létrehozása és telepítése, de ezek garanciák csak érvényes, ha a szolgáltatás minden egyes szerepkör legalább két példányt telepít. Ez lehetővé teszi egy szerepkör nem érhető el, amíg a másik aktív marad. Ez akkor kifejezetten fontos, ha szeretné központilag a frissítéseket egy élő rendszerben az ügyfelek tevékenységek; megszakítása nélkül példányok le, és egyenként frissítve, amíg a többi online tovább.
* **Alkalmazások üzemeltetését a több adatközpontot.** Bár nem valószínű, továbbra is az egész adatközpont lehetővé például természeti katasztrófa vagy Internet-hiba esemény keresztül offline állapotú. Fontos üzleti alkalmazások számára elérhető maximális egynél több adatközpontban üzemeltetve lesz. Ez is a helyi felhasználók késés csökkentésére, és adja meg a további lehetőségek rugalmasságot biztosít alkalmazások frissítésekor.
* **Automatizálásához és központi telepítési és karbantartási feladatok.** Elosztott alkalmazások, amelyek együttműködése kell több részből állnak. Központi telepítés érdemes ezért automatizálni, például parancsfájlokat és a központi telepítés alkalmazások tesztelése és bevált mechanizmusok használatával. Ezek frissítése és a konfiguráció ellenőrzése és a telepítési folyamat automatizálása. Automatizált módszereket is használandó teljes vagy a kérelmek különböző részeinek-frissítéseinek elvégzéséhez. Elengedhetetlen tesztelik az összes teljesen biztosításához, hogy hibákat nem indítják el további állásidő ezeket a folyamatokat. A központi telepítési eszközöket rendelkeznie kell a telepített alkalmazás; védelmére alkalmas biztonsági korlátozások Adja meg, és gondosan telepítési házirendek kényszerítését, és minimalizálása érdekében emberi beavatkozás szükséges.
* **A platform átmeneti és üzemi szolgáltatását használja, érdemes** amennyiben rendelkezésre áll. Azure Cloud Services átmeneti és üzemi környezetekben a például lehetővé teszi a alkalmazásokat egy másik azonnal egy virtuális IP-cím felcserélés (virtuális IP-Címcsere) keresztül kell kapcsolni. Azonban inkább tesztelése a helyszínen, vagy az alkalmazás különböző verzióinak párhuzamosan telepíteni, és fokozatosan áttelepítheti a felhasználókat, ha, előfordulhat, hogy nem fogja tudni használni a virtuális IP-Címcsere művelet.
* **Konfigurációs módosítások alkalmazása nélkül újrahasznosítási** a példány, ha lehetséges. Sok esetben anélkül, hogy újra kell indítani a szerepkört az Azure alkalmazás vagy szolgáltatás konfigurációs beállításait módosítható. Szerepkör teszi közzé az eseményeket, amelyek kezelhetik a konfigurációs módosítások észlelni és alkalmazni azokat összetevők az alkalmazáson belül. Azonban néhány core platform beállításainak módosításához a szerepkört, újra kell indítani. Összetevőkkel és szolgáltatásokkal fejlesztéskor rendelkezésre állásának maximalizálását, és minimalizálják az állásidőt megtervezésével őket a konfigurációs beállításainak változtatásai anélkül, hogy az alkalmazás egészének újra kell indítani.
* **Frissítések állásidő közbeni frissítési tartományt.** Azure számítási egység, például webes és feldolgozói szerepkörök kiosztott frissítési tartományt. Frissítési tartományok csoportba a szerepkörpéldányt beállítani, hogy a működés közbeni frissítés kerül sor, amikor a frissítési tartomány minden egyes szerepkör leállítása, frissítése, és újraindítása pedig. Ez minimalizálja a a rendelkezésre állását. Megadhatja, hogy hány frissítési tartományt kell létrehozni a szolgáltatás a szolgáltatás telepítésekor.
  
  > [!NOTE]
  > Szerepkörök is elosztott tartalék tartományok, amelyek származik ésszerűen független más tartalék tartományok kiszolgálószekrény, energiagazdálkodási és hűtési kiépítését, hogy minimálisra csökkentse az összes szerepkörpéldányt érintő hiba esélyét. A terjesztés automatikusan megtörténik, és nem tudja beállítani.
  > 
  > 
* **Az Azure virtuális gépek rendelkezésre állási csoportok konfigurálása.** Két vagy több virtuális gép elhelyezéséhez ugyanabban a rendelkezésre állási csoport biztosítja, hogy az, hogy ezek a virtuális gépek nem telepítve lesz az azonos tartalék tartományban. Rendelkezésre állásának maximalizálását kell létrehozni minden kritikus, a rendszer által használt virtuális gép több példányára, és ezek a példányok helyez az azonos rendelkezésre állási készletbe. Ha több virtuális gép, amely a különböző célt szolgálhat futnak, hozzon létre rendelkezésre állási készlet minden egyes virtuális géphez. Az egyes virtuális gépek példányok hozzá minden egyes rendelkezésre állási csoport. Ha a webkiszolgáló és a jelentéskészítő kiszolgáló külön virtuális gépek hozott létre, hozzon létre például egy rendelkezésre állási készletét, a webkiszolgáló és a rendelkezésre állási csoport a jelentéskészítő kiszolgálóhoz. A webalkalmazás-kiszolgáló rendelkezésre állása számára a webkiszolgáló virtuális gépének példányait állítsa, majd adja hozzá a jelentéskészítő kiszolgáló virtuális gép példányait a jelentéskészítő kiszolgáló rendelkezésre állási csoport hozzáadása.

## <a name="data-management"></a>Adatkezelés

* **Az Azure Storage földrajzi-replikálás adatok**. Adatait az Azure Storage automatikusan replikálja a rendszer belül az adatközpontban. A még magasabb rendelkezésre állás érdekében használja az írásvédett georedundáns tárolás (-RAGRS), amely replikálja az adatokat egy másodlagos régióban, és olvasási hozzáférést biztosít az adatokhoz a másodlagos helyen. Az adatok tartósságát teljes regionális kimaradás vagy katasztrófa esetén is. További információkért lásd: [Azure Storage replikációs](/azure/storage/storage-redundancy).
* **Földrajzi-replikálás adatbázisok**. Azure SQL-adatbázis és a Cosmos DB egyaránt támogatja a georeplikáció, amely lehetővé teszi, más régiókban másodlagos adatbázis-replikák konfigurálásához. Másodlagos adatbázisok a lekérdezésre, és feladatátvétel esetén egy adatközpont-meghibásodás után vagy az elsődleges adatbázishoz való kapcsolódáshoz nem érhetők el. További információkért lásd: [feladatátvételi csoportok és aktív georeplikáció](/azure/sql-database/sql-database-geo-replication-overview) (SQL-adatbázis) és [miként ossza el a globális adatok Azure Cosmos DB?](/azure/cosmos-db/distribute-data-globally).
* **Egyidejű hozzáférések optimista és a végleges konzisztencia** ahol csak lehetséges. Tranzakciók, hogy a zárolás (pesszimista feldolgozási) keresztül erőforrásokhoz való hozzáférés letiltása miatt romolhat a teljesítmény, és jelentősen csökkentheti a rendelkezésre állási. Ezek a problémák különösen nagy elosztott rendszerek válhat. Sok esetben gondos tervezés és technikák, például a particionálás minimálisra előforduló ütköző frissítések esélyét. Ha az adatokat a rendszer replikálja, vagy külön-külön frissített áruházbeli olvasható, az adatok csak akkor idővel konzisztenssé. De a következő előnyöket általában sokkal járó a hatás rendelkezésre állását a tranzakciók azonnali konzisztencia biztosítja.
* **Rendszeres biztonsági mentést és időpontban visszaállítási**, és győződjön meg arról, hogy megfelel-e a helyreállítási pont célkitűzés (RPO). Automatikusan és rendszeresen, amely máshol nem őrződik meg az adatok biztonsági másolatát, és ellenőrizze a megbízhatóan helyreállíthatja az adatokat és a magának az alkalmazásnak kell hiba fordulhat elő. Adatreplikálás oka nem egy biztonsági mentési szolgáltatás hibákat és sikertelen, hiba vagy rosszindulatú műveleteket bevezetett inkonzisztenciákat replikálja összes áruházat között. A biztonsági mentési folyamat az adatok az átvitel során, és a tárolási biztonságos kell lennie. Adatbázisok vagy adattárat részei általában lehessen helyreállítani egy korábbi időpontra idő tranzakciós naplók segítségével. A Microsoft Azure biztonsági mentési lehetőség a Azure SQL-adatbázisban tárolt adatok biztosít. Az adatok Azure blob storage a biztonsági mentési csomagba exportálja, és biztonságos helyszíni tárolási helyre tölthető le.
* **A magas rendelkezésre állású beállítást a másodlagos példányát az Azure Redis Cache-gyorsítótár engedélyezése.** Azure Redis Cache használata esetén válassza a szabványos beállítást a tartalmának másodlagos másolatát. További információkért lásd: [a gyorsítótár létrehozása az Azure Redis Cache](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Hibák és hibák
* **Az időtúllépés fogalmát vezethet.** Szolgáltatások és erőforrások kérelem sikertelen lesz, amely elérhetetlenné válnának. Győződjön meg arról, hogy megfelelőek-e a időtúllépést alkalmaz minden szolgáltatás vagy az erőforrás továbbá az ügyfélnek, amelyik hozzájuk férni. (Egyes esetekben lehet megfelelő, egy hosszabb időtúllépési érték engedélyezi egy ügyfelet, attól függően, hogy a környezet és más műveleteket hajt végre az ügyfél egy adott példányának.) Előfordulhat, hogy a nagyon rövid időtúllépések túlzott újrapróbálkozási műveletek szolgáltatásokhoz és erőforrásokhoz, amely jelentős késéssel rendelkeznek. Nagyon hosszú időtúllépések okozhat, ha nagyszámú kérelmek várólistára blokkolja, egy szolgáltatás vagy az erőforrás válaszolni vár.
* **Próbálja meg újra a sikertelen műveleteket átmeneti hibák által okozott.** Tervezze meg a hozzáféréshez minden szolgáltatásokhoz és erőforrásokhoz, ha nem eleve támogatják automatikus újrapróbálkozási újrapróbálkozási stratégiát. Használja a stratégia, amely tartalmaz egy növekvő késleltetés hibák növekszik, megelőzve az erőforrás, és engedélyezze a szabályosan helyreállításához, és kezelni a sorba állított kérelmek száma az újrapróbálkozások között. A nagyon rövid késések folyamatos újrapróbálkozások valószínűleg elmérgesítik azokat a problémát.
* **Állítsa le a küldött kérésekkel kaszkádolt hibák elkerülése érdekében** amikor távoli szolgáltatások nem érhetők el. Előfordulhat, hogy olyan helyzetekben, ahol átmeneti vagy más hibák, a beállításnak a szolgáltatás teljes hiba súlyossága a egy részleges a kapcsolat megszakadása sokkal vártnál tovább tart vissza a szokásos módon folytatódik. Emellett, ha a szolgáltatás foglalt, hiba történt egy részét a rendszer a lehetséges, hogy kaszkádolt hibákhoz vezethet, és sok művelet kritikus rendszer-erőforrások, például a memória, a szálak és a Helyadatbázis-kapcsolatot, amíg zárolva váljon eredményez. Helyett folyamatosan újrapróbálkozás egy művelet, amely várhatóan nem sikeres, az alkalmazás kell gyorsan fogadnia, hogy a művelet sikertelen volt, és ez a hiba kezelésére. Az áramköri megszakító minta segítségével meghatározott ideig egyes műveletek kérelmeket. További információkért lásd: [áramköri megszakító mintát](../patterns/circuit-breaker.md).
* **Állítható össze, vagy több összetevőjét visszaállni** egy adott szolgáltatás nem volt a kapcsolat nélküli vagy nem érhető el a hatásának mérsékléséhez. Tervezhet alkalmazásokat érintő művelet és a meglévő kapcsolatok nélkül több példány kihasználásához, ahol csak lehetséges. Több példányt használja, és terjesztése kérelmek közöttük, és észlelése és elkerülése érdekében rendelkezésre állásának maximalizálását küldött kérésekkel sikertelen példányok.
* **Egy másik szolgáltatás vagy a munkafolyamat alá esik** ahol csak lehetséges. Például ha az SQL-adatbázisba írás sikertelen, ideiglenesen tárolja az adatokat a blob Storage tárolóban. Adjon meg egy létesítményt a személyes visszajátszásos a blob Storage tárolóban, az SQL Database írások, amikor a szolgáltatás elérhetővé válik. Bizonyos esetekben a sikertelen művelettel valamilyen alternatív művelet végrehajtását, amely lehetővé teszi az alkalmazás továbbra is működnek, még ha egy összetevő vagy szolgáltatás sikertelen lehet. Ha lehetséges észlelésére, és átirányítja a kérelmek más szolgáltatások is a megfelelő alternatív funkciókat kínáló, vagy biztonsági mentése vagy csökkentett példányok, amelyek alapvető műveleteket is tartanak, amikor elsődleges szolgáltatás offline állapotban.

## <a name="monitoring-and-disaster-recovery"></a>Figyelés és katasztrófa-helyreállítás
* **Adja meg a gazdag instrumentation valószínűleg hibák és sikertelen események** műveleti személyzet a helyzet jelentését. Hibák, amelyek valószínűleg, de nem rendelkezik még történt, engedélyezése a dolgozók a hiba okának megállapításához, a helyzet csökkentése nem elegendő adatot szolgáltatja, és győződjön meg arról, hogy a rendszer továbbra is elérhető. A már bekövetkezett hibák az alkalmazás kell térjen vissza a megfelelő hibaüzenet a felhasználó számára, de megpróbálja folytatni futását a fut, jóllehet az korlátozott funkciókkal. Minden esetben a felügyeleti rendszer rögzítsen átfogó részletek műveleti személyzet, amely érvényesíti a gyors helyreállítás engedélyezéséhez és ha szükséges, a tervezők és fejlesztők módosításához a rendszer a helyzet újra megelőzése érdekében.
* **Rendszerállapot figyelése ellenőrzési funkciók alkalmazásával.** Állapotának és az alkalmazások teljesítményének idővel romoljon, anélkül, hogy észrevehető, amíg meg nem hiúsul. Megvalósítása mintavételek menüpontban, vagy ellenőrizze a függvények, amelyek végrehajtott rendszeresen az alkalmazáson kívül. Lehet, hogy az ellenőrzések más dolga, mint az alkalmazás egészének, az alkalmazás egyes részei, az egyes szolgáltatások, az alkalmazás által használt, vagy az egyes összetevők válaszidő méri. Ellenőrizze, hogy funkciók végrehajtható folyamatok azok érvényes eredményt, késleltetés mérése és elérhetőségének ellenőrzése és adatot kigyűjteni a rendszerből.
* **Az összes feladatátvételi és a tartalék rendszer rendszeresen tesztelniük** érhetők el, és a várt módon működni. Rendszerek és a műveletek változásai befolyásolhatják a feladatátvételi és tartalék funkciók, de a hatás nem észlelhető, amíg a fő rendszer meghibásodik, vagy válik túlterhelt. Tesztelje azt, mielőtt kiegyensúlyozása érdekében futásidőben élő probléma szükséges.
* **A figyelési tesztrendszerek.** Automatikus feladatátvétel és a tartalék rendszerek, és a rendszer állapotának és teljesítményének irányítópultok használatával manuális képi megjelenítés, minden a figyelési és megfelelően működik-e instrumentation függ. Ha ezeket az elemeket meghibásodik, tévesztési fontos információk, vagy a jelentés pontatlan adatait, az üzemeltető előfordulhat, hogy nem valósíthat meg, hogy a rendszer sérült vagy meghibásodott.
* **A folyamat előrehaladását a hosszan futó munkafolyamatok** , és ismételje meg a hiba esetén. Hosszan futó munkafolyamatok gyakran több lépésekből állnak. Győződjön meg arról, hogy minden lépés független, és követően újra megkísérelhető lehetőségének csökkentése érdekében, hogy a teljes munkafolyamat kell állítható vissza, vagy több kompenzációs tranzakciók kell hajtható végre. Figyelheti és kezelheti a hosszan futó munkafolyamatok előrehaladását egy minta implementálásával [Feladatütemező ügynök felügyelő mintát](https://msdn.microsoft.com/library/dn589780.aspx).
* **Vész-helyreállítási terv.** A helyreállítás során bármilyen hiba, amely hatással lehet a rendszer rendelkezésre állás elfogadott, teljes körűen tesztelve terv létrehozása. Válassza ki a kritikus fontosságú alkalmazások egy többhelyes vész helyreállítási architektúrát. Azonosítsa a konkrét tulajdonost a vész-helyreállítási terv, beleértve az automatizálás és tesztelését. Győződjön meg arról a terv dokumentált, és a lehető legnagyobb mértékben folyamat automatizálásához. Állítson be a hivatkozást és a tranzakciós adatokat a biztonsági mentési stratégia, és rendszeresen tesztelése a visszaállítást a biztonsági mentéseket. A terv, és hajtsa végre a rendszeres katasztrófa szimulációja ellenőrzése és javítása a terv műveleti személyzet betanításához.
