---
title: API-átjárók
description: A mikroszolgáltatás-alapú API-átjárókat.
author: MikeWasson
ms.date: 10/23/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: microservices
ms.openlocfilehash: 0820e25e52b8521289377918307c89d9622a146a
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58299188"
---
# <a name="using-api-gateways-in-microservices"></a><span data-ttu-id="028cd-103">A mikroszolgáltatás-alapú API-átjárók használatával</span><span class="sxs-lookup"><span data-stu-id="028cd-103">Using API gateways in microservices</span></span>

<span data-ttu-id="028cd-104">A mikroszolgáltatási architektúra, az ügyfél egynél több előtér-szolgáltatás előfordulhat, hogy dolgozhat.</span><span class="sxs-lookup"><span data-stu-id="028cd-104">In a microservices architecture, a client might interact with more than one front-end service.</span></span> <span data-ttu-id="028cd-105">Adja meg a tény, hogyan nem ügyfél, hogy milyen végpontok hívása?</span><span class="sxs-lookup"><span data-stu-id="028cd-105">Given this fact, how does a client know what endpoints to call?</span></span> <span data-ttu-id="028cd-106">Mi történik, ha új szolgáltatások jelennek meg, vagy a meglévő szolgáltatások vannak újratervezhetők?</span><span class="sxs-lookup"><span data-stu-id="028cd-106">What happens when new services are introduced, or existing services are refactored?</span></span> <span data-ttu-id="028cd-107">Hogyan tegye kezelni a szolgáltatások SSL megszüntetése, hitelesítés és az egyéb problémákat?</span><span class="sxs-lookup"><span data-stu-id="028cd-107">How do services handle SSL termination, authentication, and other concerns?</span></span> <span data-ttu-id="028cd-108">Egy *API-átjáró* ezek a kihívások megoldására segítségével.</span><span class="sxs-lookup"><span data-stu-id="028cd-108">An *API gateway* can help to address these challenges.</span></span>

![API-átjáró ábrája](../images/gateway.png)

<!-- markdownlint-disable MD026 -->

## <a name="what-is-an-api-gateway"></a><span data-ttu-id="028cd-110">Mi az API-átjáró?</span><span class="sxs-lookup"><span data-stu-id="028cd-110">What is an API gateway?</span></span>

<!-- markdownlint-enable MD026 -->

<span data-ttu-id="028cd-111">API-átjáró helyezkedik el, az ügyfelek és a szolgáltatások között.</span><span class="sxs-lookup"><span data-stu-id="028cd-111">An API gateway sits between clients and services.</span></span> <span data-ttu-id="028cd-112">Fordított proxy, útválasztási szolgáltatások ügyfelektől érkező kérelmek funkcionál.</span><span class="sxs-lookup"><span data-stu-id="028cd-112">It acts as a reverse proxy, routing requests from clients to services.</span></span> <span data-ttu-id="028cd-113">Emellett végrehajthatnak, például a hitelesítést, az SSL-lezárást és a sebességkorlátozás különböző általános feladatok.</span><span class="sxs-lookup"><span data-stu-id="028cd-113">It may also perform various cross-cutting tasks such as authentication, SSL termination, and rate limiting.</span></span> <span data-ttu-id="028cd-114">Ha nem telepít egy átjárót, az ügyfelek kell küldenie kérések közvetlenül előtér-szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="028cd-114">If you don't deploy a gateway, clients must send requests directly to front-end services.</span></span> <span data-ttu-id="028cd-115">Vannak azonban bizonyos adatokhoz hozzáférést biztosító szolgáltatások közvetlenül az ügyfelek kapcsolatos lehetséges problémákat:</span><span class="sxs-lookup"><span data-stu-id="028cd-115">However, there are some potential problems with exposing services directly to clients:</span></span>

- <span data-ttu-id="028cd-116">Összetett Ügyfélkód eredményezhet.</span><span class="sxs-lookup"><span data-stu-id="028cd-116">It can result in complex client code.</span></span> <span data-ttu-id="028cd-117">Az ügyfél kell nyomon követheti, több végpontot, és rugalmas módon hibáinak a kezelése.</span><span class="sxs-lookup"><span data-stu-id="028cd-117">The client must keep track of multiple endpoints, and handle failures in a resilient way.</span></span>
- <span data-ttu-id="028cd-118">Az ügyfél és a háttérkiszolgáló közötti hoz létre.</span><span class="sxs-lookup"><span data-stu-id="028cd-118">It creates coupling between the client and the backend.</span></span> <span data-ttu-id="028cd-119">Az ügyfélnek tudnia kell, hogyan vannak bontjuk le az egyes szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="028cd-119">The client needs to know how the individual services are decomposed.</span></span> <span data-ttu-id="028cd-120">Így nehezebb karbantartása az ügyfél és a is nehezebb újrabontása szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="028cd-120">That makes it harder to maintain the client and also harder to refactor services.</span></span>
- <span data-ttu-id="028cd-121">Egyetlen művelet több hívások lehet szükség.</span><span class="sxs-lookup"><span data-stu-id="028cd-121">A single operation might require calls to multiple services.</span></span> <span data-ttu-id="028cd-122">Hogy több hálózati eredményt is kerek lelassítja az ügyfél és a kiszolgáló jelentős késleltetés hozzáadása között.</span><span class="sxs-lookup"><span data-stu-id="028cd-122">That can result in multiple network round trips between the client and the server, adding significant latency.</span></span>
- <span data-ttu-id="028cd-123">Minden egyes nyilvános szolgáltatás például a hitelesítés, az SSL és az ügyfél sebességkorlátozással aggályokat kell kezelnie.</span><span class="sxs-lookup"><span data-stu-id="028cd-123">Each public-facing service must handle concerns such as authentication, SSL, and client rate limiting.</span></span>
- <span data-ttu-id="028cd-124">Szolgáltatások elérhetővé kell tenni például HTTP vagy a WebSocket protokoll ügyfél-barát.</span><span class="sxs-lookup"><span data-stu-id="028cd-124">Services must expose a client-friendly protocol such as HTTP or WebSocket.</span></span> <span data-ttu-id="028cd-125">Ezzel a megoldással a kiválasztott [kommunikációs protokollok](./interservice-communication.md).</span><span class="sxs-lookup"><span data-stu-id="028cd-125">This limits the choice of [communication protocols](./interservice-communication.md).</span></span>
- <span data-ttu-id="028cd-126">Nyilvános végpontokkal rendelkező szolgáltatások egy potenciális támadási felületet, és a megerősített kell lennie.</span><span class="sxs-lookup"><span data-stu-id="028cd-126">Services with public endpoints are a potential attack surface, and must be hardened.</span></span>

<span data-ttu-id="028cd-127">Az átjáró a következő problémák ügyfeleket a szolgáltatásoktól leválasztásával segítségével.</span><span class="sxs-lookup"><span data-stu-id="028cd-127">A gateway helps to address these issues by decoupling clients from services.</span></span> <span data-ttu-id="028cd-128">Átjárók hajthat végre számos különböző függvényt, és előfordulhat, hogy nem kell azokat.</span><span class="sxs-lookup"><span data-stu-id="028cd-128">Gateways can perform a number of different functions, and you may not need all of them.</span></span> <span data-ttu-id="028cd-129">A functions a következő tervezési minták sorolhatók:</span><span class="sxs-lookup"><span data-stu-id="028cd-129">The functions can be grouped into the following design patterns:</span></span>

<span data-ttu-id="028cd-130">[Átjáró útválasztási](../../patterns/gateway-routing.md).</span><span class="sxs-lookup"><span data-stu-id="028cd-130">[Gateway Routing](../../patterns/gateway-routing.md).</span></span> <span data-ttu-id="028cd-131">Az átjáró használatára, irányíthatja a fordított proxy kéri, hogy egy vagy több háttérszolgáltatások 7. rétegbeli útválasztási használatával.</span><span class="sxs-lookup"><span data-stu-id="028cd-131">Use the gateway as a reverse proxy to route requests to one or more backend services, using layer 7 routing.</span></span> <span data-ttu-id="028cd-132">Az átjáró egyetlen végpontot biztosít az ügyfelek számára, és különítse el a ügyfeleket a szolgáltatásoktól segítségével.</span><span class="sxs-lookup"><span data-stu-id="028cd-132">The gateway provides a single endpoint for clients, and helps to decouple clients from services.</span></span>

<span data-ttu-id="028cd-133">[Átjáró-összesítési](../../patterns/gateway-aggregation.md).</span><span class="sxs-lookup"><span data-stu-id="028cd-133">[Gateway Aggregation](../../patterns/gateway-aggregation.md).</span></span> <span data-ttu-id="028cd-134">Az átjáró használatával egyetlen több egyéni kérést összesíteni.</span><span class="sxs-lookup"><span data-stu-id="028cd-134">Use the gateway to aggregate multiple individual requests into a single request.</span></span> <span data-ttu-id="028cd-135">Ez a minta akkor érvényes, ha egyetlen művelet több háttérszolgáltatással hívásainak igényel.</span><span class="sxs-lookup"><span data-stu-id="028cd-135">This pattern applies when a single operation requires calls to multiple backend services.</span></span> <span data-ttu-id="028cd-136">Az ügyfél egy kérést küld az átjárónak.</span><span class="sxs-lookup"><span data-stu-id="028cd-136">The client sends one request to the gateway.</span></span> <span data-ttu-id="028cd-137">Az átjáró továbbítja a kéréseket a különböző háttérrendszerekhez, majd összesíti az eredményeket és elküldi őket az ügyfélnek.</span><span class="sxs-lookup"><span data-stu-id="028cd-137">The gateway dispatches requests to the various backend services, and then aggregates the results and sends them back to the client.</span></span> <span data-ttu-id="028cd-138">Ez segít csökkenteni az ügyfél és a háttérkiszolgáló közötti forgalmat.</span><span class="sxs-lookup"><span data-stu-id="028cd-138">This helps to reduce chattiness between the client and the backend.</span></span>

<span data-ttu-id="028cd-139">[Átjáró-kiürítés](../../patterns/gateway-offloading.md).</span><span class="sxs-lookup"><span data-stu-id="028cd-139">[Gateway Offloading](../../patterns/gateway-offloading.md).</span></span> <span data-ttu-id="028cd-140">Az átjáró használatával kiszervezheti az átjáróhoz, az egyes szolgáltatások funkcióit különösen az általános problémákat.</span><span class="sxs-lookup"><span data-stu-id="028cd-140">Use the gateway to offload functionality from individual services to the gateway, particularly cross-cutting concerns.</span></span> <span data-ttu-id="028cd-141">Ezek a függvények kialakíthattunk egy helyen, ahelyett minden szolgáltatás felelős azok megvalósítását, hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="028cd-141">It can be useful to consolidate these functions into one place, rather than making every service responsible for implementing them.</span></span> <span data-ttu-id="028cd-142">Ez különösen igaz funkciók megvalósításához, például a hitelesítési és engedélyezési speciális ismeretek szükségesek.</span><span class="sxs-lookup"><span data-stu-id="028cd-142">This is particularly true for features that requires specialized skills to implement correctly, such as authentication and authorization.</span></span>

<span data-ttu-id="028cd-143">Íme néhány példa, amely az átjáró kiszervezhető:</span><span class="sxs-lookup"><span data-stu-id="028cd-143">Here are some examples of functionality that could be offloaded to a gateway:</span></span>

- <span data-ttu-id="028cd-144">SSL leállítása</span><span class="sxs-lookup"><span data-stu-id="028cd-144">SSL termination</span></span>
- <span data-ttu-id="028cd-145">Authentication</span><span class="sxs-lookup"><span data-stu-id="028cd-145">Authentication</span></span>
- <span data-ttu-id="028cd-146">IP-címei engedélyezési listára helyezhetők</span><span class="sxs-lookup"><span data-stu-id="028cd-146">IP whitelisting</span></span>
- <span data-ttu-id="028cd-147">Ügyfél sebessége (szabályozás) korlátozása</span><span class="sxs-lookup"><span data-stu-id="028cd-147">Client rate limiting (throttling)</span></span>
- <span data-ttu-id="028cd-148">Naplózás és figyelés</span><span class="sxs-lookup"><span data-stu-id="028cd-148">Logging and monitoring</span></span>
- <span data-ttu-id="028cd-149">Válasz-gyorsítótárazás</span><span class="sxs-lookup"><span data-stu-id="028cd-149">Response caching</span></span>
- <span data-ttu-id="028cd-150">Web application firewall (Webalkalmazási tűzfal)</span><span class="sxs-lookup"><span data-stu-id="028cd-150">Web application firewall</span></span>
- <span data-ttu-id="028cd-151">A GZIP-tömörítés</span><span class="sxs-lookup"><span data-stu-id="028cd-151">GZIP compression</span></span>
- <span data-ttu-id="028cd-152">Statikus tartalom karbantartása</span><span class="sxs-lookup"><span data-stu-id="028cd-152">Servicing static content</span></span>

## <a name="choosing-a-gateway-technology"></a><span data-ttu-id="028cd-153">Egy átjáró technológia kiválasztása</span><span class="sxs-lookup"><span data-stu-id="028cd-153">Choosing a gateway technology</span></span>

<span data-ttu-id="028cd-154">Íme néhány lehetőség a API-átjáró implementálása az alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="028cd-154">Here are some options for implementing an API gateway in your application.</span></span>

- <span data-ttu-id="028cd-155">**Fordított proxy server**.</span><span class="sxs-lookup"><span data-stu-id="028cd-155">**Reverse proxy server**.</span></span> <span data-ttu-id="028cd-156">Nginx HAProxy népszerű fordított proxy kiszolgálók, amelyek támogatják a terheléselosztást, SSL-t, funkciókat és útválasztási 7. réteg.</span><span class="sxs-lookup"><span data-stu-id="028cd-156">Nginx and HAProxy are popular reverse proxy servers that support features such as load balancing, SSL, and layer 7 routing.</span></span> <span data-ttu-id="028cd-157">Mindkettő ingyenes, nyílt forráskódú termékek, további alkalmazásszolgáltatások biztosítása érdekében, és a támogatási lehetőségek fizetős kiadásra.</span><span class="sxs-lookup"><span data-stu-id="028cd-157">They are both free, open-source products, with paid editions that provide additional features and support options.</span></span> <span data-ttu-id="028cd-158">Nginx-et és a HAProxy olyan gazdag szolgáltatáskészleteket és nagy teljesítményű mindkét érett termékhez.</span><span class="sxs-lookup"><span data-stu-id="028cd-158">Nginx and HAProxy are both mature products with rich feature sets and high performance.</span></span> <span data-ttu-id="028cd-159">Külső modulról, illetve egyéni szkriptek Lua őket bővítheti.</span><span class="sxs-lookup"><span data-stu-id="028cd-159">You can extend them with third-party modules or by writing custom scripts in Lua.</span></span> <span data-ttu-id="028cd-160">Az Nginx NginScript nevű parancsfájl-kezelési JavaScript-alapú modul is támogat.</span><span class="sxs-lookup"><span data-stu-id="028cd-160">Nginx also supports a JavaScript-based scripting module called NginScript.</span></span>

- <span data-ttu-id="028cd-161">**Szolgáltatás háló bejövőforgalom-vezérlőjéhez**.</span><span class="sxs-lookup"><span data-stu-id="028cd-161">**Service mesh ingress controller**.</span></span> <span data-ttu-id="028cd-162">Ha például linkerd vagy Istio szolgáltatás rácsvonal használ, fontolja meg az a Funkciók, az adott szolgáltatás háló a bejövőforgalom-vezérlőjéhez által biztosított.</span><span class="sxs-lookup"><span data-stu-id="028cd-162">If you are using a service mesh such as linkerd or Istio, consider the features that are provided by the ingress controller for that service mesh.</span></span> <span data-ttu-id="028cd-163">Például a Istio bejövőforgalom-vezérlőjéhez támogatja, 7. rétegbeli útválasztási, HTTP átirányítások, az újrapróbálkozások és egyéb funkciókkal.</span><span class="sxs-lookup"><span data-stu-id="028cd-163">For example, the Istio ingress controller supports layer 7 routing, HTTP redirects, retries, and other features.</span></span>

- <span data-ttu-id="028cd-164">[Az Azure Application Gateway](/azure/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="028cd-164">[Azure Application Gateway](/azure/application-gateway/).</span></span> <span data-ttu-id="028cd-165">Egy felügyelt terheléselosztási szolgáltatás, amely a 7. rétegbeli útválasztási és SSL-lezárást végezheti el.</span><span class="sxs-lookup"><span data-stu-id="028cd-165">Application Gateway is a managed load balancing service that can perform layer-7 routing and SSL termination.</span></span> <span data-ttu-id="028cd-166">Webalkalmazási tűzfal (WAF) is tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="028cd-166">It also provides a web application firewall (WAF).</span></span>

- <span data-ttu-id="028cd-167">[Az Azure API Management](/azure/api-management/).</span><span class="sxs-lookup"><span data-stu-id="028cd-167">[Azure API Management](/azure/api-management/).</span></span> <span data-ttu-id="028cd-168">Az API Management egy kulcsrakész közzé API-kat a külső és belső ügyfelek számára az.</span><span class="sxs-lookup"><span data-stu-id="028cd-168">API Management is a turnkey solution for publishing APIs to external and internal customers.</span></span> <span data-ttu-id="028cd-169">Egy nyilvánosan elérhető API-t, beleértve a sebességkorlátozást, IP-fehér listázása és hitelesítés az Azure Active Directory vagy az egyéb identitás-szolgáltatóktól felügyelete esetén hasznosak funkciókat biztosít.</span><span class="sxs-lookup"><span data-stu-id="028cd-169">It provides features that are useful for managing a public-facing API, including rate limiting, IP white listing, and authentication using Azure Active Directory or other identity providers.</span></span> <span data-ttu-id="028cd-170">Az API Management végre bármely terheléselosztást, így például az Application Gateway vagy fordított terheléselosztó együtt kell használni.</span><span class="sxs-lookup"><span data-stu-id="028cd-170">API Management doesn't perform any load balancing, so it should be used in conjunction with a load balancer such as Application Gateway or a reverse proxy.</span></span> <span data-ttu-id="028cd-171">Az API Management használatával az Application Gateway szolgáltatással kapcsolatos további információkért lásd: [az API Management integrálása belső vnet-en az Application Gatewayen](/azure/api-management/api-management-howto-integrate-internal-vnet-appgateway).</span><span class="sxs-lookup"><span data-stu-id="028cd-171">For information about using API Management with Application Gateway, see [Integrate API Management in an internal VNET with Application Gateway](/azure/api-management/api-management-howto-integrate-internal-vnet-appgateway).</span></span>

<span data-ttu-id="028cd-172">Átjáró technológia kiválasztásakor vegye figyelembe a következőket:</span><span class="sxs-lookup"><span data-stu-id="028cd-172">When choosing a gateway technology, consider the following:</span></span>

<span data-ttu-id="028cd-173">**Szolgáltatások**.</span><span class="sxs-lookup"><span data-stu-id="028cd-173">**Features**.</span></span> <span data-ttu-id="028cd-174">A felsorolt lehetőségek felett támogatja a 7. rétegbeli útválasztási, de egyéb funkciói eltérnek támogatása.</span><span class="sxs-lookup"><span data-stu-id="028cd-174">The options listed above all support layer 7 routing, but support for other features will vary.</span></span> <span data-ttu-id="028cd-175">Attól függően, a szükséges szolgáltatások egynél több átjáró központi telepítését.</span><span class="sxs-lookup"><span data-stu-id="028cd-175">Depending on the features that you need, you might deploy more than one gateway.</span></span>

<span data-ttu-id="028cd-176">**Üzembe helyezés**.</span><span class="sxs-lookup"><span data-stu-id="028cd-176">**Deployment**.</span></span> <span data-ttu-id="028cd-177">Az Azure Application Gateway és az API Management a felügyelt szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="028cd-177">Azure Application Gateway and API Management are managed services.</span></span> <span data-ttu-id="028cd-178">Nginx-et és a HAProxy általában a fürtben lévő tárolók fog futni, de is telepíthetők a fürtön kívüli dedikált virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="028cd-178">Nginx and HAProxy will typically run in containers inside the cluster, but can also be deployed to dedicated VMs outside of the cluster.</span></span> <span data-ttu-id="028cd-179">Az átjáró többi részét a munkaterhelésből elkülöníti, de magasabb felügyeleti többletterhelést okoz.</span><span class="sxs-lookup"><span data-stu-id="028cd-179">This isolates the gateway from the rest of the workload, but incurs higher management overhead.</span></span>

<span data-ttu-id="028cd-180">**Felügyelet**.</span><span class="sxs-lookup"><span data-stu-id="028cd-180">**Management**.</span></span> <span data-ttu-id="028cd-181">Szolgáltatások frissülnek, vagy új szolgáltatással bővül, az átjáró útválasztási szabályokat lehet kell frissíteni kell.</span><span class="sxs-lookup"><span data-stu-id="028cd-181">When services are updated or new services are added, the gateway routing rules may need to be updated.</span></span> <span data-ttu-id="028cd-182">Fontolja meg, hogyan fogja kezelni ezt a folyamatot.</span><span class="sxs-lookup"><span data-stu-id="028cd-182">Consider how this process will be managed.</span></span> <span data-ttu-id="028cd-183">SSL-tanúsítványok, IP-listáinak és egyéb aspektusait konfiguráció kezelése hasonló szempontok vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="028cd-183">Similar considerations apply to managing SSL certificates, IP whitelists, and other aspects of configuration.</span></span>

## <a name="deploying-nginx-or-haproxy-to-kubernetes"></a><span data-ttu-id="028cd-184">Nginx-et vagy a HAProxy Kubernetes üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="028cd-184">Deploying Nginx or HAProxy to Kubernetes</span></span>

<span data-ttu-id="028cd-185">Telepítheti az Nginx vagy HAProxy Kubernetes egy [ReplicaSet](https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/) vagy [DaemonSet](https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/) , amely meghatározza, hogy az nginx-et vagy a HAProxy tárolórendszerképet.</span><span class="sxs-lookup"><span data-stu-id="028cd-185">You can deploy Nginx or HAProxy to Kubernetes as a [ReplicaSet](https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/) or [DaemonSet](https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/) that specifies the Nginx or HAProxy container image.</span></span> <span data-ttu-id="028cd-186">Egy ConfigMap használatával tárolja a konfigurációs fájlt a proxy, és csatlakoztassa a ConfigMap kötetként.</span><span class="sxs-lookup"><span data-stu-id="028cd-186">Use a ConfigMap to store the configuration file for the proxy, and mount the ConfigMap as a volume.</span></span> <span data-ttu-id="028cd-187">Hozzon létre az átjáró egy Azure Load Balanceren keresztül elérhetővé terheléselosztó típusú szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="028cd-187">Create a service of type LoadBalancer to expose the gateway through an Azure Load Balancer.</span></span>

<span data-ttu-id="028cd-188">Alternatív, hogy hozzon létre egy Bejövőforgalom-vezérlőt.</span><span class="sxs-lookup"><span data-stu-id="028cd-188">An alternative is to create an Ingress Controller.</span></span> <span data-ttu-id="028cd-189">Bejövőforgalom-vezérlőt egy Kubernetes-erőforrás, amely telepít egy terheléselosztót vagy fordított proxykiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="028cd-189">An Ingress Controller is a Kubernetes resource that deploys a load balancer or reverse proxy server.</span></span> <span data-ttu-id="028cd-190">Számos implementáció létezik, például a HAProxy és az nginx-et.</span><span class="sxs-lookup"><span data-stu-id="028cd-190">Several implementations exist, including Nginx and HAProxy.</span></span> <span data-ttu-id="028cd-191">Bejövő forgalmi nevű külön erőforrást Bejövőforgalom-vezérlőt, például az útválasztási szabályokat és a TLS-tanúsítványok beállításait határozza meg.</span><span class="sxs-lookup"><span data-stu-id="028cd-191">A separate resource called an Ingress defines settings for the Ingress Controller, such as routing rules and TLS certificates.</span></span> <span data-ttu-id="028cd-192">Ezzel a módszerrel nem kell összetett konfigurációs fájlokat, amelyek egy adott proxy server technológiára jellemző kezelése.</span><span class="sxs-lookup"><span data-stu-id="028cd-192">That way, you don't need to manage complex configuration files that are specific to a particular proxy server technology.</span></span>

<span data-ttu-id="028cd-193">Az átjáró nem a potenciális szűk keresztmetszetet vagy rendszerkritikus meghibásodási pontot a rendszer, így mindig a magas rendelkezésre állás érdekében legalább két replika üzembe.</span><span class="sxs-lookup"><span data-stu-id="028cd-193">The gateway is a potential bottleneck or single point of failure in the system, so always deploy at least two replicas for high availability.</span></span> <span data-ttu-id="028cd-194">Szükség lehet további, a replikák horizontális terhelésétől függően.</span><span class="sxs-lookup"><span data-stu-id="028cd-194">You may need to scale out the replicas further, depending on the load.</span></span>

<span data-ttu-id="028cd-195">Emellett fontolja meg az átjáró fut a fürtben található csomópontok külön készlete.</span><span class="sxs-lookup"><span data-stu-id="028cd-195">Also consider running the gateway on a dedicated set of nodes in the cluster.</span></span> <span data-ttu-id="028cd-196">Ez a módszer előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="028cd-196">Benefits to this approach include:</span></span>

- <span data-ttu-id="028cd-197">Elszigetelés.</span><span class="sxs-lookup"><span data-stu-id="028cd-197">Isolation.</span></span> <span data-ttu-id="028cd-198">Minden bejövő forgalom csomópontokhoz, amelyek el lehet különíteni a háttérszolgáltatások készletét kerül.</span><span class="sxs-lookup"><span data-stu-id="028cd-198">All inbound traffic goes to a fixed set of nodes, which can be isolated from backend services.</span></span>

- <span data-ttu-id="028cd-199">Stabil konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="028cd-199">Stable configuration.</span></span> <span data-ttu-id="028cd-200">Ha az átjáró hibásan van konfigurálva, a teljes alkalmazás elérhetetlenné válhat.</span><span class="sxs-lookup"><span data-stu-id="028cd-200">If the gateway is misconfigured, the entire application may become unavailable.</span></span>

- <span data-ttu-id="028cd-201">Teljesítmény.</span><span class="sxs-lookup"><span data-stu-id="028cd-201">Performance.</span></span> <span data-ttu-id="028cd-202">Előfordulhat, hogy szeretné egy adott Virtuálisgép-konfigurációt használja a megfelelő teljesítmény biztosítása érdekében az átjáró.</span><span class="sxs-lookup"><span data-stu-id="028cd-202">You may want to use a specific VM configuration for the gateway for performance reasons.</span></span>

## <a name="next-steps"></a><span data-ttu-id="028cd-203">További lépések</span><span class="sxs-lookup"><span data-stu-id="028cd-203">Next steps</span></span>

<span data-ttu-id="028cd-204">Az előző cikkeket rendelkezik tekintett meg azok a felületek *között* mikroszolgáltatás-alapú vagy a mikroszolgáltatások és az ügyfél alkalmazások között.</span><span class="sxs-lookup"><span data-stu-id="028cd-204">The previous articles have looked at the interfaces *between* microservices or between microservices and client applications.</span></span> <span data-ttu-id="028cd-205">A kialakításból fakadóan ezeken a felületeken minden egyes szolgáltatás kezelje egy fekete mezőt.</span><span class="sxs-lookup"><span data-stu-id="028cd-205">By design, these interfaces treat each service as a black box.</span></span> <span data-ttu-id="028cd-206">Mikroszolgáltatások, soha nem kell közzétenniük, adatkezelés hogyan megvalósítási részleteit.</span><span class="sxs-lookup"><span data-stu-id="028cd-206">In particular, microservices should never expose implementation details about how they manage data.</span></span> <span data-ttu-id="028cd-207">Következmények az adatintegritás és adatkonzisztencia, a következő cikkben bemutattuk, amely rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="028cd-207">That has implications for data integrity and data consistency, explored in the next article.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="028cd-208">Az adatok mikroszolgáltatások kapcsolatos szempontok</span><span class="sxs-lookup"><span data-stu-id="028cd-208">Data considerations for microservices</span></span>](./data-considerations.md)
