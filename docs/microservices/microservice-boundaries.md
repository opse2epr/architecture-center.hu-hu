---
title: Mikroszolgáltatások határainak azonosítása
description: Mikroszolgáltatások határainak azonosítása
author: MikeWasson
ms.date: 12/08/2017
ms.openlocfilehash: d35b92ffd97c4fda5d6599340925ce3dfea7f15b
ms.sourcegitcommit: a5e549c15a948f6fb5cec786dbddc8578af3be66
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 05/06/2018
ms.locfileid: "33673402"
---
# <a name="designing-microservices-identifying-microservice-boundaries"></a><span data-ttu-id="47250-103">Mikroszolgáltatások tervezése: mikroszolgáltatási határok azonosítása</span><span class="sxs-lookup"><span data-stu-id="47250-103">Designing microservices: Identifying microservice boundaries</span></span>

<span data-ttu-id="47250-104">Mi az a mikroszolgáltatási megfelelő a mérete?</span><span class="sxs-lookup"><span data-stu-id="47250-104">What is the right size for a microservice?</span></span> <span data-ttu-id="47250-105">Gyakran hallott valami hatását, "túl nagy, és nem túl kicsi" &mdash; , és ez biztosan megfelelő, amíg nincs nagyon hasznos a gyakorlatban.</span><span class="sxs-lookup"><span data-stu-id="47250-105">You often hear something to the effect of, "not too big and not too small" &mdash; and while that's certainly correct, it's not very helpful in practice.</span></span> <span data-ttu-id="47250-106">De ha egy gondosan tervezett tartománymodell, sokkal könnyebben mikroszolgáltatások létrehozására vonatkozó ok.</span><span class="sxs-lookup"><span data-stu-id="47250-106">But if you start from a carefully designed domain model, it's much easier to reason about microservices.</span></span>

![](./images/bounded-contexts.png)

## <a name="from-domain-model-to-microservices"></a><span data-ttu-id="47250-107">A tartomány modell mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="47250-107">From domain model to microservices</span></span>

<span data-ttu-id="47250-108">Az a [előző fejezetben](./domain-analysis.md), meghatározott a dron továbbítási alkalmazást hozhat létre a kötött környezetek készlete.</span><span class="sxs-lookup"><span data-stu-id="47250-108">In the [previous chapter](./domain-analysis.md), we defined a set of bounded contexts for the Drone Delivery application.</span></span> <span data-ttu-id="47250-109">Azt tekintett jobban meg ezeket a kötött környezetben, amelyet szállítási környezetben futhat, és az entitások, összesítések, készletének azonosított és, hogy a tartományi szolgáltatásoktól, amelyet a környezetben.</span><span class="sxs-lookup"><span data-stu-id="47250-109">Then we looked more closely at one of these bounded contexts, the Shipping bounded context, and identified a set of entities, aggregates, and domain services for that bounded context.</span></span>

<span data-ttu-id="47250-110">Most még készen áll a modell az alkalmazás tervét.</span><span class="sxs-lookup"><span data-stu-id="47250-110">Now we're ready to go from domain model to application design.</span></span> <span data-ttu-id="47250-111">Íme egy megközelítés, amely segítségével a modell mikroszolgáltatások származik.</span><span class="sxs-lookup"><span data-stu-id="47250-111">Here's an approach that you can use to derive microservices from the domain model.</span></span>

1. <span data-ttu-id="47250-112">A kötött környezetben kezdődik.</span><span class="sxs-lookup"><span data-stu-id="47250-112">Start with a bounded context.</span></span> <span data-ttu-id="47250-113">A funkció egy mikroszolgáltatási általában nem kell fedik egynél több kötött környezetben.</span><span class="sxs-lookup"><span data-stu-id="47250-113">In general, the functionality in a microservice should not span more than one bounded context.</span></span> <span data-ttu-id="47250-114">Definíció a kötött környezetben a határ az egyes tartományokhoz-modell jelöli meg.</span><span class="sxs-lookup"><span data-stu-id="47250-114">By definition, a bounded context marks the boundary of a particular domain model.</span></span> <span data-ttu-id="47250-115">Ha talál meg, hogy egy mikroszolgáltatási együtt keveri-e másik tartományba modellek, ez a jele, hogy visszalép, és a tartomány elemzés pontosítsa szeretne.</span><span class="sxs-lookup"><span data-stu-id="47250-115">If you find that a microservice mixes different domain models together, that's a sign that you may need to go back and refine your domain analysis.</span></span>

2. <span data-ttu-id="47250-116">Ezután nézze meg a tartomány modell összesíti.</span><span class="sxs-lookup"><span data-stu-id="47250-116">Next, look at the aggregates in your domain model.</span></span> <span data-ttu-id="47250-117">Aggregátumok gyakran esetén használható jól mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="47250-117">Aggregates are often good candidates for microservices.</span></span> <span data-ttu-id="47250-118">Egy jól megtervezett összesítést mutat egy tetszetős mikroszolgáltatási jellemzői számos, mint:</span><span class="sxs-lookup"><span data-stu-id="47250-118">A well-designed aggregate exhibits many of the characteristics of a well-designed microservice, such as:</span></span>

    - <span data-ttu-id="47250-119">Összesítő üzleti követelmények, nem pedig például az adatok elérése vagy az üzenetkezelési technikai problémákat származik.</span><span class="sxs-lookup"><span data-stu-id="47250-119">An aggregate is derived from business requirements, rather than technical concerns such as data access or messaging.</span></span>  
    - <span data-ttu-id="47250-120">Összesítő magas működési Kohéziós kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="47250-120">An aggregate should have high functional cohesion.</span></span>
    - <span data-ttu-id="47250-121">Egy összesítésnek az adatmegőrzési szegélyére.</span><span class="sxs-lookup"><span data-stu-id="47250-121">An aggregate is a boundary of persistence.</span></span>
    - <span data-ttu-id="47250-122">Aggregátumok lazán kell lennie.</span><span class="sxs-lookup"><span data-stu-id="47250-122">Aggregates should be loosely coupled.</span></span> 
    
3. <span data-ttu-id="47250-123">Tartományi szolgáltatások esetén is használható jól mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="47250-123">Domain services are also good candidates for microservices.</span></span> <span data-ttu-id="47250-124">Tartományi szolgáltatások több összesítések állapotmentes műveletek legyenek.</span><span class="sxs-lookup"><span data-stu-id="47250-124">Domain services are stateless operations across multiple aggregates.</span></span> <span data-ttu-id="47250-125">Egy tipikus példája az olyan munkafolyamatot, amely magában foglalja a több mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="47250-125">A typical example is a workflow that involves several microservices.</span></span> <span data-ttu-id="47250-126">Példa erre a dron továbbítási alkalmazást hozhat létre a lesz látható.</span><span class="sxs-lookup"><span data-stu-id="47250-126">We'll see an example of this in the Drone Delivery application.</span></span>

4. <span data-ttu-id="47250-127">Mindemellett érdemes lehet megfontolnia nem funkcionális követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="47250-127">Finally, consider non-functional requirements.</span></span> <span data-ttu-id="47250-128">Nézze meg a tényezőket, mint a csapat mérete, adattípusok, technológiák, méretezhetőségi követelményeinek, rendelkezésre állási követelmények és biztonsági követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="47250-128">Look at factors such as team size, data types, technologies, scalability requirements, availability requirements, and security requirements.</span></span> <span data-ttu-id="47250-129">Ezek a tényezők vezethet, hogy további egy mikroszolgáltatási felbontása két vagy több kisebb szolgáltatás, vagy ellenkező tegye, és több mikroszolgáltatások egy egységgé kombinálják.</span><span class="sxs-lookup"><span data-stu-id="47250-129">These factors may lead you to further decompose a microservice into two or more smaller services, or do the opposite and combine several microservices into one.</span></span> 

<span data-ttu-id="47250-130">Miután azonosította a mikroszolgáltatások az alkalmazásban, ellenőrizze a kialakítás az alábbi feltételek alapján:</span><span class="sxs-lookup"><span data-stu-id="47250-130">After you identify the microservices in your application, validate your design against the following criteria:</span></span>

- <span data-ttu-id="47250-131">Minden szolgáltatás egyetlen felelősségi rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="47250-131">Each service has a single responsibility.</span></span>
- <span data-ttu-id="47250-132">Nincsenek chatty hívások nem szolgáltatások között.</span><span class="sxs-lookup"><span data-stu-id="47250-132">There are no chatty calls between services.</span></span> <span data-ttu-id="47250-133">Ha a felosztás két szolgáltatások funkciókat hatására túlságosan chatty is, ezeket a funkciókat tartozó ugyanazt a szolgáltatást a hiba lehet.</span><span class="sxs-lookup"><span data-stu-id="47250-133">If splitting functionality into two services causes them to be overly chatty, it may be a symptom that these functions belong in the same service.</span></span>
- <span data-ttu-id="47250-134">Egyes szolgáltatások nem elég nagy, hogy azt épül fel egy kis csoport egymástól függetlenül működik-e.</span><span class="sxs-lookup"><span data-stu-id="47250-134">Each service is small enough that it can be built by a small team working independently.</span></span>
- <span data-ttu-id="47250-135">Nincsenek, amely szükséges két vagy több zárolás lépésben telepítendő szolgáltatások közötti függőségek.</span><span class="sxs-lookup"><span data-stu-id="47250-135">There are no inter-dependencies that will require two or more services to be deployed in lock-step.</span></span> <span data-ttu-id="47250-136">Mindig lehetővé kell tenni bármely egyéb szolgáltatások üzembe helyezésével szolgáltatás központi telepítése.</span><span class="sxs-lookup"><span data-stu-id="47250-136">It should always be possible to deploy a service without redeploying any other services.</span></span>
- <span data-ttu-id="47250-137">Szolgáltatások szorosan nem összekapcsolt, és egymástól függetlenül lehet fejleszteni.</span><span class="sxs-lookup"><span data-stu-id="47250-137">Services are not tightly coupled, and can evolve independently.</span></span>
- <span data-ttu-id="47250-138">A szolgáltatás határok nem hoz létre az adatok konzisztenciájának vagy integritási kapcsolatos problémák.</span><span class="sxs-lookup"><span data-stu-id="47250-138">Your service boundaries will not create problems with data consistency or integrity.</span></span> <span data-ttu-id="47250-139">Néha fontos funkciók üzembe egy egyetlen mikroszolgáltatási adatkonzisztencia karbantartásához.</span><span class="sxs-lookup"><span data-stu-id="47250-139">Sometimes it's important to maintain data consistency by putting functionality into a single microservice.</span></span> <span data-ttu-id="47250-140">Említett, vegye figyelembe, hogy tényleg szüksége van az erős konzisztencia.</span><span class="sxs-lookup"><span data-stu-id="47250-140">That said, consider whether you really need strong consistency.</span></span> <span data-ttu-id="47250-141">Stratégiák a végleges konzisztencia címzési egy elosztott rendszerben, és a szolgáltatások gyakran decomposing előnyeit járó a végleges konzisztencia kezelése kihívásaival.</span><span class="sxs-lookup"><span data-stu-id="47250-141">There are strategies for addressing eventual consistency in a distributed system, and the benefits of decomposing services often outweigh the challenges of managing eventual consistency.</span></span>

<span data-ttu-id="47250-142">Mindenekelőtt fontos gyakorlati, és ne feledje, hogy tartományi-központú kialakítás iteratív folyamat.</span><span class="sxs-lookup"><span data-stu-id="47250-142">Above all, it's important to be pragmatic, and remember that domain-driven design is an iterative process.</span></span> <span data-ttu-id="47250-143">Ha kétségei vannak, a kiindulási pont további coarse-grained mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="47250-143">When in doubt, start with more coarse-grained microservices.</span></span> <span data-ttu-id="47250-144">Egy mikroszolgáltatási felosztása két kisebb szolgáltatás még újrabontása funkciók között több meglévő mikroszolgáltatások könnyebb.</span><span class="sxs-lookup"><span data-stu-id="47250-144">Splitting a microservice into two smaller services is easier than refactoring functionality across several existing microservices.</span></span>
  
## <a name="drone-delivery-defining-the-microservices"></a><span data-ttu-id="47250-145">Dron kézbesítési: A mikroszolgáltatások meghatározása</span><span class="sxs-lookup"><span data-stu-id="47250-145">Drone Delivery: Defining the microservices</span></span>

<span data-ttu-id="47250-146">Visszahívása, hogy a fejlesztői csapat a négy összesítések kellett azonosított &mdash; kézbesítési, a csomag, a dron és a fiók &mdash; és két tartományi szolgáltatásokban, az ütemező és a felügyelő.</span><span class="sxs-lookup"><span data-stu-id="47250-146">Recall that the development team had identified the four aggregates &mdash; Delivery, Package, Drone, and Account &mdash; and two domain services, Scheduler and Supervisor.</span></span> 

<span data-ttu-id="47250-147">Kézbesítési és csomag esetén mikroszolgáltatások nyilvánvaló használható.</span><span class="sxs-lookup"><span data-stu-id="47250-147">Delivery and Package are obvious candidates for microservices.</span></span> <span data-ttu-id="47250-148">Az ütemező és a felügyelő koordinálja a tevékenységét más mikroszolgáltatások, érdemes a tartományi szolgáltatások, mikroszolgáltatások végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="47250-148">The Scheduler and Supervisor coordinate the activities performed by other microservices, so it makes sense to implement these domain services as microservices.</span></span>  

<span data-ttu-id="47250-149">Dron és fiók is érdekes, mert más kötött környezetekhez tartoznak.</span><span class="sxs-lookup"><span data-stu-id="47250-149">Drone and Account are interesting because they belong to other bounded contexts.</span></span> <span data-ttu-id="47250-150">Egy beállítást a dron hívni az ütemező és fiókot, amelyet környezetek közvetlenül.</span><span class="sxs-lookup"><span data-stu-id="47250-150">One option is for the Scheduler to call the Drone and Account bounded contexts directly.</span></span> <span data-ttu-id="47250-151">Egy másik lehetőség, ha dron és a fiók mikroszolgáltatások belül a szállítási, amelyet a környezetben.</span><span class="sxs-lookup"><span data-stu-id="47250-151">Another option is to create Drone and Account microservices inside the Shipping bounded context.</span></span> <span data-ttu-id="47250-152">Ezek mikroszolgáltatások volna résidőkiosztással API-k vagy az adatok sémákat, amely a szállítási környezetben érdemesebb jelentkezik, mintha a kötött környezetek között.</span><span class="sxs-lookup"><span data-stu-id="47250-152">These microservices would mediate between the bounded contexts, by exposing APIs or data schemas that are more suited to the Shipping context.</span></span>

<span data-ttu-id="47250-153">A dron és a fiókot, amelyet részleteit környezetek Ez az útmutató túlmutató vannak, ezért létrehoztunk utánzatait szolgáltatások számukra a hivatkozás megvalósításában.</span><span class="sxs-lookup"><span data-stu-id="47250-153">The details of the Drone and Account bounded contexts are beyond the scope of this guidance, so we created mock services for them in our reference implementation.</span></span> <span data-ttu-id="47250-154">De az alábbiakban néhány tényezőket kell figyelembe venni ebben a helyzetben:</span><span class="sxs-lookup"><span data-stu-id="47250-154">But here are some factors to consider in this situation:</span></span>

- <span data-ttu-id="47250-155">Mi az a hálózata terhet hívása közvetlenül be a másik kötött környezetet?</span><span class="sxs-lookup"><span data-stu-id="47250-155">What is the network overhead of calling directly into the other bounded context?</span></span> 

- <span data-ttu-id="47250-156">Az adatok séma a más kötött környezet megfelelő-e ebben a környezetben, vagy azt jobban kell rendelkeznie a kötött környezet igényeinek megfelelő séma?</span><span class="sxs-lookup"><span data-stu-id="47250-156">Is the data schema for the other bounded context suitable for this context, or is it better to have a schema that's tailored to this bounded context?</span></span> 

- <span data-ttu-id="47250-157">A másik kötött környezetet egy olyan korábbi rendszer?</span><span class="sxs-lookup"><span data-stu-id="47250-157">Is the other bounded context a legacy system?</span></span> <span data-ttu-id="47250-158">Ha igen, létrehozhat egy szolgáltatás, amely úgy működik, mint egy [elleni sérülés réteg](../patterns/anti-corruption-layer.md) lefordítani az örökölt rendszer és a modern alkalmazások között.</span><span class="sxs-lookup"><span data-stu-id="47250-158">If so, you might create a service that acts as an [anti-corruption layer](../patterns/anti-corruption-layer.md) to translate between the legacy system and the modern application.</span></span> 

- <span data-ttu-id="47250-159">Mi az a csoport struktúra?</span><span class="sxs-lookup"><span data-stu-id="47250-159">What is the team structure?</span></span> <span data-ttu-id="47250-160">Az egyszerű, a másik kötött környezetet felelős csapat kommunikálni?</span><span class="sxs-lookup"><span data-stu-id="47250-160">Is it easy to communicate with the team that's responsible for the other bounded context?</span></span> <span data-ttu-id="47250-161">Ha nem, egy szolgáltatás, amely a két környezet közötti közvetítő létrehozása segíthet csoportközi kommunikációs költségeinek csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="47250-161">If not, creating a service that mediates between the two contexts can help to mitigate the cost of cross-team communication.</span></span>

<span data-ttu-id="47250-162">Amennyiben azt nem veszi figyelembe nem működési vonatkozó követelményei.</span><span class="sxs-lookup"><span data-stu-id="47250-162">So far, we haven't considered any non-functional requirements.</span></span> <span data-ttu-id="47250-163">Az alkalmazás átviteli követelmények gondolat, a fejlesztői csapat lezárását hozzon létre egy külön adatfeldolgozást mikroszolgáltatási választásával dolgozhat fel ügyfélkérelmek felelős.</span><span class="sxs-lookup"><span data-stu-id="47250-163">Thinking about the application's throughput requirements, the development team decided to create a separate Ingestion microservice that is responsible for ingesting client requests.</span></span> <span data-ttu-id="47250-164">A mikroszolgáltatási megvalósítandó [Terheléskiegyenlítés](../patterns/queue-based-load-leveling.md) által a bejövő kérések üzembe egy puffer feldolgozásra.</span><span class="sxs-lookup"><span data-stu-id="47250-164">This microservice will implement [load leveling](../patterns/queue-based-load-leveling.md) by putting incoming requests into a buffer for processing.</span></span> <span data-ttu-id="47250-165">A Feladatütemező a kérelmek beolvassa a pufferből, és a munkafolyamat végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="47250-165">The Scheduler will read the requests from the buffer and execute the workflow.</span></span> 

<span data-ttu-id="47250-166">Nem funkcionális követelményeinek a csapata egy további szolgáltatás létrehozásához vezetett.</span><span class="sxs-lookup"><span data-stu-id="47250-166">Non-functional requirements led the team to create one additional service.</span></span> <span data-ttu-id="47250-167">Az összes szolgáltatást, amennyiben az ütemezés és a valós idejű csomagok rendelkezik folyamattal kapcsolatos törölték.</span><span class="sxs-lookup"><span data-stu-id="47250-167">All of the services so far have been about the process of scheduling and delivering packages in real time.</span></span> <span data-ttu-id="47250-168">De a rendszer is minden szállítási előzmények tárolása a hosszú távú tárolás, az adatok elemzésére.</span><span class="sxs-lookup"><span data-stu-id="47250-168">But the system also needs to store the history of every delivery in long-term storage for data analysis.</span></span> <span data-ttu-id="47250-169">A csapat számít, így ez a kézbesítési szolgáltatás feladata.</span><span class="sxs-lookup"><span data-stu-id="47250-169">The team considered making this the responsibility of the Delivery service.</span></span> <span data-ttu-id="47250-170">Azonban az adattárolási követelmények eltérőek meglehetősen korábbi elemzéshez és üzenetsoroktól műveletek (lásd: [adatok szempontok](./data-considerations.md)).</span><span class="sxs-lookup"><span data-stu-id="47250-170">However, the data storage requirements are quite different for historical analysis versus in-flight operations (see [Data considerations](./data-considerations.md)).</span></span> <span data-ttu-id="47250-171">Ezért úgy döntött, a csapat külön kézbesítési előzmények szolgáltatás, amely a kézbesítési szolgáltatás DeliveryTracking események figyelését, és az eseményeket írni az hosszú távú tárolás létrehozása.</span><span class="sxs-lookup"><span data-stu-id="47250-171">Therefore, the team decided to create a separate Delivery History service, which will listen for DeliveryTracking events from the Delivery service and write the events into long-term storage.</span></span>

<span data-ttu-id="47250-172">Az alábbi ábrán a Tervező ezen a ponton:</span><span class="sxs-lookup"><span data-stu-id="47250-172">The following diagram shows the design at this point:</span></span>
 
![](./images/microservices.png)

## <a name="choosing-a-compute-option"></a><span data-ttu-id="47250-173">A számítási lehetőség kiválasztása</span><span class="sxs-lookup"><span data-stu-id="47250-173">Choosing a compute option</span></span>

<span data-ttu-id="47250-174">A *számítás* kifejezés azon számítási erőforrások futtatási modelljére utal, amelyeken az alkalmazás fut.</span><span class="sxs-lookup"><span data-stu-id="47250-174">The term *compute* refers to the hosting model for the computing resources that your application runs on.</span></span> <span data-ttu-id="47250-175">Egy mikroszolgáltatások architektúra két megközelítés különösen népszerű:</span><span class="sxs-lookup"><span data-stu-id="47250-175">For a microservices architecture, two approaches are especially popular:</span></span>

- <span data-ttu-id="47250-176">A szolgáltatás az orchestrator dedikált csomópontok (VM) szolgáltatás kezeli.</span><span class="sxs-lookup"><span data-stu-id="47250-176">A service orchestrator that manages services running on dedicated nodes (VMs).</span></span>
- <span data-ttu-id="47250-177">Egy kiszolgáló nélküli architektúra függvények használatával szolgáltatásként (FaaS).</span><span class="sxs-lookup"><span data-stu-id="47250-177">A serverless architecture using functions as a service (FaaS).</span></span> 

<span data-ttu-id="47250-178">Ezek nem csak a beállítások, amíg azok mindkét bevált módszerekkel mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="47250-178">While these aren't the only options, they are both proven approaches to building microservices.</span></span> <span data-ttu-id="47250-179">Egy alkalmazás tartalmazhat mindkét megközelítés.</span><span class="sxs-lookup"><span data-stu-id="47250-179">An application might include both approaches.</span></span>

### <a name="service-orchestrators"></a><span data-ttu-id="47250-180">Szolgáltatás orchestrators</span><span class="sxs-lookup"><span data-stu-id="47250-180">Service orchestrators</span></span>

<span data-ttu-id="47250-181">Az orchestrator telepítésére és kezelésére a szolgáltatások kapcsolódó feladatokat végzi.</span><span class="sxs-lookup"><span data-stu-id="47250-181">An orchestrator handles tasks related to deploying and managing a set of services.</span></span> <span data-ttu-id="47250-182">Ezek a feladatok közé tartozik a csomópontok, szolgáltatások, a nem megfelelő szolgáltatások újraindítása állapotának figyelése szolgáltatásokban helyezi, és töltse be a hálózati forgalom terheléselosztása között szolgáltatáspéldány, a szolgáltatásészlelés, egy szolgáltatás példányának számának méretezését, és alkalmazása frissíteni a konfigurációt.</span><span class="sxs-lookup"><span data-stu-id="47250-182">These tasks include placing services on nodes, monitoring the health of services, restarting unhealthy services, load balancing network traffic across service instances, service discovery, scaling the number of instances of a service, and applying configuration updates.</span></span> <span data-ttu-id="47250-183">Népszerű orchestrators Kubernetes, a DC/OS, a Docker Swarm és a Service Fabric tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="47250-183">Popular orchestrators include Kubernetes, DC/OS, Docker Swarm, and Service Fabric.</span></span> 

- <span data-ttu-id="47250-184">[Az Azure Tárolószolgáltatás](/azure/container-service/) (ACS) az Azure-szolgáltatások, amely lehetővé teszi egy éles használatra kész Kubernetes, DC/OS- vagy Docker Swarm-fürt központi telepítése.</span><span class="sxs-lookup"><span data-stu-id="47250-184">[Azure Container Service](/azure/container-service/) (ACS) is an Azure service that lets you deploy a production-ready Kubernetes, DC/OS, or Docker Swarm cluster.</span></span>

- <span data-ttu-id="47250-185">[(Az Azure Tárolószolgáltatás) AKS](/azure/aks/) egy felügyelt Kubernetes szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="47250-185">[AKS (Azure Container Service)](/azure/aks/) is a managed Kubernetes service.</span></span> <span data-ttu-id="47250-186">AKS rendelkezések Kubernetes és tesz elérhetővé a Kubernetes API-végpontok, de használja, és kezeli a Kubernetes vezérlő vezérlősík hajt végre az automatikus frissítések automatikus javítás, automatikus skálázás és egyéb kezelési feladatok.</span><span class="sxs-lookup"><span data-stu-id="47250-186">AKS provisions Kubernetes and exposes the Kubernetes API endpoints, but hosts and manages the Kubernetes control plane, performing automated upgrades, automated patching, autoscaling, and other management tasks.</span></span> <span data-ttu-id="47250-187">Az eltolásokat tekintheti AKS, hogy a "Kubernetes API-k szolgáltatásként."</span><span class="sxs-lookup"><span data-stu-id="47250-187">You can think of AKS as being "Kubernetes APIs as a service."</span></span> <span data-ttu-id="47250-188">Írásának időpontjában AKS még mindig preview.</span><span class="sxs-lookup"><span data-stu-id="47250-188">At the time of writing, AKS is still in preview.</span></span> <span data-ttu-id="47250-189">Azonban várható, hogy AKS lesz-e az előnyben részesített módja Kubernetes futtassa az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="47250-189">However, it's expected that AKS will become the preferred way to run Kubernetes in Azure.</span></span> 

- <span data-ttu-id="47250-190">[A Service Fabric](/azure/service-fabric/) egy elosztott rendszerek platformja csomagolása, üzembe helyezése és kezelése mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="47250-190">[Service Fabric](/azure/service-fabric/) is a distributed systems platform for packaging, deploying, and managing microservices.</span></span> <span data-ttu-id="47250-191">Mikroszolgáltatások létrehozására is telepíthető a Service Fabric, tárolók, bináris végrehajtható fájlok, vagy mint [Reliable Services](/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="47250-191">Microservices can be deployed to Service Fabric as containers, as binary executables, or as [Reliable Services](/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="47250-192">A Reliable Services programozási modell használatával szolgáltatások használhatja közvetlenül a Service Fabric programozási API-kat a rendszer, a jelentés állapotának lekérdezése, konfigurációs és a kód módosítására értesítések fogadása és egyéb szolgáltatások felderítése.</span><span class="sxs-lookup"><span data-stu-id="47250-192">Using the Reliable Services programming model, services can directly use Service Fabric programming APIs to query the system, report health, receive notifications about configuration and code changes, and discover other services.</span></span> <span data-ttu-id="47250-193">A Service Fabric legfontosabb különbséget a használatával állapot-nyilvántartó szolgáltatások erős összpontosít [megbízható gyűjtemények](/azure/service-fabric/service-fabric-reliable-services-reliable-collections).</span><span class="sxs-lookup"><span data-stu-id="47250-193">A key differentiation with Service Fabric is its strong focus on building stateful services using [Reliable Collections](/azure/service-fabric/service-fabric-reliable-services-reliable-collections).</span></span>

### <a name="containers"></a><span data-ttu-id="47250-194">Containers</span><span class="sxs-lookup"><span data-stu-id="47250-194">Containers</span></span>

<span data-ttu-id="47250-195">Egyes esetekben személyek szolgáltatással kapcsolatban tárolók és mikroszolgáltatások létrehozására az ugyanaz, mintha.</span><span class="sxs-lookup"><span data-stu-id="47250-195">Sometimes people talk about containers and microservices as if they were the same thing.</span></span> <span data-ttu-id="47250-196">Amíg, amely nem igaz értékű &mdash; nem szükséges tárolók mikroszolgáltatások létrehozására &mdash; tárolók rendelkezik néhány előnyről szempontjából különösen mikroszolgáltatások, például:</span><span class="sxs-lookup"><span data-stu-id="47250-196">While that's not true &mdash; you don't need containers to build microservices &mdash; containers do have some benefits that are particularly relevant to microservices, such as:</span></span>

- <span data-ttu-id="47250-197">**Hordozhatóság**.</span><span class="sxs-lookup"><span data-stu-id="47250-197">**Portability**.</span></span> <span data-ttu-id="47250-198">A tároló lemezkép csomag egy különálló futtató anélkül, hogy telepítse a szalagtárak vagy más függőségek.</span><span class="sxs-lookup"><span data-stu-id="47250-198">A container image is a standalone package that runs without needing to install libraries or other dependencies.</span></span> <span data-ttu-id="47250-199">Amely megkönnyíti az központi telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="47250-199">That makes them easy to deploy.</span></span> <span data-ttu-id="47250-200">Tárolók megkezdődött, és így akkor is léptetési mentése új példányok további terhelés kezelése érdekében vagy csomóponthibák helyreállítása gyorsan, leállt.</span><span class="sxs-lookup"><span data-stu-id="47250-200">Containers can be started and stopped quickly, so you can spin up new instances to handle more load or to recover from node failures.</span></span> 

- <span data-ttu-id="47250-201">**Sűrűség**.</span><span class="sxs-lookup"><span data-stu-id="47250-201">**Density**.</span></span> <span data-ttu-id="47250-202">Tárolók olyan egyszerűsített képest a futó virtuális gépek esetén, mert ugyanazt az operációs rendszer-erőforrások.</span><span class="sxs-lookup"><span data-stu-id="47250-202">Containers are lightweight compared with running a virtual machine, because they share OS resources.</span></span> <span data-ttu-id="47250-203">Amely lehetővé teszi a csomag több tároló alakzatot egy egycsomópontos, amely akkor különösen akkor hasznos, ha az alkalmazás számos kis szolgáltatásból áll.</span><span class="sxs-lookup"><span data-stu-id="47250-203">That makes it possible to pack multiple containers onto a single node, which is especially useful when the application consists of many small services.</span></span>

- <span data-ttu-id="47250-204">**Erőforrás-elkülönítést**.</span><span class="sxs-lookup"><span data-stu-id="47250-204">**Resource isolation**.</span></span> <span data-ttu-id="47250-205">Korlátozhatja a memória- és elérhető a tárolóhoz, így győződjön meg arról, hogy egy elszabadult folyamat nem lefoglalhat a gazdagép-erőforrások mennyiségét.</span><span class="sxs-lookup"><span data-stu-id="47250-205">You can limit the amount of memory and CPU that is available to a container, which can help to ensure that a runaway process doesn't exhaust the host resources.</span></span> <span data-ttu-id="47250-206">Tekintse meg a [válaszfal mintát](../patterns/bulkhead.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="47250-206">See the [Bulkhead Pattern](../patterns/bulkhead.md) for more information.</span></span>

### <a name="serverless-functions-as-a-service"></a><span data-ttu-id="47250-207">Kiszolgáló nélküli (funkciók szolgáltatásként)</span><span class="sxs-lookup"><span data-stu-id="47250-207">Serverless (Functions as a Service)</span></span>

<span data-ttu-id="47250-208">Egy kiszolgáló nélküli architektúrával nem a virtuális gépek vagy a virtuális hálózati infrastruktúra kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="47250-208">With a serverless architecture, you don't manage the VMs or the virtual network infrastructure.</span></span> <span data-ttu-id="47250-209">Ehelyett telepít kódot és az üzemeltetési szolgáltatás kezeli, ezt a kódot és egy virtuális Gépet, és futtatnia kell.</span><span class="sxs-lookup"><span data-stu-id="47250-209">Instead, you deploy code and the hosting service handles putting that code onto a VM and executing it.</span></span> <span data-ttu-id="47250-210">Ez a megközelítés általában kis részletes funkciók, amelyek koordinált eseményvezérelt használó alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="47250-210">This approach tends to favor small granular functions that are coordinated using event-based triggers.</span></span> <span data-ttu-id="47250-211">Várólista elhelyezte alatt álló üzenet például előfordulhat, hogy vált egy függvényt, amely beolvassa a várólistából, és feldolgozza az üzenetet.</span><span class="sxs-lookup"><span data-stu-id="47250-211">For example, a message being placed onto a queue might trigger a function that reads from the queue and processes the message.</span></span>

<span data-ttu-id="47250-212">[Az Azure Functions] [ functions] egy kiszolgáló nélküli számítási szolgáltatás, amely támogatja a különböző függvény eseményindítók, beleértve a HTTP-kérelmekre, Service Bus-üzenetsorok, és az Event Hubs eseményeket.</span><span class="sxs-lookup"><span data-stu-id="47250-212">[Azure Functions][functions] is a serverless compute service that supports various function triggers, including HTTP requests, Service Bus queues, and Event Hubs events.</span></span> <span data-ttu-id="47250-213">Teljes listáját lásd: [Azure Functions eseményindítók és kötések fogalmak][functions-triggers].</span><span class="sxs-lookup"><span data-stu-id="47250-213">For a complete list, see [Azure Functions triggers and bindings concepts][functions-triggers].</span></span> <span data-ttu-id="47250-214">Fontolja meg is [Azure esemény rács][event-grid], ez az útválasztási szolgáltatás kezelt esemény az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="47250-214">Also consider [Azure Event Grid][event-grid], which is a managed event routing service in Azure.</span></span>

### <a name="orchestrator-or-serverless"></a><span data-ttu-id="47250-215">Az orchestrator vagy kiszolgáló nélküli?</span><span class="sxs-lookup"><span data-stu-id="47250-215">Orchestrator or serverless?</span></span>

<span data-ttu-id="47250-216">Az alábbiakban néhány tényezők választás az orchestrator megközelítés és a kiszolgáló nélküli megközelítés során figyelembe kell venni.</span><span class="sxs-lookup"><span data-stu-id="47250-216">Here are some factors to consider when choosing between an orchestrator approach and a serverless approach.</span></span>

<span data-ttu-id="47250-217">**Kezelhetőségi** egy kiszolgáló nélküli alkalmazást könnyen kezelhető, mivel a platform kezeli az összes a számítási erőforrásokat meg.</span><span class="sxs-lookup"><span data-stu-id="47250-217">**Manageability** A serverless application is easy to manage, because the platform manages all the of compute resources for you.</span></span> <span data-ttu-id="47250-218">Az orchestrator kivonatolja a kezelése és konfigurálása a fürt egyes funkcióit, amíg azt nem teljesen elrejtése az alapul szolgáló virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="47250-218">While an orchestrator abstracts some aspects of managing and configuring a cluster, it does not completely hide the underlying VMs.</span></span> <span data-ttu-id="47250-219">Az orchestrator szüksége lesz kell vennie, például terheléselosztás, Processzor- és memóriahasználatról, és a hálózati terhelést.</span><span class="sxs-lookup"><span data-stu-id="47250-219">With an orchestrator, you will need to think about issues such as load balancing, CPU and memory usage, and networking.</span></span>

<span data-ttu-id="47250-220">**Rugalmasság és a Vezérlés**.</span><span class="sxs-lookup"><span data-stu-id="47250-220">**Flexibility and control**.</span></span> <span data-ttu-id="47250-221">Egy orchestrator lehetővé teszi az ellenőrzése alatt tartja a konfigurálása és kezelése, a szolgáltatások és a fürt nagy mennyiségű.</span><span class="sxs-lookup"><span data-stu-id="47250-221">An orchestrator gives you a great deal of control over configuring and managing your services and the cluster.</span></span> <span data-ttu-id="47250-222">Mi a fontosabb nagyobb fokú összetettségével.</span><span class="sxs-lookup"><span data-stu-id="47250-222">The tradeoff is additional complexity.</span></span> <span data-ttu-id="47250-223">Egy kiszolgáló nélküli architektúrával akkor feladták vezérlő bizonyos fokú mivel ezek az adatok azért.</span><span class="sxs-lookup"><span data-stu-id="47250-223">With a serverless architecture, you give up some degree of control because these details are abstracted.</span></span>

<span data-ttu-id="47250-224">**Hordozhatóság**.</span><span class="sxs-lookup"><span data-stu-id="47250-224">**Portability**.</span></span> <span data-ttu-id="47250-225">Az itt felsorolt orchestrators (Kubernetes, a DC/OS, Docker Swarm és a Service Fabric) összes futtatható helyi vagy több nyilvános felhőkben.</span><span class="sxs-lookup"><span data-stu-id="47250-225">All of the orchestrators listed here (Kubernetes, DC/OS, Docker Swarm, and Service Fabric) can run on-premises or in multiple public clouds.</span></span> 

<span data-ttu-id="47250-226">**Alkalmazások integrálása**.</span><span class="sxs-lookup"><span data-stu-id="47250-226">**Application integration**.</span></span> <span data-ttu-id="47250-227">Ez hozható létre olyan összetett alkalmazás használatával egy kiszolgáló nélküli architektúra kihívást jelenthet.</span><span class="sxs-lookup"><span data-stu-id="47250-227">It can be challenging to build a complex application using a serverless architecture.</span></span> <span data-ttu-id="47250-228">Az Azure-ban egy lehetőség [Azure Logic Apps](/azure/logic-apps/) Azure Functions készletét.</span><span class="sxs-lookup"><span data-stu-id="47250-228">One option in Azure is to use [Azure Logic Apps](/azure/logic-apps/) to coordinate a set of Azure Functions.</span></span> <span data-ttu-id="47250-229">Ez a megközelítés példáért lásd: [hozzon létre egy függvényt, amely az Azure Logic Apps](/azure/azure-functions/functions-twitter-email).</span><span class="sxs-lookup"><span data-stu-id="47250-229">For an example of this approach, see [Create a function that integrates with Azure Logic Apps](/azure/azure-functions/functions-twitter-email).</span></span>

<span data-ttu-id="47250-230">**Költség**.</span><span class="sxs-lookup"><span data-stu-id="47250-230">**Cost**.</span></span> <span data-ttu-id="47250-231">Az egy orchestrator kell fizetnie a a fürt futó virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="47250-231">With an orchestrator, you pay for the VMs that are running in the cluster.</span></span> <span data-ttu-id="47250-232">Egy kiszolgáló nélküli alkalmazást, a kell fizetnie csak a tényleges számítási erőforrások használatának.</span><span class="sxs-lookup"><span data-stu-id="47250-232">With a serverless application, you pay only for the actual compute resources consumed.</span></span> <span data-ttu-id="47250-233">Mindkét esetben kell számításba a további szolgáltatások, például a tárolás, az adatbázisok és az üzenetkezelési szolgáltatások költségét.</span><span class="sxs-lookup"><span data-stu-id="47250-233">In both cases, you need to factor in the cost of any additional services, such as storage, databases, and messaging services.</span></span>

<span data-ttu-id="47250-234">**Méretezhetőség**.</span><span class="sxs-lookup"><span data-stu-id="47250-234">**Scalability**.</span></span> <span data-ttu-id="47250-235">Az Azure Functions automatikusan méretezi kielégítéséhez, a bejövő események száma alapján.</span><span class="sxs-lookup"><span data-stu-id="47250-235">Azure Functions scales automatically to meet demand, based on the number of incoming events.</span></span> <span data-ttu-id="47250-236">Az orchestrator, az ki lehet terjeszteni a fürtben futó szolgáltatás példányainak számát.</span><span class="sxs-lookup"><span data-stu-id="47250-236">With an orchestrator, you can scale out by increasing the number of service instances running in the cluster.</span></span> <span data-ttu-id="47250-237">A fürt további virtuális gépek hozzáadásával is méretezheti.</span><span class="sxs-lookup"><span data-stu-id="47250-237">You can also scale by adding additional VMs to the cluster.</span></span>

<span data-ttu-id="47250-238">Az útmutató elsősorban használ Kubernetes, de volt használjuk az Azure Functions egy szolgáltatás, nevezetesen a kézbesítési előzmények szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="47250-238">Our reference implementation primarily uses Kubernetes, but we did use Azure Functions for one service, namely the Delivery History service.</span></span> <span data-ttu-id="47250-239">Az Azure Functions remekül beválik, ha az adott szolgáltatáshoz, volt, mert az egy eseményvezérelt munkaterhelés.</span><span class="sxs-lookup"><span data-stu-id="47250-239">Azure Functions was a good fit for this particular service, because it's is an event-driven workload.</span></span> <span data-ttu-id="47250-240">Az Event Hubs eseményindító használatával függvényt, a szolgáltatás szükséges kód mennyisége minimális.</span><span class="sxs-lookup"><span data-stu-id="47250-240">By using an Event Hubs trigger to invoke the function, the service needed a minimal amount of code.</span></span> <span data-ttu-id="47250-241">A kézbesítési előzmények szolgáltatás is nem a fő munkafolyamat azon része, is fut a Kubernetes fürtön kívüli nem befolyásolják a végpont felhasználó által kezdeményezett műveletek.</span><span class="sxs-lookup"><span data-stu-id="47250-241">Also, the Delivery History service is not part of the main workflow, so running it outside of the Kubernetes cluster doesn't affect the end-to-end latency of user-initiated operations.</span></span> 

> [!div class="nextstepaction"]
> [<span data-ttu-id="47250-242">Adathozzáféréssel kapcsolatos szempontok</span><span class="sxs-lookup"><span data-stu-id="47250-242">Data considerations</span></span>](./data-considerations.md)

<!-- links -->

[acs-engine]: https://github.com/Azure/acs-engine
[acs-faq]: /azure/container-service/dcos-swarm/container-service-faq
[event-grid]: /azure/event-grid/
[functions]: /azure/azure-functions/functions-overview
[functions-triggers]: /azure/azure-functions/functions-triggers-bindings
