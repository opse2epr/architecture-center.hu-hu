---
title: A mikroszolgáltatásokat tartományelemzés
description: A mikroszolgáltatásokat tartományelemzés.
author: MikeWasson
ms.date: 02/25/2019
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: microservices
ms.openlocfilehash: 7f3ce8bb7d1e03d59670cc4685589ec76738d95c
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58298914"
---
# <a name="using-domain-analysis-to-model-microservices"></a><span data-ttu-id="f2d44-103">Tartományelemzés a mikroszolgáltatás-alapú modell használatával</span><span class="sxs-lookup"><span data-stu-id="f2d44-103">Using domain analysis to model microservices</span></span>

<span data-ttu-id="f2d44-104">A legnagyobb kihívás a mikroszolgáltatások egyik meghatározni az egyes szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="f2d44-104">One of the biggest challenges of microservices is to define the boundaries of individual services.</span></span> <span data-ttu-id="f2d44-105">Az általános szabály, hogy egy szolgáltatás hajtsa végre a "jó" &mdash; azonban, hogy a szabály üzembe gyakorlat tanulmányozásakor.</span><span class="sxs-lookup"><span data-stu-id="f2d44-105">The general rule is that a service should do "one thing" &mdash; but putting that rule into practice requires careful thought.</span></span> <span data-ttu-id="f2d44-106">Nincs egyetlen vehesse a műszaki folyamat, amely a "megfelelő" tervezési állítja elő.</span><span class="sxs-lookup"><span data-stu-id="f2d44-106">There is no mechanical process that will produce the "right" design.</span></span> <span data-ttu-id="f2d44-107">Hogy mélyen gondolja át az üzleti tartomány, követelmények és célok.</span><span class="sxs-lookup"><span data-stu-id="f2d44-107">You have to think deeply about your business domain, requirements, and goals.</span></span> <span data-ttu-id="f2d44-108">Ellenkező esetben fejezheti be néhány nemkívánatos jellemzői, például a szolgáltatások, a rövid kapcsoló, vagy rosszul tervezett felületek közötti rejtett függőségek kiváló haphazard kialakítás.</span><span class="sxs-lookup"><span data-stu-id="f2d44-108">Otherwise, you can end up with a haphazard design that exhibits some undesirable characteristics, such as hidden dependencies between services, tight coupling, or poorly designed interfaces.</span></span> <span data-ttu-id="f2d44-109">Ez a cikk bemutatja a mikroszolgáltatások tervezése tartományvezérelt megközelítést.</span><span class="sxs-lookup"><span data-stu-id="f2d44-109">This article shows a domain-driven approach to designing microservices.</span></span>

<span data-ttu-id="f2d44-110">Ez a cikk egy drónos szállítási szolgáltatást használ egy futó példát.</span><span class="sxs-lookup"><span data-stu-id="f2d44-110">This article uses a drone delivery service as a running example.</span></span> <span data-ttu-id="f2d44-111">Talál további információt a forgatókönyv és a megfelelő megvalósításának hivatkozhat [Itt](../design/index.md).</span><span class="sxs-lookup"><span data-stu-id="f2d44-111">You can read more about the scenario and the corresponding reference implementation [here](../design/index.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="f2d44-112">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="f2d44-112">Introduction</span></span>

<span data-ttu-id="f2d44-113">Mikroszolgáltatás-alapú üzleti képességekről, például az adatok elérése vagy az üzenetkezelési nem vízszintes rétegek köré kell építeni.</span><span class="sxs-lookup"><span data-stu-id="f2d44-113">Microservices should be designed around business capabilities, not horizontal layers such as data access or messaging.</span></span> <span data-ttu-id="f2d44-114">Emellett laza összekapcsolással és magas működési kohézióval kell rendelkezniük.</span><span class="sxs-lookup"><span data-stu-id="f2d44-114">In addition, they should have loose coupling and high functional cohesion.</span></span> <span data-ttu-id="f2d44-115">Mikroszolgáltatások *lazán kapcsolódó* Ha módosítható egy szolgáltatást anélkül, hogy más szolgáltatások egyszerre frissíteni kell.</span><span class="sxs-lookup"><span data-stu-id="f2d44-115">Microservices are *loosely coupled* if you can change one service without requiring other services to be updated at the same time.</span></span> <span data-ttu-id="f2d44-116">A mikroszolgáltatások általában *javul* hogy vannak-e egyetlen, jól meghatározott célra, például a felhasználói fiókok kezelése, vagy nyomon követi a szállítás előzményei.</span><span class="sxs-lookup"><span data-stu-id="f2d44-116">A microservice is *cohesive* if it has a single, well-defined purpose, such as managing user accounts or tracking delivery history.</span></span> <span data-ttu-id="f2d44-117">Egy szolgáltatás kell magába foglalja az adatait, és ügyfelek kategorizálják absztrakt.</span><span class="sxs-lookup"><span data-stu-id="f2d44-117">A service should encapsulate domain knowledge and abstract that knowledge from clients.</span></span> <span data-ttu-id="f2d44-118">Egy ügyfél például egy drónt ütemezése anélkül, hogy az ütemezési algoritmust, vagy a drone flotta kezelésének módját részleteinek képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="f2d44-118">For example, a client should be able to schedule a drone without knowing the details of the scheduling algorithm or how the drone fleet is managed.</span></span>

<span data-ttu-id="f2d44-119">Tartományvezérelt tervezési (DDD) olyan keretrendszert kínál, kerülhetnek a legtöbb, a módszer jól megtervezett mikroszolgáltatások készletét.</span><span class="sxs-lookup"><span data-stu-id="f2d44-119">Domain-driven design (DDD) provides a framework that can get you most of the way to a set of well-designed microservices.</span></span> <span data-ttu-id="f2d44-120">DDD stratégiai és taktikai fázisa van két különböző.</span><span class="sxs-lookup"><span data-stu-id="f2d44-120">DDD has two distinct phases, strategic and tactical.</span></span> <span data-ttu-id="f2d44-121">A stratégiai nnn a rendszer a nagy méretű struktúra definiálása.</span><span class="sxs-lookup"><span data-stu-id="f2d44-121">In strategic DDD, you are defining the large-scale structure of the system.</span></span> <span data-ttu-id="f2d44-122">Stratégiai DDD segít, hogy az architektúra üzleti funkciók összpontosítanak.</span><span class="sxs-lookup"><span data-stu-id="f2d44-122">Strategic DDD helps to ensure that your architecture remains focused on business capabilities.</span></span> <span data-ttu-id="f2d44-123">Taktikai DDD ismertet néhány tervezési mintát, használhatja a tartományi modell létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="f2d44-123">Tactical DDD provides a set of design patterns that you can use to create the domain model.</span></span> <span data-ttu-id="f2d44-124">Ezek a minták entitások, az összesítések és a tartományi szolgáltatások közé tartozik.</span><span class="sxs-lookup"><span data-stu-id="f2d44-124">These patterns include entities, aggregates, and domain services.</span></span> <span data-ttu-id="f2d44-125">E taktikai minták segítségével tervezheti meg, amelyek egyaránt lazán kapcsolódó és javul.</span><span class="sxs-lookup"><span data-stu-id="f2d44-125">These tactical patterns will help you to design microservices that are both loosely coupled and cohesive.</span></span>

![Egy tartományvezérelt tervezési (DDD) folyamat ábrája](../images/ddd-process.png)

<span data-ttu-id="f2d44-127">Az ebben a cikkben, a következő végigvezetjük a következő lépéseket a Drone Delivery alkalmazás való alkalmazásával:</span><span class="sxs-lookup"><span data-stu-id="f2d44-127">In this article and the next, we'll walk through the following steps, applying them to the Drone Delivery application:</span></span>

1. <span data-ttu-id="f2d44-128">Indítsa el az üzleti tartomány tudni, hogy az alkalmazás működési követelmények elemzésével.</span><span class="sxs-lookup"><span data-stu-id="f2d44-128">Start by analyzing the business domain to understand the application's functional requirements.</span></span> <span data-ttu-id="f2d44-129">Ebben a lépésben a kimenete a tartományhoz, amely is tartománymodellek formális készletét át lesz alakítva egy informális leírását.</span><span class="sxs-lookup"><span data-stu-id="f2d44-129">The output of this step is an informal description of the domain, which can be refined into a more formal set of domain models.</span></span>

2. <span data-ttu-id="f2d44-130">Ezt követően adja meg a *környezetek határolt* annak a tartománynak.</span><span class="sxs-lookup"><span data-stu-id="f2d44-130">Next, define the *bounded contexts* of the domain.</span></span> <span data-ttu-id="f2d44-131">Egyes kapcsolódó kontextusai tartalmaz olyan tartományi modell, amely egy adott nevű, a nagyobb alkalmazás jelöli.</span><span class="sxs-lookup"><span data-stu-id="f2d44-131">Each bounded context contains a domain model that represents a particular subdomain of the larger application.</span></span>

3. <span data-ttu-id="f2d44-132">A körülhatárolt kontextus belül taktikai DDD-minták meghatározására, entitás, összesítések és a tartományi szolgáltatások vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="f2d44-132">Within a bounded context, apply tactical DDD patterns to define entities, aggregates, and domain services.</span></span>

4. <span data-ttu-id="f2d44-133">Az előző lépésből származó eredmények segítségével azonosíthatja a mikroszolgáltatás-alapú, az alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="f2d44-133">Use the results from the previous step to identify the microservices in your application.</span></span>

<span data-ttu-id="f2d44-134">Ez a cikk ismerteti az első három lépést, amely elsősorban DDD.</span><span class="sxs-lookup"><span data-stu-id="f2d44-134">In this article, we cover the first three steps, which are primarily concerned with DDD.</span></span> <span data-ttu-id="f2d44-135">A következő cikkben hogy azonosítani a mikroszolgáltatás-alapú.</span><span class="sxs-lookup"><span data-stu-id="f2d44-135">In the next article, we'll identify the microservices.</span></span> <span data-ttu-id="f2d44-136">Azonban fontos megjegyezni, hogy DDD-iteratív, folyamatban lévő folyamat.</span><span class="sxs-lookup"><span data-stu-id="f2d44-136">However, it's important to remember that DDD is an iterative, ongoing process.</span></span> <span data-ttu-id="f2d44-137">A szolgáltatás határain kőbe nem rögzített.</span><span class="sxs-lookup"><span data-stu-id="f2d44-137">Service boundaries aren't fixed in stone.</span></span> <span data-ttu-id="f2d44-138">Módon alakul ki egy alkalmazást, dönthet úgy újratervezéssel a szolgáltatás számos kisebb szolgáltatásra.</span><span class="sxs-lookup"><span data-stu-id="f2d44-138">As an application evolves, you may decide to break apart a service into several smaller services.</span></span>

> [!NOTE]
> <span data-ttu-id="f2d44-139">Ez a cikk a teljes és átfogó tartományelemzés nem jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f2d44-139">This article doesn't show a complete and comprehensive domain analysis.</span></span> <span data-ttu-id="f2d44-140">Hogy szándékosan tartani a példa rövid, a fő pontokat mutatja be.</span><span class="sxs-lookup"><span data-stu-id="f2d44-140">We deliberately kept the example brief, to illustrate the main points.</span></span> <span data-ttu-id="f2d44-141">Ismertető háttér-DDD, javasoljuk, hogy Eric Evans *driven tervezési*, a könyvet, amely az előfizetési időszak első bevezetése.</span><span class="sxs-lookup"><span data-stu-id="f2d44-141">For more background on DDD, we recommend Eric Evans' *Domain-Driven Design*, the book that first introduced the term.</span></span> <span data-ttu-id="f2d44-142">A hivatkozás egy másik jó *Implementing Domain-Driven tervezési* Vaughn Vernon szerint.</span><span class="sxs-lookup"><span data-stu-id="f2d44-142">Another good reference is *Implementing Domain-Driven Design* by Vaughn Vernon.</span></span>

## <a name="scenario-drone-delivery"></a><span data-ttu-id="f2d44-143">Forgatókönyv: Drone delivery</span><span class="sxs-lookup"><span data-stu-id="f2d44-143">Scenario: Drone delivery</span></span>

<span data-ttu-id="f2d44-144">A Fabrikam vállalat egy drónos szállítási szolgáltatást indít.</span><span class="sxs-lookup"><span data-stu-id="f2d44-144">Fabrikam, Inc. is starting a drone delivery service.</span></span> <span data-ttu-id="f2d44-145">A cég egy drónokból álló flottát kezel.</span><span class="sxs-lookup"><span data-stu-id="f2d44-145">The company manages a fleet of drone aircraft.</span></span> <span data-ttu-id="f2d44-146">A vállalkozások regisztrálnak a szolgáltatásban, és a felhasználók kérhetik egy termék drónos kézbesítését.</span><span class="sxs-lookup"><span data-stu-id="f2d44-146">Businesses register with the service, and users can request a drone to pick up goods for delivery.</span></span> <span data-ttu-id="f2d44-147">Amikor az ügyfél ütemezi a felvételt, egy háttérrendszer hozzárendel egy drónt, és értesíti a felhasználót a várható szállítási időről.</span><span class="sxs-lookup"><span data-stu-id="f2d44-147">When a customer schedules a pickup, a backend system assigns a drone and notifies the user with an estimated delivery time.</span></span> <span data-ttu-id="f2d44-148">Amíg a kézbesítés folyamatban van, az ügyfél nyomon követheti a drón helyét, miközben a becsült érkezési időpont folyamatosan frissül.</span><span class="sxs-lookup"><span data-stu-id="f2d44-148">While the delivery is in progress, the customer can track the location of the drone, with a continuously updated ETA.</span></span>

<span data-ttu-id="f2d44-149">Ez a forgatókönyv egy viszonylag összetett tartományt foglal magába.</span><span class="sxs-lookup"><span data-stu-id="f2d44-149">This scenario involves a fairly complicated domain.</span></span> <span data-ttu-id="f2d44-150">A vállalat számára problémát jelenthet a drónok ütemezése, a csomagok nyomon követése, a felhasználói fiókok felügyelete, valamint az előzményadatok tárolása és elemzése.</span><span class="sxs-lookup"><span data-stu-id="f2d44-150">Some of the business concerns include scheduling drones, tracking packages, managing user accounts, and storing and analyzing historical data.</span></span> <span data-ttu-id="f2d44-151">Ezenkívül a Fabrikam gyorsan piacra szeretne lépni, majd gyors iterációkat kíván végezni, új funkciók és képességek hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="f2d44-151">Moreover, Fabrikam wants to get to market quickly and then iterate quickly, adding new functionality and capabilities.</span></span> <span data-ttu-id="f2d44-152">Az alkalmazásnak felhőszinten kell üzemelnie, magas szolgáltatási szintű célkitűzéssel (service level objective, SLO).</span><span class="sxs-lookup"><span data-stu-id="f2d44-152">The application needs to operate at cloud scale, with a high service level objective (SLO).</span></span> <span data-ttu-id="f2d44-153">A Fabrikam emellett arra számít, hogy a rendszer különböző részeinek nagyon eltérő adattárolási és lekérdezési igényei lesznek.</span><span class="sxs-lookup"><span data-stu-id="f2d44-153">Fabrikam also expects that different parts of the system will have very different requirements for data storage and querying.</span></span> <span data-ttu-id="f2d44-154">A megfontolandó szempontok alapján a Fabrikam azt a döntést hozta, hogy egy mikroszolgáltatási architektúrát választ a Drone Delivery alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="f2d44-154">All of these considerations lead Fabrikam to choose a microservices architecture for the Drone Delivery application.</span></span>

## <a name="analyze-the-domain"></a><span data-ttu-id="f2d44-155">A tartomány elemzése</span><span class="sxs-lookup"><span data-stu-id="f2d44-155">Analyze the domain</span></span>

<span data-ttu-id="f2d44-156">DDD módszerével mikroszolgáltatások tervezheti meg, hogy minden szolgáltatás forms természetesen illeszkednek a egy működési üzleti igény szerint segít.</span><span class="sxs-lookup"><span data-stu-id="f2d44-156">Using a DDD approach will help you to design microservices so that every service forms a natural fit to a functional business requirement.</span></span> <span data-ttu-id="f2d44-157">Megkönnyíti, hogy ne a trap lehetővé teszik a szervezet határain vagy technológiai lehetőségek diktálni a tervező.</span><span class="sxs-lookup"><span data-stu-id="f2d44-157">It can help you to avoid the trap of letting organizational boundaries or technology choices dictate your design.</span></span>

<span data-ttu-id="f2d44-158">Kód írása előtt szüksége van egy Madártávlatból létrehozásakor a rendszer.</span><span class="sxs-lookup"><span data-stu-id="f2d44-158">Before writing any code, you need a bird's eye view of the system that you are creating.</span></span> <span data-ttu-id="f2d44-159">DDD elindítja az üzleti tartomány modellezés, és hozzon létre egy *tartománymodell*.</span><span class="sxs-lookup"><span data-stu-id="f2d44-159">DDD starts by modeling the business domain and creating a *domain model*.</span></span> <span data-ttu-id="f2d44-160">A tartományi modellben egy absztrakt modell az üzleti tartomány.</span><span class="sxs-lookup"><span data-stu-id="f2d44-160">The domain model is an abstract model of the business domain.</span></span> <span data-ttu-id="f2d44-161">Azt a mondatokból és adatait rendezi, és egy közös nyelvvel biztosít a fejlesztők és a tartomány szakértői.</span><span class="sxs-lookup"><span data-stu-id="f2d44-161">It distills and organizes domain knowledge, and provides a common language for developers and domain experts.</span></span>

<span data-ttu-id="f2d44-162">Első lépésként minden az üzleti funkciók és a kapcsolatok hozzárendelése.</span><span class="sxs-lookup"><span data-stu-id="f2d44-162">Start by mapping all of the business functions and their connections.</span></span> <span data-ttu-id="f2d44-163">Ez valószínűleg egy együttműködésen alapuló erőfeszítés, amely magában foglalja a tartomány-szakértők, szoftverek tervezők és más érdekelt felek.</span><span class="sxs-lookup"><span data-stu-id="f2d44-163">This will likely be a collaborative effort that involves domain experts, software architects, and other stakeholders.</span></span> <span data-ttu-id="f2d44-164">Bármely adott formalism használatához nincs szükség.</span><span class="sxs-lookup"><span data-stu-id="f2d44-164">You don't need to use any particular formalism.</span></span>  <span data-ttu-id="f2d44-165">Diagram Vázlat vagy rajztáblaként rajzolni.</span><span class="sxs-lookup"><span data-stu-id="f2d44-165">Sketch a diagram or draw on whiteboard.</span></span>

<span data-ttu-id="f2d44-166">Töltse ki a diagramon, mivel előfordulhat, hogy megkezdése diszkrét altartományok azonosításához.</span><span class="sxs-lookup"><span data-stu-id="f2d44-166">As you fill in the diagram, you may start to identify discrete subdomains.</span></span> <span data-ttu-id="f2d44-167">Mely függvények szorosan kapcsolódó?</span><span class="sxs-lookup"><span data-stu-id="f2d44-167">Which functions are closely related?</span></span> <span data-ttu-id="f2d44-168">Amelyek funkciók alapvető üzleti, és kiegészítő szolgáltatásokat biztosító?</span><span class="sxs-lookup"><span data-stu-id="f2d44-168">Which functions are core to the business, and which provide ancillary services?</span></span> <span data-ttu-id="f2d44-169">Mi az a függőségi grafikon?</span><span class="sxs-lookup"><span data-stu-id="f2d44-169">What is the dependency graph?</span></span> <span data-ttu-id="f2d44-170">Ebben a kezdeti fázisban az érintett technológiákat és megvalósítási részletei nem.</span><span class="sxs-lookup"><span data-stu-id="f2d44-170">During this initial phase, you aren't concerned with technologies or implementation details.</span></span> <span data-ttu-id="f2d44-171">Ugyanakkor vegye figyelembe a hely, ahol az alkalmazás külső rendszerekkel, mint például a CRM, integrálható a fizetés feldolgozása, illetve rendszerek számlázási kell.</span><span class="sxs-lookup"><span data-stu-id="f2d44-171">That said, you should note the place where the application will need to integrate with external systems, such as CRM, payment processing, or billing systems.</span></span>

## <a name="example-drone-delivery-application"></a><span data-ttu-id="f2d44-172">Példa: Drone delivery alkalmazás</span><span class="sxs-lookup"><span data-stu-id="f2d44-172">Example: Drone delivery application</span></span>

<span data-ttu-id="f2d44-173">Néhány kezdeti tartomány az elemzést a Fabrikam csoport vonalkódképet hozzávetőleges vázlatot, és a Drone Delivery tartományhoz.</span><span class="sxs-lookup"><span data-stu-id="f2d44-173">After some initial domain analysis, the Fabrikam team came up with a rough sketch that depicts the Drone Delivery domain.</span></span>

![A Drone Delivery tartomány diagramja](../images/ddd1.svg)

- <span data-ttu-id="f2d44-175">**A szállítási** alapvető üzleti, mert a diagram közepére kerül.</span><span class="sxs-lookup"><span data-stu-id="f2d44-175">**Shipping** is placed in the center of the diagram, because it's core to the business.</span></span> <span data-ttu-id="f2d44-176">Minden más, a diagram létezik, ez a funkció engedélyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="f2d44-176">Everything else in the diagram exists to enable this functionality.</span></span>
- <span data-ttu-id="f2d44-177">**Felügyeleti drónos** alapvető üzleti is van.</span><span class="sxs-lookup"><span data-stu-id="f2d44-177">**Drone management** is also core to the business.</span></span> <span data-ttu-id="f2d44-178">Szorosan kapcsolódik a drone felügyeleti funkciókat tartalmaz **drónos javítási** és **prediktív elemzési** előre, amikor szüksége van a drónok a karbantartás és a karbantartás.</span><span class="sxs-lookup"><span data-stu-id="f2d44-178">Functionality that is closely related to drone management includes **drone repair** and using **predictive analysis** to predict when drones need servicing and maintenance.</span></span>
- <span data-ttu-id="f2d44-179">**DRÓN elemzési** biztosít a begyűjtés és kézbesítési becsült idő.</span><span class="sxs-lookup"><span data-stu-id="f2d44-179">**ETA analysis** provides time estimates for pickup and delivery.</span></span>
- <span data-ttu-id="f2d44-180">**Külső szállítás** szállítási alternatív módszerek ütemezése, ha a csomag nem lehet rendszerrel szállított teljesen drónos az alkalmazás lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="f2d44-180">**Third-party transportation** will enable the application to schedule alternative transportation methods if a package cannot be shipped entirely by drone.</span></span>
- <span data-ttu-id="f2d44-181">**Megosztás drónos** egy lehetséges az alapvető üzleti-bővítmény.</span><span class="sxs-lookup"><span data-stu-id="f2d44-181">**Drone sharing** is a possible extension of the core business.</span></span> <span data-ttu-id="f2d44-182">A vállalat bizonyos időszakokban drónos felesleges kapacitással rendelkezhet, és sikerült bérleti drónok, amelyek egyébként üresjárati ki.</span><span class="sxs-lookup"><span data-stu-id="f2d44-182">The company may have excess drone capacity during certain hours, and could rent out drones that would otherwise be idle.</span></span> <span data-ttu-id="f2d44-183">Ez a funkció az eredeti kiadásban nem.</span><span class="sxs-lookup"><span data-stu-id="f2d44-183">This feature will not be in the initial release.</span></span>
- <span data-ttu-id="f2d44-184">**Videó felügyeleti** van egy másik olyan terület, amely a vállalat előfordulhat, hogy bontsa ki az később.</span><span class="sxs-lookup"><span data-stu-id="f2d44-184">**Video surveillance** is another area that the company might expand into later.</span></span>
- <span data-ttu-id="f2d44-185">**Felhasználói fiókok**, **számlázás**, és **ügyfélszolgálatával** vannak, amelyek támogatják az alapvető üzleti altartományt.</span><span class="sxs-lookup"><span data-stu-id="f2d44-185">**User accounts**, **Invoicing**, and **Call center** are subdomains that support the core business.</span></span>

<span data-ttu-id="f2d44-186">Figyelje meg, hogy ezen a ponton a folyamat még nem végeztünk megvalósítása vagy technológiákkal kapcsolatos döntések.</span><span class="sxs-lookup"><span data-stu-id="f2d44-186">Notice that at this point in the process, we haven't made any decisions about implementation or technologies.</span></span> <span data-ttu-id="f2d44-187">Néhány az alrendszerek magában foglalhatja a szoftver külső rendszerek vagy harmadik féltől származó szolgáltatásokkal.</span><span class="sxs-lookup"><span data-stu-id="f2d44-187">Some of the subsystems may involve external software systems or third-party services.</span></span> <span data-ttu-id="f2d44-188">Még ha így az alkalmazásnak kell interakcióba ezen rendszerek és szolgáltatások, ezért fontos, hogy felveszi a tartományi modellben.</span><span class="sxs-lookup"><span data-stu-id="f2d44-188">Even so, the application needs to interact with these systems and services, so it's important to include them in the domain model.</span></span>

> [!NOTE]
> <span data-ttu-id="f2d44-189">Ha egy alkalmazás egy külső rendszer függ, annak a kockázata, hogy a külső rendszer sémát vagy API-t fog memóriavesztés az alkalmazásba, végső soron veszélyeztetése az architekturális tervezés.</span><span class="sxs-lookup"><span data-stu-id="f2d44-189">When an application depends on an external system, there is a risk that the external system's data schema or API will leak into your application, ultimately compromising the architectural design.</span></span> <span data-ttu-id="f2d44-190">Ez különösen igaz, amelyek nem mindig a modern ajánlott eljárásokat, és előfordulhat, hogy használja, pl. szövevényes adatsémák, elavult API-k vagy régebbi rendszerekkel.</span><span class="sxs-lookup"><span data-stu-id="f2d44-190">This is particularly true with legacy systems that may not follow modern best practices, and may use convoluted data schemas or obsolete APIs.</span></span> <span data-ttu-id="f2d44-191">Ebben az esetben fontos a külső rendszerek és az alkalmazás között a jól definiált határok rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="f2d44-191">In that case, it's important to have a well-defined boundary between these external systems and the application.</span></span> <span data-ttu-id="f2d44-192">Fontolja meg a [Leépítő minta](../../patterns/strangler.md) vagy a [Sérülésgátló réteg minta](../../patterns/anti-corruption-layer.md) erre a célra.</span><span class="sxs-lookup"><span data-stu-id="f2d44-192">Consider using the [Strangler pattern](../../patterns/strangler.md) or the [Anti-Corruption Layer pattern](../../patterns/anti-corruption-layer.md) for this purpose.</span></span>

## <a name="define-bounded-contexts"></a><span data-ttu-id="f2d44-193">Adja meg a kapcsolódó kontextusokat</span><span class="sxs-lookup"><span data-stu-id="f2d44-193">Define bounded contexts</span></span>

<span data-ttu-id="f2d44-194">A tartományi modell tartalmazza semmilyen felelősséget a világ valós hálózata &mdash; felhasználók, drónok, csomagokat és így tovább.</span><span class="sxs-lookup"><span data-stu-id="f2d44-194">The domain model will include representations of real things in the world &mdash; users, drones, packages, and so forth.</span></span> <span data-ttu-id="f2d44-195">De ez nem jelenti azt, hogy a rendszer minden része kell használni az azonos reprezentációinak ugyanazokat a műveleteket.</span><span class="sxs-lookup"><span data-stu-id="f2d44-195">But that doesn't mean that every part of the system needs to use the same representations for the same things.</span></span>

<span data-ttu-id="f2d44-196">Például alrendszereket, a drone javítása és a prediktív elemzés kezelni kell, amelyek sok fizikai jellemzők drónok, például a karbantartási előzményei, távolság, kor, modellszám, teljesítményt nyújt és stb.</span><span class="sxs-lookup"><span data-stu-id="f2d44-196">For example, subsystems that handle drone repair and predictive analysis will need to represent many physical characteristics drones, such as their maintenance history, mileage, age, model number, performance characteristics, and so on.</span></span> <span data-ttu-id="f2d44-197">De amikor egy kézbesítési ütemezni, azt nem érdeklik ezeket a dolgokat.</span><span class="sxs-lookup"><span data-stu-id="f2d44-197">But when it's time to schedule a delivery, we don't care about those things.</span></span> <span data-ttu-id="f2d44-198">Az ütemezési alrendszer csak tudnia kell, hogy rendelkezésre áll-e egy drónt, és a felvétel és kézbesítési DRÓN.</span><span class="sxs-lookup"><span data-stu-id="f2d44-198">The scheduling subsystem only needs to know whether a drone is available, and the ETA for pickup and delivery.</span></span>

<span data-ttu-id="f2d44-199">Ha létrehoz egy egyetlen modellt mindkét alrendszereket megpróbáltuk, szükségtelenül összetett lenne.</span><span class="sxs-lookup"><span data-stu-id="f2d44-199">If we tried to create a single model for both of these subsystems, it would be unnecessarily complex.</span></span> <span data-ttu-id="f2d44-200">Azt is válnak nehezebb a modellhez való idővel, mert több csapat dolgozik a különböző alrendszereket teljesítéséhez szüksége lesz a módosításokat.</span><span class="sxs-lookup"><span data-stu-id="f2d44-200">It would also become harder for the model to evolve over time, because any changes will need to satisfy multiple teams working on separate subsystems.</span></span> <span data-ttu-id="f2d44-201">Ezért érdemes gyakran külön modellek, amelyek ugyanazon valós entitás (ebben az esetben egy drónt) két különböző környezetekben tervezéséhez.</span><span class="sxs-lookup"><span data-stu-id="f2d44-201">Therefore, it's often better to design separate models that represent the same real-world entity (in this case, a drone) in two different contexts.</span></span> <span data-ttu-id="f2d44-202">Minden modell tartalmazza, csak a szolgáltatások és az attribútumokat, amelyek fontosak az adott környezeten belül.</span><span class="sxs-lookup"><span data-stu-id="f2d44-202">Each model contains only the features and attributes that are relevant within its particular context.</span></span>

<span data-ttu-id="f2d44-203">Ekkor nyernek a DDD fogalmát *környezetek határolt* play kerül.</span><span class="sxs-lookup"><span data-stu-id="f2d44-203">This is where the DDD concept of *bounded contexts* comes into play.</span></span> <span data-ttu-id="f2d44-204">A körülhatárolt kontextus egyszerűen a határt, a tartományban, ahol egy adott modell vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="f2d44-204">A bounded context is simply the boundary within a domain where a particular domain model applies.</span></span> <span data-ttu-id="f2d44-205">Az előző ábrán megnézzük, hogy csoportosíthatja funkció e a különböző függvényeket oszt egy szakterületi modell szerint.</span><span class="sxs-lookup"><span data-stu-id="f2d44-205">Looking at the previous diagram, we can group functionality according to whether various functions will share a single domain model.</span></span>

![Kapcsolódó kontextusokat ábrája](../images/ddd2.svg)

<span data-ttu-id="f2d44-207">Kapcsolódó kontextusokat, amelyek nem feltétlenül különítve egymástól.</span><span class="sxs-lookup"><span data-stu-id="f2d44-207">Bounded contexts are not necessarily isolated from one another.</span></span> <span data-ttu-id="f2d44-208">Ezen az ábrán a folytonos vonal a kapcsolódó kontextusokat csatlakozás helyeken, ahol két kapcsolódó kontextusokat interaktív képviseli.</span><span class="sxs-lookup"><span data-stu-id="f2d44-208">In this diagram, the solid lines connecting the bounded contexts represent places where two bounded contexts interact.</span></span> <span data-ttu-id="f2d44-209">A szállítási címhez tartozó felhasználói fiókoknak az ügyfelek adatainak lekérése, és a flotta a drónok ütemezése Drónos felügyeleti függ.</span><span class="sxs-lookup"><span data-stu-id="f2d44-209">For example, Shipping depends on User Accounts to get information about customers, and on Drone Management to schedule drones from the fleet.</span></span>

<span data-ttu-id="f2d44-210">A könyv *Domain-Driven Design*, Eric Evans számos olyan tartományi modell integritásának fenntartása, amikor interaktálnak az egy másik körülhatárolt kontextus mintákat ismerteti.</span><span class="sxs-lookup"><span data-stu-id="f2d44-210">In the book *Domain Driven Design*, Eric Evans describes several patterns for maintaining the integrity of a domain model when it interacts with another bounded context.</span></span> <span data-ttu-id="f2d44-211">Mikroszolgáltatások fő alapelveit egyik célja, hogy a szolgáltatások jól meghatározott API-kon keresztül kommunikálnak.</span><span class="sxs-lookup"><span data-stu-id="f2d44-211">One of the main principles of microservices is that services communicate through well-defined APIs.</span></span> <span data-ttu-id="f2d44-212">Ez a módszer felel meg a két minta, hogy Evans meghívja a gazdagépen nyissa meg a szolgáltatási és közzétett nyelvi.</span><span class="sxs-lookup"><span data-stu-id="f2d44-212">This approach corresponds to two patterns that Evans calls Open Host Service and Published Language.</span></span> <span data-ttu-id="f2d44-213">A megnyitott gazdagép szolgáltatás lényege, hogy egy alrendszer határozza meg a hivatalos protokoll (API) kommunikálni más alrendszerek.</span><span class="sxs-lookup"><span data-stu-id="f2d44-213">The idea of Open Host Service is that a subsystem defines a formal protocol (API) for other subsystems to communicate with it.</span></span> <span data-ttu-id="f2d44-214">Közzétett nyelvi kibővíti ezt az elképzelést tegye közzé az API-t egy űrlapon, amellyel más csapatokkal az ügyfelek írása.</span><span class="sxs-lookup"><span data-stu-id="f2d44-214">Published Language extends this idea by publishing the API in a form that other teams can use to write clients.</span></span> <span data-ttu-id="f2d44-215">A cikk [API-k tervezése a mikroszolgáltatásokat](../design/api-design.md), megbeszélhetünk használatával [OpenAPI-specifikáció](https://www.openapis.org/specification/repo) (korábban Swagger néven) kifejezett meghatározásához a REST API-k, nyelvtől független felület leírása JSON vagy a YAML formátumú.</span><span class="sxs-lookup"><span data-stu-id="f2d44-215">In the article [Designing APIs for microservices](../design/api-design.md), we discuss using [OpenAPI Specification](https://www.openapis.org/specification/repo) (formerly known as Swagger) to define language-agnostic interface descriptions for REST APIs, expressed in JSON or YAML format.</span></span>

<span data-ttu-id="f2d44-216">Tartson a folyamatban a többi fogunk koncentrálni, amelyet szállítási keretében.</span><span class="sxs-lookup"><span data-stu-id="f2d44-216">For the rest of this journey, we will focus on the Shipping bounded context.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f2d44-217">További lépések</span><span class="sxs-lookup"><span data-stu-id="f2d44-217">Next steps</span></span>

<span data-ttu-id="f2d44-218">Miután befejezte egy tartományelemzés, a következő lépés az taktikai DDD, a tartomány modellek nagyobb pontossággal meghatározásához a alkalmazni.</span><span class="sxs-lookup"><span data-stu-id="f2d44-218">After completing a domain analysis, the next step is to apply tactical DDD, to define your domain models with more precision.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="f2d44-219">Taktikai DDD</span><span class="sxs-lookup"><span data-stu-id="f2d44-219">Tactical DDD</span></span>](./tactical-ddd.md)
