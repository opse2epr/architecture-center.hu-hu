---
title: Sérülésgátló réteg minta
titleSuffix: Cloud Design Patterns
description: Egy előtér- vagy adapterréteget implementálhat egy korszerű alkalmazás és egy korábbi rendszer között.
keywords: tervezési minta
author: dragon119
ms.date: 06/23/2017
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: bec9fb1a2bd2ad8eab68d6fbf07bfa197e57cbf5
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54483955"
---
# <a name="anti-corruption-layer-pattern"></a><span data-ttu-id="9bc01-104">Sérülésgátló réteg minta</span><span class="sxs-lookup"><span data-stu-id="9bc01-104">Anti-Corruption Layer pattern</span></span>

<span data-ttu-id="9bc01-105">Egy előtérrendszer vagy implementálhat között különböző alrendszereket, amelyek nem azonos.</span><span class="sxs-lookup"><span data-stu-id="9bc01-105">Implement a façade or adapter layer between different subsystems that don't share the same semantics.</span></span> <span data-ttu-id="9bc01-106">Ez a réteg lefordítja a kéréseket, amelyek a többi alrendszer egy alrendszer hajt végre.</span><span class="sxs-lookup"><span data-stu-id="9bc01-106">This layer translates requests that one subsystem makes to the other subsystem.</span></span> <span data-ttu-id="9bc01-107">Ez a minta segítségével győződjön meg arról, hogy egy alkalmazás-tervezés nem korlátozódik alrendszereket külső függőségei.</span><span class="sxs-lookup"><span data-stu-id="9bc01-107">Use this pattern to ensure that an application's design is not limited by dependencies on outside subsystems.</span></span> <span data-ttu-id="9bc01-108">A mintáról először Eric Evans írt *Domain-Driven Design* című könyvében.</span><span class="sxs-lookup"><span data-stu-id="9bc01-108">This pattern was first described by Eric Evans in *Domain-Driven Design*.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="9bc01-109">Kontextus és probléma</span><span class="sxs-lookup"><span data-stu-id="9bc01-109">Context and problem</span></span>

<span data-ttu-id="9bc01-110">A legtöbb alkalmazás más rendszerekre támaszkodik bizonyos adatokért vagy funkciókért.</span><span class="sxs-lookup"><span data-stu-id="9bc01-110">Most applications rely on other systems for some data or functionality.</span></span> <span data-ttu-id="9bc01-111">Ha például egy örökölt alkalmazást egy modern rendszerbe migrálnak, annak továbbra is szüksége lehet a meglévő régebbi erőforrásokra.</span><span class="sxs-lookup"><span data-stu-id="9bc01-111">For example, when a legacy application is migrated to a modern system, it may still need existing legacy resources.</span></span> <span data-ttu-id="9bc01-112">Az új funkcióknak képesnek kell lenniük meghívni a régi rendszert.</span><span class="sxs-lookup"><span data-stu-id="9bc01-112">New features must be able to call the legacy system.</span></span> <span data-ttu-id="9bc01-113">Ez különösen igaz fokozatos migrálás esetén, ahol az idő előrehaladtával egy nagyobb alkalmazás különböző funkcióit helyezik át egy modern rendszerbe.</span><span class="sxs-lookup"><span data-stu-id="9bc01-113">This is especially true of gradual migrations, where different features of a larger application are moved to a modern system over time.</span></span>

<span data-ttu-id="9bc01-114">A régebbi rendszerekben gyakoriak a minőségbeli hibák (pl. szövevényes adatsémák, elavult API-k).</span><span class="sxs-lookup"><span data-stu-id="9bc01-114">Often these legacy systems suffer from quality issues such as convoluted data schemas or obsolete APIs.</span></span> <span data-ttu-id="9bc01-115">A korábbi rendszerek funkciói és technológiái nagyban eltérhetnek a modern rendszerekétől.</span><span class="sxs-lookup"><span data-stu-id="9bc01-115">The features and technologies used in legacy systems can vary widely from more modern systems.</span></span> <span data-ttu-id="9bc01-116">Ahhoz, hogy az új alkalmazás együttműködhessen a régebbi alkalmazással, nagy eséllyel támogatnia kell elavult infrastruktúrákat, protokollokat, adatmodelleket, API-kat vagy más olyan funkciókat, amelyeket máskülönben nem tennénk egy korszerű alkalmazás részévé.</span><span class="sxs-lookup"><span data-stu-id="9bc01-116">To interoperate with the legacy system, the new application may need to support outdated infrastructure, protocols, data models, APIs, or other features that you wouldn't otherwise put into a modern application.</span></span>

<span data-ttu-id="9bc01-117">Az új és a régebbi rendszer közötti hozzáférés fenntartása érdekében előfordulhat, hogy az új rendszernek alkalmazkodnia kell néhányhoz a korábbi rendszer API-jai vagy más szemantikái közül.</span><span class="sxs-lookup"><span data-stu-id="9bc01-117">Maintaining access between new and legacy systems can force the new system to adhere to at least some of the legacy system's APIs or other semantics.</span></span> <span data-ttu-id="9bc01-118">Ha ezek a régebbi funkciók hibásak, támogatásukkal „megsérül” a máskülönben letisztult tervezésű korszerű alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="9bc01-118">When these legacy features have quality issues, supporting them "corrupts" what might otherwise be a cleanly designed modern application.</span></span>

<span data-ttu-id="9bc01-119">Bármilyen külső rendszerrel, a fejlesztői csapat nem szabályozhatja, csak a régebbi rendszerekkel hasonló problémák merülhetnek fel.</span><span class="sxs-lookup"><span data-stu-id="9bc01-119">Similar issues can arise with any external system that your development team doesn't control, not just legacy systems.</span></span>

## <a name="solution"></a><span data-ttu-id="9bc01-120">Megoldás</span><span class="sxs-lookup"><span data-stu-id="9bc01-120">Solution</span></span>

<span data-ttu-id="9bc01-121">Ezek között egy sérülésgátló réteg elhelyezésével elkülönítheti a különböző alrendszereket.</span><span class="sxs-lookup"><span data-stu-id="9bc01-121">Isolate the different subsystems by placing an anti-corruption layer between them.</span></span> <span data-ttu-id="9bc01-122">Ez a réteg lefordítja a két rendszer, így több rendszer változatlan maradhat a másik elkerülheti a saját tervezése és technológiai megközelítése veszélyeztetése közötti kommunikációt.</span><span class="sxs-lookup"><span data-stu-id="9bc01-122">This layer translates communications between the two systems, allowing one system to remain unchanged while the other can avoid compromising its design and technological approach.</span></span>

![A Sérülésgátló réteg minta ábrája](./_images/anti-corruption-layer.png)

<span data-ttu-id="9bc01-124">A fenti ábrán egy két alrendszerek alkalmazás látható.</span><span class="sxs-lookup"><span data-stu-id="9bc01-124">The diagram above shows an application with two subsystems.</span></span> <span data-ttu-id="9bc01-125">Egy alrendszer meghívja a B alrendszer egy sérülésgátló réteg keresztül.</span><span class="sxs-lookup"><span data-stu-id="9bc01-125">Subsystem A calls to subsystem B through an anti-corruption layer.</span></span> <span data-ttu-id="9bc01-126">Alrendszer közötti kommunikációt és a sérülésgátló réteg mindig használja az adatmodellben és A. hívásait a sérülésgátló réteg alrendszerhez B felelnek meg adott alrendszer adatmodelljéhez vagy metódusaihoz alrendszer architektúráját.</span><span class="sxs-lookup"><span data-stu-id="9bc01-126">Communication between subsystem A and the anti-corruption layer always uses the data model and architecture of subsystem A. Calls from the anti-corruption layer to subsystem B conform to that subsystem's data model or methods.</span></span> <span data-ttu-id="9bc01-127">A sérülésgátló réteg tartalmazza az összes logikát, amely a két rendszer közötti fordításhoz szükséges.</span><span class="sxs-lookup"><span data-stu-id="9bc01-127">The anti-corruption layer contains all of the logic necessary to translate between the two systems.</span></span> <span data-ttu-id="9bc01-128">A réteget implementálhatja egy alkalmazáson belüli összetevőként, de akár független szolgáltatásként is.</span><span class="sxs-lookup"><span data-stu-id="9bc01-128">The layer can be implemented as a component within the application or as an independent service.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="9bc01-129">Problémák és megfontolandó szempontok</span><span class="sxs-lookup"><span data-stu-id="9bc01-129">Issues and considerations</span></span>

- <span data-ttu-id="9bc01-130">A sérülésgátló réteg késéseket okozhat a két rendszer közötti hívásoknál.</span><span class="sxs-lookup"><span data-stu-id="9bc01-130">The anti-corruption layer may add latency to calls made between the two systems.</span></span>
- <span data-ttu-id="9bc01-131">A sérülésgátló réteg egy további szolgáltatást képez, amely kezelést és karbantartást igényel.</span><span class="sxs-lookup"><span data-stu-id="9bc01-131">The anti-corruption layer adds an additional service that must be managed and maintained.</span></span>
- <span data-ttu-id="9bc01-132">Gondolja át, hogyan lesz skálázva a sérülésgátló réteg.</span><span class="sxs-lookup"><span data-stu-id="9bc01-132">Consider how your anti-corruption layer will scale.</span></span>
- <span data-ttu-id="9bc01-133">Fontolja meg, hogy egynél több sérülésgátló rétegre lenne-e szüksége.</span><span class="sxs-lookup"><span data-stu-id="9bc01-133">Consider whether you need more than one anti-corruption layer.</span></span> <span data-ttu-id="9bc01-134">Érdemes lehet funkció szerint felbontani több, különböző technológiákat és nyelveket használó szolgáltatásra, de más okokból is particionálhatja a sérülésgátló réteget.</span><span class="sxs-lookup"><span data-stu-id="9bc01-134">You may want to decompose functionality into multiple services using different technologies or languages, or there may be other reasons to partition the anti-corruption layer.</span></span>
- <span data-ttu-id="9bc01-135">Gondolja át, hogy egyéb alkalmazásaihoz vagy szolgáltatásaihoz képest hogyan fogja kezelni a sérülésgátló réteget.</span><span class="sxs-lookup"><span data-stu-id="9bc01-135">Consider how the anti-corruption layer will be managed in relation with your other applications or services.</span></span> <span data-ttu-id="9bc01-136">Hogyan fogja integrálni a monitorozási, kiadási és konfigurációs folyamataiba?</span><span class="sxs-lookup"><span data-stu-id="9bc01-136">How will it be integrated into your monitoring, release, and configuration processes?</span></span>
- <span data-ttu-id="9bc01-137">Győződjön meg arról, hogy a tranzakciós és adatkonzisztencia fenntartható és monitorozható.</span><span class="sxs-lookup"><span data-stu-id="9bc01-137">Make sure transaction and data consistency are maintained and can be monitored.</span></span>
- <span data-ttu-id="9bc01-138">Vegye figyelembe, hogy a sérülésgátló réteg különböző alrendszereket, vagy a szolgáltatások egy részhalmaza közötti összes kommunikációt kezelnie kell-e.</span><span class="sxs-lookup"><span data-stu-id="9bc01-138">Consider whether the anti-corruption layer needs to handle all communication between different subsystems, or just a subset of features.</span></span>
- <span data-ttu-id="9bc01-139">Ha a sérülésgátló réteg egy alkalmazás áttelepítési stratégiájának a részét, érdemes e állandó lesz, vagy kivonjuk a forgalomból Elvégre örökölt funkciót migrált.</span><span class="sxs-lookup"><span data-stu-id="9bc01-139">If the anti-corruption layer is part of an application migration strategy, consider whether it will be permanent, or will be retired after all legacy functionality has been migrated.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="9bc01-140">Mikor érdemes ezt a mintát használni?</span><span class="sxs-lookup"><span data-stu-id="9bc01-140">When to use this pattern</span></span>

<span data-ttu-id="9bc01-141">Használja ezt a mintát, ha:</span><span class="sxs-lookup"><span data-stu-id="9bc01-141">Use this pattern when:</span></span>

- <span data-ttu-id="9bc01-142">Több lépésben tervez migrációt végrehajtani, de szükség van a régi és az új rendszer közötti integráció fenntartására.</span><span class="sxs-lookup"><span data-stu-id="9bc01-142">A migration is planned to happen over multiple stages, but integration between new and legacy systems needs to be maintained.</span></span>
- <span data-ttu-id="9bc01-143">Két vagy több alrendszer különböző szemantikával rendelkezik, de mégis kommunikálniuk kell.</span><span class="sxs-lookup"><span data-stu-id="9bc01-143">Two or more subsystems have different semantics, but still need to communicate.</span></span>

<span data-ttu-id="9bc01-144">Nem érdemes ezt a mintát használni, ha nincsenek jelentős szemantikai különbségek az új és a régebbi rendszer között.</span><span class="sxs-lookup"><span data-stu-id="9bc01-144">This pattern may not be suitable if there are no significant semantic differences between new and legacy systems.</span></span>

## <a name="related-guidance"></a><span data-ttu-id="9bc01-145">Kapcsolódó útmutatók</span><span class="sxs-lookup"><span data-stu-id="9bc01-145">Related guidance</span></span>

- [<span data-ttu-id="9bc01-146">Leépítő minta</span><span class="sxs-lookup"><span data-stu-id="9bc01-146">Strangler pattern</span></span>](./strangler.md)
