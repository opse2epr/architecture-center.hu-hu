---
title: Oldalkocsi minta
description: Egy alkalmazás elkülönítési és beágyazás egy külön folyamatban vagy a tároló összetevőinek telepítéséhez.
author: dragon119
ms.date: 06/23/2017
ms.openlocfilehash: ec168009aa99f412c3f1222a1c404ea4ea5cb669
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="sidecar-pattern"></a><span data-ttu-id="1b0e0-103">Oldalkocsi minta</span><span class="sxs-lookup"><span data-stu-id="1b0e0-103">Sidecar pattern</span></span>

<span data-ttu-id="1b0e0-104">Egy alkalmazás elkülönítési és beágyazás egy külön folyamatban vagy a tároló összetevőinek telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-104">Deploy components of an application into a separate process or container to provide isolation and encapsulation.</span></span> <span data-ttu-id="1b0e0-105">Ebben a mintában a heterogén összetevők és technológiák állhatnak alkalmazások is engedélyezheti.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-105">This pattern can also enable applications to be composed of heterogeneous components and technologies.</span></span>

<span data-ttu-id="1b0e0-106">Ebben a mintában nevű *oldalkocsi* , mert azt egy motorkerékpárja csatolva oldalkocsi hasonlít.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-106">This pattern is named *Sidecar* because it resembles a sidecar attached to a motorcycle.</span></span> <span data-ttu-id="1b0e0-107">A mintában a oldalkocsi csatolva van egy szülő-alkalmazást, és a támogató szolgáltatásokat biztosítja az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-107">In the pattern, the sidecar is attached to a parent application and provides supporting features for the application.</span></span> <span data-ttu-id="1b0e0-108">A oldalkocsi is megosztja a szülő alkalmazás létrehozása és a velük a szülő már nincs azonos életciklussal.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-108">The sidecar also shares the same lifecycle as the parent application, being created and retired alongside the parent.</span></span> <span data-ttu-id="1b0e0-109">A oldalkocsi mintát van más néven a sidekick mintát, és a felbontás ellen minta.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-109">The sidecar pattern is sometimes referred to as the sidekick pattern and is a decomposition pattern.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="1b0e0-110">A környezetben, és probléma</span><span class="sxs-lookup"><span data-stu-id="1b0e0-110">Context and Problem</span></span>

<span data-ttu-id="1b0e0-111">Alkalmazások és szolgáltatások gyakran megkövetelik a kapcsolódó funkciókat, például figyelés, a naplózás, konfigurációs vagy hálózati szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-111">Applications and services often require related functionality, such as monitoring, logging, configuration, and networking services.</span></span> <span data-ttu-id="1b0e0-112">A perifériák feladatok külön összetevők vagy a szolgáltatások valósítható meg.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-112">These peripheral tasks can be implemented as separate components or services.</span></span> 

<span data-ttu-id="1b0e0-113">Ha ezek szorosan integrált az alkalmazásba, futtathatók legyenek meg az alkalmazás, így a megosztott erőforrások hatékony használatát.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-113">If they are tightly integrated into the application, they can run in the same process as the application, making efficient use of shared resources.</span></span> <span data-ttu-id="1b0e0-114">Azonban ez azt is jelenti nem jól elkülönített kerül, és ezek az összetevők egyikében kimaradás hatással lehet a többi összetevő vagy a teljes alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-114">However, this also means they are not well isolated, and an outage in one of these components can affect other components or the entire application.</span></span> <span data-ttu-id="1b0e0-115">Is akkor általában kell használnia az alkalmazás ugyanezen a nyelven használatával.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-115">Also, they usually need to be implemented using the same language as the parent application.</span></span> <span data-ttu-id="1b0e0-116">Ennek eredményeképpen az összetevő és az alkalmazás rendelkezik Bezárás egyes egymással.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-116">As a result, the component and the application have close interdependence on each other.</span></span>

<span data-ttu-id="1b0e0-117">Ha az alkalmazás az szolgáltatásaiba van kiválasztott, majd minden egyes szolgáltatás építhetők több különböző nyelvet és technológiákat.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-117">If the application is decomposed into services, then each service can be built using different languages and technologies.</span></span> <span data-ttu-id="1b0e0-118">Amíg ez a nagyobb rugalmasságot biztosít, az azt jelenti, hogy minden összetevő saját függőségei vannak, és nyelvspecifikus szalagtárak az alapul szolgáló platform és a szülőalkalmazás megosztott erőforrások eléréséhez szükséges.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-118">While this gives more flexibility, it means that each component has its own dependencies and requires language-specific libraries to access the underlying platform and any resources shared with the parent application.</span></span> <span data-ttu-id="1b0e0-119">Ezek a szolgáltatások emellett telepítése, a szolgáltatások külön is késés hozzáadni az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-119">In addition, deploying these features as separate services can add latency to the application.</span></span> <span data-ttu-id="1b0e0-120">A kód és nyelvspecifikus konfigurációkezelővel függőségeinek kezelése jelentős összetettségét, különösen olyan üzemeltetési, telepítése és kezelése is hozzáadhat.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-120">Managing the code and dependencies for these language-specific interfaces can also add considerable complexity, especially for hosting, deployment, and management.</span></span>

## <a name="solution"></a><span data-ttu-id="1b0e0-121">Megoldás</span><span class="sxs-lookup"><span data-stu-id="1b0e0-121">Solution</span></span>

<span data-ttu-id="1b0e0-122">Közös elhelyezése a feladatokat az elsődleges alkalmazással javul készlete, de a saját folyamat vagy a tárolót, és egy egységes felületet biztosít a platformszolgáltatások több nyelv belülre.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-122">Co-locate a cohesive set of tasks with the primary application, but place them inside their own process or container, providing a homogeneous interface for platform services across languages.</span></span> 

![](./_images/sidecar.png)

<span data-ttu-id="1b0e0-123">Egy oldalkocsi szolgáltatás része nem feltétlenül az alkalmazás, de van csatlakoztatva.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-123">A sidecar service is not necessarily part of the application, but is connected to it.</span></span> <span data-ttu-id="1b0e0-124">Bárhol az alkalmazás állapotba kerül.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-124">It goes wherever the parent application goes.</span></span> <span data-ttu-id="1b0e0-125">Az elsődleges alkalmazás telepített szolgáltatások vagy a folyamatok hányadossal támogatják.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-125">Sidecars are supporting processes or services that are deployed with the primary application.</span></span> <span data-ttu-id="1b0e0-126">Egy motorkerékpárja a oldalkocsi csatolva van egy motorkerékpárja, és minden motorkerékpárja rendelkezhet saját oldalkocsi.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-126">On a motorcycle, the sidecar is attached to one motorcycle, and each motorcycle can have its own sidecar.</span></span> <span data-ttu-id="1b0e0-127">Ugyanúgy egy oldalkocsi szolgáltatás megoszt a szülőalkalmazás sorsáról.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-127">In the same way, a sidecar service shares the fate of its parent application.</span></span> <span data-ttu-id="1b0e0-128">Az alkalmazás egyes példányainak a oldalkocsi példányának telepítése és mellette megtalálható.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-128">For each instance of the application, an instance of the sidecar is deployed and hosted alongside it.</span></span> 

<span data-ttu-id="1b0e0-129">Oldalkocsi minta használatával a következő előnyöket nyújtja:</span><span class="sxs-lookup"><span data-stu-id="1b0e0-129">Advantages of using a sidecar pattern include:</span></span>

- <span data-ttu-id="1b0e0-130">Oldalkocsi nem függ össze az elsődleges alkalmazás futtatókörnyezetben és programozási nyelv, így nem kell egy oldalkocsi nyelvenként fejlesztéséhez.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-130">A sidecar is independent from its primary application in terms of runtime environment and programming language, so you don't need to develop one sidecar per language.</span></span> 

- <span data-ttu-id="1b0e0-131">A oldalkocsi férhetnek hozzá az erőforrásokhoz, az elsődleges alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-131">The sidecar can access the same resources as the primary application.</span></span> <span data-ttu-id="1b0e0-132">Például oldalkocsi figyelheti a oldalkocsi, mind az elsődleges alkalmazás által használt rendszer-erőforrások.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-132">For example, a sidecar can monitor system resources used by both the sidecar and the primary application.</span></span> 

- <span data-ttu-id="1b0e0-133">Az elsődleges alkalmazás a közelében, mert nincs jelentős késleltetés közötti kommunikáció során.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-133">Because of its proximity to the primary application, there’s no significant latency when communicating between them.</span></span>

- <span data-ttu-id="1b0e0-134">Még a alkalmazásokat, amelyek nem egy kiegészítő mechanizmust használhatja oldalkocsi bővíthetők ugyanabban a gazdagép vagy az elsődleges alkalmazás altárolója saját folyamatként csatolásával.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-134">Even for applications that don’t provide an extensibility mechanism, you can use a sidecar to extend functionality by attaching it as own process in the same host or sub-container as the primary application.</span></span>

<span data-ttu-id="1b0e0-135">Oldalkocsi mintát gyakran használt tárolók és a oldalkocsi tároló vagy sidekick tároló néven.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-135">The sidecar pattern is often used with containers and referred to as a sidecar container or sidekick container.</span></span> 

## <a name="issues-and-considerations"></a><span data-ttu-id="1b0e0-136">Problémákat és szempontok</span><span class="sxs-lookup"><span data-stu-id="1b0e0-136">Issues and Considerations</span></span>

- <span data-ttu-id="1b0e0-137">Vegye figyelembe a központi telepítés és a szolgáltatások, folyamatok és tárolók központi telepítéséhez használandó csomagolás formátumban.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-137">Consider the deployment and packaging format you will use to deploy services, processes, or containers.</span></span> <span data-ttu-id="1b0e0-138">Tárolók különösen alkalmasak a oldalkocsi mintát.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-138">Containers are particularly well suited to the sidecar pattern.</span></span>
- <span data-ttu-id="1b0e0-139">Egy oldalkocsi szolgáltatás tervezésekor gondosan adja meg a folyamatok közti kommunikációs mechanizmus.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-139">When designing a sidecar service, carefully decide on the interprocess communication mechanism.</span></span> <span data-ttu-id="1b0e0-140">Próbálja nyelvet vagy keretrendszert független technológiák használatára, kivéve a teljesítményre vonatkozó követelmények ügyeljen, hogy praktikus.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-140">Try to use language- or framework-agnostic technologies unless performance requirements make that impractical.</span></span>
- <span data-ttu-id="1b0e0-141">Előtt funkció üzembe oldalkocsi, vegye figyelembe, hogy azt kellene működne egy önálló szolgáltatásként vagy a hagyományosabb démon.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-141">Before putting functionality into a sidecar, consider whether it would work better as a separate service or a more traditional daemon.</span></span>
- <span data-ttu-id="1b0e0-142">Vegye figyelembe, hogy a funkció tárként találhatja vagy egy hagyományos bővítmény mechanizmussal is.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-142">Also consider whether the functionality could be implemented as a library or using a traditional extension mechanism.</span></span> <span data-ttu-id="1b0e0-143">Előfordulhat, hogy nyelvspecifikus szalagtárak mélyebb szintű integrációt és kisebb hálózati terhelés.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-143">Language-specific libraries may have a deeper level of integration and less network overhead.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="1b0e0-144">Mikor érdemes használni ezt a mintát</span><span class="sxs-lookup"><span data-stu-id="1b0e0-144">When to Use this Pattern</span></span>

<span data-ttu-id="1b0e0-145">Ez mintát, mikor használja:</span><span class="sxs-lookup"><span data-stu-id="1b0e0-145">Use this pattern when:</span></span>

- <span data-ttu-id="1b0e0-146">Az elsődleges alkalmazás nyelv és keretrendszer heterogén készletét használja.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-146">Your primary application uses a heterogenous set of languages and frameworks.</span></span> <span data-ttu-id="1b0e0-147">Egy összetevő egy oldalkocsi szolgáltatásban található különböző keretrendszerek használatával különböző nyelveken írt alkalmazások által igénybe vehető.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-147">A component located in a sidecar service can be consumed by applications written in different languages using different frameworks.</span></span>
- <span data-ttu-id="1b0e0-148">Egy összetevő egy távoli munkacsoport vagy egy másik szervezet tulajdonában van.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-148">A component is owned by a remote team or a different organization.</span></span>
- <span data-ttu-id="1b0e0-149">Egy összetevő vagy szolgáltatás közös elhelyezése szükséges az alkalmazás ugyanazon a gazdagépen</span><span class="sxs-lookup"><span data-stu-id="1b0e0-149">A component or feature must be co-located on the same host as the application</span></span>
- <span data-ttu-id="1b0e0-150">Egy szolgáltatás, amely a teljes életciklusát a fő alkalmazás közösen használja, de egymástól függetlenül frissíthetők van szüksége.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-150">You need a service that shares the overall lifecycle of your main application, but can be independently updated.</span></span>
- <span data-ttu-id="1b0e0-151">Erőforrás-korlátozások részletes szabályozhatják egy adott erőforráshoz vagy az összetevő szükség van.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-151">You need fine-grained control over resource limits for a particular resource or component.</span></span> <span data-ttu-id="1b0e0-152">Például előfordulhat, hogy korlátozni szeretné a megadott összetevő által használt memória mennyiségét.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-152">For example, you may want to restrict the amount of memory a specific component uses.</span></span> <span data-ttu-id="1b0e0-153">A oldalkocsi összetevőhöz telepítheti, és független az alkalmazás memória-felhasználás kezelésére.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-153">You can deploy the component as a sidecar and manage memory usage independently of the main application.</span></span>

<span data-ttu-id="1b0e0-154">Ez a minta nem alkalmasak lehetnek:</span><span class="sxs-lookup"><span data-stu-id="1b0e0-154">This pattern may not be suitable:</span></span>

- <span data-ttu-id="1b0e0-155">Ha a folyamatok közti kommunikációs kell lehet optimalizálni.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-155">When interprocess communication needs to be optimized.</span></span> <span data-ttu-id="1b0e0-156">A szülő alkalmazás- és oldalkocsi közötti kommunikáció némi többletterhelést okoz, különösen a hívások a késés tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-156">Communication between a parent application and sidecar services includes some overhead, notably latency in the calls.</span></span> <span data-ttu-id="1b0e0-157">Ez nem lehet egy elfogadható kompromisszum chatty kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-157">This may not be an acceptable trade-off for chatty interfaces.</span></span>
- <span data-ttu-id="1b0e0-158">Kis alkalmazások ahol költségeket, az erőforrás üzembe egy oldalkocsi szolgáltatás az összes olyan példány nincs érdemes elkülönítési előnyeit.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-158">For small applications where the resource cost of deploying a sidecar service for each instance is not worth the advantage of isolation.</span></span>
- <span data-ttu-id="1b0e0-159">Ha a szolgáltatás kell másképp méretezhető, mint vagy egymástól függetlenül a fő alkalmazásokból.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-159">When the service needs to scale differently than or independently from the main applications.</span></span> <span data-ttu-id="1b0e0-160">Ha igen, jobb megoldás lehet különálló szolgáltatásként a szolgáltatás telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-160">If so, it may be better to deploy the feature as a separate service.</span></span>

## <a name="example"></a><span data-ttu-id="1b0e0-161">Példa</span><span class="sxs-lookup"><span data-stu-id="1b0e0-161">Example</span></span>

<span data-ttu-id="1b0e0-162">A oldalkocsi minta nem számos forgatókönyv alkalmazandó.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-162">The sidecar pattern is applicable to many scenarios.</span></span> <span data-ttu-id="1b0e0-163">Gyakori példák:</span><span class="sxs-lookup"><span data-stu-id="1b0e0-163">Some common examples:</span></span>

- <span data-ttu-id="1b0e0-164">Infrastruktúra API.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-164">Infrastructure API.</span></span> <span data-ttu-id="1b0e0-165">Az infrastruktúra fejlesztői csapat olyan szolgáltatás, amely mellett minden egyes alkalmazás helyett a nyelvspecifikus ügyféloldali kódtára a infrastruktúra eléréséhez a rendszer létrehozza.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-165">The infrastructure development team creates a service that's deployed alongside each application, instead of a language-specific client library to access the infrastructure.</span></span> <span data-ttu-id="1b0e0-166">A szolgáltatás oldalkocsi betöltve és egy közös réteget biztosít az infrastruktúra-szolgáltatásokat, beleértve a naplózási, a környezeti adatok, a konfigurációs adattároló, a felderítés, ellenőrzi, és figyelő szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-166">The service is loaded as a sidecar and provides a common layer for infrastructure services, including logging, environment data, configuration store, discovery, health checks, and watchdog services.</span></span> <span data-ttu-id="1b0e0-167">A oldalkocsi is figyeli a szülő alkalmazás a gazdagép-környezetben és a folyamat (vagy tároló), és naplózza az adatokat egy központosított szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-167">The sidecar also monitors the parent application's host environment and process (or container) and logs the information to a centralized service.</span></span>
- <span data-ttu-id="1b0e0-168">Kezelheti a NGINX/haproxy esetén.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-168">Manage NGINX/HAProxy.</span></span> <span data-ttu-id="1b0e0-169">Központi telepítés NGINX környezet állapotát figyeli, majd frissíti a NGINX konfigurációs fájlt, és újraindul a folyamat, amikor szükség van az állapot oldalkocsi szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-169">Deploy NGINX with a sidecar service that monitors environment state, then updates the NGINX configuration file and recycles the process when a change in state is needed.</span></span>
- <span data-ttu-id="1b0e0-170">Diplomata oldalkocsi.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-170">Ambassador sidecar.</span></span> <span data-ttu-id="1b0e0-171">Központi telepítése egy [diplomata] [ ambassador] oldalkocsi mint szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-171">Deploy an [ambassador][ambassador] service as a sidecar.</span></span> <span data-ttu-id="1b0e0-172">Az alkalmazás meghívja a nagykövetet, amely leírók megtörje logging, útválasztási, áramkör kérelmezéséhez keresztül, és más csatlakozási kapcsolódó szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-172">The application calls through the ambassador, which handles request logging, routing, circuit breaking, and other connectivity related features.</span></span>
- <span data-ttu-id="1b0e0-173">Proxy-kiszervezés.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-173">Offload proxy.</span></span> <span data-ttu-id="1b0e0-174">Egy NGINX proxy kezelésére szolgáló statikus fájl tartalma a szolgáltatás egy node.js szolgáltatáspéldány elé helyezze el.</span><span class="sxs-lookup"><span data-stu-id="1b0e0-174">Place an NGINX proxy in front of a node.js service instance, to handle serving static file content for the service.</span></span>


## <a name="related-guidance"></a><span data-ttu-id="1b0e0-175">Kapcsolódó útmutató</span><span class="sxs-lookup"><span data-stu-id="1b0e0-175">Related guidance</span></span>

- <span data-ttu-id="1b0e0-176">[Diplomata minta][ambassador]</span><span class="sxs-lookup"><span data-stu-id="1b0e0-176">[Ambassador pattern][ambassador]</span></span>


[ambassador]: ./ambassador.md

