---
title: Állapot végponti monitorozását végző minta
titleSuffix: Cloud Design Patterns
description: Rendszeres időközönként működés-ellenőrzéseket implementálhat egy alkalmazásban, amelyhez az elérhetővé tett végpontokon keresztül hozzáférhetnek külső eszközök.
keywords: tervezési minta
author: dragon119
ms.date: 06/23/2017
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 09e2b55aa009d55037e7a0feb0ba3c4f65d9de16
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58299536"
---
# <a name="health-endpoint-monitoring-pattern"></a><span data-ttu-id="ac6bf-104">Állapot végponti monitorozását végző minta</span><span class="sxs-lookup"><span data-stu-id="ac6bf-104">Health Endpoint Monitoring pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="ac6bf-105">Rendszeres időközönként működés-ellenőrzéseket implementálhat egy alkalmazásban, amelyhez az elérhetővé tett végpontokon keresztül hozzáférhetnek külső eszközök.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-105">Implement functional checks in an application that external tools can access through exposed endpoints at regular intervals.</span></span> <span data-ttu-id="ac6bf-106">Ennek segítségével ellenőrizheti, hogy az alkalmazások és szolgáltatások megfelelően működnek-e.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-106">This can help to verify that applications and services are performing correctly.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="ac6bf-107">Kontextus és probléma</span><span class="sxs-lookup"><span data-stu-id="ac6bf-107">Context and problem</span></span>

<span data-ttu-id="ac6bf-108">A webalkalmazások és háttérszolgáltatások monitorozása bevált gyakorlat, és gyakran üzleti elvárás is. Ezzel biztosítható, hogy elérhetőek legyenek és megfelelően működjenek.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-108">It's a good practice, and often a business requirement, to monitor web applications and back-end services, to ensure they're available and performing correctly.</span></span> <span data-ttu-id="ac6bf-109">A felhőben futó szolgáltatások monitorozása azonban bonyolultabb, mint a helyszíni szolgáltatásoké.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-109">However, it's more difficult to monitor services running in the cloud than it is to monitor on-premises services.</span></span> <span data-ttu-id="ac6bf-110">Nem rendelkezik például teljes körű hozzáféréssel az üzemeltetési környezethez, emellett a szolgáltatások általában más, platformszolgáltatók és mások által biztosított szolgáltatásoktól függnek.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-110">For example, you don't have full control of the hosting environment, and the services typically depend on other services provided by platform vendors and others.</span></span>

<span data-ttu-id="ac6bf-111">Számos tényező befolyásolja a felhőben üzemeltetett alkalmazásokat, például a hálózati késés, a mögöttes számítási és tárolórendszerek teljesítménye és rendelkezésre állása, valamint a köztük lévő hálózati sávszélesség.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-111">There are many factors that affect cloud-hosted applications such as network latency, the performance and availability of the underlying compute and storage systems, and the network bandwidth between them.</span></span> <span data-ttu-id="ac6bf-112">E tényezők miatt a szolgáltatás működése részben vagy teljesen meghiúsulhat.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-112">The service can fail entirely or partially due to any of these factors.</span></span> <span data-ttu-id="ac6bf-113">Ezért rendszeres időközönként ellenőriznie kell, hogy a szolgáltatás megfelelően működik-e, hogy biztosítsa a szükséges szintű rendelkezésre állást, amely része lehet a szolgáltatói szerződésnek (SLA).</span><span class="sxs-lookup"><span data-stu-id="ac6bf-113">Therefore, you must verify at regular intervals that the service is performing correctly to ensure the required level of availability, which might be part of your service level agreement (SLA).</span></span>

## <a name="solution"></a><span data-ttu-id="ac6bf-114">Megoldás</span><span class="sxs-lookup"><span data-stu-id="ac6bf-114">Solution</span></span>

<span data-ttu-id="ac6bf-115">Az alkalmazás végpontjaira való kérések küldésével megvalósíthatja az állapotmonitorozást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-115">Implement health monitoring by sending requests to an endpoint on the application.</span></span> <span data-ttu-id="ac6bf-116">Az alkalmazásnak el kell végeznie a szükséges ellenőrzéseket, és vissza kell adnia egy jelzést az állapotra vonatkozóan.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-116">The application should perform the necessary checks, and return an indication of its status.</span></span>

<span data-ttu-id="ac6bf-117">Az állapotmonitorozási ellenőrzés általában két tényezőt ötvöz:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-117">A health monitoring check typically combines two factors:</span></span>

- <span data-ttu-id="ac6bf-118">Az alkalmazás vagy szolgáltatás által, az állapot-ellenőrzési végpontra küldött kérésre válaszul végrehajtott ellenőrzések (ha van ilyen).</span><span class="sxs-lookup"><span data-stu-id="ac6bf-118">The checks (if any) performed by the application or service in response to the request to the health verification endpoint.</span></span>
- <span data-ttu-id="ac6bf-119">Az állapotellenőrzést végző eszköz vagy keretrendszer által végrehajtott eredményelemzés.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-119">Analysis of the results by the tool or framework that performs the health verification check.</span></span>

<span data-ttu-id="ac6bf-120">A válaszkód jelzi az alkalmazás és igény szerint az alkalmazás által használt bármely összetevő vagy szolgáltatás állapotát.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-120">The response code indicates the status of the application and, optionally, any components or services it uses.</span></span> <span data-ttu-id="ac6bf-121">A késleltetés vagy válaszidő ellenőrzését a monitorozó eszköz vagy keretrendszer végzi.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-121">The latency or response time check is performed by the monitoring tool or framework.</span></span> <span data-ttu-id="ac6bf-122">Az ábra áttekintést nyújt a mintáról.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-122">The figure provides an overview of the pattern.</span></span>

![A minta áttekintése](./_images/health-endpoint-monitoring-pattern.png)

<span data-ttu-id="ac6bf-124">Az egyéb ellenőrzések, amelyeket az állapotmonitorozási kód végrehajthat az alkalmazásban többek között a következők lehetnek:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-124">Other checks that might be carried out by the health monitoring code in the application include:</span></span>

- <span data-ttu-id="ac6bf-125">Felhőalapú tárolók vagy adatbázisok rendelkezésre állásának és válaszidejének ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-125">Checking cloud storage or a database for availability and response time.</span></span>
- <span data-ttu-id="ac6bf-126">Az alkalmazásban vagy máshol található (de az alkalmazás által használt) egyéb erőforrások vagy szolgáltatások ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-126">Checking other resources or services located in the application, or located elsewhere but used by the application.</span></span>

<span data-ttu-id="ac6bf-127">Elérhetők olyan szolgáltatások és eszközök is, amelyek azáltal monitorozzák a webalkalmazásokat, hogy kérést küldenek egy konfigurálható végpontkészletre, és konfigurálható szabályok alapján kiértékelik az eredményeket.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-127">Services and tools are available that monitor web applications by submitting a request to a configurable set of endpoints, and evaluating the results against a set of configurable rules.</span></span> <span data-ttu-id="ac6bf-128">Viszonylag egyszerű olyan szolgáltatásvégpontot létrehozni, amelynek egyetlen célja az, hogy funkcióteszteket hajtson végre a rendszeren.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-128">It's relatively easy to create a service endpoint whose sole purpose is to perform some functional tests on the system.</span></span>

<span data-ttu-id="ac6bf-129">A monitorozási eszközökkel elvégezhető általános ellenőrzések:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-129">Typical checks that can be performed by the monitoring tools include:</span></span>

- <span data-ttu-id="ac6bf-130">A válaszkód ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-130">Validating the response code.</span></span> <span data-ttu-id="ac6bf-131">Például a 200-as (OK) kódú HTTP-válasz azt jelzi, hogy az alkalmazás hiba nélkül válaszolt.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-131">For example, an HTTP response of 200 (OK) indicates that the application responded without error.</span></span> <span data-ttu-id="ac6bf-132">Elképzelhető, hogy a monitorozási rendszer más válaszkódokat is ellenőriz annak érdekében, hogy átfogóbb eredményeket adjon vissza.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-132">The monitoring system might also check for other response codes to give more comprehensive results.</span></span>
- <span data-ttu-id="ac6bf-133">A válasz tartalmának ellenőrzése a hibák észlelése érdekébe, még akkor is, ha a rendszer 200-as (OK) állapotkódot adott vissza.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-133">Checking the content of the response to detect errors, even when a 200 (OK) status code is returned.</span></span> <span data-ttu-id="ac6bf-134">Ezáltal észlelhetők olyan hibák, amelyek a weblap vagy szolgáltatás visszaadott válaszának csak egy részét érintik.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-134">This can detect errors that affect only a section of the returned web page or service response.</span></span> <span data-ttu-id="ac6bf-135">Ilyen például az oldalak címének ellenőrzése, vagy adott kifejezés keresése, amely azt jelzi, hogy a megfelelő oldal lett visszaadva.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-135">For example, checking the title of a page or looking for a specific phrase that indicates the correct page was returned.</span></span>
- <span data-ttu-id="ac6bf-136">A válaszidő mérése, amely a hálózati késésből és az alkalmazás által, a kérés végrehajtásához felhasznált időből tevődik össze.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-136">Measuring the response time, which indicates a combination of the network latency and the time that the application took to execute the request.</span></span> <span data-ttu-id="ac6bf-137">A növekvő érték egy probléma megjelenését jelezheti az alkalmazásban vagy a hálózatban.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-137">An increasing value can indicate an emerging problem with the application or network.</span></span>
- <span data-ttu-id="ac6bf-138">Az alkalmazáson kívüli erőforrások vagy szolgáltatások ellenőrzése, ilyen például a tartalomkézbesítési hálózat, amelyet az alkalmazás globális gyorsítótárakból származó tartalmak továbbítására használ.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-138">Checking resources or services located outside the application, such as a content delivery network used by the application to deliver content from global caches.</span></span>
- <span data-ttu-id="ac6bf-139">SSL-tanúsítványok lejáratának ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-139">Checking for expiration of SSL certificates.</span></span>
- <span data-ttu-id="ac6bf-140">Az alkalmazás URL-címére irányuló DNS-címkeresés válaszidejének mérése, amellyel a DNS-késés és DNS-hibák mérhetők.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-140">Measuring the response time of a DNS lookup for the URL of the application to measure DNS latency and DNS failures.</span></span>
- <span data-ttu-id="ac6bf-141">A DNS-címkeresés által visszaadott URL-cím ellenőrzése, amellyel biztosítható, hogy a bejegyzések helyesek.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-141">Validating the URL returned by the DNS lookup to ensure correct entries.</span></span> <span data-ttu-id="ac6bf-142">Ezzel elkerülhető a DNS-kiszolgáló elleni sikeres támadással indított rosszindulatú kérelemátirányítás.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-142">This can help to avoid malicious request redirection through a successful attack on the DNS server.</span></span>

<span data-ttu-id="ac6bf-143">Emellett ahol lehetséges, hasznos lehet lefuttatni ezeket az ellenőrzéseket különböző helyszíni vagy üzemeltetési helyeken a válaszidők mérésének és összehasonlításának érdekében.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-143">It's also useful, where possible, to run these checks from different on-premises or hosted locations to measure and compare response times.</span></span> <span data-ttu-id="ac6bf-144">Ha lehetséges, olyan helyekről monitorozza az alkalmazásokat, amelyek az ügyfelek közelében találhatók, hogy pontos képet kapjon az egyes helyek teljesítményéről.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-144">Ideally you should monitor applications from locations that are close to customers to get an accurate view of the performance from each location.</span></span> <span data-ttu-id="ac6bf-145">Amellett, hogy ez hatékonyabb ellenőrzési mechanizmust biztosít, az eredmények alapján dönthet az alkalmazás üzembehelyezési helyéről, és arról, hogy telepíti-e egynél több adatközpontban.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-145">In addition to providing a more robust checking mechanism, the results can help you decide on the deployment location for the application&mdash;and whether to deploy it in more than one datacenter.</span></span>

<span data-ttu-id="ac6bf-146">Érdemes teszteket futtatni az ügyfelek által használt összes szolgáltatáspéldányon, hogy meggyőződjön róla, az alkalmazás minden ügyfél esetében megfelelően működik.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-146">Tests should also be run against all the service instances that customers use to ensure the application is working correctly for all customers.</span></span> <span data-ttu-id="ac6bf-147">Ha például az ügyfél tárfiókja több mint egy tárfiókra kiterjed, a monitorozási folyamatnak az összeset ellenőriznie kell.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-147">For example, if customer storage is spread across more than one storage account, the monitoring process should check all of these.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="ac6bf-148">Problémák és megfontolandó szempontok</span><span class="sxs-lookup"><span data-stu-id="ac6bf-148">Issues and considerations</span></span>

<span data-ttu-id="ac6bf-149">A minta megvalósítása során az alábbi pontokat vegye figyelembe:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-149">Consider the following points when deciding how to implement this pattern:</span></span>

<span data-ttu-id="ac6bf-150">A válasz érvényesítésének módja.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-150">How to validate the response.</span></span> <span data-ttu-id="ac6bf-151">Például elég csupán egyetlen 200-as (OK) állapotkód annak ellenőrzésére, hogy megfelelően működik-e az alkalmazás?</span><span class="sxs-lookup"><span data-stu-id="ac6bf-151">For example, is just a single 200 (OK) status code sufficient to verify the application is working correctly?</span></span> <span data-ttu-id="ac6bf-152">Habár ez az alkalmazás rendelkezésre állásának legegyszerűbb mérési módja, illetve a minta legalapvetőbb implementációja, kevés információt biztosít a műveletekről, trendekről és az alkalmazásban lehetségesen felmerülő hibákról.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-152">While this provides the most basic measure of application availability, and is the minimum implementation of this pattern, it provides little information about the operations, trends, and possible upcoming issues in the application.</span></span>

   > <span data-ttu-id="ac6bf-153">Győződjön meg arról, hogy az alkalmazás csak akkor ad vissza 200 (OK) állapotkódot, amikor a rendszer megtalálta és feldolgozta a célerőforrást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-153">Make sure that the application correctly returns a 200 (OK) only when the target resource is found and processed.</span></span> <span data-ttu-id="ac6bf-154">Egyes forgatókönyvekben, például akkor, amikor mesteroldalt használ a célweboldal üzemeltetéséhez, a kiszolgáló a 404-es (Nem található) kód helyett a 200-as (OK) állapotkódot küldi vissza, még akkor is, ha a céltartalomoldal nem található.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-154">In some scenarios, such as when using a master page to host the target web page, the server sends back a 200 (OK) status code instead of a 404 (Not Found) code, even when the target content page was not found.</span></span>

<span data-ttu-id="ac6bf-155">Az alkalmazás számára elérhető végpontok száma.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-155">The number of endpoints to expose for an application.</span></span> <span data-ttu-id="ac6bf-156">Az egyik lehetőség elérhetővé tenni legalább egy végpontot az alkalmazás által használt alapszolgáltatások számára, és egy másikat az alacsonyabb prioritású szolgáltatások számára, hogy különböző fontossági szintek legyenek hozzárendelve az egyes monitorozási eredményekhez.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-156">One approach is to expose at least one endpoint for the core services that the application uses and another for lower priority services, allowing different levels of importance to be assigned to each monitoring result.</span></span> <span data-ttu-id="ac6bf-157">Emellett érdemes lehet elérhetővé tenni több végpontot, például egyet minden alapszolgáltatás számára, hogy a monitorozás még részletesebb legyen.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-157">Also consider exposing more endpoints, such as one for each core service, for additional monitoring granularity.</span></span> <span data-ttu-id="ac6bf-158">Az állapotellenőrzések például ellenőrizhetik az adatbázist, a tárolót és az alkalmazás által használt külső geokódolási szolgáltatásokat, amelyek mindegyike különböző szintű üzemidőt és válaszidőt igényel.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-158">For example, a health verification check might check the database, storage, and an external geocoding service that an application uses, with each requiring a different level of uptime and response time.</span></span> <span data-ttu-id="ac6bf-159">Az alkalmazás akkor is megfelelő állapotban lehet, ha a geokódolási szolgáltatás vagy valamely másik háttérfeladat nem érhető el néhány percig.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-159">The application could still be healthy if the geocoding service, or some other background task, is unavailable for a few minutes.</span></span>

<span data-ttu-id="ac6bf-160">Használható-e az általános hozzáférésre használt végpont monitorozásra, de az állapot-ellenőrzésekre tervezett egyedi elérési úton, például /HealthCheck/{GUID}/ az általános hozzáférési végponton?</span><span class="sxs-lookup"><span data-stu-id="ac6bf-160">Whether to use the same endpoint for monitoring as is used for general access, but to a specific path designed for health verification checks, for example, /HealthCheck/{GUID}/ on the general access endpoint.</span></span> <span data-ttu-id="ac6bf-161">Ez lehetővé teszi, hogy a monitorozási eszközök lefuttassanak néhány funkciótesztet az alkalmazásban (ilyen például az új felhasználói regisztrációk hozzáadása, a bejelentkezés és a tesztmegrendelés felvétele), miközben ellenőrzik, hogy az általános hozzáférési végpont elérhető-e.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-161">This allows some functional tests in the application to be run by the monitoring tools, such as adding a new user registration, signing in, and placing a test order, while also verifying that the general access endpoint is available.</span></span>

<span data-ttu-id="ac6bf-162">A szolgáltatásban a monitorozási kérésekre válaszul gyűjtendő információk típusa, és ezek visszaadásának módja.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-162">The type of information to collect in the service in response to monitoring requests, and how to return this information.</span></span> <span data-ttu-id="ac6bf-163">A legtöbb meglévő eszköz és keretrendszer csak a végpont által visszaadott HTTP-állapotkódot figyeli.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-163">Most existing tools and frameworks look only at the HTTP status code that the endpoint returns.</span></span> <span data-ttu-id="ac6bf-164">További információk visszaadásához és érvényesítéséhez elképzelhető, hogy létre kell hoznia egy egyéni monitorozási segédprogramot vagy szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-164">To return and validate additional information, you might have to create a custom monitoring utility or service.</span></span>

<span data-ttu-id="ac6bf-165">A gyűjtendő információ mennyisége.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-165">How much information to collect.</span></span> <span data-ttu-id="ac6bf-166">Ha a rendszer túlzott mértékű feldolgozást végez az ellenőrzés alatt, az túlterhelheti az alkalmazást, és hatással lehet más felhasználókra.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-166">Performing excessive processing during the check can overload the application and impact other users.</span></span> <span data-ttu-id="ac6bf-167">A szükséges idő meghaladhatja a monitorozási rendszer időkorlátját, így az nem elérhetőnek jelzi az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-167">The time it takes might exceed the timeout of the monitoring system so it marks the application as unavailable.</span></span> <span data-ttu-id="ac6bf-168">A legtöbb alkalmazásban találhatók például hibakezelők és teljesítményszámlálók, amelyek naplózzák a teljesítményt és a hibákkal kapcsolatos részletes információkat. Ez is elegendő lehet az állapotellenőrzésre vonatkozó bővebb információk visszaadása helyett.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-168">Most applications include instrumentation such as error handlers and performance counters that log performance and detailed error information, this might be sufficient instead of returning additional information from a health verification check.</span></span>

<span data-ttu-id="ac6bf-169">A végpont állapotának gyorsítótárazása.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-169">Caching the endpoint status.</span></span> <span data-ttu-id="ac6bf-170">Az állapot-ellenőrzés túl gyakori futtatása költséges lehet.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-170">It could be expensive to run the health check too frequently.</span></span> <span data-ttu-id="ac6bf-171">Ha például az állapotjelentés egy irányítópulton keresztül történik, nem szeretnénk, hogy az irányítópultból érkező minden kérés állapot-ellenőrzést indítson el.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-171">If the health status is reported through a dashboard, for example, you don't want every request from the dashboard to trigger a health check.</span></span> <span data-ttu-id="ac6bf-172">Helyette azt szeretnénk, hogy időszakosan ellenőrizze a rendszer állapotát és gyorsítótárazza azt.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-172">Instead, periodically check the system health and cache the status.</span></span> <span data-ttu-id="ac6bf-173">Tegyen elérhetővé egy végpontot, amely visszaadja a gyorsítótárazott állapotot.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-173">Expose an endpoint that returns the cached status.</span></span>

<span data-ttu-id="ac6bf-174">Hogyan konfiguráljuk a monitorozási végpontok biztonságát annak érdekében, hogy védve legyenek a nyilvános hozzáféréstől, amely rosszindulatú támadásoknak teheti ki az alkalmazást, bizalmas információkat szivárogtathat ki vagy szolgáltatásmegtagadási (DoS-) támadásokat vonzhat be.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-174">How to configure security for the monitoring endpoints to protect them from public access, which might expose the application to malicious attacks, risk the exposure of sensitive information, or attract denial of service (DoS) attacks.</span></span> <span data-ttu-id="ac6bf-175">Ezt általában az alkalmazás konfigurációjában kell megadni, hogy könnyen frissíthető legyen az alkalmazás újraindítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-175">Typically this should be done in the application configuration so that it can be updated easily without restarting the application.</span></span> <span data-ttu-id="ac6bf-176">Fontolja meg az alábbi módszerek alkalmazását:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-176">Consider using one or more of the following techniques:</span></span>

- <span data-ttu-id="ac6bf-177">Tegye biztonságossá a végpontot azáltal, hogy kötelezővé teszi a hitelesítést.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-177">Secure the endpoint by requiring authentication.</span></span> <span data-ttu-id="ac6bf-178">Ezt egy hitelesítési biztonsági kulcs a kérés fejlécében való megadásával teheti meg, vagy úgy, hogy hitelesítő adatokat továbbít a kérelemmel együtt, feltéve, hogy a monitorozási szolgáltatás vagy az eszköz támogatja a hitelesítést.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-178">You can do this by using an authentication security key in the request header or by passing credentials with the request, provided that the monitoring service or tool supports authentication.</span></span>

  - <span data-ttu-id="ac6bf-179">Használjon rejtett végpontot.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-179">Use an obscure or hidden endpoint.</span></span> <span data-ttu-id="ac6bf-180">Például tegye elérhetővé a végpontot egy másik, az alapértelmezett alkalmazás URL-címétől eltérő IP-címen, konfigurálja a végpontot egy nem szabványos HTTP-porton, és/vagy használjon a tesztoldalra mutató összetett elérési utat.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-180">For example, expose the endpoint on a different IP address to that used by the default application URL, configure the endpoint on a nonstandard HTTP port, and/or use a complex path to the test page.</span></span> <span data-ttu-id="ac6bf-181">Általában megadhat további végpontcímeket és -portokat az alkalmazás konfigurációjában, és hozzáadhatja e végpontok bejegyzéseit a DNS-kiszolgálóhoz, ha nem kívánja közvetlenül megadni az IP-címet.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-181">You can usually specify additional endpoint addresses and ports in the application configuration, and add entries for these endpoints to the DNS server if required to avoid having to specify the IP address directly.</span></span>

  - <span data-ttu-id="ac6bf-182">Tegyen elérhetővé olyan metódusokat a végpontokon, amelyek olyan paramétereket fogadnak el, mint a kulcsértékek vagy a működési mód értékei.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-182">Expose a method on an endpoint that accepts a parameter such as a key value or an operation mode value.</span></span> <span data-ttu-id="ac6bf-183">A paraméterhez megadott értéktől függően a kérés fogadásakor a kód elvégezhet egy adott tesztet vagy több tesztet, vagy ha a paraméter nem ismerhető fel, visszaadhatja a 404-es (Nem található) kódot.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-183">Depending on the value supplied for this parameter, when a request is received the code can perform a specific test or set of tests, or return a 404 (Not Found) error if the parameter value isn't recognized.</span></span> <span data-ttu-id="ac6bf-184">A felismert paraméterek értékei beállíthatók az alkalmazás konfigurációjában.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-184">The recognized parameter values could be set in the application configuration.</span></span>

     >  <span data-ttu-id="ac6bf-185">A DoS-támadások valószínűleg kisebb hatással lesznek egy különálló végpontra, amely anélkül végez alapszintű funkcióteszteket, hogy akadályozná az alkalmazás működését.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-185">DoS attacks are likely to have less impact on a separate endpoint that performs basic functional tests without compromising the operation of the application.</span></span> <span data-ttu-id="ac6bf-186">Ha lehetséges, ne használjon olyan teszteket, amelyek kiszivárogtathatnak bizalmas információkat.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-186">Ideally, avoid using a test that might expose sensitive information.</span></span> <span data-ttu-id="ac6bf-187">Ha olyan információt kell visszaadnia, amely hasznos lehet egy támadónak, gondolja át, hogyan fogja megvédeni a végpontot és az adatot a jogosulatlan hozzáféréstől.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-187">If you must return information that might be useful to an attacker, consider how you'll protect the endpoint and the data from unauthorized access.</span></span> <span data-ttu-id="ac6bf-188">Ebben az esetben nem elég pusztán az elrejtésre támaszkodni.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-188">In this case just relying on obscurity isn't enough.</span></span> <span data-ttu-id="ac6bf-189">Emellett érdemes lehet HTTPS-kapcsolatot alkalmazni, és titkosítani minden bizalmas adatot, bár ez meg fogja növelni a kiszolgáló terheltségét.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-189">You should also consider using an HTTPS connection and encrypting any sensitive data, although this will increase the load on the server.</span></span>

- <span data-ttu-id="ac6bf-190">Hogyan érhetők el az olyan végpontok, amelyek hitelesítés által védettek?</span><span class="sxs-lookup"><span data-stu-id="ac6bf-190">How to access an endpoint that's secured using authentication.</span></span> <span data-ttu-id="ac6bf-191">Nem minden eszköz és keretrendszer konfigurálható arra, hogy az állapot-ellenőrzési kérésbe belefoglalja a hitelesítő adatokat.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-191">Not all tools and frameworks can be configured to include credentials with the health verification request.</span></span> <span data-ttu-id="ac6bf-192">A Microsoft Azure beépített állapot-ellenőrzési funkciói például nem képesek hitelesítő adatokat biztosítani.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-192">For example, Microsoft Azure built-in health verification features can't provide authentication credentials.</span></span> <span data-ttu-id="ac6bf-193">Néhány alternatív, külső megoldás: [Pingdom](https://www.pingdom.com/), [Panopta](https://www.panopta.com/), [NewRelic](https://newrelic.com/) és [Statuscake](https://www.statuscake.com/).</span><span class="sxs-lookup"><span data-stu-id="ac6bf-193">Some third-party alternatives are [Pingdom](https://www.pingdom.com/), [Panopta](https://www.panopta.com/), [NewRelic](https://newrelic.com/), and [Statuscake](https://www.statuscake.com/).</span></span>

- <span data-ttu-id="ac6bf-194">Hogyan ellenőrizhető, hogy a figyelőügynök megfelelően működik-e?</span><span class="sxs-lookup"><span data-stu-id="ac6bf-194">How to ensure that the monitoring agent is performing correctly.</span></span> <span data-ttu-id="ac6bf-195">Az egyik lehetőség elérhetővé tenni egy végpontot, amely egyszerűen visszaad egy értéket az alkalmazás konfigurációjából, vagy egy véletlenszerű értéket, amellyel tesztelhető az ügynök.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-195">One approach is to expose an endpoint that simply returns a value from the application configuration or a random value that can be used to test the agent.</span></span>

   >  <span data-ttu-id="ac6bf-196">Emellett bizonyosodjon meg arról, hogy a monitorozási rendszer önmagát is ellenőrzi (például önteszttel és beépített teszttel) annak érdekében, nehogy téves eredményeket adjon.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-196">Also ensure that the monitoring system performs checks on itself, such as a self-test and built-in test, to avoid it issuing false positive results.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="ac6bf-197">Mikor érdemes ezt a mintát használni?</span><span class="sxs-lookup"><span data-stu-id="ac6bf-197">When to use this pattern</span></span>

<span data-ttu-id="ac6bf-198">Ez a minta az alábbi esetekben hasznos:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-198">This pattern is useful for:</span></span>

- <span data-ttu-id="ac6bf-199">Webhelyek és webalkalmazások monitorozása a rendelkezésre állás ellenőrzése érdekében.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-199">Monitoring websites and web applications to verify availability.</span></span>
- <span data-ttu-id="ac6bf-200">Webhelyek és webalkalmazások monitorozása a megfelelő működés ellenőrzése érdekében.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-200">Monitoring websites and web applications to check for correct operation.</span></span>
- <span data-ttu-id="ac6bf-201">Középső rétegű vagy megosztott szolgáltatások monitorozása azon hibák észlelése és elkülönítése érdekében, amelyek megzavarhatják a többi alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-201">Monitoring middle-tier or shared services to detect and isolate a failure that could disrupt other applications.</span></span>
- <span data-ttu-id="ac6bf-202">A meglévő alkalmazás kiegészítése például teljesítményszámlálókkal és hibakezelőkkel.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-202">Complementing existing instrumentation in the application, such as performance counters and error handlers.</span></span> <span data-ttu-id="ac6bf-203">Az állapot-ellenőrzés nem helyettesíti a naplózást az alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-203">Health verification checking doesn't replace the requirement for logging and auditing in the application.</span></span> <span data-ttu-id="ac6bf-204">A rendszerállapot-megfigyelés értékes információkkal szolgálhat egy meglévő keretrendszerre vonatkozóan, amely monitorozza a számlálókat és a hibanaplókat a hibák vagy más problémák észlelése érdekében.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-204">Instrumentation can provide valuable information for an existing framework that monitors counters and error logs to detect failures or other issues.</span></span> <span data-ttu-id="ac6bf-205">Ha azonban az alkalmazás nem érhető el, nem tud információkkal szolgálni.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-205">However, it can't provide information if the application is unavailable.</span></span>

## <a name="example"></a><span data-ttu-id="ac6bf-206">Példa</span><span class="sxs-lookup"><span data-stu-id="ac6bf-206">Example</span></span>

<span data-ttu-id="ac6bf-207">Az alábbi példakódok a `HealthCheckController` osztályból származnak (egy, ezt a mintát bemutató mintakód elérhető a [GitHubon](https://github.com/mspnp/cloud-design-patterns/tree/master/health-endpoint-monitoring)), és azt mutatják be, hogyan lehet elérhetővé tenni a végpontokat különböző állapot-ellenőrzések elvégzéséhez.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-207">The following code examples, taken from the `HealthCheckController` class (a sample that demonstrates this pattern is available on [GitHub](https://github.com/mspnp/cloud-design-patterns/tree/master/health-endpoint-monitoring)), demonstrates exposing an endpoint for performing a range of health checks.</span></span>

<span data-ttu-id="ac6bf-208">A `CoreServices` metódus, amely lent, C# nyelven látható, egy sor ellenőrzést hajt végre az alkalmazás által használt szolgáltatásokon.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-208">The `CoreServices` method, shown below in C#, performs a series of checks on services used in the application.</span></span> <span data-ttu-id="ac6bf-209">Ha mindegyik teszt hiba nélkül lefut, a metódus 200-as (OK) állapotkódot ad vissza.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-209">If all of the tests run without error, the method returns a 200 (OK) status code.</span></span> <span data-ttu-id="ac6bf-210">Ha bármelyik teszt kivételt jelez, a metódus 500-as (Belső hiba) állapotkódot ad vissza.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-210">If any of the tests raises an exception, the method returns a 500 (Internal Error) status code.</span></span> <span data-ttu-id="ac6bf-211">A metódus sikerült igény szerint további információkat adhat vissza hiba esetén a monitorozási eszköz vagy keretrendszer nem használhatja, ha.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-211">The method could optionally return additional information when an error occurs, if the monitoring tool or framework is able to use it.</span></span>

```csharp
public ActionResult CoreServices()
{
  try
  {
    // Run a simple check to ensure the database is available.
    DataStore.Instance.CoreHealthCheck();

    // Run a simple check on our external service.
    MyExternalService.Instance.CoreHealthCheck();
  }
  catch (Exception ex)
  {
    Trace.TraceError("Exception in basic health check: {0}", ex.Message);

    // This can optionally return different status codes based on the exception.
    // Optionally it could return more details about the exception.
    // The additional information could be used by administrators who access the
    // endpoint with a browser, or using a ping utility that can display the
    // additional information.
    return new HttpStatusCodeResult((int)HttpStatusCode.InternalServerError);
  }
  return new HttpStatusCodeResult((int)HttpStatusCode.OK);
}
```

<span data-ttu-id="ac6bf-212">Az `ObscurePath` metódus azt mutatja be, hogyan olvashatók az elérési útvonalak az alkalmazás konfigurációjából, és hogyan használhatók végpontként a tesztekhez.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-212">The `ObscurePath` method shows how you can read a path from the application configuration and use it as the endpoint for tests.</span></span> <span data-ttu-id="ac6bf-213">Ez a C# nyelven írt példa azt is bemutatja, hogyan fogadhatók el az azonosítók paraméterként és használhatók a kérések érvényességének ellenőrzésére.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-213">This example, in C#, also shows how you can accept an ID as a parameter and use it to check for valid requests.</span></span>

```csharp
public ActionResult ObscurePath(string id)
{
  // The id could be used as a simple way to obscure or hide the endpoint.
  // The id to match could be retrieved from configuration and, if matched,
  // perform a specific set of tests and return the result. If not matched it
  // could return a 404 (Not Found) status.

  // The obscure path can be set through configuration to hide the endpoint.
  var hiddenPathKey = CloudConfigurationManager.GetSetting("Test.ObscurePath");

  // If the value passed does not match that in configuration, return 404 (Not Found).
  if (!string.Equals(id, hiddenPathKey))
  {
    return new HttpStatusCodeResult((int)HttpStatusCode.NotFound);
  }

  // Else continue and run the tests...
  // Return results from the core services test.
  return this.CoreServices();
}
```

<span data-ttu-id="ac6bf-214">A `TestResponseFromConfig` metódus azt mutatja be, hogyan tehet elérhetővé olyan végpontot, amely egy adott konfigurációs beállítás értékét ellenőrzi.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-214">The `TestResponseFromConfig` method shows how you can expose an endpoint that performs a check for a specified configuration setting value.</span></span>

```csharp
public ActionResult TestResponseFromConfig()
{
  // Health check that returns a response code set in configuration for testing.
  var returnStatusCodeSetting = CloudConfigurationManager.GetSetting(
                                                          "Test.ReturnStatusCode");

  int returnStatusCode;

  if (!int.TryParse(returnStatusCodeSetting, out returnStatusCode))
  {
    returnStatusCode = (int)HttpStatusCode.OK;
  }

  return new HttpStatusCodeResult(returnStatusCode);
}
```

## <a name="monitoring-endpoints-in-azure-hosted-applications"></a><span data-ttu-id="ac6bf-215">Végpontok monitorozása az Azure által üzemeltetett alkalmazásokban</span><span class="sxs-lookup"><span data-stu-id="ac6bf-215">Monitoring endpoints in Azure hosted applications</span></span>

<span data-ttu-id="ac6bf-216">Néhány lehetőség a végpontok monitorozására az Azure-alkalmazásokban:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-216">Some options for monitoring endpoints in Azure applications are:</span></span>

- <span data-ttu-id="ac6bf-217">Használja az Azure beépített monitorozási funkcióit.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-217">Use the built-in monitoring features of Azure.</span></span>

- <span data-ttu-id="ac6bf-218">Használjon külső szolgáltatást vagy keretrendszert, például a Microsoft System Center Operations Managert.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-218">Use a third-party service or a framework such as Microsoft System Center Operations Manager.</span></span>

- <span data-ttu-id="ac6bf-219">Hozzon létre egyéni segédprogramot vagy szolgáltatást, amely saját vagy üzemeltetett kiszolgálón fut.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-219">Create a custom utility or a service that runs on your own or on a hosted server.</span></span>

   >  <span data-ttu-id="ac6bf-220">Bár az Azure viszonylag átfogó monitorozási lehetőségeket kínál, részletes információkért további szolgáltatásokat és eszközöket is használhat.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-220">Even though Azure provides a reasonably comprehensive set of monitoring options, you can use additional services and tools to provide extra information.</span></span> <span data-ttu-id="ac6bf-221">Az Azure Management Services egy beépített monitorozási mechanizmust biztosít a riasztási szabályokhoz.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-221">Azure Management Services provides a built-in monitoring mechanism for alert rules.</span></span> <span data-ttu-id="ac6bf-222">Az Azure Portal felügyeleti szolgáltatási oldalának Riasztások szakasza előfizetésenként akár tíz riasztási szabály konfigurálását is lehetővé teszi a szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-222">The alerts section of the management services page in the Azure portal allows you to configure up to ten alert rules per subscription for your services.</span></span> <span data-ttu-id="ac6bf-223">Ezek a szabályok egy feltételt és egy küszöbértéket adnak meg az olyan szolgáltatásoknak, mint például a processzorhasználat, vagy meghatározzák a másodpercenkénti kérések vagy hibák számát, ezenkívül a szolgáltatás automatikusan e-mailes értesítéseket küldhet a szabályban megadott címekre.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-223">These rules specify a condition and a threshold value for a service such as CPU load, or the number of requests or errors per second, and the service can automatically send email notifications to addresses you define in each rule.</span></span>

<span data-ttu-id="ac6bf-224">A monitorozható feltételek az alkalmazáshoz választott üzemeltetési mechanizmustól függően eltérőek lehetnek (például Web Sites, Cloud Services, Virtual Machines vagy Mobile Services), de ezek mindegyike képes riasztási szabályokat létrehozni, amelyek a szolgáltatás beállításaiban megadott webes végpontokat használják.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-224">The conditions you can monitor vary depending on the hosting mechanism you choose for your application (such as Web Sites, Cloud Services, Virtual Machines, or Mobile Services), but all of these include the ability to create an alert rule that uses a web endpoint you specify in the settings for your service.</span></span> <span data-ttu-id="ac6bf-225">Ennek a végpontnak időben kell válaszolnia, hogy a riasztási rendszer észlelhesse, hogy az alkalmazás megfelelően működik.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-225">This endpoint should respond in a timely way so that the alert system can detect that the application is operating correctly.</span></span>

> <span data-ttu-id="ac6bf-226">További információ a [riasztási értesítések létrehozásáról][portal-alerts].</span><span class="sxs-lookup"><span data-stu-id="ac6bf-226">Read more information about [creating alert notifications][portal-alerts].</span></span>

<span data-ttu-id="ac6bf-227">Ha az Azure Cloud Services webes és feldolgozói szerepkörökben vagy Virtual Machines-környezetben üzemelteti az alkalmazást, kihasználhatja az egyik beépített Azure-szolgáltatás, a Traffic Manager előnyeit.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-227">If you host your application in Azure Cloud Services web and worker roles or Virtual Machines, you can take advantage of one of the built-in services in Azure called Traffic Manager.</span></span> <span data-ttu-id="ac6bf-228">A Traffic Manager egy útválasztó- és terheléselosztási szolgáltatás, amely képes kéréseket szétosztani a Cloud Services által üzemeltetett alkalmazás adott példányai között különböző szabályok és beállítások alapján.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-228">Traffic Manager is a routing and load-balancing service that can distribute requests to specific instances of your Cloud Services hosted application based on a range of rules and settings.</span></span>

<span data-ttu-id="ac6bf-229">Az útválasztási kérelmek mellett a Traffic Manager pingel egy URL-címet, egy portot és egy relatív elérési útvonalat, amelyeket rendszeres időközönként megadhat, hogy megállapítsa, az alkalmazás mely, a szabályokban megadott példányai aktívak és válaszolnak a kérésekre.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-229">In addition to routing requests, Traffic Manager pings a URL, port, and relative path that you specify on a regular basis to determine which instances of the application defined in its rules are active and are responding to requests.</span></span> <span data-ttu-id="ac6bf-230">Ha a 200-as (OK) állapotkódot észleli, elérhetőnek jelöli az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-230">If it detects a status code 200 (OK), it marks the application as available.</span></span> <span data-ttu-id="ac6bf-231">A Traffic Manager minden más állapotkód esetén offline állapotúként jelöli az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-231">Any other status code causes Traffic Manager to mark the application as offline.</span></span> <span data-ttu-id="ac6bf-232">A Traffic Manager konzolján megtekintheti az állapotot, és konfigurálhatja a szabályt, hogy átirányítsa a kéréseket az alkalmazás más példányaira, amelyek válaszolnak.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-232">You can view the status in the Traffic Manager console, and configure the rule to reroute requests to other instances of the application that are responding.</span></span>

<span data-ttu-id="ac6bf-233">A Traffic Manager azonban csak tíz másodpercig vár a monitorozó URL-cím válaszára.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-233">However, Traffic Manager will only wait ten seconds to receive a response from the monitoring URL.</span></span> <span data-ttu-id="ac6bf-234">Éppen ezért győződjön meg róla, hogy a rendszer az időkorláton belül futtatja az állapot-ellenőrzési kódot, ezzel lehetővé téve a hálózaton belüli adatváltási késést a Traffic Managerből az alkalmazásba, majd pedig vissza.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-234">Therefore, you should ensure that your health verification code executes in this time, allowing for network latency for the round trip from Traffic Manager to your application and back again.</span></span>

> <span data-ttu-id="ac6bf-235">További információ a [Traffic Manager alkalmazások monitorozására való használatáról](/azure/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="ac6bf-235">Read more information about using [Traffic Manager to monitor your applications](/azure/traffic-manager/).</span></span> <span data-ttu-id="ac6bf-236">A Traffic Managerről a [több adatközpont üzembe helyezéséről szóló útmutatóban](https://msdn.microsoft.com/library/dn589779.aspx) is olvashat.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-236">Traffic Manager is also discussed in [Multiple Datacenter Deployment Guidance](https://msdn.microsoft.com/library/dn589779.aspx).</span></span>

## <a name="related-guidance"></a><span data-ttu-id="ac6bf-237">Kapcsolódó útmutatók</span><span class="sxs-lookup"><span data-stu-id="ac6bf-237">Related guidance</span></span>

<span data-ttu-id="ac6bf-238">Az alábbi útmutató hasznos lehet ennek a mintának az implementálása során:</span><span class="sxs-lookup"><span data-stu-id="ac6bf-238">The following guidance can be useful when implementing this pattern:</span></span>

- <span data-ttu-id="ac6bf-239">[Rendszerállapot és telemetria – útmutató](https://msdn.microsoft.com/library/dn589775.aspx).</span><span class="sxs-lookup"><span data-stu-id="ac6bf-239">[Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span> <span data-ttu-id="ac6bf-240">A szolgáltatások és összetevők állapotának ellenőrzése általában mintavétel útján történik, de emellett hasznos lehet érvényes információkkal rendelkezni az alkalmazásteljesítmény monitorozásához és a futtatás során bekövetkező események észleléséhez.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-240">Checking the health of services and components is typically done by probing, but it's also useful to have information in place to monitor application performance and detect events that occur at runtime.</span></span> <span data-ttu-id="ac6bf-241">Ezeket az adatokat az állapotfigyeléssel kapcsolatos tovább információkként vissza lehet küldeni a monitorozási eszközökbe.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-241">This data can be transmitted back to monitoring tools as additional information for health monitoring.</span></span> <span data-ttu-id="ac6bf-242">A rendszerállapotra és telemetriára vonatkozó útmutató bemutatja, hogyan lehet távolról az alkalmazások rendszerállapot-figyelése által gyűjtött diagnosztikai adatokat gyűjteni.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-242">Instrumentation and Telemetry Guidance explores gathering remote diagnostics information that's collected by instrumentation in applications.</span></span>
- <span data-ttu-id="ac6bf-243">[Riasztási értesítések fogadása][portal-alerts].</span><span class="sxs-lookup"><span data-stu-id="ac6bf-243">[Receiving alert notifications][portal-alerts].</span></span>
- <span data-ttu-id="ac6bf-244">Ez a minta egy letölthető [mintaalkalmazást](https://github.com/mspnp/cloud-design-patterns/tree/master/health-endpoint-monitoring) tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="ac6bf-244">This pattern includes a downloadable [sample application](https://github.com/mspnp/cloud-design-patterns/tree/master/health-endpoint-monitoring).</span></span>

[portal-alerts]: /azure/azure-monitor/platform/alerts-metric
