---
title: "Esemény forrás"
description: "Egy csak append tároló segítségével rögzítheti a teljes eseménysorozatokat, amelyek egy tartományban lévő adatokon műveleteit tartalmazzák."
keywords: "Kialakítási mintája"
author: dragon119
ms.date: 06/23/2017
pnp.series.title: Cloud Design Patterns
pnp.pattern.categories:
- data-management
- performance-scalability
ms.openlocfilehash: d5d4e99a6ff49cb823f592c83590471c0d68bfd1
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="event-sourcing-pattern"></a><span data-ttu-id="b744a-104">Esemény Sourcing minta</span><span class="sxs-lookup"><span data-stu-id="b744a-104">Event Sourcing pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="b744a-105">Helyett csak az adatok aktuális állapotát egy tartományban, használja a egy csak append tároló műveleteket végezhet el az adatok a teljes sorozatát rögzítéséhez.</span><span class="sxs-lookup"><span data-stu-id="b744a-105">Instead of storing just the current state of the data in a domain, use an append-only store to record the full series of actions taken on that data.</span></span>
<span data-ttu-id="b744a-106">A tároló úgy működik, mint a rendszer rekord, és a tartomány objektumok materializálni használható.</span><span class="sxs-lookup"><span data-stu-id="b744a-106">The store acts as the system of record and can be used to materialize the domain objects.</span></span> <span data-ttu-id="b744a-107">Ezzel egyszerűsítheti feladatok összetett tartományok, így nem kell szinkronizálni az adatokat az adatmodellbe és a vállalati tartományhoz, teljesítmény, méretezhetőség és reakcióidőt fokozása mellett.</span><span class="sxs-lookup"><span data-stu-id="b744a-107">This can simplify tasks in complex domains, by avoiding the need to synchronize the data model and the business domain, while improving performance, scalability, and responsiveness.</span></span> <span data-ttu-id="b744a-108">Azt is adja meg a konzisztencia tranzakciós adatok, és teljes naplózási előzmények kezelése és engedélyezheti a kompenzációs műveletek előzményeinek megőrzése.</span><span class="sxs-lookup"><span data-stu-id="b744a-108">It can also provide consistency for transactional data, and maintain full audit trails and history that can enable compensating actions.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="b744a-109">A környezetben, és probléma</span><span class="sxs-lookup"><span data-stu-id="b744a-109">Context and problem</span></span>

<span data-ttu-id="b744a-110">A legtöbb alkalmazás adatokkal dolgozni, és a szokásos megoldás, az alkalmazás az adatok aktuális állapotának karbantartásához frissítené azt a felhasználók használható.</span><span class="sxs-lookup"><span data-stu-id="b744a-110">Most applications work with data, and the typical approach is for the application to maintain the current state of the data by updating it as users work with it.</span></span> <span data-ttu-id="b744a-111">Például a hagyományos létrehozás, Olvasás, frissítés és Törlés (CRUD) modell a jellemző adatok folyamat az adatokat olvasni az áruházból, a módosításokat bizonyos azt, és az adatok aktuális állapotának frissítéséhez az új értékekkel&mdash;gyakran tranzakciók használatával az adatok, amelyek zárolása.</span><span class="sxs-lookup"><span data-stu-id="b744a-111">For example, in the traditional create, read, update, and delete (CRUD) model a typical data process is to read data from the store, make some modifications to it, and update the current state of the data with the new values&mdash;often by using transactions that lock the data.</span></span>

<span data-ttu-id="b744a-112">A CRUD megközelítés azzal bizonyos korlátozások vonatkoznak:</span><span class="sxs-lookup"><span data-stu-id="b744a-112">The CRUD approach has some limitations:</span></span>

- <span data-ttu-id="b744a-113">CRUD rendszerek hajtsa végre a frissítési műveleteket közvetlenül a tárolóban, így lelassíthatják a teljesítmény és reakcióidőt, és korlátozza a méretezhetőség miatt a feldolgozási terhelést van szükség.</span><span class="sxs-lookup"><span data-stu-id="b744a-113">CRUD systems perform update operations directly against a data store, which can slow down performance and responsiveness, and limit scalability, due to the processing overhead it requires.</span></span>

- <span data-ttu-id="b744a-114">Olyan együttműködési tartomány nagyszámú egyidejű felhasználót frissítés adatütközések valószínűbb, mert a frissítési műveletek csak egy elemet az adatok alapján történik.</span><span class="sxs-lookup"><span data-stu-id="b744a-114">In a collaborative domain with many concurrent users, data update conflicts are more likely because the update operations take place on a single item of data.</span></span>

- <span data-ttu-id="b744a-115">Kivéve, ha egy további naplózási mechanizmus, amely az egyes műveletek részleteit rögzíti egy külön naplóban, el fog veszni.</span><span class="sxs-lookup"><span data-stu-id="b744a-115">Unless there's an additional auditing mechanism that records the details of each operation in a separate log, history is lost.</span></span>

> <span data-ttu-id="b744a-116">Bemutatják a CRUD megközelítés határain, lásd: [CRUD, csak ha akkor is biztosít az](https://blogs.msdn.microsoft.com/maarten_mullender/2004/07/23/crud-only-when-you-can-afford-it-revisited/).</span><span class="sxs-lookup"><span data-stu-id="b744a-116">For a deeper understanding of the limits of the CRUD approach see [CRUD, Only When You Can Afford It](https://blogs.msdn.microsoft.com/maarten_mullender/2004/07/23/crud-only-when-you-can-afford-it-revisited/).</span></span>

## <a name="solution"></a><span data-ttu-id="b744a-117">Megoldás</span><span class="sxs-lookup"><span data-stu-id="b744a-117">Solution</span></span>

<span data-ttu-id="b744a-118">Az esemény forrás mintát megközelítés a kezelési műveletek, amelyek célja a események, sorozata, amelyek csak a hozzáfűző tárolóban rögzítése adatokon határozza meg.</span><span class="sxs-lookup"><span data-stu-id="b744a-118">The Event Sourcing pattern defines an approach to handling operations on data that's driven by a sequence of events, each of which is recorded in an append-only store.</span></span> <span data-ttu-id="b744a-119">Alkalmazáskód küld egy eseménysorozatokat, amelyek imperatively ismertetik, hogy történt az esemény tárolóba, ahol éppen megőrzött adatokat.</span><span class="sxs-lookup"><span data-stu-id="b744a-119">Application code sends a series of events that imperatively describe each action that has occurred on the data to the event store, where they're persisted.</span></span> <span data-ttu-id="b744a-120">Minden esemény módosítások készletét reprezentálja, az adatok (például `AddedItemToOrder`).</span><span class="sxs-lookup"><span data-stu-id="b744a-120">Each event represents a set of changes to the data (such as `AddedItemToOrder`).</span></span>

<span data-ttu-id="b744a-121">Az események megmaradnak, amely a rekord (a mérvadó adatforrása) az adatok aktuális állapotát a rendszer esemény tárolóban.</span><span class="sxs-lookup"><span data-stu-id="b744a-121">The events are persisted in an event store that acts as the system of record (the authoritative data source) about the current state of the data.</span></span> <span data-ttu-id="b744a-122">Az esemény tároló általában ezeket az eseményeket tesz közzé, hogy a felhasználók értesítést kapni, és kezelheti azokat szükség esetén.</span><span class="sxs-lookup"><span data-stu-id="b744a-122">The event store typically publishes these events so that consumers can be notified and can handle them if needed.</span></span> <span data-ttu-id="b744a-123">Fogyasztók nem, például más rendszerek az események műveletek feladatokat kezdeményez, vagy hajtsa végre az egyéb kapcsolódó művelet, amely a művelet végrehajtásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="b744a-123">Consumers could, for example, initiate tasks that apply the operations in the events to other systems, or perform any other associated action that's required to complete the operation.</span></span> <span data-ttu-id="b744a-124">Figyelje meg, hogy az alkalmazás kódjában, amely létrehozza az eseményeket a rendszer leválasztja a rendszerekre, amelyek az események előfizetni.</span><span class="sxs-lookup"><span data-stu-id="b744a-124">Notice that the application code that generates the events is decoupled from the systems that subscribe to the events.</span></span>

<span data-ttu-id="b744a-125">Az események az esemény tároló által közzétett a gyakori felhasználási entitások materializált nézetek fenntartásához műveletek az alkalmazás módosítsa őket, és külső rendszerekkel való integrációra.</span><span class="sxs-lookup"><span data-stu-id="b744a-125">Typical uses of the events published by the event store are to maintain materialized views of entities as actions in the application change them, and for integration with external systems.</span></span> <span data-ttu-id="b744a-126">Például a rendszer fenntarthatja a materializált nézet összes ügyfél rendelés, amely a felhasználói felület részei feltöltésére használt eszköz.</span><span class="sxs-lookup"><span data-stu-id="b744a-126">For example, a system can maintain a materialized view of all customer orders that's used to populate parts of the UI.</span></span> <span data-ttu-id="b744a-127">Az alkalmazás új rendelések hozzáadja, hozzáadja vagy eltávolítja az elemet a sorrendnek, és hozzáadja a szállítási adatokat, a módosítások leíró események kezelje-e, és hogy frissítheti a [materializált nézet](materialized-view.md).</span><span class="sxs-lookup"><span data-stu-id="b744a-127">As the application adds new orders, adds or removes items on the order, and adds shipping information, the events that describe these changes can be handled and used to update the [materialized view](materialized-view.md).</span></span>

<span data-ttu-id="b744a-128">Emellett bármikor lehetőség az alkalmazások számára az előzmények események olvasását, és vissza és adott entitáshoz kapcsolódó összes eseményt fel entitás jelenlegi állapotának materializálni segítségével.</span><span class="sxs-lookup"><span data-stu-id="b744a-128">In addition, at any point it's possible for applications to read the history of events, and use it to materialize the current state of an entity by playing back and consuming all the events related to that entity.</span></span> <span data-ttu-id="b744a-129">Ez akkor fordulhat elő, a tartományobjektum materializálni, amikor a kérelmet kezelő igény szerint vagy ütemezett feladat keresztül, hogy az entitás állapotát is tárolhatók a bemutató réteg támogatásához materializált nézetként.</span><span class="sxs-lookup"><span data-stu-id="b744a-129">This can occur on demand to materialize a domain object when handling a request, or through a scheduled task so that the state of the entity can be stored as a materialized view to support the presentation layer.</span></span>

<span data-ttu-id="b744a-130">Az ábra mutatja a mintát, köztük egyes a beállításokat, például a materializált nézetek létrehozásával, külső alkalmazások és rendszerek események integrálása és események visszajátszását az eseménystream használatával történő létrehozásához leképezések aktuális állapotának áttekintése adott entitások.</span><span class="sxs-lookup"><span data-stu-id="b744a-130">The figure shows an overview of the pattern, including some of the options for using the event stream such as creating a materialized view, integrating events with external applications and systems, and replaying events to create projections of the current state of specific entities.</span></span>

![Áttekintés és példa az esemény forrás minta](./_images/event-sourcing-overview.png)


<span data-ttu-id="b744a-132">Az esemény forrás mintát a következő előnyöket nyújtja:</span><span class="sxs-lookup"><span data-stu-id="b744a-132">The Event Sourcing pattern provides the following advantages:</span></span>

<span data-ttu-id="b744a-133">Események nem módosíthatók, és csak a hozzáfűző művelet is tárolhatók.</span><span class="sxs-lookup"><span data-stu-id="b744a-133">Events are immutable and can be stored using an append-only operation.</span></span> <span data-ttu-id="b744a-134">A felhasználói felület, a munkafolyamat vagy a folyamat, amely egy esemény kezdeményezett továbbra is, és feladatokat, amelyek az események kezelésére is fusson a háttérben.</span><span class="sxs-lookup"><span data-stu-id="b744a-134">The user interface, workflow, or process that initiated an event can continue, and tasks that handle the events can run in the background.</span></span> <span data-ttu-id="b744a-135">Kombinálva a tényt, hogy van-e nem a versengés tranzakciók, a feldolgozás során jelentősen javítja a teljesítmény és méretezhetőség, az alkalmazások, különösen a bemutatási szint vagy a felhasználói felület.</span><span class="sxs-lookup"><span data-stu-id="b744a-135">This, combined with the fact that there's no contention during the processing of transactions, can vastly improve performance and scalability for applications, especially for the presentation level or user interface.</span></span>

<span data-ttu-id="b744a-136">Események olyan egyszerű-objektumok leíró néhány művelet, amely történt, és minden kapcsolódó adatairól, hogy az esemény által képviselt művelet leírása.</span><span class="sxs-lookup"><span data-stu-id="b744a-136">Events are simple objects that describe some action that occurred, together with any associated data required to describe the action represented by the event.</span></span> <span data-ttu-id="b744a-137">Események közvetlenül nem frissíti a tárolóban.</span><span class="sxs-lookup"><span data-stu-id="b744a-137">Events don't directly update a data store.</span></span> <span data-ttu-id="b744a-138">Azok egyszerűen megfelelő időben kezelésére van rögzítve.</span><span class="sxs-lookup"><span data-stu-id="b744a-138">They're simply recorded for handling at the appropriate time.</span></span> <span data-ttu-id="b744a-139">Ez egyszerűbbé teszi megvalósítása és kezelése.</span><span class="sxs-lookup"><span data-stu-id="b744a-139">This can simplify implementation and management.</span></span>

<span data-ttu-id="b744a-140">Események általában jelentéssel bírnak az egy tartomány szakértő, mivel [objektum relációs impedancia eltérés](https://en.wikipedia.org/wiki/Object-relational_impedance_mismatch) összetett adatbázistáblák megértése nehéz tehet.</span><span class="sxs-lookup"><span data-stu-id="b744a-140">Events typically have meaning for a domain expert, whereas [object-relational impedance mismatch](https://en.wikipedia.org/wiki/Object-relational_impedance_mismatch) can make complex database tables hard to understand.</span></span> <span data-ttu-id="b744a-141">Táblák olyan mesterséges szerkezetek, amelyek megfelelnek a rendszer, a jelenlegi állapotában nem előforduló eseményeket.</span><span class="sxs-lookup"><span data-stu-id="b744a-141">Tables are artificial constructs that represent the current state of the system, not the events that occurred.</span></span>

<span data-ttu-id="b744a-142">Esemény forrás segítségével megakadályozhatja, hogy a párhuzamos frissítések ütközést okoz, mivel ezzel elkerülheti a követelmény közvetlenül objektumokat frissíteni az adattárban.</span><span class="sxs-lookup"><span data-stu-id="b744a-142">Event sourcing can help prevent concurrent updates from causing conflicts because it avoids the requirement to directly update objects in the data store.</span></span> <span data-ttu-id="b744a-143">Azonban a modell továbbra is kell megtervezni, a kérelmek, ami okozhatja azt inkonzisztens állapotban védeni magát.</span><span class="sxs-lookup"><span data-stu-id="b744a-143">However, the domain model must still be designed to protect itself from requests that might result in an inconsistent state.</span></span>

<span data-ttu-id="b744a-144">Az események csak append tárolását biztosít, amely által végrehajtott műveletek elleni adattárat, újragenerálása a jelenlegi állapotában materializált nézetek vagy leképezések az események visszajátszását bármikor figyelésére használható, és annak elősegítéséhez, a tesztelés és hibakeresés elővizsgálati a a rendszer.</span><span class="sxs-lookup"><span data-stu-id="b744a-144">The append-only storage of events provides an audit trail that can be used to monitor actions taken against a data store, regenerate the current state as materialized views or projections by replaying the events at any time, and assist in testing and debugging the system.</span></span> <span data-ttu-id="b744a-145">A vonatkozó követelményt a változtatások visszavonásához kompenzációs eseményeknek a segítségével emellett egy korábbi módosításait, amely lettek visszaállítva, amely így akkor fordulhat elő, ha a modell egyszerűen a jelenlegi állapotában.</span><span class="sxs-lookup"><span data-stu-id="b744a-145">In addition, the requirement to use compensating events to cancel changes provides a history of changes that were reversed, which wouldn't be the case if the model simply stored the current state.</span></span> <span data-ttu-id="b744a-146">Az események listájának is használható, az alkalmazások teljesítményének elemzése és a felhasználói viselkedés trendek észlelése, vagy más hasznos üzleti adatok beszerzéséhez.</span><span class="sxs-lookup"><span data-stu-id="b744a-146">The list of events can also be used to analyze application performance and detect user behavior trends, or to obtain other useful business information.</span></span>

<span data-ttu-id="b744a-147">Az esemény tároló eseményeket indít, és a feladatok műveleteket ezeket az eseményeket adott válaszként.</span><span class="sxs-lookup"><span data-stu-id="b744a-147">The event store raises events, and tasks perform operations in response to those events.</span></span> <span data-ttu-id="b744a-148">Ez a feladatok az események leválasztásával biztosít rugalmasságot és bővíthetőséget.</span><span class="sxs-lookup"><span data-stu-id="b744a-148">This decoupling of the tasks from the events provides flexibility and extensibility.</span></span> <span data-ttu-id="b744a-149">Feladatok tudja, milyen típusú eseményt és eseményadatok, de nem az eseményt kiváltó működésével kapcsolatos.</span><span class="sxs-lookup"><span data-stu-id="b744a-149">Tasks know about the type of event and the event data, but not about the operation that triggered the event.</span></span> <span data-ttu-id="b744a-150">Több feladat emellett képes kezelni minden esemény.</span><span class="sxs-lookup"><span data-stu-id="b744a-150">In addition, multiple tasks can handle each event.</span></span> <span data-ttu-id="b744a-151">Ez lehetővé teszi, hogy az egyszerű integráció az egyéb szolgáltatások és rendszerekről, amelyek csak az esemény tároló által kiváltott új események figyelését.</span><span class="sxs-lookup"><span data-stu-id="b744a-151">This enables easy integration with other services and systems that only listen for new events raised by the event store.</span></span> <span data-ttu-id="b744a-152">Azonban az esemény forrás események általában nagyon alacsony, és helyette az adott integrációs események generálásához szükség lehet.</span><span class="sxs-lookup"><span data-stu-id="b744a-152">However, the event sourcing events tend to be very low level, and it might be necessary to generate specific integration events instead.</span></span>

> <span data-ttu-id="b744a-153">Esemény forrás általában együtt a CQRS minta az adatok kezelési feladatainak végrehajtása az eseményekre válaszként, valamint a tárolt események nézeteket materializálása.</span><span class="sxs-lookup"><span data-stu-id="b744a-153">Event sourcing is commonly combined with the CQRS pattern by performing the data management tasks in response to the events, and by materializing views from the stored events.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="b744a-154">Problémákat és szempontok</span><span class="sxs-lookup"><span data-stu-id="b744a-154">Issues and considerations</span></span>

<span data-ttu-id="b744a-155">Ebben a mintában megvalósításához meghatározásakor, vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="b744a-155">Consider the following points when deciding how to implement this pattern:</span></span>

<span data-ttu-id="b744a-156">A rendszer csak akkor idővel konzisztenssé, ha létrehozása materializált nézet, és az adatok előállítása leképezések által események visszajátszását.</span><span class="sxs-lookup"><span data-stu-id="b744a-156">The system will only be eventually consistent when creating materialized views or generating projections of data by replaying events.</span></span> <span data-ttu-id="b744a-157">Egyes események az esemény tanúsítványtárolójához adását eredményezi egy kérést a közzétett események kezelésére kérelmet, és azokat az eseményeket a késleltetés van.</span><span class="sxs-lookup"><span data-stu-id="b744a-157">There's some delay between an application adding events to the event store as the result of handling a request, the events being published, and consumers of the events handling them.</span></span> <span data-ttu-id="b744a-158">Ebben az időszakban, leíró további módosítások entitások új események előfordulhat, hogy az esemény üzletben érkezett.</span><span class="sxs-lookup"><span data-stu-id="b744a-158">During this period, new events that describe further changes to entities might have arrived at the event store.</span></span>

> [!NOTE]
> <span data-ttu-id="b744a-159">Tekintse meg a [adatok konzisztencia ismertetése](https://msdn.microsoft.com/library/dn589800.aspx) végleges konzisztencia kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="b744a-159">See the [Data Consistency Primer](https://msdn.microsoft.com/library/dn589800.aspx) for information about eventual consistency.</span></span>

<span data-ttu-id="b744a-160">Az esemény tároló információk állandó forrását, és így eseményadatok soha nem kell frissíteni.</span><span class="sxs-lookup"><span data-stu-id="b744a-160">The event store is the permanent source of information, and so the event data should never be updated.</span></span> <span data-ttu-id="b744a-161">A csak a módosítások visszavonásához entitás frissítése, kompenzációs esemény hozzáadása az esemény-tárolóhoz.</span><span class="sxs-lookup"><span data-stu-id="b744a-161">The only way to update an entity to undo a change is to add a compensating event to the event store.</span></span> <span data-ttu-id="b744a-162">Ha a formátum (az adatok helyett) a megőrzött események módosítani kell, lehet, hogy a áttelepítés során nehézkes lehet egyesítése meglévő események a tárolóban lévő új verzióval.</span><span class="sxs-lookup"><span data-stu-id="b744a-162">If the format (rather than the data) of the persisted events needs to change, perhaps during a migration, it can be difficult to combine existing events in the store with the new version.</span></span> <span data-ttu-id="b744a-163">Módosítások végrehajtása úgy is kompatibilis az új formátummal összes esemény iterációt, vagy adja hozzá az új formátumot használó új eseményeket szükség lehet.</span><span class="sxs-lookup"><span data-stu-id="b744a-163">It might be necessary to iterate through all the events making changes so they're compliant with the new format, or add new events that use the new format.</span></span> <span data-ttu-id="b744a-164">Érdemes lehet egy verziószámmal minden az esemény-séma verziója is a régi és az új esemény-formátumok.</span><span class="sxs-lookup"><span data-stu-id="b744a-164">Consider using a version stamp on each version of the event schema to maintain both the old and the new event formats.</span></span>

<span data-ttu-id="b744a-165">Többszálas alkalmazások és az alkalmazások több példánya lehet, hogy tárolni események az esemény-tárolóban.</span><span class="sxs-lookup"><span data-stu-id="b744a-165">Multi-threaded applications and multiple instances of applications might be storing events in the event store.</span></span> <span data-ttu-id="b744a-166">Események az esemény tárolójában konzisztencia létfontosságú, mivel egy adott entitás (a sorrendet, hogy a változás entitás hatással van a jelenlegi állapotában) érintő események sorrendjének.</span><span class="sxs-lookup"><span data-stu-id="b744a-166">The consistency of events in the event store is vital, as is the order of events that affect a specific entity (the order that changes occur to an entity affects its current state).</span></span> <span data-ttu-id="b744a-167">Időbélyeg ad hozzá minden esemény segíthet problémák elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="b744a-167">Adding a timestamp to every event can help to avoid issues.</span></span> <span data-ttu-id="b744a-168">Másik gyakori eljárása minden eredő egy kérelem növekményes azonosítójú esemény a jegyzet.</span><span class="sxs-lookup"><span data-stu-id="b744a-168">Another common practice is to annotate each event resulting from a request with an incremental identifier.</span></span> <span data-ttu-id="b744a-169">Ha két művelet megkísérli eseményeket ugyanaz az entitás hozzáadása egy időben, az esemény tároló elutasíthatja egy eseményt, amely megegyezik egy meglévő entitásazonosító és eseményazonosító.</span><span class="sxs-lookup"><span data-stu-id="b744a-169">If two actions attempt to add events for the same entity at the same time, the event store can reject an event that matches an existing entity identifier and event identifier.</span></span>

<span data-ttu-id="b744a-170">Nincs szabványos módszert, vagy az SQL-lekérdezések, például a meglévő mechanizmusok tájékoztatást kaphat az események olvasását.</span><span class="sxs-lookup"><span data-stu-id="b744a-170">There's no standard approach, or existing mechanisms such as SQL queries, for reading the events to obtain information.</span></span> <span data-ttu-id="b744a-171">Az adatok közül kizárólag kiolvasható áll eseményeket esemény azonosító feltételt.</span><span class="sxs-lookup"><span data-stu-id="b744a-171">The only data that can be extracted is a stream of events using an event identifier as the criteria.</span></span> <span data-ttu-id="b744a-172">Egyes szervezetek általában összekapcsolódnak eseményazonosító.</span><span class="sxs-lookup"><span data-stu-id="b744a-172">The event ID typically maps to individual entities.</span></span> <span data-ttu-id="b744a-173">A jelenlegi állapotában az entitás csak meghatározható visszajátszását az események, amelyek kapcsolódnak az ellen, hogy az entitás eredeti állapotát.</span><span class="sxs-lookup"><span data-stu-id="b744a-173">The current state of an entity can be determined only by replaying all of the events that relate to it against the original state of that entity.</span></span>

<span data-ttu-id="b744a-174">Minden esemény adatfolyam hossza kezelése és a rendszer frissítése hatással van.</span><span class="sxs-lookup"><span data-stu-id="b744a-174">The length of each event stream affects managing and updating the system.</span></span> <span data-ttu-id="b744a-175">Ha az adatfolyamokat nagy, fontolja meg a megadott számú események például adott időközönként pillanatképeinek.</span><span class="sxs-lookup"><span data-stu-id="b744a-175">If the streams are large, consider creating snapshots at specific intervals such as a specified number of events.</span></span> <span data-ttu-id="b744a-176">Az entitás jelenlegi állapotában érhető el a pillanatképből, és később idő előfordult eseményeket visszajátszását.</span><span class="sxs-lookup"><span data-stu-id="b744a-176">The current state of the entity can be obtained from the snapshot and by replaying any events that occurred after that point in time.</span></span> <span data-ttu-id="b744a-177">Pillanatképeket készíteni létrehozásával kapcsolatos további információkért lásd: [pillanatkép-Anna Fowler vállalati alkalmazás architektúra webhelyen](http://martinfowler.com/eaaDev/Snapshot.html) és [fő-alárendelt pillanatkép-replikálási](https://msdn.microsoft.com/library/ff650012.aspx).</span><span class="sxs-lookup"><span data-stu-id="b744a-177">For more information about creating snapshots of data, see [Snapshot on Martin Fowler’s Enterprise Application Architecture website](http://martinfowler.com/eaaDev/Snapshot.html) and [Master-Subordinate Snapshot Replication](https://msdn.microsoft.com/library/ff650012.aspx).</span></span>

<span data-ttu-id="b744a-178">Annak ellenére, hogy az esemény forrás minimalizálja az esélye, az adatok ütköző frissítések, az alkalmazás továbbra is képesnek kell lennie inkonzisztenciát foglalkozik a végleges konzisztencia származó és a tranzakciók hiánya.</span><span class="sxs-lookup"><span data-stu-id="b744a-178">Even though event sourcing minimizes the chance of conflicting updates to the data, the application must still be able to deal with inconsistencies that result from eventual consistency and the lack of transactions.</span></span> <span data-ttu-id="b744a-179">Például tőzsdei készlet csökkenését jelző esemény előfordulhat, hogy az ügyfélszámítógépekre érkeznek az adattárban egy sorrendet, hogy az elem alatt helyezkedik el, a követelmény, hogy aztán összeegyeztesse a két művelet, vagy az ügyfél tanácsadás, vagy hozzon létre egy rendelés eredményezve közben.</span><span class="sxs-lookup"><span data-stu-id="b744a-179">For example, an event that indicates a reduction in stock inventory might arrive in the data store while an order for that item is being placed, resulting in a requirement to reconcile the two operations either by advising the customer or creating a back order.</span></span>

<span data-ttu-id="b744a-180">Esemény kiadvány "legalább egyszeri" lehet, és így az események fogyasztók idempotent kell lennie.</span><span class="sxs-lookup"><span data-stu-id="b744a-180">Event publication might be “at least once,” and so consumers of the events must be idempotent.</span></span> <span data-ttu-id="b744a-181">A frissítés ismertetett egy eseményt, ha az esemény kezelése egynél többször nem azokat kell telepítenie.</span><span class="sxs-lookup"><span data-stu-id="b744a-181">They must not reapply the update described in an event if the event is handled more than once.</span></span> <span data-ttu-id="b744a-182">Például ha egy felhasználó több példánya karbantartása összesítő egy entitás tulajdonság, például a megrendelések, teljes száma csak az egyiket kell sikeres összesített növekvő sorrendhez elhelyezett esemény bekövetkezésekor.</span><span class="sxs-lookup"><span data-stu-id="b744a-182">For example, if multiple instances of a consumer maintain an aggregate an entity's property, such as the total number of orders placed, only one must succeed in incrementing the aggregate when an order placed event occurs.</span></span> <span data-ttu-id="b744a-183">Bár ez nem egy forrás esemény kulcsfontosságú jellemzője, ez a beállítás a szokásos megvalósítási döntési.</span><span class="sxs-lookup"><span data-stu-id="b744a-183">While this isn't a key characteristic of event sourcing, it's the usual implementation decision.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="b744a-184">Mikor érdemes használni ezt a mintát</span><span class="sxs-lookup"><span data-stu-id="b744a-184">When to use this pattern</span></span>

<span data-ttu-id="b744a-185">Ez a minta a következő helyzetekben használhatja:</span><span class="sxs-lookup"><span data-stu-id="b744a-185">Use this pattern in the following scenarios:</span></span>

- <span data-ttu-id="b744a-186">Ha szeretné rögzíteni a célt, cél vagy az adatok OK.</span><span class="sxs-lookup"><span data-stu-id="b744a-186">When you want to capture intent, purpose, or reason in the data.</span></span> <span data-ttu-id="b744a-187">Például egy ügyfélentitást módosításai rögzíthetők adott eseménytípusok sorozataként például _áthelyezett otthoni_, _lezárt számla_, vagy _elhunyt_.</span><span class="sxs-lookup"><span data-stu-id="b744a-187">For example, changes to a customer entity can be captured as a series of specific event types such as _Moved home_, _Closed account_, or _Deceased_.</span></span>

- <span data-ttu-id="b744a-188">Ha elengedhetetlen, hogy minimalizálja vagy teljesen megelőzze adatok ütköző frissítéseit.</span><span class="sxs-lookup"><span data-stu-id="b744a-188">When it's vital to minimize or completely avoid the occurrence of conflicting updates to data.</span></span>

- <span data-ttu-id="b744a-189">Ha azt szeretné, és lehet, hogy a rendszer állapotának visszaállítása, visszaállítható a változás, vagy egy megőrzése, és eseménynaplója visszajátszásos eseményeket rögzíteni.</span><span class="sxs-lookup"><span data-stu-id="b744a-189">When you want to record events that occur, and be able to replay them to restore the state of a system, roll back changes, or keep a history and audit log.</span></span> <span data-ttu-id="b744a-190">Például ha egy feladat több lépésből áll szükség lehet visszaállítani a frissítések és majd az egyes lépéseket annak érdekében, az adatok ismét konzisztens állapotának visszajátszásos célzó műveletek végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="b744a-190">For example, when a task involves multiple steps you might need to execute actions to revert updates and then replay some steps to bring the data back into a consistent state.</span></span>

- <span data-ttu-id="b744a-191">Események használata esetén az alkalmazás működésének természetes szolgáltatása, és kissé további fejlesztési vagy megvalósítási beavatkozást igényel.</span><span class="sxs-lookup"><span data-stu-id="b744a-191">When using events is a natural feature of the operation of the application, and requires little additional development or implementation effort.</span></span>

- <span data-ttu-id="b744a-192">Ha szeretné absztrakcióhoz bevitel, és ezek a műveletek alkalmazásához szükséges feladatok adatainak frissítése.</span><span class="sxs-lookup"><span data-stu-id="b744a-192">When you need to decouple the process of inputting or updating data from the tasks required to apply these actions.</span></span> <span data-ttu-id="b744a-193">Ez lehet UI teljesítmény javítása érdekében, vagy más, a művelet végrehajtása, ha az esemény bekövetkeztekor figyelői események terjesztését.</span><span class="sxs-lookup"><span data-stu-id="b744a-193">This might be to improve UI performance, or to distribute events to other listeners that take action when the events occur.</span></span> <span data-ttu-id="b744a-194">Például egy bérlistarendszer szolgáltatással való integráció egy költség küldésének webhelyet, hogy az esemény által kiváltott események válaszként a webhelyen végzett fel a webhelyet, mind a bérlistarendszer adatok tárolásához.</span><span class="sxs-lookup"><span data-stu-id="b744a-194">For example, integrating a payroll system with an expense submission website so that events raised by the event store in response to data updates made in the website are consumed by both the website and the payroll system.</span></span>

- <span data-ttu-id="b744a-195">Ha azt szeretné, hogy rugalmasan módosíthatja a materializált modellek és Entitásadatok formátuma, módosíthatja a követelményeket, ha vagy&mdash;CQRS együtt használva&mdash;kell egy olvasási modell, vagy felfedheti azokat a nézeteket.</span><span class="sxs-lookup"><span data-stu-id="b744a-195">When you want flexibility to be able to change the format of materialized models and entity data if requirements change, or&mdash;when used in conjunction with CQRS&mdash;you need to adapt a read model or the views that expose the data.</span></span>

- <span data-ttu-id="b744a-196">CQRS, és végül mind együtt történő használat esetén konzisztencia elfogadható, amíg olvasási modell frissül, vagy a teljesítményre gyakorolt hatást entitásokat és adatainak áttelepítését egy eseményfelhasználó rehidratálása nem elfogadható.</span><span class="sxs-lookup"><span data-stu-id="b744a-196">When used in conjunction with CQRS, and eventual consistency is acceptable while a read model is updated, or the performance impact of rehydrating entities and data from an event stream is acceptable.</span></span>

<span data-ttu-id="b744a-197">Ez a minta nem lehet a következő esetekben lehet hasznos:</span><span class="sxs-lookup"><span data-stu-id="b744a-197">This pattern might not be useful in the following situations:</span></span>

- <span data-ttu-id="b744a-198">Kis vagy egyszerű tartományok, rendszerek, amelyeken kevéssé vagy egyáltalán ne üzleti logika vagy útválasztással rendszerek természetes jól használható felügyeleti mechanizmusok hagyományos CRUD adatokat.</span><span class="sxs-lookup"><span data-stu-id="b744a-198">Small or simple domains, systems that have little or no business logic, or nondomain systems that naturally work well with traditional CRUD data management mechanisms.</span></span>

- <span data-ttu-id="b744a-199">Azok a rendszerek, ahol konzisztencia és a nézetek az adatok a valós idejű frissítések szükségesek.</span><span class="sxs-lookup"><span data-stu-id="b744a-199">Systems where consistency and real-time updates to the views of the data are required.</span></span>

- <span data-ttu-id="b744a-200">Ahol elkérése rendszerek, előzményei és funkciók visszaállítása és visszajátszásos műveletek esetén nincs szükség.</span><span class="sxs-lookup"><span data-stu-id="b744a-200">Systems where audit trails, history, and capabilities to roll back and replay actions are not required.</span></span>

- <span data-ttu-id="b744a-201">Rendszerek a mögöttes adatok ütköző frissítések csak nagyon kis előfordulása esetén.</span><span class="sxs-lookup"><span data-stu-id="b744a-201">Systems where there's only a very low occurrence of conflicting updates to the underlying data.</span></span> <span data-ttu-id="b744a-202">Például a rendszerek, hanem frissítése túlnyomórészt hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="b744a-202">For example, systems that predominantly add data rather than updating it.</span></span>

## <a name="example"></a><span data-ttu-id="b744a-203">Példa</span><span class="sxs-lookup"><span data-stu-id="b744a-203">Example</span></span>

<span data-ttu-id="b744a-204">A konferencia rendszer szüksége van egy konferencia befejezett lefoglalások számát úgy, hogy azt is ellenőrzi, hogy vannak-munkaállomásokat marad. Ha egy potenciális résztvevő megpróbál egy foglalási.</span><span class="sxs-lookup"><span data-stu-id="b744a-204">A conference management system needs to track the number of completed bookings for a conference so that it can check whether there are seats still available when a potential attendee tries to make a booking.</span></span> <span data-ttu-id="b744a-205">A rendszer sikerült tárolni a konferencia lefoglalások száma legalább két módon:</span><span class="sxs-lookup"><span data-stu-id="b744a-205">The system could store the total number of bookings for a conference in at least two ways:</span></span>

- <span data-ttu-id="b744a-206">A rendszer egy adatbázisban, amely tartalmazza a foglalási külön egységként sikerült tárolja a lefoglalások teljes számával kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="b744a-206">The system could store the information about the total number of bookings as a separate entity in a database that holds booking information.</span></span> <span data-ttu-id="b744a-207">Lefoglalások készített, illetve megszakítva, a rendszer nem növelhető vagy nem ez a szám, megfelelő módon csökkentheti.</span><span class="sxs-lookup"><span data-stu-id="b744a-207">As bookings are made or canceled, the system could increment or decrement this number as appropriate.</span></span> <span data-ttu-id="b744a-208">Ez a megközelítés elméletileg egyszerű, de méretezhetőség hibákat is okozhat, ha nagyszámú résztvevők könyv munkaállomásokat próbál során rövid időn belül.</span><span class="sxs-lookup"><span data-stu-id="b744a-208">This approach is simple in theory, but can cause scalability issues if a large number of attendees are attempting to book seats during a short period of time.</span></span> <span data-ttu-id="b744a-209">Például az utolsó napja vagy, a foglalási időszakának záró előtt.</span><span class="sxs-lookup"><span data-stu-id="b744a-209">For example, in the last day or so prior to the booking period closing.</span></span>

- <span data-ttu-id="b744a-210">A rendszer sikerült tárolni a lefoglalások és a sikertelen esemény tárolóban tárolt eseményként is rögzíti.</span><span class="sxs-lookup"><span data-stu-id="b744a-210">The system could store information about bookings and cancellations as events held in an event store.</span></span> <span data-ttu-id="b744a-211">Ezek az események visszajátszását által elérhető helyek száma kiszámításához majd azt sikerült.</span><span class="sxs-lookup"><span data-stu-id="b744a-211">It could then calculate the number of seats available by replaying these events.</span></span> <span data-ttu-id="b744a-212">Lehet, hogy ez a megközelítés több méretezhető események immutability miatt.</span><span class="sxs-lookup"><span data-stu-id="b744a-212">This approach can be more scalable due to the immutability of events.</span></span> <span data-ttu-id="b744a-213">A rendszer csak kell adatokat olvasni az esemény-tároló, vagy adatok hozzáfűzése a esemény tároló.</span><span class="sxs-lookup"><span data-stu-id="b744a-213">The system only needs to be able to read data from the event store, or append data to the event store.</span></span> <span data-ttu-id="b744a-214">Lefoglalások és a sikertelen esemény információ soha nem módosul.</span><span class="sxs-lookup"><span data-stu-id="b744a-214">Event information about bookings and cancellations is never modified.</span></span>

<span data-ttu-id="b744a-215">A következő diagram azt ábrázolja, hogyan lehet, hogy a konferencia felügyeleti rendszer ülések foglalás alrendszere esemény forrás készletével megvalósított.</span><span class="sxs-lookup"><span data-stu-id="b744a-215">The following diagram illustrates how the seat reservation subsystem of the conference management system might be implemented using event sourcing.</span></span>

![Az esemény rögzítéséhez helyfoglalás kapcsolatos információkat a konferencia-kezelési rendszerbe forrás használatával](./_images/event-sourcing-bounded-context.png)


<span data-ttu-id="b744a-217">A két hely lefoglalása műveletek sorrendjét a következőképpen történik:</span><span class="sxs-lookup"><span data-stu-id="b744a-217">The sequence of actions for reserving two seats is as follows:</span></span>

1. <span data-ttu-id="b744a-218">A felhasználói felület munkaállomásokat foglalása két résztvevők parancsot ad ki.</span><span class="sxs-lookup"><span data-stu-id="b744a-218">The user interface issues a command to reserve seats for two attendees.</span></span> <span data-ttu-id="b744a-219">A parancs egy külön parancskezelő kezeli.</span><span class="sxs-lookup"><span data-stu-id="b744a-219">The command is handled by a separate command handler.</span></span> <span data-ttu-id="b744a-220">Egy adat logika, amely a felhasználói felület különválik és parancsként közzétett kérelmek kezeléséért felelős.</span><span class="sxs-lookup"><span data-stu-id="b744a-220">A piece of logic that is decoupled from the user interface and is responsible for handling requests posted as commands.</span></span>

2. <span data-ttu-id="b744a-221">A konferencia összes lefoglalását kapcsolatos információkat tartalmazó összesítő összeállított a foglalások és a törlések leíró események lekérdezésével.</span><span class="sxs-lookup"><span data-stu-id="b744a-221">An aggregate containing information about all reservations for the conference is constructed by querying the events that describe bookings and cancellations.</span></span> <span data-ttu-id="b744a-222">Az összesítés nevezik `SeatAvailability`, és magában foglal egy tartományi modellt, amely kérdez le, és az adatok módosítása aggregált használatos metódusok közzététele.</span><span class="sxs-lookup"><span data-stu-id="b744a-222">This aggregate is called `SeatAvailability`, and is contained within a domain model that exposes methods for querying and modifying the data in the aggregate.</span></span>

    > <span data-ttu-id="b744a-223">Figyelembe kell venni néhány optimalizálásokat pillanatképek használ (így nem kell lekérdezni, és a teljes listát az beszerzése a jelenlegi állapotában a összesítés események visszajátszásos), és az összesítés a memóriában gyorsítótárazott másolatának megtartásával.</span><span class="sxs-lookup"><span data-stu-id="b744a-223">Some optimizations to consider are using snapshots (so that you don’t need to query and replay the full list of events to obtain the current state of the aggregate), and maintaining a cached copy of the aggregate in memory.</span></span>

3. <span data-ttu-id="b744a-224">A parancskezelő jelennek meg, ha a tartomány modellt a fenntartásokat metódus meghívja.</span><span class="sxs-lookup"><span data-stu-id="b744a-224">The command handler invokes a method exposed by the domain model to make the reservations.</span></span>

4. <span data-ttu-id="b744a-225">A `SeatAvailability` összesítés volt fenntartva munkaállomásszámot tartalmazó esemény rögzíti.</span><span class="sxs-lookup"><span data-stu-id="b744a-225">The `SeatAvailability` aggregate records an event containing the number of seats that were reserved.</span></span> <span data-ttu-id="b744a-226">Összesített vonatkozik események, amikor legközelebb a lefoglalását használandó számítási hány munkaállomásokat maradnak.</span><span class="sxs-lookup"><span data-stu-id="b744a-226">The next time the aggregate applies events, all the reservations will be used to compute how many seats remain.</span></span>

5. <span data-ttu-id="b744a-227">A rendszer hozzáfűzi az új esemény események az esemény-tárolóban.</span><span class="sxs-lookup"><span data-stu-id="b744a-227">The system appends the new event to the list of events in the event store.</span></span>

<span data-ttu-id="b744a-228">Ha egy felhasználó megszakítja a helyet, a rendszer egy hasonló folyamatot követi, azzal a különbséggel parancskezelő generál egy eseményt, ülések megszakítása és fűzi azokat hozzá az esemény tároló parancsot ad ki.</span><span class="sxs-lookup"><span data-stu-id="b744a-228">If a user cancels a seat, the system follows a similar process except the command handler issues a command that generates a seat cancellation event and appends it to the event store.</span></span>

<span data-ttu-id="b744a-229">A méretezhetőség érdekében további hatókör biztosít, valamint egy esemény tárolót használó is biztosít a teljes előzmények, illetve a napló, a lefoglalások és konferencia a következménye.</span><span class="sxs-lookup"><span data-stu-id="b744a-229">As well as providing more scope for scalability, using an event store also provides a complete history, or audit trail, of the bookings and cancellations for a conference.</span></span> <span data-ttu-id="b744a-230">Az események az esemény tárolóban a pontos rekord.</span><span class="sxs-lookup"><span data-stu-id="b744a-230">The events in the event store are the accurate record.</span></span> <span data-ttu-id="b744a-231">Nincs szükség más módon összesítések megőrizni, mert a rendszer egyszerűen visszajátszásos az események és az állapot visszaállítása bármely időpontra.</span><span class="sxs-lookup"><span data-stu-id="b744a-231">There is no need to persist aggregates in any other way because the system can easily replay the events and restore the state to any point in time.</span></span>

> <span data-ttu-id="b744a-232">Ebben a példában található további információ található [esemény forrás bevezetéséről](https://msdn.microsoft.com/library/jj591559.aspx).</span><span class="sxs-lookup"><span data-stu-id="b744a-232">You can find more information about this example in [Introducing Event Sourcing](https://msdn.microsoft.com/library/jj591559.aspx).</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="b744a-233">Útmutató és a kapcsolódó minták</span><span class="sxs-lookup"><span data-stu-id="b744a-233">Related patterns and guidance</span></span>

<span data-ttu-id="b744a-234">A következő mintákat és útmutatókat is lehet releváns ebben a mintában végrehajtása során:</span><span class="sxs-lookup"><span data-stu-id="b744a-234">The following patterns and guidance might also be relevant when implementing this pattern:</span></span>

- <span data-ttu-id="b744a-235">[Parancsot, és lekérdezi a felelősség elkülönítése (CQRS) mintát](cqrs.md).</span><span class="sxs-lookup"><span data-stu-id="b744a-235">[Command and Query Responsibility Segregation (CQRS) Pattern](cqrs.md).</span></span> <span data-ttu-id="b744a-236">Az írási tároló, amely az állandó információforrás a CQRS megvalósításának gyakran alapú esemény forrás minta megvalósítása.</span><span class="sxs-lookup"><span data-stu-id="b744a-236">The write store that provides the permanent source of information for a CQRS implementation is often based on an implementation of the Event Sourcing pattern.</span></span> <span data-ttu-id="b744a-237">Ismerteti, hogyan elkülönítse a műveleteket, amelyek az alkalmazás adatokat olvasni az operatív adatokat frissítő külön-felületek használatával.</span><span class="sxs-lookup"><span data-stu-id="b744a-237">Describes how to segregate the operations that read data in an application from the operations that update data by using separate interfaces.</span></span>

- <span data-ttu-id="b744a-238">[A materializált nézet mintát](materialized-view.md).</span><span class="sxs-lookup"><span data-stu-id="b744a-238">[Materialized View Pattern](materialized-view.md).</span></span> <span data-ttu-id="b744a-239">Egy esemény forrás alapján rendszerben használt adattároló nincs általában kiválóan alkalmas a hatékony lekérdezése.</span><span class="sxs-lookup"><span data-stu-id="b744a-239">The data store used in a system based on event sourcing is typically not well suited to efficient querying.</span></span> <span data-ttu-id="b744a-240">Ehelyett egy közös megoldás, az adatok előfeltöltött nézetek létrehozásához, rendszeres időközönként, vagy az adatok változásakor.</span><span class="sxs-lookup"><span data-stu-id="b744a-240">Instead, a common approach is to generate prepopulated views of the data at regular intervals, or when the data changes.</span></span> <span data-ttu-id="b744a-241">Bemutatja, hogyan ehhez.</span><span class="sxs-lookup"><span data-stu-id="b744a-241">Shows how this can be done.</span></span>

- <span data-ttu-id="b744a-242">[Tranzakció mintát Compensating](compensating-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="b744a-242">[Compensating Transaction Pattern](compensating-transaction.md).</span></span> <span data-ttu-id="b744a-243">A meglévő adatok esemény sourcing tárolóban nem frissül, inkább új bejegyzések kerülnek, térjen át az entitás állapotát az új értékekkel.</span><span class="sxs-lookup"><span data-stu-id="b744a-243">The existing data in an event sourcing store is not updated, instead new entries are added that transition the state of entities to the new values.</span></span> <span data-ttu-id="b744a-244">Fordított módosítását, mert nem lehet az előző módosítás egyszerűen fordított kell használni kompenzációs bejegyzéseket.</span><span class="sxs-lookup"><span data-stu-id="b744a-244">To reverse a change, compensating entries are used because it isn't possible to simply reverse the previous change.</span></span> <span data-ttu-id="b744a-245">Ismerteti, hogyan vonható vissza egy korábbi művelet által végzett munka.</span><span class="sxs-lookup"><span data-stu-id="b744a-245">Describes how to undo the work that was performed by a previous operation.</span></span>

- <span data-ttu-id="b744a-246">[Adatok konzisztencia ismertetése](https://msdn.microsoft.com/library/dn589800.aspx).</span><span class="sxs-lookup"><span data-stu-id="b744a-246">[Data Consistency Primer](https://msdn.microsoft.com/library/dn589800.aspx).</span></span> <span data-ttu-id="b744a-247">Ha esemény forrás egy külön olvassa el a tároló vagy materializált nézetek, a beolvasott adat nem lesz azonnal konzisztens, ehelyett lesz csak idővel konzisztenssé.</span><span class="sxs-lookup"><span data-stu-id="b744a-247">When using event sourcing with a separate read store or materialized views, the read data won't be immediately consistent, instead it'll be only eventually consistent.</span></span> <span data-ttu-id="b744a-248">A konzisztencia fenntartása körülvevő elosztott adatokon keresztül problémákat foglalja össze.</span><span class="sxs-lookup"><span data-stu-id="b744a-248">Summarizes the issues surrounding maintaining consistency over distributed data.</span></span>

- <span data-ttu-id="b744a-249">[Útmutatás particionálás adatok](https://msdn.microsoft.com/library/dn589795.aspx).</span><span class="sxs-lookup"><span data-stu-id="b744a-249">[Data Partitioning Guidance](https://msdn.microsoft.com/library/dn589795.aspx).</span></span> <span data-ttu-id="b744a-250">Adatok gyakran particionálása használatakor esemény forrás méretezhetőség javítása, csökkentse a versengés és teljesítményének optimalizálásához.</span><span class="sxs-lookup"><span data-stu-id="b744a-250">Data is often partitioned when using event sourcing to improve scalability, reduce contention, and optimize performance.</span></span> <span data-ttu-id="b744a-251">Adatok felosztása diszkrét partíció, és az esetlegesen felmerülő problémákat ismerteti.</span><span class="sxs-lookup"><span data-stu-id="b744a-251">Describes how to divide data into discrete partitions, and the issues that can arise.</span></span>

- <span data-ttu-id="b744a-252">Greg Young post [miért érdemes használni a esemény forrás?](http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/).</span><span class="sxs-lookup"><span data-stu-id="b744a-252">Greg Young’s post [Why use Event Sourcing?](http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/).</span></span>
