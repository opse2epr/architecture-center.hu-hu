---
title: "Szabályozás"
description: "Egy alkalmazás, egy adott bérlő vagy az egész szolgáltatás egy példánya által használt erőforrások fogyasztásának szabályozzák."
keywords: "Kialakítási mintája"
author: dragon119
ms.date: 06/23/2017
pnp.series.title: Cloud Design Patterns
pnp.pattern.categories:
- availability
- performance-scalability
ms.openlocfilehash: 29156fc72f40a952dd53adcb20ffa7c3d0af79b4
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="throttling-pattern"></a><span data-ttu-id="c27bb-104">Sávszélesség-szabályozási minta</span><span class="sxs-lookup"><span data-stu-id="c27bb-104">Throttling pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="c27bb-105">Egy alkalmazás, egy adott bérlő vagy az egész szolgáltatás egy példánya által használt erőforrások fogyasztásának szabályozzák.</span><span class="sxs-lookup"><span data-stu-id="c27bb-105">Control the consumption of resources used by an instance of an application, an individual tenant, or an entire service.</span></span> <span data-ttu-id="c27bb-106">Engedélyezheti, hogy a rendszer továbbra is működik, és megfelelnek a szolgáltatásiszint-szerződések, még akkor is, ha az igény szerinti növelését egy rendkívüli betöltése az erőforrás.</span><span class="sxs-lookup"><span data-stu-id="c27bb-106">This can allow the system to continue to function and meet service level agreements, even when an increase in demand places an extreme load on resources.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="c27bb-107">A környezetben, és probléma</span><span class="sxs-lookup"><span data-stu-id="c27bb-107">Context and problem</span></span>

<span data-ttu-id="c27bb-108">A felhőalapú alkalmazások terhelése jellemzően az aktív felhasználóknak a számát, vagy azok hajtja végre műveletek alapján időnként eltérő.</span><span class="sxs-lookup"><span data-stu-id="c27bb-108">The load on a cloud application typically varies over time based on the number of active users or the types of activities they are performing.</span></span> <span data-ttu-id="c27bb-109">Például további felhasználók valószínűleg aktív munkaidőben, vagy hajtsa végre a számítástechnikai, olcsóbbá analytics minden hónap végén szükséges lehet a rendszer.</span><span class="sxs-lookup"><span data-stu-id="c27bb-109">For example, more users are likely to be active during business hours, or the system might be required to perform computationally expensive analytics at the end of each month.</span></span> <span data-ttu-id="c27bb-110">Is előfordulhat hirtelen és a nem várt felszakadásáig tevékenységben.</span><span class="sxs-lookup"><span data-stu-id="c27bb-110">There might also be sudden and unanticipated bursts in activity.</span></span> <span data-ttu-id="c27bb-111">Ha a rendszer ügyféloldali bővítmények feldolgozási követelményeivel meghaladja a rendelkezésre álló erőforrások kapacitása, lesz érinti a gyenge teljesítményt, és akkor is sikertelen lehet.</span><span class="sxs-lookup"><span data-stu-id="c27bb-111">If the processing requirements of the system exceed the capacity of the resources that are available, it'll suffer from poor performance and can even fail.</span></span> <span data-ttu-id="c27bb-112">Ha a rendszer egy egyeztetett szolgáltatási szintjének kielégítéséhez, ilyen hiba elfogadhatatlan lehet.</span><span class="sxs-lookup"><span data-stu-id="c27bb-112">If the system has to meet an agreed level of service, such failure could be unacceptable.</span></span>

<span data-ttu-id="c27bb-113">Sok stratégiák még elérhető a felhőben, attól függően, hogy az üzleti célokat, az alkalmazás különböző terhelés kezelésére.</span><span class="sxs-lookup"><span data-stu-id="c27bb-113">There're many strategies available for handling varying load in the cloud, depending on the business goals for the application.</span></span> <span data-ttu-id="c27bb-114">Egy stratégia az automatikus skálázás használandó felel meg a felhasználó a kiosztott erőforrásokat kell egy adott időpontban.</span><span class="sxs-lookup"><span data-stu-id="c27bb-114">One strategy is to use autoscaling to match the provisioned resources to the user needs at any given time.</span></span> <span data-ttu-id="c27bb-115">Ez magában hordozza a felhasználói igényeknek, miközben optimalizálja a futó költségek következetesen teljesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="c27bb-115">This has the potential to consistently meet user demand, while optimizing running costs.</span></span> <span data-ttu-id="c27bb-116">Azonban amíg automatikus skálázás is elindíthatja a további erőforrások kiépítése, azonnali a kiépítés nem.</span><span class="sxs-lookup"><span data-stu-id="c27bb-116">However, while autoscaling can trigger the provisioning of additional resources, this provisioning isn't immediate.</span></span> <span data-ttu-id="c27bb-117">Igény szerinti gyorsan növekszik, ha az időt egy ablak lehet erőforrás hiány esetén.</span><span class="sxs-lookup"><span data-stu-id="c27bb-117">If demand grows quickly, there can be a window of time where there's a resource deficit.</span></span>

## <a name="solution"></a><span data-ttu-id="c27bb-118">Megoldás</span><span class="sxs-lookup"><span data-stu-id="c27bb-118">Solution</span></span>

<span data-ttu-id="c27bb-119">Egy alternatív stratégia, amelynek az automatikus skálázást, hogy lehetővé teszik az alkalmazások csak legfeljebb erőforrásainak használatához, és majd azokat szabályozás, ha eléri ezt a korlátot.</span><span class="sxs-lookup"><span data-stu-id="c27bb-119">An alternative strategy to autoscaling is to allow applications to use resources only up to a limit, and then throttle them when this limit is reached.</span></span> <span data-ttu-id="c27bb-120">A rendszer hogyan használja erőforrásokat, hogy ha használat meghaladja a küszöbértéket, képes szabályozni a egy vagy több felhasználók által érkező kérések célszerű figyelemmel kísérni.</span><span class="sxs-lookup"><span data-stu-id="c27bb-120">The system should monitor how it's using resources so that, when usage exceeds the threshold, it can throttle requests from one or more users.</span></span> <span data-ttu-id="c27bb-121">Ezzel a lépéssel engedélyezi a rendszer folytatja a működését, és megfelelnek a szolgáltatásszint-szerződések (SLA) vannak érvényben.</span><span class="sxs-lookup"><span data-stu-id="c27bb-121">This will enable the system to continue functioning and meet any service level agreements (SLAs) that are in place.</span></span> <span data-ttu-id="c27bb-122">Erőforrás-használat figyelésével kapcsolatos további információkért lásd: a [Instrumentation és Telemetriai útmutatást](https://msdn.microsoft.com/library/dn589775.aspx).</span><span class="sxs-lookup"><span data-stu-id="c27bb-122">For more information on monitoring resource usage, see the [Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span>

<span data-ttu-id="c27bb-123">A rendszer több sávszélesség-szabályozási stratégiák, beleértve a sikerült megvalósításához:</span><span class="sxs-lookup"><span data-stu-id="c27bb-123">The system could implement several throttling strategies, including:</span></span>

- <span data-ttu-id="c27bb-124">Egy adott felhasználóhoz, aki már érkező kérelmeket visszautasítja a rendszer API-k másodpercenként több mint n alkalommal keresztül elérhető egy adott időszakban.</span><span class="sxs-lookup"><span data-stu-id="c27bb-124">Rejecting requests from an individual user who's already accessed system APIs more than n times per second over a given period of time.</span></span> <span data-ttu-id="c27bb-125">Ehhez a rendszer minden egyes bérlő vagy az alkalmazást futtató felhasználók használt erőforrások mérni szeretné.</span><span class="sxs-lookup"><span data-stu-id="c27bb-125">This requires the system to meter the use of resources for each tenant or user running an application.</span></span> <span data-ttu-id="c27bb-126">További információkért lásd: a [mérési útmutató szolgáltatásához](https://msdn.microsoft.com/library/dn589796.aspx).</span><span class="sxs-lookup"><span data-stu-id="c27bb-126">For more information, see the [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span>

- <span data-ttu-id="c27bb-127">Letiltása, vagy kijelölt nem szükséges szolgáltatások funkcióinak terhelése, hogy fontos szolgáltatások akadálymentesnek elegendő erőforrással rendelkező futtathatók.</span><span class="sxs-lookup"><span data-stu-id="c27bb-127">Disabling or degrading the functionality of selected nonessential services so that essential services can run unimpeded with sufficient resources.</span></span> <span data-ttu-id="c27bb-128">Például ha az alkalmazás az adatfolyam-videokimenetéhez, azt átállítása volt alacsonyabb felbontása.</span><span class="sxs-lookup"><span data-stu-id="c27bb-128">For example, if the application is streaming video output, it could switch to a lower resolution.</span></span>

- <span data-ttu-id="c27bb-129">Használatával Terheléskiegyenlítés sima tevékenység mennyiségét (Ez a megközelítés által további részletesen is ismertetjük a [várólista alapú betöltése simítás mintát](queue-based-load-leveling.md)).</span><span class="sxs-lookup"><span data-stu-id="c27bb-129">Using load leveling to smooth the volume of activity (this approach is covered in more detail by the [Queue-based Load Leveling pattern](queue-based-load-leveling.md)).</span></span> <span data-ttu-id="c27bb-130">Ezt a módszert használja egy több-bérlős környezetben minden bérlő számára a teljesítmény csökkenti.</span><span class="sxs-lookup"><span data-stu-id="c27bb-130">In a multi-tenant environment, this approach will reduce the performance for every tenant.</span></span> <span data-ttu-id="c27bb-131">Ha a rendszernek támogatnia kell a bérlők a különböző SLA kombinációját, a munka nagy értékű bérlők azonnal is végrehajthatók.</span><span class="sxs-lookup"><span data-stu-id="c27bb-131">If the system must support a mix of tenants with different SLAs, the work for high-value tenants might be performed immediately.</span></span> <span data-ttu-id="c27bb-132">Más bérlők kérelmek vissza tartott, és kezelésének, amikor a várakozó megkönnyítését rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="c27bb-132">Requests for other tenants can be held back, and handled when the backlog has eased.</span></span> <span data-ttu-id="c27bb-133">A [prioritású várólistára mintát][] segítségével ennek a végrehajtására használható.</span><span class="sxs-lookup"><span data-stu-id="c27bb-133">The [Priority Queue pattern][] could be used to help implement this approach.</span></span>

- <span data-ttu-id="c27bb-134">A késleltető alacsonyabb prioritású alkalmazások vagy a bérlők nevében végrehajtott műveletek.</span><span class="sxs-lookup"><span data-stu-id="c27bb-134">Deferring operations being performed on behalf of lower priority applications or tenants.</span></span> <span data-ttu-id="c27bb-135">Ezek a műveletek felfüggesztve, vagy korlátozott, a bérlő tájékoztatja, hogy a rendszer elfoglalt, és hogy a művelet később meg kell ismételni generált kivétel miatt.</span><span class="sxs-lookup"><span data-stu-id="c27bb-135">These operations can be suspended or limited, with an exception generated to inform the tenant that the system is busy and that the operation should be retried later.</span></span>

<span data-ttu-id="c27bb-136">Az ábrán látható erőforrás-használat (a memória, Processzor, sávszélesség és más tényezők kombinációja) tartozó területgrafikon idő függvényében, az alkalmazásokat, amelyek létesített három funkcióját használja.</span><span class="sxs-lookup"><span data-stu-id="c27bb-136">The figure shows an area graph for resource use (a combination of memory, CPU, bandwidth, and other factors) against time for applications that are making use of three features.</span></span> <span data-ttu-id="c27bb-137">Egy olyan szolgáltatása, funkciókat, például a feladatok, egy bonyolult számításhoz megvalósító kódot, vagy olyan elem, például egy memórián belüli gyorsítótárral szolgáltatást nyújt egy meghatározott elvégző összetevőnek területe.</span><span class="sxs-lookup"><span data-stu-id="c27bb-137">A feature is an area of functionality, such as a component that performs a specific set of tasks, a piece of code that performs a complex calculation, or an element that provides a service such as an in-memory cache.</span></span> <span data-ttu-id="c27bb-138">Ezek a funkciók tartalma A, B és c kiszolgálóra.</span><span class="sxs-lookup"><span data-stu-id="c27bb-138">These features are labeled A, B, and C.</span></span>

![1. ábra – erőforrás-használat három felhasználók nevében futó alkalmazások idő függvényében ábrázoló grafikon](./_images/throttling-resource-utilization.png)


> <span data-ttu-id="c27bb-140">Közvetlenül egy adott szolgáltatáshoz sor alatt azt jelzi, ha ez a szolgáltatás hivatkoznak alkalmazások által használt erőforrások.</span><span class="sxs-lookup"><span data-stu-id="c27bb-140">The area immediately below the line for a feature indicates the resources that are used by applications when they invoke this feature.</span></span> <span data-ttu-id="c27bb-141">Például alatt használt vonal szolgáltatása mutat be arról alkalmazások által használt erőforrások között a funkció A sorokat és a szolgáltatás B és a terület azt jelzi, a szolgáltatás b összesítése meghívása alkalmazások által használt erőforrások funkció a területet használja az egyes szolgáltatásokhoz jeleníti meg a rendszer a teljes erőforrás-használatát.</span><span class="sxs-lookup"><span data-stu-id="c27bb-141">For example, the area below the line for Feature A shows the resources used by applications that are making use of Feature A, and the area between the lines for Feature A and Feature B indicates the resources used by applications invoking Feature B. Aggregating the areas for each feature shows the total resource use of the system.</span></span>

<span data-ttu-id="c27bb-142">Az előző ábrán láthatja a eredő késleltető a műveletek.</span><span class="sxs-lookup"><span data-stu-id="c27bb-142">The previous figure illustrates the effects of deferring operations.</span></span> <span data-ttu-id="c27bb-143">Közvetlenül megelőző helyreállítási pontot T1 idő a teljes erőforrások vannak rendelve az összes alkalmazást használja ezeket a funkciókat elérni a küszöbérték (erőforrás-használati korlátja).</span><span class="sxs-lookup"><span data-stu-id="c27bb-143">Just prior to time T1, the total resources allocated to all applications using these features reach a threshold (the limit of resource use).</span></span> <span data-ttu-id="c27bb-144">Ezen a ponton az alkalmazások szerepelnek, az elérhető erőforrások kimerítsék veszélye.</span><span class="sxs-lookup"><span data-stu-id="c27bb-144">At this point, the applications are in danger of exhausting the resources available.</span></span> <span data-ttu-id="c27bb-145">Ebben a rendszerben a szolgáltatás a B kiszolgáló lesz kevésbé létfontosságú, mint A szolgáltatás vagy funkció C, ezért átmenetileg le van tiltva, és az erőforrásokat, amelyek az általa kiadott.</span><span class="sxs-lookup"><span data-stu-id="c27bb-145">In this system, Feature B is less critical than Feature A or Feature C, so it's temporarily disabled and the resources that it was using are released.</span></span> <span data-ttu-id="c27bb-146">A T1 és T2, a szolgáltatás A és a szolgáltatás C használó alkalmazások továbbra is időpont között futtató normál.</span><span class="sxs-lookup"><span data-stu-id="c27bb-146">Between times T1 and T2, the applications using Feature A and Feature C continue running as normal.</span></span> <span data-ttu-id="c27bb-147">Végül, az erőforrás-e két szolgáltatás használatát a pontra mérsékli, amikor T2 időpontban nincs elegendő kapacitással a szolgáltatás B ismét engedélyeznie.</span><span class="sxs-lookup"><span data-stu-id="c27bb-147">Eventually, the resource use of these two features diminishes to the point when, at time T2, there is sufficient capacity to enable Feature B again.</span></span>

<span data-ttu-id="c27bb-148">Az automatikus skálázás és a szabályozás megközelítések is kombinálható védheti az alkalmazások gyorsabban kezelhetővé és SLA-k belül.</span><span class="sxs-lookup"><span data-stu-id="c27bb-148">The autoscaling and throttling approaches can also be combined to help keep the applications responsive and within SLAs.</span></span> <span data-ttu-id="c27bb-149">Ha az igény szerinti várhatóan magas, sávszélesség-szabályozás ideiglenes megoldást kínál közben a rendszer kimenő méretezi. Ezen a ponton visszaállítása végezhető el a rendszer az összes funkcióját.</span><span class="sxs-lookup"><span data-stu-id="c27bb-149">If the demand is expected to remain high, throttling provides a temporary solution while the system scales out. At this point, the full functionality of the system can be restored.</span></span>

<span data-ttu-id="c27bb-150">Az alábbi ábrán jeleníti meg, a teljes erőforrás-használat területgrafikon idő függvényében a rendszerben futó összes alkalmazást, és bemutatja, hogyan sávszélesség-szabályozás kombinálható az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="c27bb-150">The next figure shows an area graph of the overall resource use by all applications running in a system against time, and illustrates how throttling can be combined with autoscaling.</span></span>

![2. ábra – diagramját eredő egyesítésével az automatikus skálázás szabályozása](./_images/throttling-autoscaling.png)


<span data-ttu-id="c27bb-152">A T1 időpontban a megadásával az erőforrás-használata enyhe legfeljebb küszöbértéket.</span><span class="sxs-lookup"><span data-stu-id="c27bb-152">At time T1, the threshold specifying the soft limit of resource use is reached.</span></span> <span data-ttu-id="c27bb-153">A rendszer ezen a ponton, megkezdheti a kiterjesztése. Ha az új erőforrások nem lesznek rendelkezésre elég gyorsan, majd előfordulhat, hogy felhasználhatók, a meglévő erőforrásokat, és sikertelen lehet, a rendszer.</span><span class="sxs-lookup"><span data-stu-id="c27bb-153">At this point, the system can start to scale out. However, if the new resources don't become available quickly enough, then the existing resources might be exhausted and the system could fail.</span></span> <span data-ttu-id="c27bb-154">A probléma elkerüléséhez, hogy a rendszer átmenetileg folyamatban van, a fentebb leírt módon.</span><span class="sxs-lookup"><span data-stu-id="c27bb-154">To prevent this from occurring, the system is temporarily throttled, as described earlier.</span></span> <span data-ttu-id="c27bb-155">Ha automatikus skálázás befejeződött, és a további erőforrások elérhetők, a sávszélesség-szabályozás enyhíteni lehet.</span><span class="sxs-lookup"><span data-stu-id="c27bb-155">When autoscaling has completed and the additional resources are available, throttling can be relaxed.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="c27bb-156">Problémákat és szempontok</span><span class="sxs-lookup"><span data-stu-id="c27bb-156">Issues and considerations</span></span>

<span data-ttu-id="c27bb-157">Ez a kialakítás megvalósítása meghatározásakor a következő szempontokat kell figyelembe vennie:</span><span class="sxs-lookup"><span data-stu-id="c27bb-157">You should consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="c27bb-158">Sávszélesség-szabályozás egy alkalmazást, és a stratégia használatához-e egy architekturális döntés, amely hatással van a rendszer az egész kialakítása.</span><span class="sxs-lookup"><span data-stu-id="c27bb-158">Throttling an application, and the strategy to use, is an architectural decision that impacts the entire design of a system.</span></span> <span data-ttu-id="c27bb-159">Sávszélesség-szabályozás figyelembe kell venni az alkalmazás tervezési folyamat korai szakaszaiban nem egyszerű hozzáadása után a rendszer hajtották végre, mert.</span><span class="sxs-lookup"><span data-stu-id="c27bb-159">Throttling should be considered early in the application design process because it isn't easy to add once a system has been implemented.</span></span>

- <span data-ttu-id="c27bb-160">Sávszélesség-szabályozás kell elvégezni gyorsan.</span><span class="sxs-lookup"><span data-stu-id="c27bb-160">Throttling must be performed quickly.</span></span> <span data-ttu-id="c27bb-161">A rendszer legyen képes növelni a tevékenységek észlelésére, és ennek megfelelően reagálni.</span><span class="sxs-lookup"><span data-stu-id="c27bb-161">The system must be capable of detecting an increase in activity and react accordingly.</span></span> <span data-ttu-id="c27bb-162">A rendszer is állíthatja vissza az eredeti állapotba gyorsan után a terhelés rendelkezik megkönnyítését kell lennie.</span><span class="sxs-lookup"><span data-stu-id="c27bb-162">The system must also be able to revert to its original state quickly after the load has eased.</span></span> <span data-ttu-id="c27bb-163">Ehhez az szükséges, hogy a megfelelő teljesítményadatokat folyamatosan rögzített, és figyeli.</span><span class="sxs-lookup"><span data-stu-id="c27bb-163">This requires that the appropriate performance data is continually captured and monitored.</span></span>

- <span data-ttu-id="c27bb-164">Ha a szolgáltatás ideiglenesen megtagadja az egy felhasználói kérelem, az egy adott hibakódot, az ügyfélalkalmazás tisztában van azzal, hogy a művelet végrehajtásához az elutasítás oka, hogy szabályozás miatt kell visszaadnia.</span><span class="sxs-lookup"><span data-stu-id="c27bb-164">If a service needs to temporarily deny a user request, it should return a specific error code so the client application understands that the reason for the refusal to perform an operation is due to throttling.</span></span> <span data-ttu-id="c27bb-165">Az ügyfélalkalmazás is Várjon egy ideig, mielőtt megpróbálná megismételni a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="c27bb-165">The client application can wait for a period before retrying the request.</span></span>

- <span data-ttu-id="c27bb-166">Sávszélesség-szabályozás során a rendszer autoscales ideiglenes intézkedésként is használható.</span><span class="sxs-lookup"><span data-stu-id="c27bb-166">Throttling can be used as a temporary measure while a system autoscales.</span></span> <span data-ttu-id="c27bb-167">Bizonyos esetekben célszerűbb egyszerűen szabályozás, nem pedig válhatnak Ha egy tevékenység kapacitásnövelés hirtelen, és nem várhatóan hosszabb élettartamú, mivel a skálázás adhat hozzá jelentősen költségeket.</span><span class="sxs-lookup"><span data-stu-id="c27bb-167">In some cases it's better to simply throttle, rather than to scale, if a burst in activity is sudden and isn't expected to be long lived because scaling can add considerably to running costs.</span></span>

- <span data-ttu-id="c27bb-168">Ha sávszélesség-szabályozás használatos során a rendszer autoscales ideiglenes mérték, és az erőforrás iránti igények kielégítése érdekében nagyon gyorsan növekszik, ha a rendszer nem feltétlenül működik-e a folytatáshoz&mdash;még akkor is, ha a szabályozottan halmozott módban működik.</span><span class="sxs-lookup"><span data-stu-id="c27bb-168">If throttling is being used as a temporary measure while a system autoscales, and if resource demands grow very quickly, the system might not be able to continue functioning&mdash;even when operating in a throttled mode.</span></span> <span data-ttu-id="c27bb-169">Ha ez nem elfogadható, fontolja meg a nagyobb kapacitás tartalék karbantartásáért, valamint a szigorúbb automatikus skálázás konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="c27bb-169">If this isn't acceptable, consider maintaining larger capacity reserves and configuring more aggressive autoscaling.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="c27bb-170">Mikor érdemes használni ezt a mintát</span><span class="sxs-lookup"><span data-stu-id="c27bb-170">When to use this pattern</span></span>

<span data-ttu-id="c27bb-171">Ez a minta használata:</span><span class="sxs-lookup"><span data-stu-id="c27bb-171">Use this pattern:</span></span>

- <span data-ttu-id="c27bb-172">Annak érdekében, hogy a rendszer továbbra is megfelel a szolgáltatási szintek.</span><span class="sxs-lookup"><span data-stu-id="c27bb-172">To ensure that a system continues to meet service level agreements.</span></span>

- <span data-ttu-id="c27bb-173">Megakadályozhatja, hogy egyetlen bérlő a legaktívabbak egy alkalmazás által biztosított erőforrások.</span><span class="sxs-lookup"><span data-stu-id="c27bb-173">To prevent a single tenant from monopolizing the resources provided by an application.</span></span>

- <span data-ttu-id="c27bb-174">Kezelendő felszakadásáig tevékenységben.</span><span class="sxs-lookup"><span data-stu-id="c27bb-174">To handle bursts in activity.</span></span>

- <span data-ttu-id="c27bb-175">Optimalizálásához költség-a rendszer a maximális erőforrás szintek korlátozásával szükséges biztosítható, hogy működik-e.</span><span class="sxs-lookup"><span data-stu-id="c27bb-175">To help cost-optimize a system by limiting the maximum resource levels needed to keep it functioning.</span></span>

## <a name="example"></a><span data-ttu-id="c27bb-176">Példa</span><span class="sxs-lookup"><span data-stu-id="c27bb-176">Example</span></span>

<span data-ttu-id="c27bb-177">A végső ábra bemutatja, hogyan sávszélesség-szabályozás megvalósítható a több-bérlős rendszerek.</span><span class="sxs-lookup"><span data-stu-id="c27bb-177">The final figure illustrates how throttling can be implemented in a multi-tenant system.</span></span> <span data-ttu-id="c27bb-178">Az egyes a bérlő szervezet felhasználók férhetnek hozzá a felhőben üzemeltetett alkalmazás, ahonnan töltse ki és felmérések elküldeni.</span><span class="sxs-lookup"><span data-stu-id="c27bb-178">Users from each of the tenant organizations access a cloud-hosted application where they fill out and submit surveys.</span></span> <span data-ttu-id="c27bb-179">Az alkalmazás, amely figyeli a sebesség, amellyel a felhasználók az alkalmazásnak küldött kérelmek elküldése instrumentation tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="c27bb-179">The application contains instrumentation that monitors the rate at which these users are submitting requests to the application.</span></span>

<span data-ttu-id="c27bb-180">Leállítja, nehogy válaszidejét és más felhasználók számára az alkalmazás rendelkezésre állásának érintő egy bérlő felhasználóit, a korlát vonatkozik a panelhez egy felhasználói beküldhetik kérelmek másodpercenkénti száma.</span><span class="sxs-lookup"><span data-stu-id="c27bb-180">In order to prevent the users from one tenant affecting the responsiveness and availability of the application for all other users, a limit is applied to the number of requests per second the users from any one tenant can submit.</span></span> <span data-ttu-id="c27bb-181">Az alkalmazás blokkolja az e korláton kérelmek.</span><span class="sxs-lookup"><span data-stu-id="c27bb-181">The application blocks requests that exceed this limit.</span></span>

![3. ábra - végrehajtási a sávszélesség-szabályozás egy több-bérlős alkalmazásban](./_images/throttling-multi-tenant.png)


## <a name="related-patterns-and-guidance"></a><span data-ttu-id="c27bb-183">Útmutató és a kapcsolódó minták</span><span class="sxs-lookup"><span data-stu-id="c27bb-183">Related patterns and guidance</span></span>

<span data-ttu-id="c27bb-184">A következő mintákat és útmutatókat is megfelelő ebben a mintában végrehajtása során:</span><span class="sxs-lookup"><span data-stu-id="c27bb-184">The following patterns and guidance may also be relevant when implementing this pattern:</span></span>
- <span data-ttu-id="c27bb-185">[Telemetria útmutató és Instrumentation](https://msdn.microsoft.com/library/dn589775.aspx).</span><span class="sxs-lookup"><span data-stu-id="c27bb-185">[Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span> <span data-ttu-id="c27bb-186">Sávszélesség-szabályozás attól függ, hogyan fokozottan használatban van egy szolgáltatás adatokat gyűjt.</span><span class="sxs-lookup"><span data-stu-id="c27bb-186">Throttling depends on gathering information about how heavily a service is being used.</span></span> <span data-ttu-id="c27bb-187">Ismerteti, hogyan hozhat létre, és egyéni figyelési információkat.</span><span class="sxs-lookup"><span data-stu-id="c27bb-187">Describes how to generate and capture custom monitoring information.</span></span>
- <span data-ttu-id="c27bb-188">[Útmutatás mérési szolgáltatás](https://msdn.microsoft.com/library/dn589796.aspx).</span><span class="sxs-lookup"><span data-stu-id="c27bb-188">[Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span> <span data-ttu-id="c27bb-189">Szolgáltatások használatának mérési felmérheti, azok használata érdekében ismerteti.</span><span class="sxs-lookup"><span data-stu-id="c27bb-189">Describes how to meter the use of services in order to gain an understanding of how they are used.</span></span> <span data-ttu-id="c27bb-190">Ez az információ akkor lehet hasznos az adatátviteli szolgáltatás módjának meghatározása.</span><span class="sxs-lookup"><span data-stu-id="c27bb-190">This information can be useful in determining how to throttle a service.</span></span>
- <span data-ttu-id="c27bb-191">[Automatikus skálázás útmutatást](https://msdn.microsoft.com/library/dn589774.aspx).</span><span class="sxs-lookup"><span data-stu-id="c27bb-191">[Autoscaling Guidance](https://msdn.microsoft.com/library/dn589774.aspx).</span></span> <span data-ttu-id="c27bb-192">Sávszélesség-szabályozás belső használatra során a rendszer autoscales, vagy távolítsa el a rendszer automatikus skálázásra szükségességét is használható.</span><span class="sxs-lookup"><span data-stu-id="c27bb-192">Throttling can be used as an interim measure while a system autoscales, or to remove the need for a system to autoscale.</span></span> <span data-ttu-id="c27bb-193">Automatikus skálázás stratégiák információkat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="c27bb-193">Contains information on autoscaling strategies.</span></span>
- <span data-ttu-id="c27bb-194">[Betöltési simítás mintát várólista alapú](queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="c27bb-194">[Queue-based Load Leveling pattern](queue-based-load-leveling.md).</span></span> <span data-ttu-id="c27bb-195">Várólista alapú terhelés simítás, akkor egy gyakran használt eszköz sávszélesség-szabályozás megvalósításához.</span><span class="sxs-lookup"><span data-stu-id="c27bb-195">Queue-based load leveling is a commonly used mechanism for implementing throttling.</span></span> <span data-ttu-id="c27bb-196">A várólista, mely akkor is igaz, a sebesség, amellyel az alkalmazás által küldött kérések érkeznek, egy kimenő puffer működhet.</span><span class="sxs-lookup"><span data-stu-id="c27bb-196">A queue can act as a buffer that helps to even out the rate at which requests sent by an application are delivered to a service.</span></span>
- <span data-ttu-id="c27bb-197">[prioritású várólistára mintát][].</span><span class="sxs-lookup"><span data-stu-id="c27bb-197">[Priority Queue pattern][].</span></span> <span data-ttu-id="c27bb-198">A rendszer a sávszélesség-szabályozási stratégia részeként queuing prioritás segítségével fenntartható teljesítmény kritikus vagy magasabb érték alkalmazások, miközben csökkenti a kevésbé fontos alkalmazások teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="c27bb-198">A system can use priority queuing as part of its throttling strategy to maintain performance for critical or higher value applications, while reducing the performance of less important applications.</span></span>

[prioritású várólistára mintát]: priority-queue.md