---
title: Helyreállítás adatsérülés vagy véletlen törlés
description: Helyreállítás adatsérülés adatok vagy véletlen törlés és a tartalék rugalmas, magas rendelkezésre állású, hibatűrő alkalmazások tervezése, valamint a vészhelyreállítási alapos ismerete.
author: MikeWasson
ms.date: 11/11/2018
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: resiliency
ms.openlocfilehash: e28f26683c6d7dba196d4351ef3942830c9e7fc2
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58298677"
---
# <a name="recover-from-data-corruption-or-accidental-deletion"></a><span data-ttu-id="a4599-103">Helyreállítás adatsérülés vagy véletlen törlés</span><span class="sxs-lookup"><span data-stu-id="a4599-103">Recover from data corruption or accidental deletion</span></span>

<span data-ttu-id="a4599-104">Ha az adatok beolvasása sérült vagy véletlenül törölt egy robusztus üzletmenet folytonosságát biztosító terve részeként tapasztalja csomagot.</span><span class="sxs-lookup"><span data-stu-id="a4599-104">Part of a robust business continuity plan is having a plan if your data gets corrupted or accidentally deleted.</span></span> <span data-ttu-id="a4599-105">Az alábbiakban látható helyreállítási információk után adatok sérült vagy véletlenül törölt alkalmazáshibák vagy operátor hiba miatt.</span><span class="sxs-lookup"><span data-stu-id="a4599-105">The following is information about recovery after data has been corrupted or accidentally deleted, due to application errors or operator error.</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="a4599-106">Virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="a4599-106">Virtual Machines</span></span>

<span data-ttu-id="a4599-107">Azure Virtual Machines (VM) az alkalmazáshibák vagy véletlen törlés elleni védelme, használja a [Azure Backup](/azure/backup/).</span><span class="sxs-lookup"><span data-stu-id="a4599-107">To protect Azure Virtual Machines (VMs) from application errors or accidental deletion, use [Azure Backup](/azure/backup/).</span></span> <span data-ttu-id="a4599-108">Az Azure Backup lehetővé teszi több virtuális gép lemezeinek konzisztensek legyenek biztonsági mentések létrehozását.</span><span class="sxs-lookup"><span data-stu-id="a4599-108">Azure Backup enables the creation of backups that are consistent across multiple VM disks.</span></span> <span data-ttu-id="a4599-109">Emellett a Backup-tárolóban adja meg a helyreállítási régióban elmaradásából-régiók közötti replikálható.</span><span class="sxs-lookup"><span data-stu-id="a4599-109">In addition, the Backup Vault can be replicated across regions to provide recovery from region loss.</span></span>

## <a name="storage"></a><span data-ttu-id="a4599-110">Storage</span><span class="sxs-lookup"><span data-stu-id="a4599-110">Storage</span></span>

<span data-ttu-id="a4599-111">Az Azure Storage biztosítja az adatok rugalmasságát biztosítja az automatikus replikációval.</span><span class="sxs-lookup"><span data-stu-id="a4599-111">Azure Storage provides data resiliency through automated replicas.</span></span> <span data-ttu-id="a4599-112">Azonban ez nem akadályozza alkalmazáskód vagy a felhasználók hibás adatokból, hogy véletlenül vagy kártételi.</span><span class="sxs-lookup"><span data-stu-id="a4599-112">However, this does not prevent application code or users from corrupting data, whether accidentally or maliciously.</span></span> <span data-ttu-id="a4599-113">Fejlett technikák, például az adatok másolásának auditálási naplóba kerülnek a másodlagos tárolóhelyre karbantartása adathűséget alkalmazás vagy felhasználó hiba esetén van szükség.</span><span class="sxs-lookup"><span data-stu-id="a4599-113">Maintaining data fidelity in the face of application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span>

- <span data-ttu-id="a4599-114">**Blokkblobok**.</span><span class="sxs-lookup"><span data-stu-id="a4599-114">**Block blobs**.</span></span> <span data-ttu-id="a4599-115">Minden egyes blokkblob időponthoz pillanatkép létrehozása.</span><span class="sxs-lookup"><span data-stu-id="a4599-115">Create a point-in-time snapshot of each block blob.</span></span> <span data-ttu-id="a4599-116">További információkért lásd: [létrehozása egy pillanatképet egy Blobról](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span><span class="sxs-lookup"><span data-stu-id="a4599-116">For more information, see [Creating a Snapshot of a Blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span></span> <span data-ttu-id="a4599-117">Minden pillanatkép csak díjkötelesek a különbségek a blobon belüli tárolására, mivel az utolsó pillanatkép állapota szükséges tárhelyet.</span><span class="sxs-lookup"><span data-stu-id="a4599-117">For each snapshot, you are only charged for the storage required to store the differences within the blob since the last snapshot state.</span></span> <span data-ttu-id="a4599-118">A pillanatképek függenek létezik-e az eredeti blob azok alapulnak, így célszerű a másolási műveletek egy másik blob vagy akár egy másik tárfiókba.</span><span class="sxs-lookup"><span data-stu-id="a4599-118">The snapshots are dependent on the existence of the original blob they are based on, so a copy operation to another blob or even another storage account is advisable.</span></span> <span data-ttu-id="a4599-119">Ez biztosítja, hogy a biztonsági mentési adatokat megfelelően védett véletlen törlése ellen.</span><span class="sxs-lookup"><span data-stu-id="a4599-119">This ensures that backup data is properly protected against accidental deletion.</span></span> <span data-ttu-id="a4599-120">Használhat [AzCopy](/azure/storage/common/storage-use-azcopy) vagy [Azure PowerShell-lel](/azure/storage/common/storage-powershell-guide-full) a blobok másolása egy másik tárfiókba.</span><span class="sxs-lookup"><span data-stu-id="a4599-120">You can use [AzCopy](/azure/storage/common/storage-use-azcopy) or [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) to copy the blobs to another storage account.</span></span>

- <span data-ttu-id="a4599-121">**Fájlok**.</span><span class="sxs-lookup"><span data-stu-id="a4599-121">**Files**.</span></span> <span data-ttu-id="a4599-122">Használjon [megosztási pillanatképek](/azure/storage/files/storage-snapshots-files), vagy az AzCopy és a PowerShell használatával a fájlok másolása egy másik tárfiókba.</span><span class="sxs-lookup"><span data-stu-id="a4599-122">Use [share snapshots](/azure/storage/files/storage-snapshots-files), or use AzCopy or PowerShell to copy your files to another storage account.</span></span>

- <span data-ttu-id="a4599-123">**Táblák**.</span><span class="sxs-lookup"><span data-stu-id="a4599-123">**Tables**.</span></span> <span data-ttu-id="a4599-124">Az AzCopy segítségével egy másik régióban egy másik tárfiókba történő táblák adatainak exportálása.</span><span class="sxs-lookup"><span data-stu-id="a4599-124">Use AzCopy to export the table data into another storage account in another region.</span></span>

## <a name="database"></a><span data-ttu-id="a4599-125">Adatbázis</span><span class="sxs-lookup"><span data-stu-id="a4599-125">Database</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="a4599-126">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="a4599-126">Azure SQL Database</span></span>

<span data-ttu-id="a4599-127">Az SQL Database automatikusan végrehajtja az adatbázis teljes biztonsági mentését hetente, különbözeti adatbázis biztonsági mentését óránként, és a tranzakciós jelentkezzen biztonsági mentések minden öt - tíz percet üzleti adatai védelméről adatvesztéssel szemben.</span><span class="sxs-lookup"><span data-stu-id="a4599-127">SQL Database automatically performs a combination of full database backups weekly, differential database backups hourly, and transaction log backups every five - ten minutes to protect your business from data loss.</span></span> <span data-ttu-id="a4599-128">Időponthoz visszaállítás, visszaállítás adatbázist használnak egy korábbi időpontra.</span><span class="sxs-lookup"><span data-stu-id="a4599-128">Use point-in-time restore to restore a database to an earlier time.</span></span> <span data-ttu-id="a4599-129">További információkért lásd:</span><span class="sxs-lookup"><span data-stu-id="a4599-129">For more information, see:</span></span>

- [<span data-ttu-id="a4599-130">Automatikus biztonsági adatbázismentés használatával Azure SQL-adatbázis helyreállítása</span><span class="sxs-lookup"><span data-stu-id="a4599-130">Recover an Azure SQL database using automated database backups</span></span>](/azure/sql-database/sql-database-recovery-using-backups)

- [<span data-ttu-id="a4599-131">Az Azure SQL Database üzletmenet-folytonossági funkcióinak áttekintése</span><span class="sxs-lookup"><span data-stu-id="a4599-131">Overview of business continuity with Azure SQL Database</span></span>](/azure/sql-database/sql-database-business-continuity)

### <a name="sql-server-on-vms"></a><span data-ttu-id="a4599-132">Az SQL Server virtuális gépeken</span><span class="sxs-lookup"><span data-stu-id="a4599-132">SQL Server on VMs</span></span>

<span data-ttu-id="a4599-133">A virtuális gépeken futó SQL Server, két lehetőség van: a hagyományos biztonsági mentéseket és a naplóküldésben.</span><span class="sxs-lookup"><span data-stu-id="a4599-133">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="a4599-134">A hagyományos biztonsági mentések lehetővé teszi, hogy egy adott időpontra való visszaállítása, de a helyreállítási folyamat lassú.</span><span class="sxs-lookup"><span data-stu-id="a4599-134">Traditional backups enables you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="a4599-135">A hagyományos biztonsági másolatok visszaállítását végzni kezdve egy kezdeti biztonsági mentés, és ezután alkalmazása után, amely minden biztonsági szükséges.</span><span class="sxs-lookup"><span data-stu-id="a4599-135">Restoring traditional backups requires starting with an initial full backup, and then applying any backups taken after that.</span></span> <span data-ttu-id="a4599-136">A második lehetőség egy munkamenet (például úgy, hogy két óra) naplók biztonsági másolatainak a visszaállítás késleltetése naplóküldő konfigurálásához.</span><span class="sxs-lookup"><span data-stu-id="a4599-136">The second option is to configure a log shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="a4599-137">Ez lehetővé teszi a hibák az elsődleges végzett ablakot.</span><span class="sxs-lookup"><span data-stu-id="a4599-137">This provides a window to recover from errors made on the primary.</span></span>

### <a name="azure-cosmos-db"></a><span data-ttu-id="a4599-138">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="a4599-138">Azure Cosmos DB</span></span>

<span data-ttu-id="a4599-139">Az Azure Cosmos DB automatikusan fogadja a biztonsági mentések rendszeres időközönként.</span><span class="sxs-lookup"><span data-stu-id="a4599-139">Azure Cosmos DB automatically takes backups at regular intervals.</span></span> <span data-ttu-id="a4599-140">Biztonsági másolatai külön egy másik tárolási szolgáltatás, és ezeket a biztonsági mentéseket globálisan replikálva vannak a regionális katasztrófa szembeni ellenálló-képesség.</span><span class="sxs-lookup"><span data-stu-id="a4599-140">Backups are stored separately in another storage service, and those backups are globally replicated for resiliency against regional disasters.</span></span> <span data-ttu-id="a4599-141">Ha véletlenül törli az adatbázis vagy -gyűjteményben, küldjön egy támogatási jegyet, vagy hívja a legutóbbi automatikus biztonsági mentés visszaállíthatja az adatokat az Azure ügyfélszolgálatától.</span><span class="sxs-lookup"><span data-stu-id="a4599-141">If you accidentally delete your database or collection, you can file a support ticket or call Azure support to restore the data from the last automatic backup.</span></span> <span data-ttu-id="a4599-142">További információkért lásd: [automatikus online biztonsági mentés és visszaállítás az Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span><span class="sxs-lookup"><span data-stu-id="a4599-142">For more information, see [Automatic online backup and restore with Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span></span>

### <a name="azure-database-for-mysql-azure-database-for-postgresql"></a><span data-ttu-id="a4599-143">Azure Database for MySQL, Azure Database for postgresql-hez</span><span class="sxs-lookup"><span data-stu-id="a4599-143">Azure Database for MySQL, Azure Database for PostgreSQL</span></span>

<span data-ttu-id="a4599-144">Azure Database for MySQL vagy az Azure-adatbázis használatával a PostgreSQL-hez, amikor az adatbázis-szolgáltatás automatikusan lehetővé teszi a szolgáltatás biztonsági másolatának öt percenként.</span><span class="sxs-lookup"><span data-stu-id="a4599-144">When using Azure Database for MySQL or Azure Database for PostgreSQL, the database service automatically makes a backup of the service every five minutes.</span></span> <span data-ttu-id="a4599-145">Az automatikus biztonsági mentési szolgáltatás használatával állítsa vissza a kiszolgáló és az összes hozzá tartozó adatbázisok be egy új kiszolgálót egy korábbi-időponthoz.</span><span class="sxs-lookup"><span data-stu-id="a4599-145">Using this automatic backup feature you may restore the server and all its databases into a new server to an earlier point-in-time.</span></span> <span data-ttu-id="a4599-146">További információkért lásd:</span><span class="sxs-lookup"><span data-stu-id="a4599-146">For more information, see:</span></span>

- [<span data-ttu-id="a4599-147">Hogyan biztonsági mentése és visszaállítása egy kiszolgálót az Azure Database for MySQL-hez az Azure portal használatával</span><span class="sxs-lookup"><span data-stu-id="a4599-147">How to back up and restore a server in Azure Database for MySQL by using the Azure portal</span></span>](/azure/mysql/howto-restore-server-portal)

- [<span data-ttu-id="a4599-148">Egy Azure Database for PostgreSQL-kiszolgáló biztonsági mentése és visszaállítása az Azure Portal használatával</span><span class="sxs-lookup"><span data-stu-id="a4599-148">How to backup and restore a server in Azure Database for PostgreSQL using the Azure portal</span></span>](/azure/postgresql/howto-restore-server-portal)
