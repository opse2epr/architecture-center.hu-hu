---
title: Alapszintű webalkalmazás
titleSuffix: Azure Reference Architectures
description: Azure-ban futó alapszintű webalkalmazásokhoz javasolt architektúra.
author: MikeWasson
ms.date: 12/12/2017
ms.custom: seodec18
ms.openlocfilehash: 17750a57835f017d13eb205a7b4e821a5834b741
ms.sourcegitcommit: 88a68c7e9b6b772172b7faa4b9fd9c061a9f7e9d
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 12/08/2018
ms.locfileid: "53120254"
---
# <a name="run-a-basic-web-application-in-azure"></a><span data-ttu-id="3aa1d-103">Alapszintű webalkalmazás futtatása az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="3aa1d-103">Run a basic web application in Azure</span></span>

<span data-ttu-id="3aa1d-104">Ez a referenciaarchitektúra bemutatja a bevált eljárásokat használó webalkalmazás [Azure App Service] [ app-service] és [Azure SQL Database] [ sql-db].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-104">This reference architecture shows proven practices for a web application that uses [Azure App Service][app-service] and [Azure SQL Database][sql-db].</span></span> <span data-ttu-id="3aa1d-105">[**A megoldás üzembe helyezése.**](#deploy-the-solution)</span><span class="sxs-lookup"><span data-stu-id="3aa1d-105">[**Deploy this solution**](#deploy-the-solution).</span></span>

![Egy alapszintű webalkalmazást az Azure-ban a referencia-architektúra](./images/basic-web-app.png)

<span data-ttu-id="3aa1d-107">*Töltse le az architektúra [Visio-fájlját][visio-download].*</span><span class="sxs-lookup"><span data-stu-id="3aa1d-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="3aa1d-108">Architektúra</span><span class="sxs-lookup"><span data-stu-id="3aa1d-108">Architecture</span></span>

> [!NOTE]
> <span data-ttu-id="3aa1d-109">Ez az architektúra nem az alkalmazásfejlesztésre összpontosít, és nem feltételezi semmilyen konkrét alkalmazás-keretrendszer használatát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-109">This architecture does not focus on application development, and does not assume any particular application framework.</span></span> <span data-ttu-id="3aa1d-110">A célja, hogy ismertesse a különböző Azure-szolgáltatások együttes használatát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-110">The goal is to understand how various Azure services fit together.</span></span>
>

<span data-ttu-id="3aa1d-111">Az architektúra a következő összetevőkből áll:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-111">The architecture has the following components:</span></span>

- <span data-ttu-id="3aa1d-112">**Erőforráscsoport**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-112">**Resource group**.</span></span> <span data-ttu-id="3aa1d-113">Az [erőforráscsoport](/azure/azure-resource-manager/resource-group-overview) az Azure-erőforrások logikai tárolója.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-113">A [resource group](/azure/azure-resource-manager/resource-group-overview) is a logical container for Azure resources.</span></span>

- <span data-ttu-id="3aa1d-114">**App Service-alkalmazás**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-114">**App Service app**.</span></span> <span data-ttu-id="3aa1d-115">Az [Azure App Service][app-service] egy teljes körűen felügyelt platform felhőalapú alkalmazások létrehozásához és üzembe helyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-115">[Azure App Service][app-service] is a fully managed platform for creating and deploying cloud applications.</span></span>

- <span data-ttu-id="3aa1d-116">**App Service-csomag**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-116">**App Service plan**.</span></span> <span data-ttu-id="3aa1d-117">Az [App Service-csomag][app-service-plans] biztosítja az alkalmazást futtató felügyelt virtuális gépeket (VM).</span><span class="sxs-lookup"><span data-stu-id="3aa1d-117">An [App Service plan][app-service-plans] provides the managed virtual machines (VMs) that host your app.</span></span> <span data-ttu-id="3aa1d-118">Az egy adott csomaghoz tartozó alkalmazások mindig ugyanazokon a virtuálisgép-példányokon futnak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-118">All apps associated with a plan run on the same VM instances.</span></span>

- <span data-ttu-id="3aa1d-119">**Üzembehelyezési pontok**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-119">**Deployment slots**.</span></span>  <span data-ttu-id="3aa1d-120">Az [üzembehelyezési pontok][deployment-slots] lehetővé teszik egy üzemelő példány előkészítését, majd áthelyezését az éles környezetbe.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-120">A [deployment slot][deployment-slots] lets you stage a deployment and then swap it with the production deployment.</span></span> <span data-ttu-id="3aa1d-121">Így elkerülhető a közvetlenül az éles környezetbe való üzembe helyezés.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-121">That way, you avoid deploying directly into production.</span></span> <span data-ttu-id="3aa1d-122">Konkrét javaslatokért tekintse meg a [Felügyeleti szempontok](#manageability-considerations) szakaszt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-122">See the [Manageability](#manageability-considerations) section for specific recommendations.</span></span>

- <span data-ttu-id="3aa1d-123">**IP-cím**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-123">**IP address**.</span></span> <span data-ttu-id="3aa1d-124">Az App Service-alkalmazás rendelkezik egy nyilvános IP-címmel és egy tartománynévvel.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-124">The App Service app has a public IP address and a domain name.</span></span> <span data-ttu-id="3aa1d-125">A tartománynév az `azurewebsites.net` altartománya, például `contoso.azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-125">The domain name is a subdomain of `azurewebsites.net`, such as `contoso.azurewebsites.net`.</span></span>

- <span data-ttu-id="3aa1d-126">**Azure DNS**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-126">**Azure DNS**.</span></span> <span data-ttu-id="3aa1d-127">Az [Azure DNS][azure-dns] egy üzemeltetési szolgáltatás, amely a Microsoft Azure infrastruktúráját használja a DNS-tartományok névfeloldásához.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-127">[Azure DNS][azure-dns] is a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="3aa1d-128">Ha tartományait az Azure-ban üzemelteti, DNS-rekordjait a többi Azure-szolgáltatáshoz is használt hitelesítő adatokkal, API-kkal, eszközökkel és számlázási információkkal kezelheti.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-128">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span> <span data-ttu-id="3aa1d-129">Egyéni tartománynév (például `contoso.com`) használatához hozzon létre DNS-rekordokat, amelyek leképezik az egyéni tartománynevet az IP-címre.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-129">To use a custom domain name (such as `contoso.com`) create DNS records that map the custom domain name to the IP address.</span></span> <span data-ttu-id="3aa1d-130">További információkat az [egyéni tartománynevek az Azure App Service-ben való konfigurálásával][custom-domain-name] kapcsolatos cikkben olvashat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-130">For more information, see [Configure a custom domain name in Azure App Service][custom-domain-name].</span></span>

- <span data-ttu-id="3aa1d-131">**Azure SQL Database**</span><span class="sxs-lookup"><span data-stu-id="3aa1d-131">**Azure SQL Database**.</span></span> <span data-ttu-id="3aa1d-132">Az [SQL Database][sql-db] egy felhőben futó, szolgáltatásként nyújtott relációs adatbázis.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-132">[SQL Database][sql-db] is a relational database-as-a-service in the cloud.</span></span> <span data-ttu-id="3aa1d-133">Az SQL Database kódbázisa a Microsoft SQL Server adatbázismotorral.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-133">SQL Database shares its code base with the Microsoft SQL Server database engine.</span></span> <span data-ttu-id="3aa1d-134">Az alkalmazás követelményeitől függően is használhatja [, Azure Database for MySQL](/azure/mysql) vagy [, Azure Database for PostgreSQL](/azure/postgresql).</span><span class="sxs-lookup"><span data-stu-id="3aa1d-134">Depending on your application requirements, you can also use [Azure Database for MySQL](/azure/mysql) or [Azure Database for PostgreSQL](/azure/postgresql).</span></span> <span data-ttu-id="3aa1d-135">Ezek a teljes körűen felügyelt adatbázis-szolgáltatások, a nyílt forráskódú MySQL-kiszolgáló és a Postgres adatbázismotorokat, illetve alapján.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-135">These are fully managed database services, based on the open source MySQL Server and Postgres database engines, respectively.</span></span>

- <span data-ttu-id="3aa1d-136">**Logikai kiszolgáló**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-136">**Logical server**.</span></span> <span data-ttu-id="3aa1d-137">Az Azure SQL Database-ben egy logikai kiszolgáló üzemelteti az adatbázisokat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-137">In Azure SQL Database, a logical server hosts your databases.</span></span> <span data-ttu-id="3aa1d-138">Logikai kiszolgálónként több adatbázis is létrehozható.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-138">You can create multiple databases per logical server.</span></span>

- <span data-ttu-id="3aa1d-139">**Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-139">**Azure Storage**.</span></span> <span data-ttu-id="3aa1d-140">Hozzon létre egy Azure Storage-fiókot és egy blobtárolót a diagnosztikai naplók tárolásához.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-140">Create an Azure storage account with a blob container to store diagnostic logs.</span></span>

- <span data-ttu-id="3aa1d-141">**Azure Active Directory (Azure AD)**.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-141">**Azure Active Directory (Azure AD)**.</span></span> <span data-ttu-id="3aa1d-142">A hitelesítéshez használja az Azure AD-t vagy egy másik identitásszolgáltatót.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-142">Use Azure AD or another identity provider for authentication.</span></span>

## <a name="recommendations"></a><span data-ttu-id="3aa1d-143">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-143">Recommendations</span></span>

<span data-ttu-id="3aa1d-144">Az Ön követelményei eltérhetnek az itt leírt architektúrától.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-144">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="3aa1d-145">A jelen szakaszban leírt javaslatokat tekintse kiindulópontnak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-145">Use the recommendations in this section as a starting point.</span></span>

### <a name="app-service-plan"></a><span data-ttu-id="3aa1d-146">App Service-csomag</span><span class="sxs-lookup"><span data-stu-id="3aa1d-146">App Service plan</span></span>

<span data-ttu-id="3aa1d-147">Használjon standard vagy prémium szintű csomagokat, amelyek támogatják a horizontális felskálázást, az automatikus skálázást és az SSL-t.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-147">Use the Standard or Premium tiers, because they support scale out, autoscale, and secure sockets layer (SSL).</span></span> <span data-ttu-id="3aa1d-148">Az egyes szintek több különféle *példányméretet* támogatnak, amelyek eltérő mennyiségű processzormagot és memóriát biztosítanak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-148">Each tier supports several *instance sizes* that differ by number of cores and memory.</span></span> <span data-ttu-id="3aa1d-149">A csomag létrehozása után módosíthatja a szintet és a példányméretet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-149">You can change the tier or instance size after you create a plan.</span></span> <span data-ttu-id="3aa1d-150">További információk az App Service-csomagokról: [App Service – díjszabás][app-service-plans-tiers].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-150">For more information about App Service plans, see [App Service Pricing][app-service-plans-tiers].</span></span>

<span data-ttu-id="3aa1d-151">A számlázás az App Service-csomagban található példányok alapján történik, még akkor is, ha az alkalmazás leállt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-151">You are charged for the instances in the App Service plan, even if the app is stopped.</span></span> <span data-ttu-id="3aa1d-152">Ügyeljen arra, hogy a nem használt csomagokat (például a tesztelési célú telepítéseket) törölje.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-152">Make sure to delete plans that you aren't using (for example, test deployments).</span></span>

### <a name="sql-database"></a><span data-ttu-id="3aa1d-153">SQL Database</span><span class="sxs-lookup"><span data-stu-id="3aa1d-153">SQL Database</span></span>

<span data-ttu-id="3aa1d-154">Használja az SQL Database [12-es verzióját][sql-db-v12].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-154">Use the [V12 version][sql-db-v12] of SQL Database.</span></span> <span data-ttu-id="3aa1d-155">Az SQL Database az alapszintű, a standard és a prémium [szolgáltatásszintet][sql-db-service-tiers] támogatja. Mindegyik szinten több teljesítményszint érhető el, amelyek mérése [adatbázis-tranzakciós egységben (DTU-ban)][sql-dtu] történik.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-155">SQL Database supports Basic, Standard, and Premium [service tiers][sql-db-service-tiers], with multiple performance levels within each tier measured in [Database Transaction Units (DTUs)][sql-dtu].</span></span> <span data-ttu-id="3aa1d-156">Tervezze meg a kapacitást, és válasszon az igényeinek megfelelő szolgáltatásszintet és teljesítményszintet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-156">Perform capacity planning and choose a tier and performance level that meets your requirements.</span></span>

### <a name="region"></a><span data-ttu-id="3aa1d-157">Régió</span><span class="sxs-lookup"><span data-stu-id="3aa1d-157">Region</span></span>

<span data-ttu-id="3aa1d-158">Telepítse az App Service-csomagot és az SQL Database-t ugyanabban a régióban a hálózati késés minimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-158">Provision the App Service plan and the SQL Database in the same region to minimize network latency.</span></span> <span data-ttu-id="3aa1d-159">Általában érdemes a felhasználókhoz legközelebbi régiót választani.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-159">Generally, choose the region closest to your users.</span></span>

<span data-ttu-id="3aa1d-160">Az erőforráscsoportnak szintén van régiója, amely azt adja meg, hogy a telepítés metaadatai hol vannak tárolva.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-160">The resource group also has a region, which specifies where deployment metadata is stored.</span></span> <span data-ttu-id="3aa1d-161">Az erőforráscsoportot és a hozzá tartozó erőforrásokat helyezze ugyanabba a régióba.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-161">Put the resource group and its resources in the same region.</span></span> <span data-ttu-id="3aa1d-162">Ez javíthatja a rendelkezésre állást az üzembe helyezés során.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-162">This can improve availability during deployment.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="3aa1d-163">Méretezési szempontok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-163">Scalability considerations</span></span>

<span data-ttu-id="3aa1d-164">Az Azure App Service egyik fő előnye az alkalmazások skálázásának lehetősége a terhelés alapján.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-164">A major benefit of Azure App Service is the ability to scale your application based on load.</span></span> <span data-ttu-id="3aa1d-165">A következő szempontokat kell szem előtt tartani az alkalmazás skálázásának tervezésekor.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-165">Here are some considerations to keep in mind when planning to scale your application.</span></span>

### <a name="scaling-the-app-service-app"></a><span data-ttu-id="3aa1d-166">Az App Service-alkalmazás skálázása</span><span class="sxs-lookup"><span data-stu-id="3aa1d-166">Scaling the App Service app</span></span>

<span data-ttu-id="3aa1d-167">Az App Service-alkalmazások skálázásának két módja van:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-167">There are two ways to scale an App Service app:</span></span>

- <span data-ttu-id="3aa1d-168">*Vertikális felskálázás*, azaz a példány méretének módosítása.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-168">*Scale up*, which means changing the instance size.</span></span> <span data-ttu-id="3aa1d-169">A példány mérete határozza meg a memória mennyiségét, a magok számát és az egyes virtuálisgép-példányokon rendelkezésre álló tároló mennyiségét.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-169">The instance size determines the memory, number of cores, and storage on each VM instance.</span></span> <span data-ttu-id="3aa1d-170">Vertikálisan felskálázni manuálisan, a példányméret vagy a csomagszint módosításával lehet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-170">You can scale up manually by changing the instance size or the plan tier.</span></span>

- <span data-ttu-id="3aa1d-171">*Horizontális felskálázás*, azaz további példányok hozzáadása a megnövekedett terhelés kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-171">*Scale out*, which means adding instances to handle increased load.</span></span> <span data-ttu-id="3aa1d-172">Minden tarifacsomaghoz meg van adva a példányok maximális száma.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-172">Each pricing tier has a maximum number of instances.</span></span>

  <span data-ttu-id="3aa1d-173">A horizontális felskálázás elvégezhető a példányszám manuális módosításával vagy [automatikus skálázással][web-app-autoscale], amikor az Azure egy ütemezés és/vagy teljesítménymetrikák alapján automatikusan hozzáad vagy eltávolít példányokat a csomagból.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-173">You can scale out manually by changing the instance count, or use [autoscaling][web-app-autoscale] to have Azure automatically add or remove instances based on a schedule and/or performance metrics.</span></span> <span data-ttu-id="3aa1d-174">Az egyes skálázási műveletek gyorsan, általában másodpercek alatt lezajlanak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-174">Each scale operation happens quickly&mdash;typically within seconds.</span></span>

  <span data-ttu-id="3aa1d-175">Az automatikus skálázás engedélyezéséhez hozzon létre egy automatikus skálázási *profilt*, amely meghatározza a példányok minimális és maximális számát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-175">To enable autoscaling, create an autoscale *profile* that defines the minimum and maximum number of instances.</span></span> <span data-ttu-id="3aa1d-176">A profilok ütemezhetőek.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-176">Profiles can be scheduled.</span></span> <span data-ttu-id="3aa1d-177">Létrehozhat például külön profilokat munkanapokra és hétvégére.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-177">For example, you might create separate profiles for weekdays and weekends.</span></span> <span data-ttu-id="3aa1d-178">A profilok arra vonatkozó szabályokat is tartalmazhatnak, hogy mikor kell példányokat hozzáadni vagy eltávolítani.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-178">Optionally, a profile contains rules for when to add or remove instances.</span></span> <span data-ttu-id="3aa1d-179">(Példa: Két példány hozzáadása, ha a CPU-használat 70% fölé emelkedik 5 perce.)</span><span class="sxs-lookup"><span data-stu-id="3aa1d-179">(Example: Add two instances if CPU usage is above 70% for 5 minutes.)</span></span>

<span data-ttu-id="3aa1d-180">Javaslatok webalkalmazások skálázásához:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-180">Recommendations for scaling a web app:</span></span>

- <span data-ttu-id="3aa1d-181">Ha lehet, kerülje a vertikális fel- és leskálázást, mert ez az alkalmazás újraindítását okozhatja.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-181">As much as possible, avoid scaling up and down, because it may trigger an application restart.</span></span> <span data-ttu-id="3aa1d-182">Ehelyett válasszon egy olyan szintet és méretet, amely megfelel a teljesítményigényeinek tipikus terhelés mellett, majd horizontálisan skálázza fel a példányokat a megváltozott forgalommennyiség kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-182">Instead, select a tier and size that meet your performance requirements under typical load and then scale out the instances to handle changes in traffic volume.</span></span>
- <span data-ttu-id="3aa1d-183">Engedélyezze az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-183">Enable autoscaling.</span></span> <span data-ttu-id="3aa1d-184">Ha az alkalmazás kiszámítható és rendszeres számítási feladatokat lát el, profilok létrehozásával előre ütemezheti a példányok számát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-184">If your application has a predictable, regular workload, create profiles to schedule the instance counts ahead of time.</span></span> <span data-ttu-id="3aa1d-185">Ha a számítási feladatok mennyisége nem jelezhető előre, használjon szabályalapú automatikus skálázást, amely azonnal reagál a bekövetkező változásokra.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-185">If the workload is not predictable, use rule-based autoscaling to react to changes in load as they occur.</span></span> <span data-ttu-id="3aa1d-186">A két módszer kombinálható.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-186">You can combine both approaches.</span></span>
- <span data-ttu-id="3aa1d-187">A CPU-használat általában jól használható metrikaként az automatikus skálázási szabályokhoz.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-187">CPU usage is generally a good metric for autoscale rules.</span></span> <span data-ttu-id="3aa1d-188">Azonban az alkalmazáson terhelésteszteket kell végezni, azonosítani kell a potenciális szűk keresztmetszeteket, és ezek alapján kell megadni az automatikus skálázási szabályokat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-188">However, you should load test your application, identify potential bottlenecks, and base your autoscale rules on that data.</span></span>
- <span data-ttu-id="3aa1d-189">Az automatikus skálázási szabályok tartalmaznak egy *nyugalomba kerülési* időt. Ez az az időtartam, amennyit a rendszer vár egy skálázási művelet befejezése után, mielőtt elindítana egy újabb skálázási műveletet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-189">Autoscale rules include a *cool-down* period, which is the interval to wait after a scale action has completed before starting a new scale action.</span></span> <span data-ttu-id="3aa1d-190">A nyugalomba kerülési idő lehetővé teszi a rendszer stabilizálását az újabb skálázási műveletek előtt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-190">The cool-down period lets the system stabilize before scaling again.</span></span> <span data-ttu-id="3aa1d-191">Példányok hozzáadásához állítson be rövidebb nyugalomba kerülési időt, az eltávolításukhoz pedig hosszabbat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-191">Set a shorter cool-down period for adding instances, and a longer cool-down period for removing instances.</span></span> <span data-ttu-id="3aa1d-192">Például állítson be 5 perc nyugalomba kerülési időt példányok hozzáadásához, példányok eltávolításához azonban 60 percet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-192">For example, set 5 minutes to add an instance, but 60 minutes to remove an instance.</span></span> <span data-ttu-id="3aa1d-193">Érdemesebb a nagy terhelés alatt gyorsan új példányokat hozzáadni a megnövekedett forgalom kezelésére, majd fokozatosan csökkenteni az erőforrások számát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-193">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

### <a name="scaling-sql-database"></a><span data-ttu-id="3aa1d-194">Az SQL Database skálázása</span><span class="sxs-lookup"><span data-stu-id="3aa1d-194">Scaling SQL Database</span></span>

<span data-ttu-id="3aa1d-195">Ha magasabb szolgáltatásszintre vagy teljesítményszintre van szüksége az SQL Database-hez, az egyes adatbázisokat egyenként vertikálisan felskálázhatja az alkalmazás leállása nélkül.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-195">If you need a higher service tier or performance level for SQL Database, you can scale up individual databases with no application downtime.</span></span> <span data-ttu-id="3aa1d-196">További információk: [Az SQL Database beállításai és teljesítménye: mi érhető el az egyes szolgáltatásszinteken][sql-db-scale].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-196">For more information, see [SQL Database options and performance: Understand what's available in each service tier][sql-db-scale].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="3aa1d-197">Rendelkezésre állási szempontok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-197">Availability considerations</span></span>

<span data-ttu-id="3aa1d-198">Az oktatóanyag összeállításakor az App Service SLA-ja 99,95%, az SQL Database alap, standard és prémium szintjeinek SKA-ja pedig 99,99%.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-198">At the time of writing, the service level agreement (SLA) for App Service is 99.95% and the SLA for SQL Database is 99.99% for Basic, Standard, and Premium tiers.</span></span>

> [!NOTE]
> <span data-ttu-id="3aa1d-199">Az App Service SLA-ja önálló példányokra és több példányra is vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-199">The App Service SLA applies to both single and multiple instances.</span></span>
>

### <a name="backups"></a><span data-ttu-id="3aa1d-200">Biztonsági másolatok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-200">Backups</span></span>

<span data-ttu-id="3aa1d-201">Adatvesztés esetén az SQL Database időponthoz kötött visszaállítást és georedundáns visszaállítást biztosít.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-201">In the event of data loss, SQL Database provides point-in-time restore and geo-restore.</span></span> <span data-ttu-id="3aa1d-202">Ezek a funkciók minden szinten elérhetőek, és automatikusan engedélyezve vannak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-202">These features are available in all tiers and are automatically enabled.</span></span> <span data-ttu-id="3aa1d-203">A biztonsági mentéseket nem kell ütemezni vagy kezelni.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-203">You don't need to schedule or manage the backups.</span></span>

- <span data-ttu-id="3aa1d-204">Az időponthoz kötött visszaállítással [az emberi hibák állíthatók helyre][sql-human-error], mivel ez a funkció visszaállítja az adatbázist egy korábbi időpont szerinti állapotára.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-204">Use point-in-time restore to [recover from human error][sql-human-error] by returning the database to an earlier point in time.</span></span>
- <span data-ttu-id="3aa1d-205">A georedundáns visszaállítás [szolgáltatáskimaradás utáni helyreállítást biztosít][sql-outage-recovery], mivel az adatbázist egy georedundáns biztonsági másolatból állítja vissza.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-205">Use geo-restore to [recover from a service outage][sql-outage-recovery] by restoring a database from a geo-redundant backup.</span></span>

<span data-ttu-id="3aa1d-206">További információkért tekintse meg [a felhőalapú üzletmenet-folytonossággal és az SQL Database-zel végzett adatbázis-vészhelyreállítással][sql-backup] kapcsolatos cikket.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-206">For more information, see [Cloud business continuity and database disaster recovery with SQL Database][sql-backup].</span></span>

<span data-ttu-id="3aa1d-207">Az App Service [biztonsági mentési és visszaállítási][web-app-backup] funkciót biztosít az alkalmazásfájlokhoz.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-207">App Service provides a [backup and restore][web-app-backup] feature for your application files.</span></span> <span data-ttu-id="3aa1d-208">Azonban ügyeljen arra, hogy a biztonságimásolat-fájlok egyszerű szövegként tartalmazzák az alkalmazásbeállításokat, amelyek titkos adatokat is tartalmazhatnak, például kapcsolati sztringekat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-208">However, be aware that the backed-up files include app settings in plain text and these may include secrets, such as connection strings.</span></span> <span data-ttu-id="3aa1d-209">Kerülje az App Service biztonsági mentési funkciójának használatát az SQL-adatbázisok biztonsági mentéséhez, mert a funkció exportálja az adatbázist egy SQL .bacpac fájlba, és ezzel [DTU-kat][sql-dtu] fogyaszt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-209">Avoid using the App Service backup feature to back up your SQL databases because it exports the database to a SQL .bacpac file, consuming [DTUs][sql-dtu].</span></span> <span data-ttu-id="3aa1d-210">Ehelyett használja az SQL Database fentebb leírt, időponthoz kötött visszaállítását.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-210">Instead, use SQL Database point-in-time restore described above.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="3aa1d-211">Felügyeleti szempontok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-211">Manageability considerations</span></span>

<span data-ttu-id="3aa1d-212">Hozzon létre külön erőforráscsoportok éles környezetben, fejlesztési, és tesztelési környezetek.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-212">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="3aa1d-213">Ez megkönnyíti az üzemelő példányok felügyeletét, a tesztkörnyezetek törlését és a hozzáférési jogok kiosztását.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-213">This makes it easier to manage deployments, delete test deployments, and assign access rights.</span></span>

<span data-ttu-id="3aa1d-214">Amikor erőforrásokat rendel az erőforráscsoportokhoz, vegye figyelembe a következőket:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-214">When assigning resources to resource groups, consider the following:</span></span>

- <span data-ttu-id="3aa1d-215">Életciklus.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-215">Lifecycle.</span></span> <span data-ttu-id="3aa1d-216">Általában érdemes az azonos életciklusú erőforrásokat ugyanabba az erőforráscsoportba helyezni.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-216">In general, put resources with the same lifecycle into the same resource group.</span></span>
- <span data-ttu-id="3aa1d-217">Hozzáférés.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-217">Access.</span></span> <span data-ttu-id="3aa1d-218">A csoportokban található erőforrások hozzáférési szabályzatainak megadásához [szerepköralapú hozzáférés-vezérlést][rbac] (RBAC-t) használhat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-218">You can use [role-based access control][rbac] (RBAC) to apply access policies to the resources in a group.</span></span>
- <span data-ttu-id="3aa1d-219">Számlázás.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-219">Billing.</span></span> <span data-ttu-id="3aa1d-220">Megtekintheti az erőforráscsoport összegzett költségeit.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-220">You can view the rolled-up costs for the resource group.</span></span>

<span data-ttu-id="3aa1d-221">További információk: [Azure Resource Manager overview](/azure/azure-resource-manager/resource-group-overview) (Az Azure Resource Manager áttekintése).</span><span class="sxs-lookup"><span data-stu-id="3aa1d-221">For more information, see [Azure Resource Manager overview](/azure/azure-resource-manager/resource-group-overview).</span></span>

### <a name="deployment"></a><span data-ttu-id="3aa1d-222">Környezet</span><span class="sxs-lookup"><span data-stu-id="3aa1d-222">Deployment</span></span>

<span data-ttu-id="3aa1d-223">Az üzembe helyezés két lépésből áll:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-223">Deployment involves two steps:</span></span>

1. <span data-ttu-id="3aa1d-224">Az Azure-erőforrások kiépítése.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-224">Provisioning the Azure resources.</span></span> <span data-ttu-id="3aa1d-225">Javasoljuk, hogy használjon [Azure Resource Manager-sablonok] [ arm-template] ehhez a lépéshez.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-225">We recommend that you use [Azure Resource Manager templates][arm-template] for this step.</span></span> <span data-ttu-id="3aa1d-226">A sablonok megkönnyítik az üzembe helyezések automatizálását a PowerShell vagy az Azure CLI használatával.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-226">Templates make it easier to automate deployments via PowerShell or the Azure command line interface (CLI).</span></span>
2. <span data-ttu-id="3aa1d-227">Az alkalmazás (a kód, a bináris fájlok és a tartalomfájlok) üzembe helyezése.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-227">Deploying the application (code, binaries, and content files).</span></span> <span data-ttu-id="3aa1d-228">Több lehetőség közül választhat, például üzembe helyezést végezhet a helyi Git-adattárból, használhatja a Visual Studiót, vagy folyamatos üzembe helyezést végezhet egy felhőalapú forrásvezérlőből.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-228">You have several options, including deploying from a local Git repository, using Visual Studio, or continuous deployment from cloud-based source control.</span></span> <span data-ttu-id="3aa1d-229">További információkat az [alkalmazások az Azure App Service szolgáltatásban való üzembe helyezését][deploy] ismertető cikkben olvashat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-229">See [Deploy your app to Azure App Service][deploy].</span></span>

<span data-ttu-id="3aa1d-230">Az App Service-alkalmazások mindig rendelkeznek egy `production` nevű üzembehelyezési ponttal, amely az éles helyet jelöli.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-230">An App Service app always has one deployment slot named `production`, which represents the live production site.</span></span> <span data-ttu-id="3aa1d-231">Javasoljuk, hogy a frissítések telepítéséhez hozzon létre egy előkészítési pontot.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-231">We recommend creating a staging slot for deploying updates.</span></span> <span data-ttu-id="3aa1d-232">Az előkészítési pont használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-232">The benefits of using a staging slot include:</span></span>

- <span data-ttu-id="3aa1d-233">Ellenőrizhető az üzembe helyezés sikeressége az éles környezetbe váltás előtt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-233">You can verify the deployment succeeded, before swapping it into production.</span></span>
- <span data-ttu-id="3aa1d-234">Az előkészítési pontra való üzembe helyezéssel biztosítható, hogy minden példány üzemkészen kerüljön az éles környezetbe.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-234">Deploying to a staging slot ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="3aa1d-235">Számos alkalmazás jelentős melegítési és hidegindítási idő van.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-235">Many applications have a significant warmup and cold-start time.</span></span>

<span data-ttu-id="3aa1d-236">Javasoljuk továbbá egy harmadik pont létrehozását a legutóbbi megfelelően működő üzemelő példány tárolásához.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-236">We also recommend creating a third slot to hold the last-known-good deployment.</span></span> <span data-ttu-id="3aa1d-237">Az előkészítési és az üzembehelyezési pontok közötti váltáskor a korábbi éles környezetet (amely most az előkészítési ponton található) helyezze át a legutóbbi megfelelően működő példányt tároló pontra.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-237">After you swap staging and production, move the previous production deployment (which is now in staging) into the last-known-good slot.</span></span> <span data-ttu-id="3aa1d-238">Így ha később probléma merül fel, gyorsan vissza lehet váltani a legutóbbi megfelelően működő verzióra.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-238">That way, if you discover a problem later, you can quickly revert to the last-known-good version.</span></span>

<span data-ttu-id="3aa1d-239">![[1]][1]</span><span class="sxs-lookup"><span data-stu-id="3aa1d-239">![[1]][1]</span></span>

<span data-ttu-id="3aa1d-240">Korábbi verzióra való visszaváltáskor győződjön meg arról, hogy az adatbázisok sémamódosításai visszamenőlegesen kompatibilisek.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-240">If you revert to a previous version, make sure any database schema changes are backward compatible.</span></span>

<span data-ttu-id="3aa1d-241">Ne használja az éles környezet pontjait tesztelésre, mivel az egy adott App Service-csomagban található alkalmazások ugyanazokat a virtuálisgép-példányokat használják.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-241">Don't use slots on your production deployment for testing because all apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="3aa1d-242">Ha például terheléstesztek csökkentheti az éles helyet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-242">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="3aa1d-243">Ehelyett hozzon létre külön App Service-csomagot az éles és a tesztelési környezethez.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-243">Instead, create separate App Service plans for production and test.</span></span> <span data-ttu-id="3aa1d-244">Egy külön tervbe tesztkörnyezetek helyezésével, elkülönítse azokat a változatát tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-244">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>

### <a name="configuration"></a><span data-ttu-id="3aa1d-245">Konfiguráció</span><span class="sxs-lookup"><span data-stu-id="3aa1d-245">Configuration</span></span>

<span data-ttu-id="3aa1d-246">Tárolja a konfigurációs beállításokat [alkalmazásbeállításokként][app-settings].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-246">Store configuration settings as [app settings][app-settings].</span></span> <span data-ttu-id="3aa1d-247">Adja meg az alkalmazás beállításait Resource Manager-sablonokkal, vagy a PowerShell-lel.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-247">Define the app settings in your Resource Manager templates, or using PowerShell.</span></span> <span data-ttu-id="3aa1d-248">Futtatáskor az alkalmazásbeállítások környezeti változókként elérhetők az alkalmazás számára.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-248">At runtime, app settings are available to the application as environment variables.</span></span>

<span data-ttu-id="3aa1d-249">Soha ne tároljon jelszavakat, hozzáférési kulcsokat és kapcsolati sztringekat a forrásvezérlőben.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-249">Never check passwords, access keys, or connection strings into source control.</span></span> <span data-ttu-id="3aa1d-250">Ehelyett adja át ezeket az adatokat paraméterként egy üzembehelyezési szkriptnek, amely alkalmazásbeállításokként tárolja ezeket az értékeket.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-250">Instead, pass these as parameters to a deployment script that stores these values as app settings.</span></span>

<span data-ttu-id="3aa1d-251">Az üzembehelyezési pontok közötti váltáskor a rendszer alapértelmezés szerint vált az alkalmazásbeállítások között is.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-251">When you swap a deployment slot, the app settings are swapped by default.</span></span> <span data-ttu-id="3aa1d-252">Ha különböző beállítások szükségesek az éles és az előkészítési környezethez, létrehozhat olyan alkalmazásbeállításokat, amelyek adott ponthoz vannak rögzítve, és nem változnak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-252">If you need different settings for production and staging, you can create app settings that stick to a slot and don't get swapped.</span></span>

### <a name="diagnostics-and-monitoring"></a><span data-ttu-id="3aa1d-253">Diagnosztika és figyelés</span><span class="sxs-lookup"><span data-stu-id="3aa1d-253">Diagnostics and monitoring</span></span>

<span data-ttu-id="3aa1d-254">Engedélyezze a [diagnosztikai naplózást][diagnostic-logs], beleértve az alkalmazásnaplózást és a webkiszolgáló-naplózást.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-254">Enable [diagnostics logging][diagnostic-logs], including application logging and web server logging.</span></span> <span data-ttu-id="3aa1d-255">Konfigurálja a naplózást a Blob Storage használatára.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-255">Configure logging to use Blob storage.</span></span> <span data-ttu-id="3aa1d-256">A jobb teljesítmény érdekében hozzon létre egy önálló tárfiókot a diagnosztikai naplók számára.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-256">For performance reasons, create a separate storage account for diagnostic logs.</span></span> <span data-ttu-id="3aa1d-257">Ne használja ugyanazt a tárfiókot a naplók és alkalmazásadatok.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-257">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="3aa1d-258">A naplózással kapcsolatos részletesebb útmutatásért tekintse meg a [monitorozási és diagnosztikai útmutatót][monitoring-guidance].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-258">For more detailed guidance on logging, see [Monitoring and diagnostics guidance][monitoring-guidance].</span></span>

<span data-ttu-id="3aa1d-259">Az alkalmazások terhelés alatti teljesítményének és viselkedésének monitorozásához használjon olyan szolgáltatásokat, mint a [New Relic][new-relic] vagy az [Application Insights][app-insights].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-259">Use a service such as [New Relic][new-relic] or [Application Insights][app-insights] to monitor application performance and behavior under load.</span></span> <span data-ttu-id="3aa1d-260">Vegye figyelembe az Application Insights [adatátviteli sebességre vonatkozó korlátozásait][app-insights-data-rate].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-260">Be aware of the [data rate limits][app-insights-data-rate] for Application Insights.</span></span>

<span data-ttu-id="3aa1d-261">Végezzen terheléstesztet, például egy eszközzel [Azure DevOps] [ azure-devops] vagy [Visual Studio Team Foundation Server][tfs].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-261">Perform load testing, using a tool such as [Azure DevOps][azure-devops] or [Visual Studio Team Foundation Server][tfs].</span></span> <span data-ttu-id="3aa1d-262">A felhőalapú alkalmazások teljesítményelemzésének általános áttekintéséért tekintse meg a [teljesítményelemzési ismertetőt][perf-analysis].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-262">For a general overview of performance analysis in cloud applications, see [Performance Analysis Primer][perf-analysis].</span></span>

<span data-ttu-id="3aa1d-263">Tippek az alkalmazás hibaelhárításához:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-263">Tips for troubleshooting your application:</span></span>

- <span data-ttu-id="3aa1d-264">Az Azure Portal [hibaelhárítási paneljén][troubleshoot-blade] megoldást találhat a leggyakoribb problémákra.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-264">Use the [troubleshoot blade][troubleshoot-blade] in the Azure portal to find solutions to common problems.</span></span>
- <span data-ttu-id="3aa1d-265">A [naplóstreamelés][web-app-log-stream] engedélyezésével közel valós idejű naplóinformációkat tekinthet meg.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-265">Enable [log streaming][web-app-log-stream] to see logging information in near-real time.</span></span>
- <span data-ttu-id="3aa1d-266">A [Kudu irányítópultján][kudu] számos eszközt találhat az alkalmazások monitorozásához és hibaelhárításához.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-266">The [Kudu dashboard][kudu] has several tools for monitoring and debugging your application.</span></span> <span data-ttu-id="3aa1d-267">További információkért tekintse meg az [Azure-webhelyek online eszközeit ismertető][kudu] blogbejegyzést.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-267">For more information, see [Azure Websites online tools you should know about][kudu] (blog post).</span></span> <span data-ttu-id="3aa1d-268">A Kudu irányítópultja az Azure Portalról érhető el.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-268">You can reach the Kudu dashboard from the Azure portal.</span></span> <span data-ttu-id="3aa1d-269">Nyissa meg az alkalmazása paneljét, és kattintson az **Eszközök**, majd a **Kudu** elemre.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-269">Open the blade for your app and click **Tools**, then click **Kudu**.</span></span>
- <span data-ttu-id="3aa1d-270">Visual Studio használata esetén olvassa el a [webalkalmazások az Azure App Service-ben a Visual Studióval végzett hibaelhárítását][troubleshoot-web-app] ismertető cikket hibakeresési és hibaelhárítási tippekért.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-270">If you use Visual Studio, see the article [Troubleshoot a web app in Azure App Service using Visual Studio][troubleshoot-web-app] for debugging and troubleshooting tips.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="3aa1d-271">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-271">Security considerations</span></span>

<span data-ttu-id="3aa1d-272">Ez a szakasz a cikkben leírt Azure-szolgáltatásokra vonatkozó biztonsági szempontokat ismerteti.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-272">This section lists security considerations that are specific to the Azure services described in this article.</span></span> <span data-ttu-id="3aa1d-273">Nem tartalmazza az összes ajánlott biztonsági eljárást.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-273">It's not a complete list of security best practices.</span></span> <span data-ttu-id="3aa1d-274">A további biztonsági szempontokért lásd: [Alkalmazás védelme az Azure App Service-ben][app-service-security].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-274">For some additional security considerations, see [Secure an app in Azure App Service][app-service-security].</span></span>

### <a name="sql-database-auditing"></a><span data-ttu-id="3aa1d-275">Az SQL Database naplózási funkciója</span><span class="sxs-lookup"><span data-stu-id="3aa1d-275">SQL Database auditing</span></span>

<span data-ttu-id="3aa1d-276">A naplózás segíthet a jogszabályi megfelelőség fenntartásában és az olyan ellentmondások és rendellenességek feltárásában, amelyek üzleti veszélyekre vagy esetleges biztonsági problémákra utalhatnak.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-276">Auditing can help you maintain regulatory compliance and get insight into discrepancies and irregularities that could indicate business concerns or suspected security violations.</span></span> <span data-ttu-id="3aa1d-277">További információk: [Ismerkedés az SQL-adatbázis naplózási szolgáltatásával][sql-audit].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-277">See [Get started with SQL database auditing][sql-audit].</span></span>

### <a name="deployment-slots"></a><span data-ttu-id="3aa1d-278">Üzembehelyezési pontok</span><span class="sxs-lookup"><span data-stu-id="3aa1d-278">Deployment slots</span></span>

<span data-ttu-id="3aa1d-279">Minden üzembehelyezési pont nyilvános IP-címmel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-279">Each deployment slot has a public IP address.</span></span> <span data-ttu-id="3aa1d-280">A nem éles pontok védelme az [Azure Active Directory-bejelentkezéssel][aad-auth] biztosítható, hogy az adott végpontokhoz csak a fejlesztési és üzemeltetési csapatok tagjai férhessenek hozzá.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-280">Secure the nonproduction slots using [Azure Active Directory login][aad-auth] so that only members of your development and DevOps teams can reach those endpoints.</span></span>

### <a name="logging"></a><span data-ttu-id="3aa1d-281">Naplózás</span><span class="sxs-lookup"><span data-stu-id="3aa1d-281">Logging</span></span>

<span data-ttu-id="3aa1d-282">A naplókban soha nem szabad rögzíteni a felhasználók jelszavait és a személyazonossági csalások elkövetéséhez felhasználható egyéb adatait.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-282">Logs should never record users' passwords or other information that might be used to commit identity fraud.</span></span> <span data-ttu-id="3aa1d-283">Tárolás előtt az adatok közül el kell távolítani az ilyen részleteket.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-283">Scrub those details from the data before storing it.</span></span>

### <a name="ssl"></a><span data-ttu-id="3aa1d-284">SSL</span><span class="sxs-lookup"><span data-stu-id="3aa1d-284">SSL</span></span>

<span data-ttu-id="3aa1d-285">Az App Service-alkalmazásokhoz elérhető egy SSL-végpont az `azurewebsites.net` egy résztartományán további költségek nélkül.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-285">An App Service app includes an SSL endpoint on a subdomain of `azurewebsites.net` at no additional cost.</span></span> <span data-ttu-id="3aa1d-286">Az SSL-végpont tartalmaz egy helyettesítő tanúsítványt az `*.azurewebsites.net` tartományhoz.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-286">The SSL endpoint includes a wildcard certificate for the `*.azurewebsites.net` domain.</span></span> <span data-ttu-id="3aa1d-287">Ha egyéni tartománynevet használ, meg kell adnia egy, az egyéni tartománynak megfelelő tanúsítványt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-287">If you use a custom domain name, you must provide a certificate that matches the custom domain.</span></span> <span data-ttu-id="3aa1d-288">A legegyszerűbb megoldás az, ha közvetlenül az Azure Portalon vásárol egy tanúsítványt.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-288">The simplest approach is to buy a certificate directly through the Azure portal.</span></span> <span data-ttu-id="3aa1d-289">Más hitelesítésszolgáltatóktól származó tanúsítványokat is importálhat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-289">You can also import certificates from other certificate authorities.</span></span> <span data-ttu-id="3aa1d-290">További információkért lásd: [SSL-tanúsítvány vásárlása és konfigurálása saját Azure App Service szolgáltatások számára][ssl-cert].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-290">For more information, see [Buy and Configure an SSL Certificate for your Azure App Service][ssl-cert].</span></span>

<span data-ttu-id="3aa1d-291">Biztonsági szempontból ajánlott, hogy az alkalmazás kikényszerítse a HTTPS használatát a HTTP-kérelmek átirányításával.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-291">As a security best practice, your app should enforce HTTPS by redirecting HTTP requests.</span></span> <span data-ttu-id="3aa1d-292">Ez megvalósítható az alkalmazáson belül, vagy egy URL-átírási szabály használatával, amelynek leírását a [HTTPS az Azure App Service-ben alkalmazásokhoz való engedélyezésével][ssl-redirect] kapcsolatos cikkben olvashatja.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-292">You can implement this inside your application or use a URL rewrite rule as described in [Enable HTTPS for an app in Azure App Service][ssl-redirect].</span></span>

### <a name="authentication"></a><span data-ttu-id="3aa1d-293">Hitelesítés</span><span class="sxs-lookup"><span data-stu-id="3aa1d-293">Authentication</span></span>

<span data-ttu-id="3aa1d-294">Hitelesítéshez javasoljuk egy identitásszolgáltató (IDP), például az Azure AD, a Facebook, a Google vagy a Twitter használatát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-294">We recommend authenticating through an identity provider (IDP), such as Azure AD, Facebook, Google, or Twitter.</span></span> <span data-ttu-id="3aa1d-295">A hitelesítési folyamathoz használja az OAuth 2 vagy az OpenID Connect (OIDC) megoldást.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-295">Use OAuth 2 or OpenID Connect (OIDC) for the authentication flow.</span></span> <span data-ttu-id="3aa1d-296">Az Azure AD funkciókat biztosít felhasználók és csoportok kezeléséhez, alkalmazások szerepköreinek létrehozásához, a helyszíni identitások integrálásához és az olyan háttérszolgáltatások használatához, mint az Office 365 és a Skype Vállalati verzió.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-296">Azure AD provides functionality to manage users and groups, create application roles, integrate your on-premises identities, and consume backend services such as Office 365 and Skype for Business.</span></span>

<span data-ttu-id="3aa1d-297">Lehetőség szerint ne közvetlenül az alkalmazás kezelje a felhasználói bejelentkezéseket és a hitelesítő adatokat, mivel ez potenciális támadási felületet jelenthet.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-297">Avoid having the application manage user logins and credentials directly, as it creates a potential attack surface.</span></span>  <span data-ttu-id="3aa1d-298">Mindenképp használjon e-mail-visszaigazolást, jelszó-helyreállítást és többtényezős hitelesítést, ellenőrizze a jelszavak erősségét és tárolja a jelszavak kivonatait biztonságos helyen.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-298">At a minimum, you would need to have email confirmation, password recovery, and multi-factor authentication; validate password strength; and store password hashes securely.</span></span> <span data-ttu-id="3aa1d-299">A nagyobb identitásszolgáltatók ezek mindegyikét elvégzik Ön helyett, emellett folyamatosan monitorozzák és fejlesztik biztonsági eljárásaikat.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-299">The large identity providers handle all of those things for you, and are constantly monitoring and improving their security practices.</span></span>

<span data-ttu-id="3aa1d-300">Érdemes lehet [App Service-hitelesítést][app-service-auth] használni az OAuth/OIDC hitelesítési folyamat implementálásához.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-300">Consider using [App Service authentication][app-service-auth] to implement the OAuth/OIDC authentication flow.</span></span> <span data-ttu-id="3aa1d-301">Az App Service-hitelesítés előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-301">The benefits of App Service authentication include:</span></span>

- <span data-ttu-id="3aa1d-302">Könnyen konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-302">Easy to configure.</span></span>
- <span data-ttu-id="3aa1d-303">Az egyszerű hitelesítési forgatókönyvekhez nem szükséges kód.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-303">No code is required for simple authentication scenarios.</span></span>
- <span data-ttu-id="3aa1d-304">Támogatja a delegált hitelesítést: az OAuth hozzáférési tokenek lehetővé teszik az erőforrások használatát egy felhasználó nevében.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-304">Supports delegated authorization using OAuth access tokens to consume resources on behalf of the user.</span></span>
- <span data-ttu-id="3aa1d-305">Rendelkezik beépített tokengyorsítótárral.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-305">Provides a built-in token cache.</span></span>

<span data-ttu-id="3aa1d-306">Az App Service-hitelesítés néhány korlátja:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-306">Some limitations of App Service authentication:</span></span>

- <span data-ttu-id="3aa1d-307">Korlátozottak a testreszabási lehetőségek.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-307">Limited customization options.</span></span>
- <span data-ttu-id="3aa1d-308">A delegált engedélyezés bejelentkezési munkamenetenként egy háttérerőforrásra korlátozódik.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-308">Delegated authorization is restricted to one backend resource per login session.</span></span>
- <span data-ttu-id="3aa1d-309">Több IDP használata esetén nincs beépített mechanizmus a hitelesítő tartomány észleléséhez.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-309">If you use more than one IDP, there is no built-in mechanism for home realm discovery.</span></span>
- <span data-ttu-id="3aa1d-310">Több-bérlős forgatókönyvek esetén az alkalmazásnak kell implementálnia a tokenkiállító ellenőrzését végző logikát.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-310">For multi-tenant scenarios, the application must implement the logic to validate the token issuer.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="3aa1d-311">A megoldás üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="3aa1d-311">Deploy the solution</span></span>

<span data-ttu-id="3aa1d-312">Az architektúra egy példa Resource Manager-sablon [elérhető a Githubon][paas-basic-arm-template].</span><span class="sxs-lookup"><span data-stu-id="3aa1d-312">An example Resource Manager template for this architecture is [available on GitHub][paas-basic-arm-template].</span></span>

<span data-ttu-id="3aa1d-313">A sablon PowerShell-lel történő üzembe helyezéséhez futtassa a következő parancsokat:</span><span class="sxs-lookup"><span data-stu-id="3aa1d-313">To deploy the template using PowerShell, run the following commands:</span></span>

```powershell
New-AzureRmResourceGroup -Name <resource-group-name> -Location "West US"

$parameters = @{"appName"="<app-name>";"environment"="dev";"locationShort"="uw";"databaseName"="app-db";"administratorLogin"="<admin>";"administratorLoginPassword"="<password>"}

New-AzureRmResourceGroupDeployment -Name <deployment-name> -ResourceGroupName <resource-group-name> -TemplateFile .\PaaS-Basic.json -TemplateParameterObject  $parameters
```

<span data-ttu-id="3aa1d-314">További információkért lásd az [erőforrások Azure Resource Manager-sablonokkal végzett üzembe helyezését][deploy-arm-template] ismertető cikket.</span><span class="sxs-lookup"><span data-stu-id="3aa1d-314">For more information, see [Deploy resources with Azure Resource Manager templates][deploy-arm-template].</span></span>

<!-- links -->

[aad-auth]: /azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication
[app-insights]: /azure/application-insights/app-insights-overview
[app-insights-data-rate]: /azure/application-insights/app-insights-pricing
[app-service]: https://azure.microsoft.com/documentation/services/app-service/
[app-service-auth]: /azure/app-service-api/app-service-api-authentication
[app-service-plans]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[app-service-plans-tiers]: https://azure.microsoft.com/pricing/details/app-service/
[app-service-security]: /azure/app-service-web/web-sites-security
[app-settings]: /azure/app-service-web/web-sites-configure
[arm-template]: /azure/azure-resource-manager/resource-group-overview#resource-groups
[azure-devops]: /azure/devops/
[azure-dns]: /azure/dns/dns-overview
[custom-domain-name]: /azure/app-service-web/web-sites-custom-domain-name
[deploy]: /azure/app-service-web/web-sites-deploy
[deploy-arm-template]: /azure/resource-group-template-deploy
[deployment-slots]: /azure/app-service-web/web-sites-staged-publishing
[diagnostic-logs]: /azure/app-service-web/web-sites-enable-diagnostic-log
[kudu]: https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/
[monitoring-guidance]: ../../best-practices/monitoring.md
[new-relic]: https://newrelic.com/
[paas-basic-arm-template]: https://github.com/mspnp/reference-architectures/tree/master/managed-web-app/basic-web-app/Paas-Basic/Templates
[perf-analysis]: https://github.com/mspnp/performance-optimization/blob/master/Performance-Analysis-Primer.md
[rbac]: /azure/active-directory/role-based-access-control-what-is
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[sla]: https://azure.microsoft.com/support/legal/sla/
[sql-audit]: /azure/sql-database/sql-database-auditing-get-started
[sql-backup]: /azure/sql-database/sql-database-business-continuity
[sql-db]: https://azure.microsoft.com/documentation/services/sql-database/
[sql-db-overview]: /azure/sql-database/sql-database-technical-overview
[sql-db-scale]: /azure/sql-database/sql-database-service-tiers#scaling-up-or-scaling-down-a-single-database
[sql-db-service-tiers]: /azure/sql-database/sql-database-service-tiers
[sql-db-v12]: /azure/sql-database/sql-database-features
[sql-dtu]: /azure/sql-database/sql-database-service-tiers
[sql-human-error]: /azure/sql-database/sql-database-business-continuity#recover-a-database-after-a-user-or-application-error
[sql-outage-recovery]: /azure/sql-database/sql-database-business-continuity#recover-a-database-to-another-region-from-an-azure-regional-data-center-outage
[ssl-redirect]: /azure/app-service-web/web-sites-configure-ssl-certificate#bkmk_enforce
[sql-resource-limits]: /azure/sql-database/sql-database-resource-limits
[ssl-cert]: /azure/app-service-web/web-sites-purchase-ssl-web-site
[troubleshoot-blade]: https://azure.microsoft.com/updates/self-service-troubleshooting-for-app-service-web-apps-customers/
[tfs]: /tfs/index
[troubleshoot-web-app]: /azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio
[visio-download]: https://archcenter.blob.core.windows.net/cdn/app-service-reference-architectures.vsdx
[web-app-autoscale]: /azure/app-service-web/web-sites-scale
[web-app-backup]: /azure/app-service-web/web-sites-backup
[web-app-log-stream]: /azure/app-service-web/web-sites-enable-diagnostic-log#streamlogs
[1]: ./images/paas-basic-web-app-staging-slots.png "Váltás az éles és az előkészítési környezetek pontjai között"
