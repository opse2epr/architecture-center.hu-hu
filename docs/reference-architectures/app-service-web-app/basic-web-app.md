---
title: "Alapszintű webalkalmazás"
description: "A Microsoft Azure-ban futó webalkalmazás alapvető ajánlott architektúra."
author: MikeWasson
ms.date: 12/12/2017
cardTitle: Basic web application
ms.openlocfilehash: 598eb547f0e96ae334af391183a792637caa8631
ms.sourcegitcommit: 1c0465cea4ceb9ba9bb5e8f1a8a04d3ba2fa5acd
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/02/2018
---
# <a name="basic-web-application"></a><span data-ttu-id="6b6c5-103">Alapszintű webalkalmazás</span><span class="sxs-lookup"><span data-stu-id="6b6c5-103">Basic web application</span></span>
[!INCLUDE [header](../../_includes/header.md)]

<span data-ttu-id="6b6c5-104">A referencia-architektúrában jeleníti meg a webes alkalmazás esetén bevált gyakorlatok csoportja [Azure App Service] [ app-service] és [Azure SQL Database] [ sql-db].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-104">This reference architecture shows a set of proven practices for a web application that uses [Azure App Service][app-service] and [Azure SQL Database][sql-db].</span></span> [<span data-ttu-id="6b6c5-105">**A megoldás üzembe helyezéséhez.**</span><span class="sxs-lookup"><span data-stu-id="6b6c5-105">**Deploy this solution.**</span></span>](#deploy-the-solution)

<span data-ttu-id="6b6c5-106">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="6b6c5-106">![[0]][0]</span></span>

<span data-ttu-id="6b6c5-107">*Töltse le az architektúra [Visio-fájlját][visio-download].*</span><span class="sxs-lookup"><span data-stu-id="6b6c5-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="6b6c5-108">Architektúra</span><span class="sxs-lookup"><span data-stu-id="6b6c5-108">Architecture</span></span> 

> [!NOTE]
> <span data-ttu-id="6b6c5-109">Ez az architektúra nem összpontosítani alkalmazásfejlesztés, és nem feltételezi azt minden egyes alkalmazás-keretrendszer.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-109">This architecture does not focus on application development, and does not assume any particular application framework.</span></span> <span data-ttu-id="6b6c5-110">Az célja annak megértése, hogyan különböző Azure-szolgáltatások működnek együtt.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-110">The goal is to understand how various Azure services fit together.</span></span>
>
>

<span data-ttu-id="6b6c5-111">Az architektúra a következő részből áll:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-111">The architecture has the following components:</span></span>

* <span data-ttu-id="6b6c5-112">**Erőforráscsoport**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-112">**Resource group**.</span></span> <span data-ttu-id="6b6c5-113">A [erőforráscsoport](/azure/azure-resource-manager/resource-group-overview) Azure-erőforrások logikai tárolója.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-113">A [resource group](/azure/azure-resource-manager/resource-group-overview) is a logical container for Azure resources.</span></span>

* <span data-ttu-id="6b6c5-114">**App Service alkalmazás**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-114">**App Service app**.</span></span> <span data-ttu-id="6b6c5-115">[Az Azure App Service] [ app-service] egy teljes körűen felügyelt platform létrehozására és központi telepítésére a felhőalapú alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-115">[Azure App Service][app-service] is a fully managed platform for creating and deploying cloud applications.</span></span>     

* <span data-ttu-id="6b6c5-116">**App Service-csomag**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-116">**App Service plan**.</span></span> <span data-ttu-id="6b6c5-117">Egy [App Service-csomag] [ app-service-plans] biztosít a felügyelt üzemeltető virtuális gépek (VM) az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-117">An [App Service plan][app-service-plans] provides the managed virtual machines (VMs) that host your app.</span></span> <span data-ttu-id="6b6c5-118">Futtassa az ugyanazon Virtuálisgép-példányok a csomagot hozzárendelt összes alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-118">All apps associated with a plan run on the same VM instances.</span></span>

* <span data-ttu-id="6b6c5-119">**Üzembe helyezési**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-119">**Deployment slots**.</span></span>  <span data-ttu-id="6b6c5-120">A [üzembe helyezési pont] [ deployment-slots] lehetővé teszi, hogy a központi telepítés tesztelése és felcserélni az éles üzemelő példányhoz.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-120">A [deployment slot][deployment-slots] lets you stage a deployment and then swap it with the production deployment.</span></span> <span data-ttu-id="6b6c5-121">Így elkerülheti a közvetlenül éles környezetben üzembe helyezése.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-121">That way, you avoid deploying directly into production.</span></span> <span data-ttu-id="6b6c5-122">Tekintse meg a [kezelhetőségi](#manageability-considerations) szakasz konkrét javaslatokért.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-122">See the [Manageability](#manageability-considerations) section for specific recommendations.</span></span>

* <span data-ttu-id="6b6c5-123">**IP-cím**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-123">**IP address**.</span></span> <span data-ttu-id="6b6c5-124">Az App Service alkalmazás rendelkezik, egy nyilvános IP-cím és tartománynév.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-124">The App Service app has a public IP address and a domain name.</span></span> <span data-ttu-id="6b6c5-125">A tartománynév altartománya `azurewebsites.net`, például a `contoso.azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-125">The domain name is a subdomain of `azurewebsites.net`, such as `contoso.azurewebsites.net`.</span></span>  

* <span data-ttu-id="6b6c5-126">**Az Azure DNS**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-126">**Azure DNS**.</span></span> <span data-ttu-id="6b6c5-127">[Az Azure DNS] [ azure-dns] üzemeltetési szolgáltatás DNS-tartományok biztosítani a névfeloldást a Microsoft Azure-infrastruktúra használatával.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-127">[Azure DNS][azure-dns] is a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="6b6c5-128">Ha tartományait az Azure-ban üzemelteti, DNS-rekordjait a többi Azure-szolgáltatáshoz is használt hitelesítő adatokkal, API-kkal, eszközökkel és számlázási információkkal kezelheti.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-128">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span> <span data-ttu-id="6b6c5-129">Egy egyéni tartománynevet használni (például `contoso.com`), az egyéni tartománynév leképezése az IP-cím DNS-rekordok létrehozása.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-129">To use a custom domain name (such as `contoso.com`) create DNS records that map the custom domain name to the IP address.</span></span> <span data-ttu-id="6b6c5-130">További információkért lásd: [egyéni tartománynév beállítása az Azure App Service][custom-domain-name].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-130">For more information, see [Configure a custom domain name in Azure App Service][custom-domain-name].</span></span>  

* <span data-ttu-id="6b6c5-131">**Azure SQL Database**</span><span class="sxs-lookup"><span data-stu-id="6b6c5-131">**Azure SQL Database**.</span></span> <span data-ttu-id="6b6c5-132">[SQL-adatbázis] [ sql-db] egy relációs adatbázis-a-szolgáltatás a felhőben van.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-132">[SQL Database][sql-db] is a relational database-as-a-service in the cloud.</span></span>

* <span data-ttu-id="6b6c5-133">**A logikai kiszolgáló**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-133">**Logical server**.</span></span> <span data-ttu-id="6b6c5-134">Az Azure SQL Database logikai kiszolgáló üzemelteti az adatbázisokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-134">In Azure SQL Database, a logical server hosts your databases.</span></span> <span data-ttu-id="6b6c5-135">Egy logikai kiszolgálón több adatbázist hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-135">You can create multiple databases per logical server.</span></span>

* <span data-ttu-id="6b6c5-136">**Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-136">**Azure Storage**.</span></span> <span data-ttu-id="6b6c5-137">Hozzon létre egy Azure storage-fiók egy blob-tároló diagnosztikai naplók tárolásához.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-137">Create an Azure storage account with a blob container to store diagnostic logs.</span></span>

* <span data-ttu-id="6b6c5-138">**Az Azure Active Directory** (az Azure AD).</span><span class="sxs-lookup"><span data-stu-id="6b6c5-138">**Azure Active Directory** (Azure AD).</span></span> <span data-ttu-id="6b6c5-139">Használja az Azure AD vagy egy másik identitásszolgáltató-hitelesítéshez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-139">Use Azure AD or another identity provider for authentication.</span></span>

## <a name="recommendations"></a><span data-ttu-id="6b6c5-140">Ajánlatok</span><span class="sxs-lookup"><span data-stu-id="6b6c5-140">Recommendations</span></span>

<span data-ttu-id="6b6c5-141">Az Ön követelményei eltérhetnek az itt leírt architektúrától.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-141">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="6b6c5-142">A javaslatok használja ebben a szakaszban kiindulási pontként.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-142">Use the recommendations in this section as a starting point.</span></span>

### <a name="app-service-plan"></a><span data-ttu-id="6b6c5-143">App Service-csomagot</span><span class="sxs-lookup"><span data-stu-id="6b6c5-143">App Service plan</span></span>
<span data-ttu-id="6b6c5-144">A Standard vagy prémium rétegek akkor használható, mert támogatják a bővített kapacitású, automatikus skálázás, és a secure sockets layer (SSL).</span><span class="sxs-lookup"><span data-stu-id="6b6c5-144">Use the Standard or Premium tiers, because they support scale out, autoscale, and secure sockets layer (SSL).</span></span> <span data-ttu-id="6b6c5-145">Minden egyes réteg támogatja több *példány mérete* magok száma és memória, amely eltérő.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-145">Each tier supports several *instance sizes* that differ by number of cores and memory.</span></span> <span data-ttu-id="6b6c5-146">Terv létrehozása után módosíthatja a réteg vagy a példány mérete.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-146">You can change the tier or instance size after you create a plan.</span></span> <span data-ttu-id="6b6c5-147">App Service-csomagokról kapcsolatos további információkért lásd: [App Service szolgáltatás díjszabása][app-service-plans-tiers].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-147">For more information about App Service plans, see [App Service Pricing][app-service-plans-tiers].</span></span>

<span data-ttu-id="6b6c5-148">Van szó, a példányok az App Service-csomag, még akkor is, ha az alkalmazás leállt.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-148">You are charged for the instances in the App Service plan, even if the app is stopped.</span></span> <span data-ttu-id="6b6c5-149">Ügyeljen arra, hogy terveket, amelyeket nem használ (például a próbatelepítések) törlése.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-149">Make sure to delete plans that you aren't using (for example, test deployments).</span></span>

### <a name="sql-database"></a><span data-ttu-id="6b6c5-150">SQL Database</span><span class="sxs-lookup"><span data-stu-id="6b6c5-150">SQL Database</span></span>
<span data-ttu-id="6b6c5-151">Használja a [12-es verzióra] [ sql-db-v12] SQL-adatbázis.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-151">Use the [V12 version][sql-db-v12] of SQL Database.</span></span> <span data-ttu-id="6b6c5-152">SQL-adatbázis támogatja a Basic, Standard és Premium [szolgáltatásszintek][sql-db-service-tiers], több teljesítménnyel belül az egyes rétegek szintek mért [adatbázis-tranzakciós egységek (dtu-k)][sql-dtu].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-152">SQL Database supports Basic, Standard, and Premium [service tiers][sql-db-service-tiers], with multiple performance levels within each tier measured in [Database Transaction Units (DTUs)][sql-dtu].</span></span> <span data-ttu-id="6b6c5-153">Kapacitástervezés, és válassza ki azt, amelyik megfelel a követelményeknek és teljesítményszintet szintet.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-153">Perform capacity planning and choose a tier and performance level that meets your requirements.</span></span>

### <a name="region"></a><span data-ttu-id="6b6c5-154">Régió</span><span class="sxs-lookup"><span data-stu-id="6b6c5-154">Region</span></span>
<span data-ttu-id="6b6c5-155">Az App Service-csomag és az SQL-adatbázis ugyanabban a régióban, hálózati késés csökkentése érdekében érdemes telepíteni.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-155">Provision the App Service plan and the SQL Database in the same region to minimize network latency.</span></span> <span data-ttu-id="6b6c5-156">Általában válassza ki a felhasználók a legközelebb eső régiót.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-156">Generally, choose the region closest to your users.</span></span>

<span data-ttu-id="6b6c5-157">Az erőforráscsoport egy régiót, amely megadja a központi telepítési metaadatok tárolására is rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-157">The resource group also has a region, which specifies where deployment metadata is stored.</span></span> <span data-ttu-id="6b6c5-158">Helyezze el az erőforráscsoportot és az erőforrások ugyanabban a régióban.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-158">Put the resource group and its resources in the same region.</span></span> <span data-ttu-id="6b6c5-159">Ez javíthatja a rendelkezésre állási üzembe helyezése során.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-159">This can improve availability during deployment.</span></span> 

## <a name="scalability-considerations"></a><span data-ttu-id="6b6c5-160">Méretezési szempontok</span><span class="sxs-lookup"><span data-stu-id="6b6c5-160">Scalability considerations</span></span>

<span data-ttu-id="6b6c5-161">Egy Azure App Service fő előnye az alkalmazás terhelés alapján méretezési képességét.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-161">A major benefit of Azure App Service is the ability to scale your application based on load.</span></span> <span data-ttu-id="6b6c5-162">Az alábbiakban néhány szempontot szem előtt tartani az alkalmazás horizontális tervezése során.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-162">Here are some considerations to keep in mind when planning to scale your application.</span></span>

### <a name="scaling-the-app-service-app"></a><span data-ttu-id="6b6c5-163">Az App Service alkalmazás skálázás</span><span class="sxs-lookup"><span data-stu-id="6b6c5-163">Scaling the App Service app</span></span>

<span data-ttu-id="6b6c5-164">Egy App Service-alkalmazást méretezési két módja van:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-164">There are two ways to scale an App Service app:</span></span>

* <span data-ttu-id="6b6c5-165">*Vertikális felskálázás*, ami azt jelenti, hogy a példány méretének módosítása.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-165">*Scale up*, which means changing the instance size.</span></span> <span data-ttu-id="6b6c5-166">A példány mérete határozza meg a memória, a magok száma, és minden egyes Virtuálisgép-példány tárolója.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-166">The instance size determines the memory, number of cores, and storage on each VM instance.</span></span> <span data-ttu-id="6b6c5-167">Legfeljebb manuálisan példányméretének vagy a csomag réteg módosításával.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-167">You can scale up manually by changing the instance size or the plan tier.</span></span>  

* <span data-ttu-id="6b6c5-168">*Horizontális felskálázás*, ami azt jelenti, hogy a megnövekedett terhelés kezelése hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-168">*Scale out*, which means adding instances to handle increased load.</span></span> <span data-ttu-id="6b6c5-169">Minden tarifacsomag rendelkezik példányok maximális száma.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-169">Each pricing tier has a maximum number of instances.</span></span> 

  <span data-ttu-id="6b6c5-170">Horizontális felskálázás kézi a példányszámot módosításával, vagy használjon [automatikus skálázás] [ web-app-autoscale] való automatikusan és a egy ütemezést és/vagy a teljesítmény metrikák példányainak törlése.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-170">You can scale out manually by changing the instance count, or use [autoscaling][web-app-autoscale] to have Azure automatically add or remove instances based on a schedule and/or performance metrics.</span></span> <span data-ttu-id="6b6c5-171">Minden egyes skálázási művelet gyorsan&mdash;általában másodpercen belül.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-171">Each scale operation happens quickly&mdash;typically within seconds.</span></span> 

  <span data-ttu-id="6b6c5-172">Ahhoz, hogy az automatikus skálázást, hozzon létre egy automatikus skálázás *profil* , amely meghatározza, hogy a példányok minimális és maximális számát.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-172">To enable autoscaling, create an autoscale *profile* that defines the minimum and maximum number of instances.</span></span> <span data-ttu-id="6b6c5-173">Profilok ütemezhető.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-173">Profiles can be scheduled.</span></span> <span data-ttu-id="6b6c5-174">Létrehozhat például különálló profilok létrehozását és tartozik.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-174">For example, you might create separate profiles for weekdays and weekends.</span></span> <span data-ttu-id="6b6c5-175">Szükség esetén a profil hozzáadásához vagy eltávolításához példányok a szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-175">Optionally, a profile contains rules for when to add or remove instances.</span></span> <span data-ttu-id="6b6c5-176">(Példa: két példányt hozzáadása, ha CPU-használat 70 % feletti 5 perc.)</span><span class="sxs-lookup"><span data-stu-id="6b6c5-176">(Example: Add two instances if CPU usage is above 70% for 5 minutes.)</span></span>
  
<span data-ttu-id="6b6c5-177">A webes alkalmazás méretezéshez ajánlásokat:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-177">Recommendations for scaling a web app:</span></span>

* <span data-ttu-id="6b6c5-178">Amennyire csak lehet ne használjon skálázás felfelé és lefelé, mert azt indíthatnak újra kell indítani az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-178">As much as possible, avoid scaling up and down, because it may trigger an application restart.</span></span> <span data-ttu-id="6b6c5-179">Ehelyett válassza ki a réteg és méretét, hogy alkalmazkodjanak a teljesítménykövetelményekhez szokásos terhelés és majd terjessze ki a példányok adatforgalma változásainak kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-179">Instead, select a tier and size that meet your performance requirements under typical load and then scale out the instances to handle changes in traffic volume.</span></span>    
* <span data-ttu-id="6b6c5-180">Automatikus skálázás engedélyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-180">Enable autoscaling.</span></span> <span data-ttu-id="6b6c5-181">Ha az alkalmazás egy előre jelezhető, rendszeres munkaterhelés, hozzon létre a profilt ütemezése előre a példányok számát.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-181">If your application has a predictable, regular workload, create profiles to schedule the instance counts ahead of time.</span></span> <span data-ttu-id="6b6c5-182">Ha a munkaterhelés nem előre jelezhető, akkor a szabály-alapú automatikus skálázás reagálni a terhelés módosításokat, azok bekövetkezésekor.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-182">If the workload is not predictable, use rule-based autoscaling to react to changes in load as they occur.</span></span> <span data-ttu-id="6b6c5-183">Mindkét megközelítés kombinálhatja.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-183">You can combine both approaches.</span></span>
* <span data-ttu-id="6b6c5-184">CPU-használat általában jó metrikáját automatikus skálázási szabályok.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-184">CPU usage is generally a good metric for autoscale rules.</span></span> <span data-ttu-id="6b6c5-185">Azonban be kell tölteni az alkalmazás teszteléséhez, potenciális szűk keresztmetszetek azonosítása és az automatikus skálázási szabályok alapjául az adatokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-185">However, you should load test your application, identify potential bottlenecks, and base your autoscale rules on that data.</span></span>  
* <span data-ttu-id="6b6c5-186">Automatikus skálázási szabályok a következők egy *várakozási* időszak, amely egy új skálázási művelet indítása előtt a méretezési művelet befejeződése után várakozási időt.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-186">Autoscale rules include a *cool-down* period, which is the interval to wait after a scale action has completed before starting a new scale action.</span></span> <span data-ttu-id="6b6c5-187">A várakozási időszak lehetővé teszi, hogy a rendszer stabilizálását előtt skálázás megismételni.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-187">The cool-down period lets the system stabilize before scaling again.</span></span> <span data-ttu-id="6b6c5-188">Állítsa be a példány és egy már várakozási időszak a példányok eltávolításához hozzáadásához rövidebb várakozási időszakot.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-188">Set a shorter cool-down period for adding instances, and a longer cool-down period for removing instances.</span></span> <span data-ttu-id="6b6c5-189">Állítsa be például a 5 perc – adjon hozzá egy, de a példány eltávolítása 60 perc.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-189">For example, set 5 minutes to add an instance, but 60 minutes to remove an instance.</span></span> <span data-ttu-id="6b6c5-190">Érdemes gyorsan számára a további forgalom kezelésére, és fokozatosan méretezését vissza túl nagy terhelés alatt új példányok felvételéhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-190">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

### <a name="scaling-sql-database"></a><span data-ttu-id="6b6c5-191">SQL-adatbázis méretezése</span><span class="sxs-lookup"><span data-stu-id="6b6c5-191">Scaling SQL Database</span></span>
<span data-ttu-id="6b6c5-192">Ha egy magasabb réteg vagy a teljesítmény szolgáltatásszint SQL-adatbázis, legfeljebb alkalmazásleállás elkerülése az egyes adatbázisokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-192">If you need a higher service tier or performance level for SQL Database, you can scale up individual databases with no application downtime.</span></span> <span data-ttu-id="6b6c5-193">További információkért lásd: [SQL Database beállításai és teljesítménye: az egyes szolgáltatásszinteken elérhető][sql-db-scale].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-193">For more information, see [SQL Database options and performance: Understand what's available in each service tier][sql-db-scale].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="6b6c5-194">Rendelkezésre állási szempontok</span><span class="sxs-lookup"><span data-stu-id="6b6c5-194">Availability considerations</span></span>
<span data-ttu-id="6b6c5-195">Írásának időpontjában a szolgáltatásiszint-szerződés (SLA) App Service 99,95 % pedig az SLA-t az SQL Database esetén a Basic, Standard és Premium szintjeinek 99,99 %.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-195">At the time of writing, the service level agreement (SLA) for App Service is 99.95% and the SLA for SQL Database is 99.99% for Basic, Standard, and Premium tiers.</span></span> 

> [!NOTE]
> <span data-ttu-id="6b6c5-196">Az App Service SLA-t is egyetlen és több példány vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-196">The App Service SLA applies to both single and multiple instances.</span></span>  
>
>

### <a name="backups"></a><span data-ttu-id="6b6c5-197">A hivatkozás a Safari böngészőben nem nyitható meg. Lehet, hogy a Safari használata korlátozva van a beállítások között, vagy a rendszergazda letiltotta a hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-197">Backups</span></span>
<span data-ttu-id="6b6c5-198">Adatvesztés esetén az SQL-adatbázis biztosít pont időponthoz kötött visszaállítás és georedundáns helyreállítás.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-198">In the event of data loss, SQL Database provides point-in-time restore and geo-restore.</span></span> <span data-ttu-id="6b6c5-199">Ezeket a funkciókat minden csomagban elérhető, és automatikusan engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-199">These features are available in all tiers and are automatically enabled.</span></span> <span data-ttu-id="6b6c5-200">Nem kell ütemezni, vagy a biztonsági mentéseit.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-200">You don't need to schedule or manage the backups.</span></span> 

- <span data-ttu-id="6b6c5-201">Használja a visszaállításhoz időpontban [emberi tévedések helyreállíthatók] [ sql-human-error] vissza az adatbázist egy korábbi időpontbeli időben.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-201">Use point-in-time restore to [recover from human error][sql-human-error] by returning the database to an earlier point in time.</span></span> 
- <span data-ttu-id="6b6c5-202">Használja a georedundáns helyreállítás [szolgáltatáskimaradás helyreállíthatók] [ sql-outage-recovery] állítja vissza egy adatbázist egy georedundáns biztonsági másolatból.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-202">Use geo-restore to [recover from a service outage][sql-outage-recovery] by restoring a database from a geo-redundant backup.</span></span> 

<span data-ttu-id="6b6c5-203">További információkért lásd: [üzleti folytonossági és az adatbázis katasztrófa utáni helyreállítás az SQL Database Felhőbeli][sql-backup].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-203">For more information, see [Cloud business continuity and database disaster recovery with SQL Database][sql-backup].</span></span>

<span data-ttu-id="6b6c5-204">App Service biztosít egy [biztonsági mentése és visszaállítása] [ web-app-backup] szolgáltatást ahhoz, hogy az alkalmazásfájlokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-204">App Service provides a [backup and restore][web-app-backup] feature for your application files.</span></span> <span data-ttu-id="6b6c5-205">Azonban ügyeljen arra, hogy a biztonságimásolat-fájlok tartalmazzák alkalmazásbeállítások egyszerű szövegként, és ezek közé tartozhatnak a titkos kulcsokat, például a kapcsolati karakterláncokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-205">However, be aware that the backed-up files include app settings in plain text and these may include secrets, such as connection strings.</span></span> <span data-ttu-id="6b6c5-206">Kerülje az alkalmazás biztonsági mentési szolgáltatás biztonsági mentése az SQL-adatbázisok, mert azt az adatbázis egy SQL .bacpac fájlba exportálja fel [dtu-k][sql-dtu].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-206">Avoid using the App Service backup feature to back up your SQL databases because it exports the database to a SQL .bacpac file, consuming [DTUs][sql-dtu].</span></span> <span data-ttu-id="6b6c5-207">Ehelyett használja a fenti SQL-adatbázis időpontban visszaállítás.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-207">Instead, use SQL Database point-in-time restore described above.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="6b6c5-208">Felügyeleti szempontok</span><span class="sxs-lookup"><span data-stu-id="6b6c5-208">Manageability considerations</span></span>
<span data-ttu-id="6b6c5-209">Termelési környezetben, fejlesztési, külön erőforráscsoportokat létrehozni, és tesztelési környezetben.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-209">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="6b6c5-210">Ez megkönnyíti a központi telepítések felügyeletéhez szükséges, törölje a próbatelepítések és hozzáférési engedélyek hozzárendelése.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-210">This makes it easier to manage deployments, delete test deployments, and assign access rights.</span></span>

<span data-ttu-id="6b6c5-211">Erőforrások erőforráscsoportok rendelése, vegye figyelembe a következőket:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-211">When assigning resources to resource groups, consider the following:</span></span>

* <span data-ttu-id="6b6c5-212">Életciklusát.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-212">Lifecycle.</span></span> <span data-ttu-id="6b6c5-213">Az azonos életciklussal rendelkező erőforrásokat általában üzembe ugyanabban az erőforráscsoportban.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-213">In general, put resources with the same lifecycle into the same resource group.</span></span>
* <span data-ttu-id="6b6c5-214">A hozzáférés.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-214">Access.</span></span> <span data-ttu-id="6b6c5-215">Használhat [szerepköralapú hozzáférés-vezérlés] [ rbac] (RBAC) hozzáférési házirendek alkalmazása az erőforrások csoportba.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-215">You can use [role-based access control][rbac] (RBAC) to apply access policies to the resources in a group.</span></span>
* <span data-ttu-id="6b6c5-216">Számlázási.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-216">Billing.</span></span> <span data-ttu-id="6b6c5-217">Megtekintheti az összegzett költségeinek ahhoz az erőforráscsoporthoz.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-217">You can view the rolled-up costs for the resource group.</span></span>  

<span data-ttu-id="6b6c5-218">További információk: [Azure Resource Manager overview](/azure/azure-resource-manager/resource-group-overview) (Az Azure Resource Manager áttekintése).</span><span class="sxs-lookup"><span data-stu-id="6b6c5-218">For more information, see [Azure Resource Manager overview](/azure/azure-resource-manager/resource-group-overview).</span></span>

### <a name="deployment"></a><span data-ttu-id="6b6c5-219">Üzembe helyezés</span><span class="sxs-lookup"><span data-stu-id="6b6c5-219">Deployment</span></span>
<span data-ttu-id="6b6c5-220">Telepítés két lépésből áll:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-220">Deployment involves two steps:</span></span>

1. <span data-ttu-id="6b6c5-221">Az Azure-erőforrások kiépítése.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-221">Provisioning the Azure resources.</span></span> <span data-ttu-id="6b6c5-222">Azt javasoljuk, hogy használjon [Azure Resoure Manager-sablonok] [ arm-template] ehhez a lépéshez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-222">We recommend that you use [Azure Resoure Manager templates][arm-template] for this step.</span></span> <span data-ttu-id="6b6c5-223">Sablonok megkönnyítik a PowerShell vagy az Azure parancssori felület (CLI) használatával központi telepítések automatizálásához.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-223">Templates make it easier to automate deployments via PowerShell or the Azure command line interface (CLI).</span></span>
2. <span data-ttu-id="6b6c5-224">(A kódot, a bináris fájljait és a tartalomfájlok) az alkalmazás telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-224">Deploying the application (code, binaries, and content files).</span></span> <span data-ttu-id="6b6c5-225">Több lehetőség közül választhat, beleértve a helyi Git-tárház telepítése a Visual Studio vagy felhőalapú verziókövetésből folyamatos üzembe helyezést.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-225">You have several options, including deploying from a local Git repository, using Visual Studio, or continuous deployment from cloud-based source control.</span></span> <span data-ttu-id="6b6c5-226">Lásd: [az alkalmazás telepítése az Azure App Service][deploy].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-226">See [Deploy your app to Azure App Service][deploy].</span></span>  

<span data-ttu-id="6b6c5-227">Egy App Service-alkalmazást mindenhol nevű egy üzembe helyezési pont `production`, amely jelöli az élő munkakörnyezeti helyet.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-227">An App Service app always has one deployment slot named `production`, which represents the live production site.</span></span> <span data-ttu-id="6b6c5-228">Ajánlott létrehozni egy átmeneti helyet frissítéseinek telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-228">We recommend creating a staging slot for deploying updates.</span></span> <span data-ttu-id="6b6c5-229">Az előkészítési pont használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-229">The benefits of using a staging slot include:</span></span>

* <span data-ttu-id="6b6c5-230">A telepítés sikeres volt, mielőtt az éles környezetben csere ellenőrizheti.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-230">You can verify the deployment succeeded, before swapping it into production.</span></span>
* <span data-ttu-id="6b6c5-231">Átmeneti pont telepítése biztosítja, hogy a példányainak Mielőtt éles környezetben felcserélés folyamatban vannak tárolóhelyspecifikus.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-231">Deploying to a staging slot ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="6b6c5-232">Számos alkalmazás jelentős melegítési és cold-a kezdési idő rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-232">Many applications have a significant warmup and cold-start time.</span></span>

<span data-ttu-id="6b6c5-233">Javasoljuk továbbá, egy harmadik tárolóhely ahhoz, hogy a legutóbbi helyes központi telepítés létrehozása.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-233">We also recommend creating a third slot to hold the last-known-good deployment.</span></span> <span data-ttu-id="6b6c5-234">Átmeneti és üzemi cserél, miután az utolsó helyes tárhely helyezze át a korábbi éles környezetben (amely most a tesztelési).</span><span class="sxs-lookup"><span data-stu-id="6b6c5-234">After you swap staging and production, move the previous production deployment (which is now in staging) into the last-known-good slot.</span></span> <span data-ttu-id="6b6c5-235">Így ha később, a probléma felderítéséhez gyorsan visszatérhet a legutóbbi helyes verzióját.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-235">That way, if you discover a problem later, you can quickly revert to the last-known-good version.</span></span>

<span data-ttu-id="6b6c5-236">![[1]][1]</span><span class="sxs-lookup"><span data-stu-id="6b6c5-236">![[1]][1]</span></span>

<span data-ttu-id="6b6c5-237">Visszaállítás egy korábbi verzióját esetén győződjön meg róla adatbázis séma módosításait visszamenőlegesen kompatibilis.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-237">If you revert to a previous version, make sure any database schema changes are backward compatible.</span></span>

<span data-ttu-id="6b6c5-238">Ne használjon üzembe helyezési ponti a éles telepítés tesztelése, mert belül az azonos App Service-csomag összes alkalmazás ugyanazon Virtuálisgép-példányára.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-238">Don't use slots on your production deployment for testing because all apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="6b6c5-239">Például terhelés tesztek csökkentheti a élő munkakörnyezeti helyet.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-239">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="6b6c5-240">Ehelyett hozzon létre külön App Service-csomagokról éles és tesztelési.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-240">Instead, create separate App Service plans for production and test.</span></span> <span data-ttu-id="6b6c5-241">Tegyen próbatelepítést egy külön tervbe, hogy ezeket elszigeteli éles verzióját.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-241">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>

### <a name="configuration"></a><span data-ttu-id="6b6c5-242">Konfiguráció</span><span class="sxs-lookup"><span data-stu-id="6b6c5-242">Configuration</span></span>
<span data-ttu-id="6b6c5-243">Tárolja a konfigurációs beállításokat [Alkalmazásbeállítások][app-settings].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-243">Store configuration settings as [app settings][app-settings].</span></span> <span data-ttu-id="6b6c5-244">Adja meg az alkalmazás beállításaiban a Resource Manager-sablonok vagy a PowerShell használatával.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-244">Define the app settings in your Resource Manager templates, or using PowerShell.</span></span> <span data-ttu-id="6b6c5-245">Alkalmazása futásidőben Alkalmazásbeállítások érhetők el az alkalmazásra, amely a környezeti változók.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-245">At runtime, app settings are available to the application as environment variables.</span></span>

<span data-ttu-id="6b6c5-246">Soha ne ellenőrizze jelszavakat, a tárelérési kulcsok és a kapcsolati karakterláncok forrás vezérlőbe.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-246">Never check passwords, access keys, or connection strings into source control.</span></span> <span data-ttu-id="6b6c5-247">Ehelyett át paraméterekként ezeket a telepítési parancsfájlt, amely tárolja ezeket az értékeket Alkalmazásbeállítások.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-247">Instead, pass these as parameters to a deployment script that stores these values as app settings.</span></span>

<span data-ttu-id="6b6c5-248">Felcserélés egy üzembe helyezési pont, amikor az alkalmazás beállításaiban alapértelmezés szerint van cserélve.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-248">When you swap a deployment slot, the app settings are swapped by default.</span></span> <span data-ttu-id="6b6c5-249">Ha eltérő beállításokat az üzemi és átmeneti, tárhely anyagot, és nem get felcserélve Alkalmazásbeállítások is létrehozhat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-249">If you need different settings for production and staging, you can create app settings that stick to a slot and don't get swapped.</span></span>

### <a name="diagnostics-and-monitoring"></a><span data-ttu-id="6b6c5-250">Diagnosztika és monitorozás</span><span class="sxs-lookup"><span data-stu-id="6b6c5-250">Diagnostics and monitoring</span></span>
<span data-ttu-id="6b6c5-251">Engedélyezése [diagnosztikai naplózás][diagnostic-logs]alkalmazásnaplózás és a webkiszolgáló naplózásának is beleértve.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-251">Enable [diagnostics logging][diagnostic-logs], including application logging and web server logging.</span></span> <span data-ttu-id="6b6c5-252">A Blob storage használata naplózásának konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-252">Configure logging to use Blob storage.</span></span> <span data-ttu-id="6b6c5-253">A megfelelő teljesítmény érdekében hozzon létre egy külön tárfiókot a diagnosztikai naplókat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-253">For performance reasons, create a separate storage account for diagnostic logs.</span></span> <span data-ttu-id="6b6c5-254">Ne használja ugyanazt a tárfiókot naplókat és az alkalmazásadatokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-254">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="6b6c5-255">Részletes útmutatás a naplózást, lásd: [megfigyelési és diagnosztikai útmutatást][monitoring-guidance].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-255">For more detailed guidance on logging, see [Monitoring and diagnostics guidance][monitoring-guidance].</span></span>

<span data-ttu-id="6b6c5-256">Használjon, mint a szolgáltatást [New Relic] [ new-relic] vagy [Application Insights] [ app-insights] alkalmazás teljesítményének figyelése és a terhelés viselkedését.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-256">Use a service such as [New Relic][new-relic] or [Application Insights][app-insights] to monitor application performance and behavior under load.</span></span> <span data-ttu-id="6b6c5-257">Vegye figyelembe a [adatok sebességhatárok] [ app-insights-data-rate] az Application insights szolgáltatással.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-257">Be aware of the [data rate limits][app-insights-data-rate] for Application Insights.</span></span>

<span data-ttu-id="6b6c5-258">Tesztelheti az terhelés, például egy eszközzel [Visual Studio Team Services][vsts].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-258">Perform load testing, using a tool such as [Visual Studio Team Services][vsts].</span></span> <span data-ttu-id="6b6c5-259">A felhőalapú alkalmazások teljesítményét elemző általános áttekintést, lásd: [teljesítményét elemző ismertetése][perf-analysis].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-259">For a general overview of performance analysis in cloud applications, see [Performance Analysis Primer][perf-analysis].</span></span>

<span data-ttu-id="6b6c5-260">Az alkalmazás hibaelhárítási tippeket:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-260">Tips for troubleshooting your application:</span></span>

* <span data-ttu-id="6b6c5-261">Használja a [panel hibaelhárítása] [ troubleshoot-blade] az Azure-portálon keresse meg a megoldást a problémára.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-261">Use the [troubleshoot blade][troubleshoot-blade] in the Azure portal to find solutions to common problems.</span></span>
* <span data-ttu-id="6b6c5-262">Engedélyezése [napló streaming] [ web-app-log-stream] közel valós idejű naplóinformációk megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-262">Enable [log streaming][web-app-log-stream] to see logging information in near-real time.</span></span>
* <span data-ttu-id="6b6c5-263">A [Kudu irányítópult] [ kudu] rendelkezik figyelési és az alkalmazás hibakeresése eszközöket.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-263">The [Kudu dashboard][kudu] has several tools for monitoring and debugging your application.</span></span> <span data-ttu-id="6b6c5-264">További információkért lásd: [Azure Websitesra online eszközök kell tudni] [ kudu] (blogbejegyzés).</span><span class="sxs-lookup"><span data-stu-id="6b6c5-264">For more information, see [Azure Websites online tools you should know about][kudu] (blog post).</span></span> <span data-ttu-id="6b6c5-265">A Kudu irányítópult Azure-portálról érhető el.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-265">You can reach the Kudu dashboard from the Azure portal.</span></span> <span data-ttu-id="6b6c5-266">Nyissa meg az alkalmazáshoz, majd kattintson a panel **eszközök**, majd kattintson a **Kudu**.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-266">Open the blade for your app and click **Tools**, then click **Kudu**.</span></span>
* <span data-ttu-id="6b6c5-267">Ha a Visual Studio használata esetén olvassa el [hibaelhárítása a webes alkalmazás az Azure App Service szolgáltatásban a Visual Studio használatával] [ troubleshoot-web-app] Hibakeresés és a hibaelhárítási tippek.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-267">If you use Visual Studio, see the article [Troubleshoot a web app in Azure App Service using Visual Studio][troubleshoot-web-app] for debugging and troubleshooting tips.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="6b6c5-268">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="6b6c5-268">Security considerations</span></span>
<span data-ttu-id="6b6c5-269">Ez a szakasz ebben a cikkben leírt Azure-szolgáltatásokhoz való vonatkozó biztonsági szempontokat sorolja fel.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-269">This section lists security considerations that are specific to the Azure services described in this article.</span></span> <span data-ttu-id="6b6c5-270">Ajánlott biztonsági eljárások teljes listáját nincs.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-270">It's not a complete list of security best practices.</span></span> <span data-ttu-id="6b6c5-271">További biztonsági szempontokat lásd: [az Azure App Service alkalmazás biztonságos][app-service-security].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-271">For some additional security considerations, see [Secure an app in Azure App Service][app-service-security].</span></span>

### <a name="sql-database-auditing"></a><span data-ttu-id="6b6c5-272">SQL Database auditing</span><span class="sxs-lookup"><span data-stu-id="6b6c5-272">SQL Database auditing</span></span>
<span data-ttu-id="6b6c5-273">Naplózás segít törvényi megfelelőség fenntartásában és az eltérések és rendellenességek, amelyek üzleti problémát jelenthetnek, vagy a biztonság megsértésére megismerése.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-273">Auditing can help you maintain regulatory compliance and get insight into discrepancies and irregularities that could indicate business concerns or suspected security violations.</span></span> <span data-ttu-id="6b6c5-274">Lásd: [Ismerkedés az SQL-adatbázis naplózásának][sql-audit].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-274">See [Get started with SQL database auditing][sql-audit].</span></span>

### <a name="deployment-slots"></a><span data-ttu-id="6b6c5-275">Üzembe helyezési tárhelyek</span><span class="sxs-lookup"><span data-stu-id="6b6c5-275">Deployment slots</span></span>
<span data-ttu-id="6b6c5-276">Minden egyes üzembe helyezési pont egy nyilvános IP-címmel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-276">Each deployment slot has a public IP address.</span></span> <span data-ttu-id="6b6c5-277">Az éles üzembe helyezési ponti használatával biztonságos [Azure Active Directory bejelentkezési] [ aad-auth] , hogy csak a fejlesztési és DevOps csapat tagjai ezekre a végpontokra érhető el.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-277">Secure the nonproduction slots using [Azure Active Directory login][aad-auth] so that only members of your development and DevOps teams can reach those endpoints.</span></span>

### <a name="logging"></a><span data-ttu-id="6b6c5-278">Naplózás</span><span class="sxs-lookup"><span data-stu-id="6b6c5-278">Logging</span></span>
<span data-ttu-id="6b6c5-279">Naplók soha nem rögzíteni kell a felhasználói jelszavakat és egyéb adatait, amelyik alkalmas lehet identitás csalás véglegesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-279">Logs should never record users' passwords or other information that might be used to commit identity fraud.</span></span> <span data-ttu-id="6b6c5-280">Megtisztítás a adatokból adatai előtt tárolja.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-280">Scrub those details from the data before storing it.</span></span>   

### <a name="ssl"></a><span data-ttu-id="6b6c5-281">SSL</span><span class="sxs-lookup"><span data-stu-id="6b6c5-281">SSL</span></span>
<span data-ttu-id="6b6c5-282">Egy App Service-alkalmazást tartalmaz olyan altartomány, SSL végpontja `azurewebsites.net` minden további költség nélkül.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-282">An App Service app includes an SSL endpoint on a subdomain of `azurewebsites.net` at no additional cost.</span></span> <span data-ttu-id="6b6c5-283">Az SSL-végpontot tartalmaz, a helyettesítő tanúsítvány a `*.azurewebsites.net` tartomány.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-283">The SSL endpoint includes a wildcard certificate for the `*.azurewebsites.net` domain.</span></span> <span data-ttu-id="6b6c5-284">Ha egy egyéni tartománynevet használ, meg kell adnia az egyéni tartomány megfelelő tanúsítványt.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-284">If you use a custom domain name, you must provide a certificate that matches the custom domain.</span></span> <span data-ttu-id="6b6c5-285">A legegyszerűbb vásárolhat egy tanúsítványt közvetlenül az Azure portálon keresztül.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-285">The simplest approach is to buy a certificate directly through the Azure portal.</span></span> <span data-ttu-id="6b6c5-286">Tanúsítványokat más hitelesítésszolgáltatótól is importálhat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-286">You can also import certificates from other certificate authorities.</span></span> <span data-ttu-id="6b6c5-287">További információkért lásd: [vásárolnia és SSL-tanúsítvány konfigurálása az Azure App Service][ssl-cert].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-287">For more information, see [Buy and Configure an SSL Certificate for your Azure App Service][ssl-cert].</span></span>

<span data-ttu-id="6b6c5-288">Biztonsági szempontból ajánlott az alkalmazás érvényesítenie kell a HTTPS irányítják át HTTP-kérelmekre.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-288">As a security best practice, your app should enforce HTTPS by redirecting HTTP requests.</span></span> <span data-ttu-id="6b6c5-289">Az alkalmazáson belüli megvalósításának, vagy egy URL-cím átdolgozás szabály használata a [HTTPS engedélyezése az Azure App Service alkalmazás][ssl-redirect].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-289">You can implement this inside your application or use a URL rewrite rule as described in [Enable HTTPS for an app in Azure App Service][ssl-redirect].</span></span>

### <a name="authentication"></a><span data-ttu-id="6b6c5-290">Hitelesítés</span><span class="sxs-lookup"><span data-stu-id="6b6c5-290">Authentication</span></span>
<span data-ttu-id="6b6c5-291">Javasoljuk, hogy hitelesítése keresztül az identitásszolgáltató (IDP), például Azure AD Facebook, Google, vagy Twitter.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-291">We recommend authenticating through an identity provider (IDP), such as Azure AD, Facebook, Google, or Twitter.</span></span> <span data-ttu-id="6b6c5-292">OAuth 2 vagy OpenID Connect (OIDC) használ a hitelesítési folyamat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-292">Use OAuth 2 or OpenID Connect (OIDC) for the authentication flow.</span></span> <span data-ttu-id="6b6c5-293">Az Azure AD felhasználók és csoportok kezelése, alkalmazás szerepköröket hozhat létre, a helyszíni identitások integrálása és háttér szolgáltatásait például az Office 365 és a Skype vállalati lehetőségeket kínál.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-293">Azure AD provides functionality to manage users and groups, create application roles, integrate your on-premises identities, and consume backend services such as Office 365 and Skype for Business.</span></span>

<span data-ttu-id="6b6c5-294">Kerülje az alkalmazás felhasználói bejelentkezést és a hitelesítő adatok kezelése közvetlenül, mivel az hozza létre a potenciális támadási felületet.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-294">Avoid having the application manage user logins and credentials directly, as it creates a potential attack surface.</span></span>  <span data-ttu-id="6b6c5-295">Ajánlott legalább kellene e-mailes megerősítés, a jelszó-helyreállítás és a többtényezős hitelesítés; jelszó erőssége; érvényesítése és azok kivonatai tárolja biztonságos helyen.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-295">At a minimum, you would need to have email confirmation, password recovery, and multi-factor authentication; validate password strength; and store password hashes securely.</span></span> <span data-ttu-id="6b6c5-296">A nagy identitás-szolgáltatóktól kezelni tudja a ezeket a beállításokat, és folyamatosan figyelése és javítása a biztonsági eljárásokat.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-296">The large identity providers handle all of those things for you, and are constantly monitoring and improving their security practices.</span></span>

<span data-ttu-id="6b6c5-297">Érdemes lehet [App Service hitelesítés] [ app-service-auth] az OAuth/OIDC hitelesítési folyamat végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-297">Consider using [App Service authentication][app-service-auth] to implement the OAuth/OIDC authentication flow.</span></span> <span data-ttu-id="6b6c5-298">Az App Service hitelesítés előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-298">The benefits of App Service authentication include:</span></span>

* <span data-ttu-id="6b6c5-299">Könnyen konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-299">Easy to configure.</span></span>
* <span data-ttu-id="6b6c5-300">Nincs kód egyszerű hitelesítési forgatókönyvek szükség.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-300">No code is required for simple authentication scenarios.</span></span>
* <span data-ttu-id="6b6c5-301">Támogatja az OAuth jogkivonatot használja a felhasználó nevében erőforrást engedélyezési meghatalmazott.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-301">Supports delegated authorization using OAuth access tokens to consume resources on behalf of the user.</span></span>
* <span data-ttu-id="6b6c5-302">Itt egy beépített jogkivonatok gyorsítótárát.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-302">Provides a built-in token cache.</span></span>

<span data-ttu-id="6b6c5-303">App Service hitelesítés korlátozásai:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-303">Some limitations of App Service authentication:</span></span>  

* <span data-ttu-id="6b6c5-304">Korlátozott testreszabási beállításait.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-304">Limited customization options.</span></span>
* <span data-ttu-id="6b6c5-305">Delegált engedélyezési korlátozódik bejelentkezési munkamenetenként egy háttér-erőforrást.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-305">Delegated authorization is restricted to one backend resource per login session.</span></span>
* <span data-ttu-id="6b6c5-306">Ha egynél több IDP használ, nincs olyan beépített mechanizmus a hitelesítőtartomány feltárásához.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-306">If you use more than one IDP, there is no built-in mechanism for home realm discovery.</span></span>
* <span data-ttu-id="6b6c5-307">Több-bérlős forgatókönyvek esetén az alkalmazás ellenőrzése a jogkivonat-kibocsátó programot kell megvalósítania.</span><span class="sxs-lookup"><span data-stu-id="6b6c5-307">For multi-tenant scenarios, the application must implement the logic to validate the token issuer.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="6b6c5-308">A megoldás üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="6b6c5-308">Deploy the solution</span></span>
<span data-ttu-id="6b6c5-309">Ez az architektúra Resoure Manager sablon egy példa [elérhető a Githubon][paas-basic-arm-template].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-309">An example Resoure Manager template for this architecture is [available on GitHub][paas-basic-arm-template].</span></span>

<span data-ttu-id="6b6c5-310">A sablon PowerShell használatával történő üzembe helyezéséhez futtassa a következő parancsokat:</span><span class="sxs-lookup"><span data-stu-id="6b6c5-310">To deploy the template using PowerShell, run the following commands:</span></span>

```
New-AzureRmResourceGroup -Name <resource-group-name> -Location "West US"

$parameters = @{"appName"="<app-name>";"environment"="dev";"locationShort"="uw";"databaseName"="app-db";"administratorLogin"="<admin>";"administratorLoginPassword"="<password>"}

New-AzureRmResourceGroupDeployment -Name <deployment-name> -ResourceGroupName <resource-group-name> -TemplateFile .\PaaS-Basic.json -TemplateParameterObject  $parameters
```

<span data-ttu-id="6b6c5-311">További információkért lásd: [telepítése Azure Resource Manager-sablonok erőforrások][deploy-arm-template].</span><span class="sxs-lookup"><span data-stu-id="6b6c5-311">For more information, see [Deploy resources with Azure Resource Manager templates][deploy-arm-template].</span></span>

<!-- links -->

[aad-auth]: /azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication
[app-insights]: /azure/application-insights/app-insights-overview
[app-insights-data-rate]: /azure/application-insights/app-insights-pricing
[app-service]: https://azure.microsoft.com/documentation/services/app-service/
[app-service-auth]: /azure/app-service-api/app-service-api-authentication
[app-service-plans]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[app-service-plans-tiers]: https://azure.microsoft.com/pricing/details/app-service/
[app-service-security]: /azure/app-service-web/web-sites-security
[app-settings]: /azure/app-service-web/web-sites-configure
[arm-template]: /azure/azure-resource-manager/resource-group-overview#resource-groups
[azure-dns]: /azure/dns/dns-overview
[custom-domain-name]: /azure/app-service-web/web-sites-custom-domain-name
[deploy]: /azure/app-service-web/web-sites-deploy
[deploy-arm-template]: /azure/resource-group-template-deploy
[deployment-slots]: /azure/app-service-web/web-sites-staged-publishing
[diagnostic-logs]: /azure/app-service-web/web-sites-enable-diagnostic-log
[kudu]: https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/
[monitoring-guidance]: ../../best-practices/monitoring.md
[new-relic]: http://newrelic.com/
[paas-basic-arm-template]: https://github.com/mspnp/reference-architectures/tree/master/managed-web-app/basic-web-app/Paas-Basic/Templates
[perf-analysis]: https://github.com/mspnp/performance-optimization/blob/master/Performance-Analysis-Primer.md
[rbac]: /azure/active-directory/role-based-access-control-what-is
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[sla]: https://azure.microsoft.com/support/legal/sla/
[sql-audit]: /azure/sql-database/sql-database-auditing-get-started
[sql-backup]: /azure/sql-database/sql-database-business-continuity
[sql-db]: https://azure.microsoft.com/documentation/services/sql-database/
[sql-db-overview]: /azure/sql-database/sql-database-technical-overview
[sql-db-scale]: /azure/sql-database/sql-database-service-tiers#scaling-up-or-scaling-down-a-single-database
[sql-db-service-tiers]: /azure/sql-database/sql-database-service-tiers
[sql-db-v12]: /azure/sql-database/sql-database-features
[sql-dtu]: /azure/sql-database/sql-database-service-tiers
[sql-human-error]: /azure/sql-database/sql-database-business-continuity#recover-a-database-after-a-user-or-application-error
[sql-outage-recovery]: /azure/sql-database/sql-database-business-continuity#recover-a-database-to-another-region-from-an-azure-regional-data-center-outage
[ssl-redirect]: /azure/app-service-web/web-sites-configure-ssl-certificate#bkmk_enforce
[sql-resource-limits]: /azure/sql-database/sql-database-resource-limits
[ssl-cert]: /azure/app-service-web/web-sites-purchase-ssl-web-site
[troubleshoot-blade]: https://azure.microsoft.com/updates/self-service-troubleshooting-for-app-service-web-apps-customers/
[troubleshoot-web-app]: /azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio
[visio-download]: https://archcenter.azureedge.net/cdn/app-service-reference-architectures.vsdx
[vsts]: https://www.visualstudio.com/features/vso-cloud-load-testing-vs.aspx
[web-app-autoscale]: /azure/app-service-web/web-sites-scale
[web-app-backup]: /azure/app-service-web/web-sites-backup
[web-app-log-stream]: /azure/app-service-web/web-sites-enable-diagnostic-log#streamlogs
[0]: ./images/basic-web-app.png "Alapszintű Azure webalkalmazás architektúrája"
[1]: ./images/paas-basic-web-app-staging-slots.png "Üzembe helyezési ponti csere üzemi és átmeneti példányai"
