---
title: Egy nagyvállalati szintű természetes nyelvi robotot hozhat létre
description: Hogyan hozhat létre egy nagyvállalati szintű természetes nyelvi bot (csevegőrobot) az Azure Bot Framework használatával.
author: roalexan
ms.date: 01/24/2019
ms.topic: reference-architecture
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: azcat-ai
ms.openlocfilehash: 0f5de0eca6fbd35cca1a0e8443f363df09ffc6aa
ms.sourcegitcommit: 287344b6c220bdbd8076aed7a281eb02253e15be
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 02/04/2019
ms.locfileid: "55712150"
---
# <a name="enterprise-grade-conversational-bot"></a><span data-ttu-id="8d321-103">Nagyvállalati szintű beszélgetőrobot</span><span class="sxs-lookup"><span data-stu-id="8d321-103">Enterprise-grade conversational bot</span></span>

<span data-ttu-id="8d321-104">Ez a referenciaarchitektúra bemutatja, hogyan hozhat létre egy nagyvállalati szintű természetes nyelvi bot (csevegőrobot) használatával a [Azure Bot Framework][bot-framework].</span><span class="sxs-lookup"><span data-stu-id="8d321-104">This reference architecture describes how to build an enterprise-grade conversational bot (chatbot) using the [Azure Bot Framework][bot-framework].</span></span> <span data-ttu-id="8d321-105">Minden egyes bot különböző, de néhány gyakori minták, munkafolyamatok és technológiák érdemes figyelembe vennie.</span><span class="sxs-lookup"><span data-stu-id="8d321-105">Each bot is different, but there are some common patterns, workflows, and technologies to be aware of.</span></span> <span data-ttu-id="8d321-106">A robot kiszolgálására vállalati számítási feladatokat, különösen a nincsenek az alapfunkciókra túl sok kialakítási szempontokat.</span><span class="sxs-lookup"><span data-stu-id="8d321-106">Especially for a bot to serve enterprise workloads, there are many design considerations beyond just the core functionality.</span></span> <span data-ttu-id="8d321-107">Ez a cikk a leginkább fontos tervezési szempontokat ismerteti, és a egy robusztus, biztonságos és aktívan tanulási bot létrehozásához szükséges eszközöket vezet be.</span><span class="sxs-lookup"><span data-stu-id="8d321-107">This article covers the most essential design aspects, and introduces the tools needed to build a robust, secure, and actively learning bot.</span></span>

<span data-ttu-id="8d321-108">[![Az architektúra ábrája][0]][0]</span><span class="sxs-lookup"><span data-stu-id="8d321-108">[![Diagram of the architecture][0]][0]</span></span>

<span data-ttu-id="8d321-109">A bevált gyakorlat segédprogram minták ebben az architektúrában használt rendszer teljes mértékben nyílt forráskódú és elérhető a [GitHub][git-repo-base].</span><span class="sxs-lookup"><span data-stu-id="8d321-109">The best practice utility samples used in this architecture are fully open-sourced and available on [GitHub][git-repo-base].</span></span> 

## <a name="architecture"></a><span data-ttu-id="8d321-110">Architektúra</span><span class="sxs-lookup"><span data-stu-id="8d321-110">Architecture</span></span>

<span data-ttu-id="8d321-111">Itt látható architektúrában a következő Azure-szolgáltatásokat használ.</span><span class="sxs-lookup"><span data-stu-id="8d321-111">The architecture shown here uses the following Azure services.</span></span> <span data-ttu-id="8d321-112">Saját bot előfordulhat, hogy nem használja ezen szolgáltatások mindegyikéhez, vagy további szolgáltatásokat is be.</span><span class="sxs-lookup"><span data-stu-id="8d321-112">Your own bot may not use all of these services, or may incorporate additional services.</span></span>

### <a name="bot-logic-and-user-experience"></a><span data-ttu-id="8d321-113">A robot logikai és a felhasználói élmény</span><span class="sxs-lookup"><span data-stu-id="8d321-113">Bot logic and user experience</span></span>

- <span data-ttu-id="8d321-114">**[Bot Framework szolgáltatás] [ bot-framework-service]**  (BFS).</span><span class="sxs-lookup"><span data-stu-id="8d321-114">**[Bot Framework Service][bot-framework-service]** (BFS).</span></span> <span data-ttu-id="8d321-115">Ez a szolgáltatás a robot csatlakozik egy kommunikációs alkalmazás, például a Cortana, a Facebook Messenger és Slack.</span><span class="sxs-lookup"><span data-stu-id="8d321-115">This service connects your bot to a communication app such as Cortana, Facebook Messenger, or Slack.</span></span> <span data-ttu-id="8d321-116">Ez megkönnyíti a robot és a felhasználó közötti kommunikációt.</span><span class="sxs-lookup"><span data-stu-id="8d321-116">It facilitates communication between your bot and the user.</span></span>
- <span data-ttu-id="8d321-117">**[Az Azure App Service][app-service]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-117">**[Azure App Service][app-service]**.</span></span> <span data-ttu-id="8d321-118">A robot alkalmazáslogika üzemel az Azure App Service-ben.</span><span class="sxs-lookup"><span data-stu-id="8d321-118">The bot application logic is hosted in Azure App Service.</span></span>

### <a name="bot-cognition-and-intelligence"></a><span data-ttu-id="8d321-119">A robot észlelés és hírszerzés</span><span class="sxs-lookup"><span data-stu-id="8d321-119">Bot cognition and intelligence</span></span>

- <span data-ttu-id="8d321-120">**[Language Understanding][luis]** (LUIS).</span><span class="sxs-lookup"><span data-stu-id="8d321-120">**[Language Understanding][luis]** (LUIS).</span></span> <span data-ttu-id="8d321-121">Része [Azure Cognitive Services][cognitive-services], LUIS lehetővé teszi, hogy a robot természetes nyelvi felhasználói szándékok és entitások azonosítása megismeréséhez.</span><span class="sxs-lookup"><span data-stu-id="8d321-121">Part of [Azure Cognitive Services][cognitive-services], LUIS enables your bot to understand natural language by identifying user intents and entities.</span></span>
- <span data-ttu-id="8d321-122">**[Az Azure Search][search]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-122">**[Azure Search][search]**.</span></span> <span data-ttu-id="8d321-123">A művelet egy felügyelt szolgáltatás, amely egy gyors kereshető dokumentum indexet.</span><span class="sxs-lookup"><span data-stu-id="8d321-123">Search is a managed service that provides a quick searchable document index.</span></span>
- <span data-ttu-id="8d321-124">**[A QnA Maker][qna-maker]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-124">**[QnA Maker][qna-maker]**.</span></span> <span data-ttu-id="8d321-125">A QnA Maker egy olyan felhőalapú API-szolgáltatás, amely egy beszélgetés típusú, kérdésekből és válaszokból álló réteget hoz létre az adatok alapján.</span><span class="sxs-lookup"><span data-stu-id="8d321-125">QnA Maker is a cloud-based API service that creates a conversational, question-and-answer layer over your data.</span></span> <span data-ttu-id="8d321-126">Általában azokat betölti a szolgáltatásban tárolt részben strukturált GYIK például tartalmazó.</span><span class="sxs-lookup"><span data-stu-id="8d321-126">Typically, it's loaded with semi-structured content such as FAQs.</span></span> <span data-ttu-id="8d321-127">Ezzel hozzon létre egy Tudásbázis természetes nyelvű kérdések megválaszolásához.</span><span class="sxs-lookup"><span data-stu-id="8d321-127">Use it to create a knowledge base for answering natural-language questions.</span></span>
- <span data-ttu-id="8d321-128">**[Webalkalmazás][webapp]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-128">**[Web app][webapp]**.</span></span> <span data-ttu-id="8d321-129">Ha a robot van szüksége, meglévő service által nem biztosított AI-megoldások, megvalósítani a saját egyéni AI, és üzemeltetnie webalkalmazásként.</span><span class="sxs-lookup"><span data-stu-id="8d321-129">If your bot needs AI solutions not provided by an existing service, you can implement your own custom AI and host it as a web app.</span></span> <span data-ttu-id="8d321-130">Ez biztosítja, hogy egy webes végpontra robotja meghívásához.</span><span class="sxs-lookup"><span data-stu-id="8d321-130">This provides a web endpoint for your bot to call.</span></span>

### <a name="data-ingestion"></a><span data-ttu-id="8d321-131">Adatfeldolgozás</span><span class="sxs-lookup"><span data-stu-id="8d321-131">Data ingestion</span></span>

<span data-ttu-id="8d321-132">A robot kell betöltött előkészített és nyers adatok fogja alkalmazni.</span><span class="sxs-lookup"><span data-stu-id="8d321-132">The bot will rely on raw data that must be ingested and prepared.</span></span> <span data-ttu-id="8d321-133">Vegye figyelembe, amellyel ez a folyamat a következő beállítások bármelyikét:</span><span class="sxs-lookup"><span data-stu-id="8d321-133">Consider any of the following options to orchestrate this process:</span></span>

- <span data-ttu-id="8d321-134">**[Az Azure Data Factory][data-factory]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-134">**[Azure Data Factory][data-factory]**.</span></span> <span data-ttu-id="8d321-135">A Data Factory amellyel előkészíthető és automatizálható az adatok áthelyezését és átalakítását.</span><span class="sxs-lookup"><span data-stu-id="8d321-135">Data Factory orchestrates and automates data movement and data transformation.</span></span>
- <span data-ttu-id="8d321-136">**[A Logic Apps][logic-apps]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-136">**[Logic Apps][logic-apps]**.</span></span> <span data-ttu-id="8d321-137">A Logic Apps az alkalmazásokat, adatokat és szolgáltatásokat integráló munkafolyamatokat hoz létre kiszolgáló nélküli platform.</span><span class="sxs-lookup"><span data-stu-id="8d321-137">Logic Apps is a serverless platform for building workflows that integrate applications, data, and services.</span></span> <span data-ttu-id="8d321-138">A Logic Apps alkalmazások, beleértve az Office 365 adatösszekötők biztosít.</span><span class="sxs-lookup"><span data-stu-id="8d321-138">Logic Apps provides data connectors for many applications, including Office 365.</span></span>
- <span data-ttu-id="8d321-139">**[Az Azure Functions][functions]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-139">**[Azure Functions][functions]**.</span></span> <span data-ttu-id="8d321-140">Az Azure Functions segítségével egyéni kiszolgáló nélküli programkód, amely hív írhat egy [eseményindító] [ functions-triggers] &mdash; például, ha egy dokumentum hozzáadása a blob storage vagy a Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="8d321-140">You can use Azure Functions to write custom serverless code that is invoked by a [trigger][functions-triggers] &mdash; for example, whenever a document is added to blob storage or Cosmos DB.</span></span>

### <a name="logging-and-monitoring"></a><span data-ttu-id="8d321-141">Naplózás és figyelés</span><span class="sxs-lookup"><span data-stu-id="8d321-141">Logging and monitoring</span></span>

- <span data-ttu-id="8d321-142">**[Az Application Insights][app-insights]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-142">**[Application Insights][app-insights]**.</span></span> <span data-ttu-id="8d321-143">Az Application Insights segítségével jelentkezzen a robot alkalmazásmetrikák monitorozási, diagnosztikai és elemzési célból.</span><span class="sxs-lookup"><span data-stu-id="8d321-143">Use Application Insights to log the bot's application metrics for monitoring, diagnostic, and analytical purposes.</span></span>
- <span data-ttu-id="8d321-144">**[Az Azure Blob Storage][blob]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-144">**[Azure Blob Storage][blob]**.</span></span> <span data-ttu-id="8d321-145">A BLOB storage nagy mennyiségű strukturálatlan adat tárolására van optimalizálva.</span><span class="sxs-lookup"><span data-stu-id="8d321-145">Blob storage is optimized for storing massive amounts of unstructured data.</span></span>
- <span data-ttu-id="8d321-146">**[A cosmos DB][cosmosdb]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-146">**[Cosmos DB][cosmosdb]**.</span></span> <span data-ttu-id="8d321-147">A cosmos DB kiválóan alkalmas a szolgáltatásban tárolt részben strukturált naplóadatokat, például a beszélgetések tárolására.</span><span class="sxs-lookup"><span data-stu-id="8d321-147">Cosmos DB is well-suited for storing semi-structured log data such as conversations.</span></span>
- <span data-ttu-id="8d321-148">**[Power BI][power-bi]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-148">**[Power BI][power-bi]**.</span></span> <span data-ttu-id="8d321-149">A robot a figyelési irányítópult létrehozásához használja a Power bi-ban.</span><span class="sxs-lookup"><span data-stu-id="8d321-149">Use Power BI to create monitoring dashboards for your bot.</span></span>

### <a name="security-and-governance"></a><span data-ttu-id="8d321-150">Biztonsági és cégirányítási</span><span class="sxs-lookup"><span data-stu-id="8d321-150">Security and governance</span></span>

- <span data-ttu-id="8d321-151">**[Az Azure Active Directory] [ aad]**  (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="8d321-151">**[Azure Active Directory][aad]** (Azure AD).</span></span> <span data-ttu-id="8d321-152">Felhasználók egy identitásszolgáltató, például az Azure AD hitelesíti magát.</span><span class="sxs-lookup"><span data-stu-id="8d321-152">Users will authenticate through an identity provider such as Azure AD.</span></span> <span data-ttu-id="8d321-153">A Bot Service a hitelesítési folyamat és a OAuth token kezelését végzi.</span><span class="sxs-lookup"><span data-stu-id="8d321-153">The Bot Service handles the authentication flow and OAuth token management.</span></span> <span data-ttu-id="8d321-154">Lásd: [hitelesítés hozzáadása az Azure Bot Service-n keresztül a robot][bot-authentication].</span><span class="sxs-lookup"><span data-stu-id="8d321-154">See [Add authentication to your bot via Azure Bot Service][bot-authentication].</span></span>
- <span data-ttu-id="8d321-155">**[Az Azure Key Vault][key-vault]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-155">**[Azure Key Vault][key-vault]**.</span></span> <span data-ttu-id="8d321-156">Hitelesítő adatok és egyéb titkos kulcsok a Key vault Store.</span><span class="sxs-lookup"><span data-stu-id="8d321-156">Store credentials and other secrets using Key Vault.</span></span>

### <a name="quality-assurance-and-enhancements"></a><span data-ttu-id="8d321-157">Minőségbiztosítási és fejlesztések</span><span class="sxs-lookup"><span data-stu-id="8d321-157">Quality assurance and enhancements</span></span>

- <span data-ttu-id="8d321-158">**[Az Azure DevOps][devops]**.</span><span class="sxs-lookup"><span data-stu-id="8d321-158">**[Azure DevOps][devops]**.</span></span> <span data-ttu-id="8d321-159">Számos alkalmazás kezelését, beleértve a verziókövetés, létrehozása, tesztelése, üzembe helyezési és projektek nyomon követésére szolgáltatásokat nyújt.</span><span class="sxs-lookup"><span data-stu-id="8d321-159">Provides many services for app management, including source control, building, testing, deployment, and project tracking.</span></span>
- <span data-ttu-id="8d321-160">**[A VS Code] [ vscode]**  könnyű Kódszerkesztő, az alkalmazások fejlesztéséhez.</span><span class="sxs-lookup"><span data-stu-id="8d321-160">**[VS Code][vscode]** A lightweight code editor for app development.</span></span> <span data-ttu-id="8d321-161">Bármely más IDE hasonló funkciókat használhatja.</span><span class="sxs-lookup"><span data-stu-id="8d321-161">You can use any other IDE with similar features.</span></span>

## <a name="design-considerations"></a><span data-ttu-id="8d321-162">Kialakítási szempontok</span><span class="sxs-lookup"><span data-stu-id="8d321-162">Design considerations</span></span>

<span data-ttu-id="8d321-163">Magas szinten a természetes nyelvi bot lehet osztani a robot funkció (a "agy") és a feldolgozóiszerepkör követelményeket (a "törzs").</span><span class="sxs-lookup"><span data-stu-id="8d321-163">At a high level, a conversational bot can be divided into the bot functionality (the "brain") and a set of surrounding requirements (the "body").</span></span> <span data-ttu-id="8d321-164">Az agy a tartomány-t támogató összetevők, beleértve a robot és gépi Tanulási képességek tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="8d321-164">The brain includes the domain-aware components, including the bot logic and ML capabilities.</span></span> <span data-ttu-id="8d321-165">Más összetevők olyan tartományi agnosztikus és a cím nem funkcionális követelmények például a CI/CD, a minőségbiztosítás és a biztonság.</span><span class="sxs-lookup"><span data-stu-id="8d321-165">Other components are domain agnostic and address non-functional requirements such as CI/CD, quality assurance, and security.</span></span>

![A robot funkció logikai diagramja](./_images/conversational-bot-logical.png)

<span data-ttu-id="8d321-167">Ez az architektúra tulajdonságairól bevitele, mielőtt kezdjük az adatok az adatfolyam minden alösszetevője a kialakítás keresztül.</span><span class="sxs-lookup"><span data-stu-id="8d321-167">Before getting into the specifics of this architecture, let's start with the data flow through each subcomponent of the design.</span></span> <span data-ttu-id="8d321-168">Az adatfolyam adatok felhasználó által kezdeményezett, és a rendszer által kezdeményezett folyamatokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="8d321-168">The data flow includes user-initiated and system-initiated data flows.</span></span>

### <a name="user-message-flow"></a><span data-ttu-id="8d321-169">Felhasználói üzenet folyamat</span><span class="sxs-lookup"><span data-stu-id="8d321-169">User message flow</span></span>

<span data-ttu-id="8d321-170">**Hitelesítés**.</span><span class="sxs-lookup"><span data-stu-id="8d321-170">**Authentication**.</span></span> <span data-ttu-id="8d321-171">Hitelesítik magukat a robottal a kommunikációs csatornát által biztosított mechanizmus a felhasználóknak el.</span><span class="sxs-lookup"><span data-stu-id="8d321-171">Users start by authenticating themselves using whatever mechanism is provided by their channel of communication with the bot.</span></span> <span data-ttu-id="8d321-172">A bot framework támogatja a sok kommunikációs csatornákról, például a Cortana, a Microsoft Teams, a Facebook Messenger, a kommunikációs és Slack.</span><span class="sxs-lookup"><span data-stu-id="8d321-172">The bot framework supports many communication channels, including Cortana, Microsoft Teams, Facebook Messenger, Kik, and Slack.</span></span> <span data-ttu-id="8d321-173">A csatornák, lásd: [robotprogramok csatlakozni csatornák](/azure/bot-service/bot-service-manage-channels).</span><span class="sxs-lookup"><span data-stu-id="8d321-173">For a list of channels, see [Connect a bot to channels](/azure/bot-service/bot-service-manage-channels).</span></span> <span data-ttu-id="8d321-174">A robot létrehozásakor az Azure Bot Service az [webes csevegési] [ webchat] csatorna konfigurálása automatikusan történik.</span><span class="sxs-lookup"><span data-stu-id="8d321-174">When you create a bot with Azure Bot Service, the [Web Chat][webchat] channel is automatically configured.</span></span> <span data-ttu-id="8d321-175">Ez a csatorna lehetővé teszi a felhasználók közvetlenül a weblap a robottal lépnek kapcsolatba.</span><span class="sxs-lookup"><span data-stu-id="8d321-175">This channel allows users to interact with your bot directly in a web page.</span></span> <span data-ttu-id="8d321-176">Emellett kapcsolódhat a robot egyéni alkalmazás használatával az [közvetlen vonal](/azure/bot-service/bot-service-channel-connect-directline) csatorna.</span><span class="sxs-lookup"><span data-stu-id="8d321-176">You can also connect the bot to a custom app by using the [Direct Line](/azure/bot-service/bot-service-channel-connect-directline) channel.</span></span> <span data-ttu-id="8d321-177">A felhasználó identitása segítségével adja meg a szerepköralapú hozzáférés-vezérlést, valamint feltárhatja, hogy személyre szabott tartalmat szolgálnak ki.</span><span class="sxs-lookup"><span data-stu-id="8d321-177">The user's identity is used to provide role-based access control, as well as to serve personalized content.</span></span>

<span data-ttu-id="8d321-178">**Felhasználói üzenet**.</span><span class="sxs-lookup"><span data-stu-id="8d321-178">**User message**.</span></span> <span data-ttu-id="8d321-179">A hitelesítést követően a felhasználó egy üzenetet küld a robot.</span><span class="sxs-lookup"><span data-stu-id="8d321-179">Once authenticated, the user sends a message to the bot.</span></span> <span data-ttu-id="8d321-180">A robot kiolvassa az üzenetet, és például továbbítja azt a természetes nyelvi hangfelismerési szolgáltatás [LUIS](/azure/cognitive-services/luis/).</span><span class="sxs-lookup"><span data-stu-id="8d321-180">The bot reads the message and routes it to a natural language understanding service such as [LUIS](/azure/cognitive-services/luis/).</span></span> <span data-ttu-id="8d321-181">Ezzel a lépéssel lekéri a **leképezések** (Mi a felhasználó szeretne tenni) és **entitások** (mely a felhasználó van érdekelné dolgot).</span><span class="sxs-lookup"><span data-stu-id="8d321-181">This step gets the **intents** (what the user wants to do) and **entities** (what things the user is interested in).</span></span> <span data-ttu-id="8d321-182">A robot majd összeállít egy lekérdezést, amely átadja egy szolgáltatás, amely információkat, például szolgál [Azure Search] [ search] dokumentum lekérésre [QnA Maker](https://www.qnamaker.ai/) – gyakori kérdések vagy egy egyéni ismeretek Alap.</span><span class="sxs-lookup"><span data-stu-id="8d321-182">The bot then builds a query that it passes to a service that serves information, such as [Azure Search][search] for document retrieval, [QnA Maker](https://www.qnamaker.ai/) for FAQs, or a custom knowledge base.</span></span> <span data-ttu-id="8d321-183">A robot ezekkel az eredményekkel használatával hozhat létre a választ.</span><span class="sxs-lookup"><span data-stu-id="8d321-183">The bot uses these results to construct a response.</span></span> <span data-ttu-id="8d321-184">Egy adott lekérdezésre vonatkozó a legjobb eredményt adja, hogy a robot előfordulhat, hogy hívásokat több vissza oda-e távoli szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="8d321-184">To give the best result for a  given query, the bot might make several back-and-forth calls to these remote services.</span></span>

<span data-ttu-id="8d321-185">**Válasz**.</span><span class="sxs-lookup"><span data-stu-id="8d321-185">**Response**.</span></span> <span data-ttu-id="8d321-186">Ezen a ponton a robot megállapítása szerint a legjobb választ, és elküldi azokat a felhasználó.</span><span class="sxs-lookup"><span data-stu-id="8d321-186">At this point, the bot has determined the best response and sends it to the user.</span></span> <span data-ttu-id="8d321-187">Ha a megbízhatósági pontszám a legjobban megfelelő választ az alacsony, a válasz lehet Egyértelműsítő kérdése vagy nyugtázása a robot nem sikerült megfelelően válaszolnak.</span><span class="sxs-lookup"><span data-stu-id="8d321-187">If the confidence score of the best-matched answer is low, the response might be a disambiguation question or an acknowledgement that the bot could not reply adequately.</span></span>

<span data-ttu-id="8d321-188">**Naplózás**.</span><span class="sxs-lookup"><span data-stu-id="8d321-188">**Logging**.</span></span> <span data-ttu-id="8d321-189">Ha egy felhasználói kérelem érkezik, vagy a válasz érkezik, összes beszélgetés művelet naplózni kell naplózási áruházban, teljesítmény-mérőszámokat és a külső szolgáltatások általános hibák együtt.</span><span class="sxs-lookup"><span data-stu-id="8d321-189">When a user request is received or a response is sent, all conversation actions should be logged to a logging store, along with performance metrics and general errors from external services.</span></span> <span data-ttu-id="8d321-190">Ezek a naplók lesz hasznos később problémák diagnosztizálásakor és növeli a rendszer.</span><span class="sxs-lookup"><span data-stu-id="8d321-190">These logs will be useful later when diagnosing issues and improving the system.</span></span>

<span data-ttu-id="8d321-191">**Visszajelzés**.</span><span class="sxs-lookup"><span data-stu-id="8d321-191">**Feedback**.</span></span> <span data-ttu-id="8d321-192">Egy másik jó gyakorlat, hogy felhasználói visszajelzések és elégedettségi pontszámok gyűjtése.</span><span class="sxs-lookup"><span data-stu-id="8d321-192">Another good practice is to collect user feedback and satisfaction scores.</span></span> <span data-ttu-id="8d321-193">A robot végső válasz legfeljebb utáni a bot kérdezze meg a felhasználót, hogy kielégítő választ értékelése.</span><span class="sxs-lookup"><span data-stu-id="8d321-193">As a follow up to the bot's final response, the bot should ask the user to rate their satisfaction with the reply.</span></span> <span data-ttu-id="8d321-194">Visszajelzés segítséget nyújtanak a hidegindítás probléma megoldására, beszédfelismerés, és folyamatosan javítja a válaszokat.</span><span class="sxs-lookup"><span data-stu-id="8d321-194">Feedback can help you to solve the cold start problem of natural language understanding, and continually improve the accuracy of responses.</span></span>

### <a name="system-data-flow"></a><span data-ttu-id="8d321-195">Rendszer-adatfolyam</span><span class="sxs-lookup"><span data-stu-id="8d321-195">System Data Flow</span></span>

<span data-ttu-id="8d321-196">**ETL**.</span><span class="sxs-lookup"><span data-stu-id="8d321-196">**ETL**.</span></span> <span data-ttu-id="8d321-197">A robot információkat és a egy ETL-folyamat a háttérben a nyers adatokból kinyert Tudásbázis támaszkodik.</span><span class="sxs-lookup"><span data-stu-id="8d321-197">The bot relies on information and knowledge extracted from the raw data by an ETL process in the backend.</span></span> <span data-ttu-id="8d321-198">Lehet, hogy ezeket az adatokat (SQL database) strukturált, félig strukturált (CRM-rendszer, gyakori kérdések) vagy strukturálatlan (Word-dokumentumok, PDF-, webalkalmazás-naplók).</span><span class="sxs-lookup"><span data-stu-id="8d321-198">This data might be structured (SQL database), semi-structured (CRM system, FAQs), or unstructured (Word documents, PDFs, web logs).</span></span> <span data-ttu-id="8d321-199">Egy ETL-alrendszer kinyeri az adatokat, meghatározott ütemezés szerint.</span><span class="sxs-lookup"><span data-stu-id="8d321-199">An ETL subsystem extracts the data on a fixed schedule.</span></span> <span data-ttu-id="8d321-200">A tartalom alakította át, és bővített, akkor egy köztes adattár, például a Cosmos DB vagy az Azure Blob Storage-be.</span><span class="sxs-lookup"><span data-stu-id="8d321-200">The content is transformed and enriched, then loaded into an intermediary data store, such as Cosmos DB or Azure Blob Storage.</span></span>

<span data-ttu-id="8d321-201">A köztes adatokat ezután dokumentum lekérése az Azure Search szolgáltatásba indexelt, betölti a QnA Maker, kérdés létrehozása, és válaszoljon pár, vagy be egyéni webalkalmazásokat a strukturálatlan szöveg feldolgozáshoz.</span><span class="sxs-lookup"><span data-stu-id="8d321-201">Data in the intermediary store is then indexed into Azure Search for document retrieval, loaded into QnA Maker to create question and answer pairs, or loaded into a custom web app for unstructured text processing.</span></span> <span data-ttu-id="8d321-202">Az adatok egy LUIS-modell, szándék és egyéb entitások kivonási betanításához is szolgál.</span><span class="sxs-lookup"><span data-stu-id="8d321-202">The data is also used to train a LUIS model for intent and entity extraction.</span></span>

<span data-ttu-id="8d321-203">**Minőségbiztosítás**.</span><span class="sxs-lookup"><span data-stu-id="8d321-203">**Quality assurance**.</span></span> <span data-ttu-id="8d321-204">A beszélgetés naplók segítségével diagnosztizálhatja és hibajavítás, nyújt betekintést a robot használatának és nyomon követheti az általános teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="8d321-204">The conversation logs are used to diagnose and fix bugs, provide insight into how the bot is being used, and track overall performance.</span></span> <span data-ttu-id="8d321-205">A robot teljesítményének javítása érdekében AI-modellek átképezési visszajelzés adatok hasznos.</span><span class="sxs-lookup"><span data-stu-id="8d321-205">Feedback data is useful for retraining the AI models to improve bot performance.</span></span>

## <a name="building-a-bot"></a><span data-ttu-id="8d321-206">A robot készítése</span><span class="sxs-lookup"><span data-stu-id="8d321-206">Building a bot</span></span>

<span data-ttu-id="8d321-207">Akár egyetlen sornyi kódot ír, mielőtt fontos írni a egy működési specifikációt, így a fejlesztői csapat rendelkezik egy egyértelmű kiindulópont annak megértéséhez, mely a robot várhatóan tegye.</span><span class="sxs-lookup"><span data-stu-id="8d321-207">Before you even write a single line of code, it's important to write a functional specification so the development team has a clear idea of what the bot is expected to do.</span></span> <span data-ttu-id="8d321-208">A specifikációnak Tudásbázis különböző tartományokban található felhasználói bevitelek és várt bot válaszok viszonylag átfogó listáját tartalmaznia kell.</span><span class="sxs-lookup"><span data-stu-id="8d321-208">The specification should include a reasonably comprehensive list of user inputs and expected bot responses in various knowledge domains.</span></span> <span data-ttu-id="8d321-209">Ez a dokumentum élő lesz egy hasznos információt az útmutató a fejlesztés és tesztelés a robot.</span><span class="sxs-lookup"><span data-stu-id="8d321-209">This living document will be an invaluable guide for developing and testing your bot.</span></span>

### <a name="ingest-data"></a><span data-ttu-id="8d321-210">Adatok betöltése</span><span class="sxs-lookup"><span data-stu-id="8d321-210">Ingest data</span></span>

<span data-ttu-id="8d321-211">Ezután azonosíthatja azokat az adatforrásokat, lehetővé teszi a felhasználók intelligensen interakcióba robot.</span><span class="sxs-lookup"><span data-stu-id="8d321-211">Next, identify the data sources that will enable the bot to interact intelligently with users.</span></span> <span data-ttu-id="8d321-212">Ahogy korábban említettük, ezek az adatforrások strukturált, félig strukturált vagy strukturálatlan adatkészletek tartalmazhatnak.</span><span class="sxs-lookup"><span data-stu-id="8d321-212">As mentioned earlier, these data sources could contain structured, semi-structured, or unstructured data sets.</span></span> <span data-ttu-id="8d321-213">Ha most ismerkedik, egy jó módszer, az adatok egyszeri másolatot készítsen a központi áruházban, például a Cosmos DB vagy az Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="8d321-213">When you're getting started, a good approach is to make a one-off copy of the data to a central store, such as Cosmos DB or Azure Storage.</span></span> <span data-ttu-id="8d321-214">Ahogy halad, létre kell hoznia egy automatizált adatfeldolgozási folyamat az adatok naprakészen tartása.</span><span class="sxs-lookup"><span data-stu-id="8d321-214">As you progress, you should create an automated data ingestion pipeline to keep this data current.</span></span> <span data-ttu-id="8d321-215">A Data Factory, a Functions és a Logic Apps a lehetőségek egy automatizált adatfeldolgozási folyamat között.</span><span class="sxs-lookup"><span data-stu-id="8d321-215">Options for an automated ingestion pipeline include Data Factory, Functions, and Logic Apps.</span></span> <span data-ttu-id="8d321-216">Attól függően, az adattárak és a sémákat ezek a módszerek kombinációját használhatja.</span><span class="sxs-lookup"><span data-stu-id="8d321-216">Depending on the data stores and the schemas, you might use a combination of these approaches.</span></span>

<span data-ttu-id="8d321-217">Használatának megkezdése, mivel célszerű manuálisan az Azure-erőforrások létrehozása az Azure portal használatával.</span><span class="sxs-lookup"><span data-stu-id="8d321-217">As you get started, it's reasonable to use the Azure portal to manually create Azure resources.</span></span> <span data-ttu-id="8d321-218">Később a további gondolkodási üzembe kell ezeket az erőforrásokat üzembe helyezésének automatizálása.</span><span class="sxs-lookup"><span data-stu-id="8d321-218">Later on, you should put more thought into automating the deployment of these resources.</span></span>

### <a name="core-bot-logic-and-ux"></a><span data-ttu-id="8d321-219">Fő bot logikai és a felhasználói felület</span><span class="sxs-lookup"><span data-stu-id="8d321-219">Core bot logic and UX</span></span>

<span data-ttu-id="8d321-220">Ha már rendelkezik egy specifikációt és néhány adatot, amelyeket felhasználva megvalósíthatja a robot készítésének megkezdéséhez ideje.</span><span class="sxs-lookup"><span data-stu-id="8d321-220">Once you have a specification and some data, it's time to start making your bot into reality.</span></span> <span data-ttu-id="8d321-221">Koncentráljunk a robot fő logikai.</span><span class="sxs-lookup"><span data-stu-id="8d321-221">Let's focus on the core bot logic.</span></span> <span data-ttu-id="8d321-222">Ez az a kódot, amely kezeli a beszélgetést a felhasználóval, többek között az útválasztási logikát Egyértelműsítő logikát, és a naplózást.</span><span class="sxs-lookup"><span data-stu-id="8d321-222">This is the code that handles the conversation with the user, including the routing logic, disambiguation logic, and logging.</span></span> <span data-ttu-id="8d321-223">Első lépésként a megismerése a [Bot Framework][bot-framework], többek között:</span><span class="sxs-lookup"><span data-stu-id="8d321-223">Start by familiarizing yourself with the [Bot Framework][bot-framework], including:</span></span>

- <span data-ttu-id="8d321-224">Alapvető fogalmait, és különösen a keretrendszer használt terminológiával [beszélgetések], [Ennek a], és [tevékenységek].</span><span class="sxs-lookup"><span data-stu-id="8d321-224">Basic concepts and terminology used in the framework, especially [conversations], [turns], and [activities].</span></span>
- <span data-ttu-id="8d321-225">A [Bot összekötő szolgáltatás](/azure/bot-service/rest-api/bot-framework-rest-connector-quickstart), amely kezeli a hálózatkezelés, a robot és a csatornák között.</span><span class="sxs-lookup"><span data-stu-id="8d321-225">The [Bot Connector service](/azure/bot-service/rest-api/bot-framework-rest-connector-quickstart), which handles the networking between the bot and your channels.</span></span>
- <span data-ttu-id="8d321-226">Hogyan beszélgetés [állapot](/azure/bot-service/bot-builder-concept-state) fenntartását, a memóriában vagy még jobb például az Azure Blob Storage vagy az Azure Cosmos DB tárolja.</span><span class="sxs-lookup"><span data-stu-id="8d321-226">How conversation [state](/azure/bot-service/bot-builder-concept-state) is maintained, either in memory or better yet in a store such as Azure Blob Storage or Azure Cosmos DB.</span></span>
- <span data-ttu-id="8d321-227">[Közbenső](/azure/bot-service/bot-builder-basics#middleware), és hogyan használható a külső szolgáltatásokkal, például a Cognitive Services robotjait kapcsolni.</span><span class="sxs-lookup"><span data-stu-id="8d321-227">[Middleware](/azure/bot-service/bot-builder-basics#middleware), and how it can be used to hook up your bot with external services, such as Cognitive Services.</span></span>

<span data-ttu-id="8d321-228">A gazdag [felhasználói élmény](/azure/bot-service/bot-service-design-user-experience), számos lehetőség.</span><span class="sxs-lookup"><span data-stu-id="8d321-228">For a rich [user experience](/azure/bot-service/bot-service-design-user-experience), there are many options.</span></span>

- <span data-ttu-id="8d321-229">Használhat [kártyák](/azure/bot-service/bot-service-design-user-experience#cards) gombok, képek, forgódobok és menüket tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="8d321-229">You can use [cards](/azure/bot-service/bot-service-design-user-experience#cards) to include buttons, images, carousels, and menus.</span></span>
- <span data-ttu-id="8d321-230">A robot speech is támogatja.</span><span class="sxs-lookup"><span data-stu-id="8d321-230">A bot can support speech.</span></span>
- <span data-ttu-id="8d321-231">A robot beágyazása egy alkalmazás vagy webhely még akkor is, és az alkalmazásszolgáltatási képességeit használva.</span><span class="sxs-lookup"><span data-stu-id="8d321-231">You can even embed your bot in an app or website and use the capabilities of the app hosting it.</span></span>

<span data-ttu-id="8d321-232">Első lépésként létrehozhatja a robot online segítségével a [Azure Bot Service](/azure/bot-service/bot-service-quickstart)lehetőségre kattint, a rendelkezésre álló C# és Node.js-sablonokat.</span><span class="sxs-lookup"><span data-stu-id="8d321-232">To get started, you can build your bot online using the [Azure Bot Service](/azure/bot-service/bot-service-quickstart), selecting from the available C# and Node.js templates.</span></span> <span data-ttu-id="8d321-233">A robot bonyolultabb, mint azonban kell helyileg a robot létrehozásához, majd telepítheti a weben.</span><span class="sxs-lookup"><span data-stu-id="8d321-233">As your bot gets more sophisticated, however, you will need to create your bot locally then deploy it to the web.</span></span> <span data-ttu-id="8d321-234">Válassza ki az integrált fejlesztői Környezetig, például a Visual Studio vagy a Visual Studio Code és a egy programozási nyelvet.</span><span class="sxs-lookup"><span data-stu-id="8d321-234">Choose an IDE, such as Visual Studio or Visual Studio Code, and a programming language.</span></span> <span data-ttu-id="8d321-235">SDK-k az alábbi nyelveken érhetők el:</span><span class="sxs-lookup"><span data-stu-id="8d321-235">SDKs are available for the following languages:</span></span>

- [<span data-ttu-id="8d321-236">C#</span><span class="sxs-lookup"><span data-stu-id="8d321-236">C#</span></span>](https://github.com/microsoft/botbuilder-dotnet)
- [<span data-ttu-id="8d321-237">JavaScript</span><span class="sxs-lookup"><span data-stu-id="8d321-237">JavaScript</span></span>](https://github.com/microsoft/botbuilder-js)
- <span data-ttu-id="8d321-238">[Java](https://github.com/microsoft/botbuilder-java) (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="8d321-238">[Java](https://github.com/microsoft/botbuilder-java) (preview)</span></span>
- <span data-ttu-id="8d321-239">[Python](https://github.com/microsoft/botbuilder-python) (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="8d321-239">[Python](https://github.com/microsoft/botbuilder-python) (preview)</span></span>

<span data-ttu-id="8d321-240">Kiindulási pontként letöltheti a forráskódot a robot, az Azure Bot Service segítségével létrehozott.</span><span class="sxs-lookup"><span data-stu-id="8d321-240">As a starting point, you can download the source code for the bot you created using the Azure Bot Service.</span></span> <span data-ttu-id="8d321-241">Is [mintakód](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md), az egyszerű echo robotok, amelyekbe beépül az AI-szolgáltatások egyszerűbben fejleszthetnek robotokat.</span><span class="sxs-lookup"><span data-stu-id="8d321-241">You can also find [sample code](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md), from simple echo bots to more sophisticated bots that integrate with various AI services.</span></span>

### <a name="add-smarts-to-your-bot"></a><span data-ttu-id="8d321-242">A robot értelem hozzáadása</span><span class="sxs-lookup"><span data-stu-id="8d321-242">Add smarts to your bot</span></span>

<span data-ttu-id="8d321-243">Egy egyszerű robot parancsok jól definiált listájával fogja tudni használni a szabályok-alapú megközelítést elemezni a felhasználói bevitel regex-n keresztül.</span><span class="sxs-lookup"><span data-stu-id="8d321-243">For a simple bot with a well-defined list of commands, you might be able to use a rules-based approach to parse the user input via regex.</span></span> <span data-ttu-id="8d321-244">Ennek az előnye, hogy determinisztikus és értelmezhetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="8d321-244">This has the advantage of being deterministic and understandable.</span></span> <span data-ttu-id="8d321-245">Azonban a robot meg kell ismernie a szándékok és entitások több természetes nyelvi üzenet, amikor nincsenek AI-szolgáltatások, amelyek segítségével.</span><span class="sxs-lookup"><span data-stu-id="8d321-245">However, when your bot needs to understand the intents and entities of a more natural-language message, there are AI services that can help.</span></span>

- <span data-ttu-id="8d321-246">A LUIS kifejezetten felhasználói szándékok és entitások ismertetése.</span><span class="sxs-lookup"><span data-stu-id="8d321-246">LUIS is specifically designed to understand user intents and entities.</span></span> <span data-ttu-id="8d321-247">A megfelelő Közepesen méretű gyűjteménye betanításához [felhasználói bevitel](/azure/cognitive-services/luis/luis-concept-utterance) és a kívánt válaszokat, és adja vissza, a leképezések és a egy felhasználó adott üzenethez tartozó entitásokat.</span><span class="sxs-lookup"><span data-stu-id="8d321-247">You train it with a moderately sized collection of relevant [user input](/azure/cognitive-services/luis/luis-concept-utterance) and desired responses, and it returns the intents and entities for a user's given message.</span></span>

- <span data-ttu-id="8d321-248">Az Azure Search mellett a LUIS képes együttműködni.</span><span class="sxs-lookup"><span data-stu-id="8d321-248">Azure Search can work alongside LUIS.</span></span> <span data-ttu-id="8d321-249">Az összes releváns adatok Search használatával létrehozhat kereshető indexet.</span><span class="sxs-lookup"><span data-stu-id="8d321-249">Using Search, you create searchable indexes over all relevant data.</span></span> <span data-ttu-id="8d321-250">A robot a LUIS által kinyert entitások indexekhez kérdezi le.</span><span class="sxs-lookup"><span data-stu-id="8d321-250">The bot queries these indexes for the entities extracted by LUIS.</span></span> <span data-ttu-id="8d321-251">Az Azure Search is támogatja a [szinonimák][synonyms], amely is szélesebbre a háló megfelelő word-hozzárendelések.</span><span class="sxs-lookup"><span data-stu-id="8d321-251">Azure Search also supports [synonyms][synonyms], which can widen the net of correct word mappings.</span></span>

- <span data-ttu-id="8d321-252">QnA Maker egy másik szolgáltatás, a választ, amely a megadott kérdések.</span><span class="sxs-lookup"><span data-stu-id="8d321-252">QnA Maker is another service that is designed to return answers for given questions.</span></span> <span data-ttu-id="8d321-253">Például – gyakori kérdések részben strukturált adatok általában van tanítva.</span><span class="sxs-lookup"><span data-stu-id="8d321-253">It's typically trained over semi-structured data such as FAQs.</span></span>

<span data-ttu-id="8d321-254">A robot egyéb AI-szolgáltatások segítségével tovább bővítheti a felhasználói élményt.</span><span class="sxs-lookup"><span data-stu-id="8d321-254">Your bot can use other AI services to further enrich the user experience.</span></span> <span data-ttu-id="8d321-255">A [Cognitive Services suite az előre elkészített AI](https://azure.microsoft.com/en-us/services/cognitive-services/?v=18.44a) (amely tartalmazza a LUIS és a QnA Maker) szolgáltatások esetében a vizuális, beszéd, nyelvi, keresési és hely szolgáltatásokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="8d321-255">The [Cognitive Services suite of pre-built AI](https://azure.microsoft.com/en-us/services/cognitive-services/?v=18.44a) services (which includes LUIS and QnA Maker) has services for vision, speech, language, search, and location.</span></span> <span data-ttu-id="8d321-256">Gyorsan adhat funkciókat, például nyelvi fordítást, helyesírás-ellenőrzést, hangulatelemzés, optikai Karakterfelismerés, hely figyelésével és a tartalom-jóváhagyás.</span><span class="sxs-lookup"><span data-stu-id="8d321-256">You can quickly add functionality such as language translation, spell checking, sentiment analysis, OCR, location awareness, and content moderation.</span></span> <span data-ttu-id="8d321-257">Ezek a szolgáltatások is vezetékes, a felhasználó a robot további beszédnek és intelligensen közbenső modulként.</span><span class="sxs-lookup"><span data-stu-id="8d321-257">These services can be wired up as middleware modules in your bot to interact more naturally and intelligently with the user.</span></span>

<span data-ttu-id="8d321-258">Egy másik lehetőség, integrálhatja a saját egyéni AI-szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="8d321-258">Another option is to integrate your own custom AI service.</span></span> <span data-ttu-id="8d321-259">Ez a módszer bonyolultabb, de teljes rugalmasságot biztosít a gépi tanulási algoritmus, a képzés és a modell szempontjából.</span><span class="sxs-lookup"><span data-stu-id="8d321-259">This approach is more complex, but gives you complete flexibility in terms of the machine learning algorithm, training, and model.</span></span> <span data-ttu-id="8d321-260">Például sikerült megvalósítani a saját témakör modellezés, és algoritmust használja, mint például [LDA] [ lda] hasonló vagy megfelelő dokumentumok keresése.</span><span class="sxs-lookup"><span data-stu-id="8d321-260">For example, you could implement your own topic modeling and use algorithm such as [LDA][lda] to find similar or relevant documents.</span></span> <span data-ttu-id="8d321-261">Egy jó megoldás, az egyéni AI-megoldását mint egy webszolgáltatási végpontot, és, hívja meg a végpont a core-robot logikai.</span><span class="sxs-lookup"><span data-stu-id="8d321-261">A good approach is to expose your custom AI solution as a web service endpoint, and call the endpoint from the core bot logic.</span></span> <span data-ttu-id="8d321-262">A web service tárolt App Service-ben vagy a virtuális gépek fürtjeit.</span><span class="sxs-lookup"><span data-stu-id="8d321-262">The web service could be hosted in App Service or in a cluster of VMs.</span></span> <span data-ttu-id="8d321-263">[Az Azure Machine Learning] [ aml] szolgáltatások és kódtárak segítségére lehetnek a számos [képzési](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training) és [telepítése](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/deployment) modelljeit.</span><span class="sxs-lookup"><span data-stu-id="8d321-263">[Azure Machine Learning][aml] provides a number of services and libraries to assist you in [training](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training) and [deploying](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/deployment) your models.</span></span>

## <a name="quality-assurance-and-enhancement"></a><span data-ttu-id="8d321-264">Minőségbiztosítási és a fejlesztés</span><span class="sxs-lookup"><span data-stu-id="8d321-264">Quality assurance and enhancement</span></span>

<span data-ttu-id="8d321-265">**Naplózás**.</span><span class="sxs-lookup"><span data-stu-id="8d321-265">**Logging**.</span></span> <span data-ttu-id="8d321-266">Felhasználói beszélgetések jelentkezni a robot, beleértve az alapul szolgáló teljesítmény-mérőszámok és az esetleges hibákat.</span><span class="sxs-lookup"><span data-stu-id="8d321-266">Log user conversations with the bot, including the underlying performance metrics and any errors.</span></span> <span data-ttu-id="8d321-267">Ezek a naplók a hibaelhárítás során, felhasználói interakció érdekében ismertetése és javítása, a rendszer felbecsülhetetlen értékű válhatnak.</span><span class="sxs-lookup"><span data-stu-id="8d321-267">These logs will prove invaluable for debugging issues, understanding user interactions, and improving the system.</span></span> <span data-ttu-id="8d321-268">Különböző adattárakban megfelelő a naplók különböző típusú lehet.</span><span class="sxs-lookup"><span data-stu-id="8d321-268">Different data stores might be appropriate for different types of logs.</span></span> <span data-ttu-id="8d321-269">Például a webes naplók esetében a Cosmos DB beszélgetés, és az Azure Storage nagy is észleltünk adattartalmakat. fontolja meg az Application Insights.</span><span class="sxs-lookup"><span data-stu-id="8d321-269">For example, consider Application Insights for web logs, Cosmos DB for conversations, and Azure Storage for large payloads.</span></span> <span data-ttu-id="8d321-270">Lásd: [közvetlenül az Azure Storage-írási][transcript-storage].</span><span class="sxs-lookup"><span data-stu-id="8d321-270">See [Write directly to Azure Storage][transcript-storage].</span></span>

<span data-ttu-id="8d321-271">**Visszajelzés**.</span><span class="sxs-lookup"><span data-stu-id="8d321-271">**Feedback**.</span></span> <span data-ttu-id="8d321-272">Emellett az is fontos tudni, hogyan elégedett felhasználója a robot interakciók vannak.</span><span class="sxs-lookup"><span data-stu-id="8d321-272">It's also important to understand how satisfied users are with their bot interactions.</span></span> <span data-ttu-id="8d321-273">Ha egy rekordot, a felhasználói visszajelzéseket, ezeket az adatokat segítségével összpontosítsa figyelmét a javítása néhány olyan interakció, és a jobb teljesítmény AI-modellek átképezési.</span><span class="sxs-lookup"><span data-stu-id="8d321-273">If you have a record of user feedback, you can use this data to focus your efforts on improving certain interactions and retraining the AI models for improved performance.</span></span> <span data-ttu-id="8d321-274">A visszajelzés segítségével, LUIS, például a modellek újratanítása a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="8d321-274">Use the feedback to retrain the models, such as LUIS, in your system.</span></span>

<span data-ttu-id="8d321-275">**Tesztelés**.</span><span class="sxs-lookup"><span data-stu-id="8d321-275">**Testing**.</span></span> <span data-ttu-id="8d321-276">Robotprogramok tesztelés magában foglalja az egységteszteket, integrációs teszteket, regressziós tesztek és funkcionális tesztek.</span><span class="sxs-lookup"><span data-stu-id="8d321-276">Testing a bot involves unit tests, integration tests, regression tests, and functional tests.</span></span> <span data-ttu-id="8d321-277">Tesztelési, javasoljuk, hogy a külső szolgáltatások, például az Azure Search vagy a QnA Maker, valós HTTP-válaszok rögzítése, így azokat is futtathatók anélkül, hogy a külső szolgáltatások valós hálózati hívásokat egységtesztelés során.</span><span class="sxs-lookup"><span data-stu-id="8d321-277">For testing, we recommend recording real HTTP responses from external services, such as Azure Search or QnA Maker, so they can be played back during unit testing without needing to make real network calls to external services.</span></span>

>[!NOTE]
> <span data-ttu-id="8d321-278">A gyorsan elindíthatja a fejlesztést, a következő területeken, tekintse meg a [Botbuilder Utils JavaScript][git-repo-base].</span><span class="sxs-lookup"><span data-stu-id="8d321-278">To jump-start your development in these areas, look at the [Botbuilder Utils for JavaScript][git-repo-base].</span></span> <span data-ttu-id="8d321-279">Ebben a tárházban tartalmazza a beépített robotokat segédprogram mintakód [a Microsoft Bot Framework v4] [ bot-framework] és a Node.js futtatására.</span><span class="sxs-lookup"><span data-stu-id="8d321-279">This repo contains sample utility code for bots built with [Microsoft Bot Framework v4][bot-framework] and running Node.js.</span></span> <span data-ttu-id="8d321-280">A következő csomagokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="8d321-280">It includes the following packages:</span></span>
>
> - <span data-ttu-id="8d321-281">[A cosmos DB-naplózás Store][cosmosdb-logger].</span><span class="sxs-lookup"><span data-stu-id="8d321-281">[Cosmos DB Logging Store][cosmosdb-logger].</span></span> <span data-ttu-id="8d321-282">Bemutatja, hogyan tárolhatja és lekérdezése a Cosmos DB-robot naplók.</span><span class="sxs-lookup"><span data-stu-id="8d321-282">Shows how to store and query bot logs in Cosmos DB.</span></span>
> - <span data-ttu-id="8d321-283">[Application Insights naplózási Store][appinsights-logger].</span><span class="sxs-lookup"><span data-stu-id="8d321-283">[Application Insights Logging Store][appinsights-logger].</span></span> <span data-ttu-id="8d321-284">Bemutatja, hogyan tárolhatja, és lekérdezi a robot megtekintése az Application Insightsban.</span><span class="sxs-lookup"><span data-stu-id="8d321-284">Shows how to store and query bot logs in Application Insights.</span></span>
> - <span data-ttu-id="8d321-285">[Visszajelzések gyűjtése közbenső][feedback-util].</span><span class="sxs-lookup"><span data-stu-id="8d321-285">[Feedback Collection Middleware][feedback-util].</span></span> <span data-ttu-id="8d321-286">Minta közbenső szoftvert, amely egy robot felhasználói visszajelzés-kérelem mechanizmust biztosít.</span><span class="sxs-lookup"><span data-stu-id="8d321-286">Sample middleware that provides a bot user feedback-request mechanism.</span></span>
> - <span data-ttu-id="8d321-287">[HTTP-vizsgálat Recorder][testing util].</span><span class="sxs-lookup"><span data-stu-id="8d321-287">[Http Test Recorder][testing util].</span></span> <span data-ttu-id="8d321-288">Rekordok HTTP-forgalom külső szolgáltatásokból a robotnak való.</span><span class="sxs-lookup"><span data-stu-id="8d321-288">Records HTTP traffic from services external to the bot.</span></span> <span data-ttu-id="8d321-289">Előre elkészített, LUIS, az Azure Search és a QnAMaker támogatással érhető el, de a bővítmények érhetők el minden olyan szolgáltatás támogatására.</span><span class="sxs-lookup"><span data-stu-id="8d321-289">It comes pre-built with support for LUIS, Azure Search, and QnAMaker, but extensions are available to support any service.</span></span> <span data-ttu-id="8d321-290">Ennek segítségével automatizálhatja a robot tesztelése.</span><span class="sxs-lookup"><span data-stu-id="8d321-290">This helps you automate bot testing.</span></span>
>
> <span data-ttu-id="8d321-291">Ezeket a csomagokat, a segédprogram-mintakódot a megadott, és kapható a támogatási vagy a frissítések nem garantált.</span><span class="sxs-lookup"><span data-stu-id="8d321-291">These packages are provided as utility sample code, and come with no guarantee of support or updates.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="8d321-292">Rendelkezésre állási szempontok</span><span class="sxs-lookup"><span data-stu-id="8d321-292">Availability considerations</span></span>

<span data-ttu-id="8d321-293">Fokozatosan új funkciók vagy hibajavítások megjelenésekor a robot, mivel a legcélszerűbb több központi telepítési környezetekben, például átmeneti és éles környezetben használja.</span><span class="sxs-lookup"><span data-stu-id="8d321-293">As you roll out new features or bug fixes to your bot, it's best to use multiple deployment environments, such as staging and production.</span></span> <span data-ttu-id="8d321-294">Üzemelő példány használatával [tárhelyek] [ slots] a [Azure DevOps] [ devops] lehetővé teszi, hogy ehhez állásidő nélkül.</span><span class="sxs-lookup"><span data-stu-id="8d321-294">Using deployment [slots][slots] from [Azure DevOps][devops] allows you to do this with zero downtime.</span></span> <span data-ttu-id="8d321-295">A legújabb frissítések átmeneti környezetben tesztelheti előtt érvényesítheti őket az éles környezetbe.</span><span class="sxs-lookup"><span data-stu-id="8d321-295">You can test your latest upgrades in the staging environment before swapping them to the production environment.</span></span> <span data-ttu-id="8d321-296">Tekintetében terhelések kezeléséhez, az App Service célja, hogy a vertikális felskálázás vagy manuálisan vagy automatikusan.</span><span class="sxs-lookup"><span data-stu-id="8d321-296">In terms of handling load, App Service is designed to scale up or out manually or automatically.</span></span> <span data-ttu-id="8d321-297">Mivel a robot a Microsoft globális adatközpont-infrastruktúrába, az App Service SLA biztosítja a magas rendelkezésre állás.</span><span class="sxs-lookup"><span data-stu-id="8d321-297">Because your bot is hosted in Microsoft's global datacenter infrastructure, the App Service SLA promises high availability.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="8d321-298">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="8d321-298">Security considerations</span></span>

<span data-ttu-id="8d321-299">Csakúgy, mint minden más alkalmazás, a robot is kialakítani, hogy a bizalmas adatok kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="8d321-299">As with any other application, the bot can be designed to handle sensitive data.</span></span> <span data-ttu-id="8d321-300">Ezért korlátozza a felhasználók jelentkezzen be és használhatják a robot.</span><span class="sxs-lookup"><span data-stu-id="8d321-300">Therefore, restrict who can sign in and use the bot.</span></span> <span data-ttu-id="8d321-301">Is korlátozhatja az adatok érhetők el, a felhasználói identitás vagy szerepkör alapján.</span><span class="sxs-lookup"><span data-stu-id="8d321-301">Also limit which data can be accessed, based on the user's identity or role.</span></span> <span data-ttu-id="8d321-302">Identitás és hozzáférés-vezérlés az Azure ad-ben és a Key Vault használatával kulcsokat és titkos kódokat.</span><span class="sxs-lookup"><span data-stu-id="8d321-302">Use Azure AD for identity and access control and Key Vault to manage keys and secrets.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="8d321-303">Felügyeleti szempontok</span><span class="sxs-lookup"><span data-stu-id="8d321-303">Manageability considerations</span></span>

### <a name="monitoring-and-reporting"></a><span data-ttu-id="8d321-304">Figyelés és jelentéskészítés</span><span class="sxs-lookup"><span data-stu-id="8d321-304">Monitoring and reporting</span></span>

<span data-ttu-id="8d321-305">Miután a robot éles üzemben fut, szüksége lesz egy fejlesztési és üzemeltetési csapat, így biztosítható, hogy.</span><span class="sxs-lookup"><span data-stu-id="8d321-305">Once your bot is running in production, you will need a DevOps team to keep it that way.</span></span> <span data-ttu-id="8d321-306">Folyamatosan figyelni a rendszert, a bot működik, maximális teljesítménnyel.</span><span class="sxs-lookup"><span data-stu-id="8d321-306">Continually monitor the system to ensure the bot operates at peak performance.</span></span> <span data-ttu-id="8d321-307">A naplókat küld az Application Insights vagy a Cosmos DB használatával figyelési-irányítópultot létrehozni, vagy maga az Application Insights, a Power bi-ban vagy egy egyéni webes alkalmazás irányítópult.</span><span class="sxs-lookup"><span data-stu-id="8d321-307">Use the logs sent to Application Insights or Cosmos DB to create monitoring dashboards, either using Application Insights itself, Power BI, or a custom web app dashboard.</span></span> <span data-ttu-id="8d321-308">Riasztások a fejlesztési és üzemeltetési csapat kapjon, ha kritikus fordult elő hiba vagy a teljesítmény-elfogadható küszöbérték alá esik.</span><span class="sxs-lookup"><span data-stu-id="8d321-308">Send alerts to the DevOps team if critical errors occur or performance falls below an acceptable threshold.</span></span>

### <a name="automated-resource-deployment"></a><span data-ttu-id="8d321-309">Erőforrások automatikus üzembe helyezésének</span><span class="sxs-lookup"><span data-stu-id="8d321-309">Automated resource deployment</span></span>

<span data-ttu-id="8d321-310">A robot magát, az ad át a legfrissebb adatokat, és biztosítja, hogy a megfelelő működése nagyobb rendszer csak egy részét képezi.</span><span class="sxs-lookup"><span data-stu-id="8d321-310">The bot itself is only part of a larger system that provides it with the latest data and ensures its proper operation.</span></span> <span data-ttu-id="8d321-311">Az összes következő más Azure-erőforrások &mdash; vezénylési adatszolgáltatások, például a Data Factory, például a Cosmos DB és a tárolási szolgáltatások &mdash; kell üzembe helyezni.</span><span class="sxs-lookup"><span data-stu-id="8d321-311">All of these other Azure resources &mdash; data orchestration services such as Data Factory, storage services such as Cosmos DB, and so forth &mdash; must be deployed.</span></span> <span data-ttu-id="8d321-312">Az Azure Resource Manager keresztül elérhető az Azure portal, PowerShell vagy az Azure CLI keresztül konzisztens felügyeleti réteget biztosít.</span><span class="sxs-lookup"><span data-stu-id="8d321-312">Azure Resource Manager provides a consistent management layer that you can access through the Azure portal, PowerShell, or the Azure CLI.</span></span> <span data-ttu-id="8d321-313">A sebesség és a konzisztencia érdemes automatizálni az üzembe helyezést, ezek a módszerek egyikének használatával.</span><span class="sxs-lookup"><span data-stu-id="8d321-313">For speed and consistency, it's best to automate your deployment using one of these approaches.</span></span>

### <a name="continuous-bot-deployment"></a><span data-ttu-id="8d321-314">A robot a folyamatos üzembe helyezés</span><span class="sxs-lookup"><span data-stu-id="8d321-314">Continuous bot deployment</span></span>

<span data-ttu-id="8d321-315">A robot logika telepítheti közvetlenül az IDE-ből vagy a parancssorból, például az Azure parancssori felület.</span><span class="sxs-lookup"><span data-stu-id="8d321-315">You can deploy the bot logic directly from your IDE or from a command line, such as the Azure CLI.</span></span> <span data-ttu-id="8d321-316">Ahogy a robot kiforrottá, azonban célszerű a cikkben ismertetett módon kihasználhassák a CI/CD megoldással az Azure DevOps, például egy folyamatos üzembe helyezési folyamat [folyamatos üzembe helyezés](/azure/bot-service/bot-service-build-continuous-deployment).</span><span class="sxs-lookup"><span data-stu-id="8d321-316">As your bot matures, however, it's best to use a continual deployment process using a CI/CD solution such as Azure DevOps, as described in the article [Set up continuous deployment](/azure/bot-service/bot-service-build-continuous-deployment).</span></span> <span data-ttu-id="8d321-317">Ez jó módja a fennakadások nélkül használható, új funkciókkal és javításokkal teszteléshez közel éles környezetben a robot megkönnyítése érdekében.</span><span class="sxs-lookup"><span data-stu-id="8d321-317">This is a good way to ease the friction in testing new features and fixes in your bot in a near-production environment.</span></span> <span data-ttu-id="8d321-318">Emellett tanácsos több üzembe helyezési környezetekhez, általában legalább átmeneti és üzemi van.</span><span class="sxs-lookup"><span data-stu-id="8d321-318">It's also a good idea to have multiple deployment environments, typically at least staging and production.</span></span> <span data-ttu-id="8d321-319">Az Azure DevOps támogatja ezt a megközelítést.</span><span class="sxs-lookup"><span data-stu-id="8d321-319">Azure DevOps supports this approach.</span></span>

<!-- links -->

[0]: ./_images/conversational-bot.png
[aad]: /azure/active-directory/
[Tevékenységek]: /azure/bot-service/rest-api/bot-framework-rest-connector-activities
[activities]: /azure/bot-service/rest-api/bot-framework-rest-connector-activities
[aml]: /azure/machine-learning/service/
[app-insights]: /azure/azure-monitor/app/app-insights-overview
[app-service]: /azure/app-service/
[blob]: /azure/storage/blobs/storage-blobs-introduction
[bot-authentication]: /azure/bot-service/bot-builder-authentication
[bot-framework]: https://dev.botframework.com/
[bot-framework-service]: /azure/bot-service/bot-builder-basics
[cognitive-services]: /azure/cognitive-services/welcome
[beszélgetések]: /azure/bot-service/bot-service-design-conversation-flow
[conversations]: /azure/bot-service/bot-service-design-conversation-flow
[cosmosdb]: /azure/cosmos-db/
[data-factory]: /azure/data-factory/
[data-factory-ref-arch]: ../data/enterprise-bi-adf.md
[devops]: https://azure.microsoft.com/solutions/devops/
[functions]: /azure/azure-functions/
[functions-triggers]: /azure/azure-functions/functions-triggers-bindings
[git-repo-appinsights-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-app-insights
[git-repo-base]: https://github.com/Microsoft/botbuilder-utils-js
[git-repo-cosmosdb-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-cosmosdb
[git-repo-feedback-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-feedback
[git-repo-testing-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder
[testing-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder
[key-vault]: /azure/key-vault/
[lda]: https://wikipedia.org/wiki/Latent_Dirichlet_allocation/
[logic-apps]: /azure/logic-apps/logic-apps-overview
[luis]: /azure/cognitive-services/luis/
[power-bi]: /power-bi/
[qna-maker]: /azure/cognitive-services/QnAMaker/
[search]: /azure/search/
[slots]: /azure/app-service/deploy-staging-slots/
[synonyms]: /azure/search/search-synonyms
[transcript-storage]: /azure/bot-service/bot-builder-howto-v4-storage
[Ennek a]: /azure/bot-service/bot-builder-basics#defining-a-turn
[turns]: /azure/bot-service/bot-builder-basics#defining-a-turn
[vscode]: https://azure.microsoft.com/products/visual-studio-code/
[webapp]: /azure/app-service/overview
[webchat]: /azure/bot-service/bot-service-channel-connect-webchat?view=azure-bot-service-4.0/

[cosmosdb-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-cosmosdb
[appinsights-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-app-insights
[feedback-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-feedback
[testing util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder

