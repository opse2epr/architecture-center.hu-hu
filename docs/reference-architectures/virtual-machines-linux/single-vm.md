---
title: "Linux virtuális gép futtatása az Azure-on"
description: "Az Azure, a méretezhetőséget, a rugalmasság, a kezelhetőségi és a biztonsági kifizető figyelmet Linux virtuális gép futtatásának módját."
author: telmosampaio
ms.date: 09/06/2017
pnp.series.title: Linux VM workloads
pnp.series.next: multi-vm
pnp.series.prev: ./index
ms.openlocfilehash: f38c53db5df1681a1abc926df9f0b7f929ceb76b
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="run-a-linux-vm-on-azure"></a><span data-ttu-id="5db03-103">Linux virtuális gép futtatása az Azure-on</span><span class="sxs-lookup"><span data-stu-id="5db03-103">Run a Linux VM on Azure</span></span>

<span data-ttu-id="5db03-104">A referencia-architektúrában jeleníti meg az Azure-on futó Linux virtuális gépek (VM) bevált gyakorlatok csoportja.</span><span class="sxs-lookup"><span data-stu-id="5db03-104">This reference architecture shows a set of proven practices for running a Linux virtual machine (VM) on Azure.</span></span> <span data-ttu-id="5db03-105">Ez magában foglalja a hálózati és tárolási összetevők mellett a virtuális gép üzembe helyezéséhez javaslatok.</span><span class="sxs-lookup"><span data-stu-id="5db03-105">It includes recommendations for provisioning the VM along with networking and storage components.</span></span> <span data-ttu-id="5db03-106">Ez az architektúra egyetlen példány futtatása is használható, és alapjául szolgáló összetettebb architektúrák például n szintű alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="5db03-106">This architecture can be used to run a single instance, and is the basis for more complex architectures such as n-tier applications.</span></span> [<span data-ttu-id="5db03-107">**Ez a megoldás üzembe helyezéséhez**.</span><span class="sxs-lookup"><span data-stu-id="5db03-107">**Deploy this solution**.</span></span>](#deploy-the-solution)

<span data-ttu-id="5db03-108">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="5db03-108">![[0]][0]</span></span>

<span data-ttu-id="5db03-109">*Töltse le a [Visio fájl] [ visio-download] ezen architektúra.*</span><span class="sxs-lookup"><span data-stu-id="5db03-109">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="5db03-110">Architektúra</span><span class="sxs-lookup"><span data-stu-id="5db03-110">Architecture</span></span>

<span data-ttu-id="5db03-111">A virtuális gépek Azure-beli üzembe helyezése során nem csak magára a virtuális gépre van szükség.</span><span class="sxs-lookup"><span data-stu-id="5db03-111">Provisioning a VM in Azure involves more moving parts than just the VM itself.</span></span> <span data-ttu-id="5db03-112">Figyelembe kell venni a számítási, hálózati és tárolási elemeket is.</span><span class="sxs-lookup"><span data-stu-id="5db03-112">There are compute, networking, and storage elements that you need to consider.</span></span>

* <span data-ttu-id="5db03-113">**Erőforráscsoport.**</span><span class="sxs-lookup"><span data-stu-id="5db03-113">**Resource group.**</span></span> <span data-ttu-id="5db03-114">Az [*erőforráscsoport*][resource-manager-overview] egy tároló, amely kapcsolódó erőforrásokat tárol.</span><span class="sxs-lookup"><span data-stu-id="5db03-114">A [*resource group*][resource-manager-overview] is a container that holds related resources.</span></span> <span data-ttu-id="5db03-115">Általában létrehozása különböző erőforrások erőforráscsoportok élettartamuk egy megoldást, és az erőforrások fogják kezelni.</span><span class="sxs-lookup"><span data-stu-id="5db03-115">You usually create resource groups for different resources in a solution based on their lifetime, and who will manage the resources.</span></span> <span data-ttu-id="5db03-116">A virtuális gép egyetlen munkaterhelés létrehozhat az összes erőforrás egyetlen erőforráscsoportként működnek.</span><span class="sxs-lookup"><span data-stu-id="5db03-116">For a single VM workload, you may create a single resource group for all resources.</span></span>
* <span data-ttu-id="5db03-117">**VM**.</span><span class="sxs-lookup"><span data-stu-id="5db03-117">**VM**.</span></span> <span data-ttu-id="5db03-118">Az Azure támogatja különböző népszerű Linux-disztribúciók, például a CentOS, a Debian, a Red Hat Enterprise, az Ubuntu és a FreeBSD futtatását.</span><span class="sxs-lookup"><span data-stu-id="5db03-118">Azure supports running various popular Linux distributions, including CentOS, Debian, Red Hat Enterprise, Ubuntu, and FreeBSD.</span></span> <span data-ttu-id="5db03-119">További információk: [Az Azure és a Linux][azure-linux].</span><span class="sxs-lookup"><span data-stu-id="5db03-119">For more information, see [Azure and Linux][azure-linux].</span></span> <span data-ttu-id="5db03-120">A virtuális gépet üzembe helyezheti a közzétett rendszerképek listájáról, vagy egy, az Azure Blob Storage-ba feltöltött virtuálismerevlemez-fájlból (VHD).</span><span class="sxs-lookup"><span data-stu-id="5db03-120">You can provision a VM from a list of published images or from a virtual hard disk (VHD) file that you upload to Azure Blob storage.</span></span>
* <span data-ttu-id="5db03-121">**Operációsrendszer-lemez.**</span><span class="sxs-lookup"><span data-stu-id="5db03-121">**OS disk.**</span></span> <span data-ttu-id="5db03-122">Az operációsrendszer-lemez egy, az [Azure Storage-ban][azure-storage] tárolt VHD.</span><span class="sxs-lookup"><span data-stu-id="5db03-122">The OS disk is a VHD stored in [Azure Storage][azure-storage].</span></span> <span data-ttu-id="5db03-123">Ez azt jelenti, hogy akkor is működik, ha a gazdagép leáll.</span><span class="sxs-lookup"><span data-stu-id="5db03-123">That means it persists even if the host machine goes down.</span></span> <span data-ttu-id="5db03-124">Az operációsrendszer-lemez a `/dev/sda1`.</span><span class="sxs-lookup"><span data-stu-id="5db03-124">The OS disk is `/dev/sda1`.</span></span>
* <span data-ttu-id="5db03-125">**Ideiglenes lemez.**</span><span class="sxs-lookup"><span data-stu-id="5db03-125">**Temporary disk.**</span></span> <span data-ttu-id="5db03-126">A VM egy ideiglenes lemezzel jön létre.</span><span class="sxs-lookup"><span data-stu-id="5db03-126">The VM is created with a temporary disk.</span></span> <span data-ttu-id="5db03-127">A lemez a gazdagép egyik fizikai meghajtóján található.</span><span class="sxs-lookup"><span data-stu-id="5db03-127">This disk is stored on a physical drive on the host machine.</span></span> <span data-ttu-id="5db03-128">Az *nem* mentése az Azure Storage és újraindítások és más virtuális gép életciklus-események során előfordulhat, hogy törli.</span><span class="sxs-lookup"><span data-stu-id="5db03-128">It is *not* saved in Azure Storage and might be deleted during reboots and other VM lifecycle events.</span></span> <span data-ttu-id="5db03-129">Ez a lemez csak ideiglenes adatokat, például lapozófájlokat tárol.</span><span class="sxs-lookup"><span data-stu-id="5db03-129">Use this disk only for temporary data, such as page or swap files.</span></span> <span data-ttu-id="5db03-130">Az ideiglenes lemez a `/dev/sdb1`, és a csatlakoztatásának helye `/mnt/resource` vagy `/mnt`.</span><span class="sxs-lookup"><span data-stu-id="5db03-130">The temporary disk is `/dev/sdb1` and is mounted at `/mnt/resource` or `/mnt`.</span></span>
* <span data-ttu-id="5db03-131">**Adatlemezek.**</span><span class="sxs-lookup"><span data-stu-id="5db03-131">**Data disks.**</span></span> <span data-ttu-id="5db03-132">Az [adatlemez][data-disk] egy állandó, az alkalmazásadatokhoz használt VHD.</span><span class="sxs-lookup"><span data-stu-id="5db03-132">A [data disk][data-disk] is a persistent VHD used for application data.</span></span> <span data-ttu-id="5db03-133">Az adatlemezeket (pl. az operációsrendszer-lemezt) az Azure Storage tárolja.</span><span class="sxs-lookup"><span data-stu-id="5db03-133">Data disks are stored in Azure Storage, like the OS disk.</span></span>
* <span data-ttu-id="5db03-134">**Virtuális hálózat (VNet) és alhálózat.**</span><span class="sxs-lookup"><span data-stu-id="5db03-134">**Virtual network (VNet) and subnet.**</span></span> <span data-ttu-id="5db03-135">Az Azure-ban minden VM egy alhálózatokra osztott virtuális hálózatban van üzembe helyezve.</span><span class="sxs-lookup"><span data-stu-id="5db03-135">Every VM in Azure is deployed into a VNet that is further divided into subnets.</span></span>
* <span data-ttu-id="5db03-136">**Nyilvános IP-cím.**</span><span class="sxs-lookup"><span data-stu-id="5db03-136">**Public IP address.**</span></span> <span data-ttu-id="5db03-137">Egy nyilvános IP-cím van szükség a virtuális gép kommunikálni &mdash; például ssh.</span><span class="sxs-lookup"><span data-stu-id="5db03-137">A public IP address is needed to communicate with the VM &mdash; for example, via SSH.</span></span>
* <span data-ttu-id="5db03-138">**Hálózati adapter (NIC)**.</span><span class="sxs-lookup"><span data-stu-id="5db03-138">**Network interface (NIC)**.</span></span> <span data-ttu-id="5db03-139">A hálózati adapter teszi lehetővé a virtuális gép számára a virtuális hálózattal való kommunikációt.</span><span class="sxs-lookup"><span data-stu-id="5db03-139">The NIC enables the VM to communicate with the virtual network.</span></span>
* <span data-ttu-id="5db03-140">**Hálózati biztonsági csoport (NSG)**.</span><span class="sxs-lookup"><span data-stu-id="5db03-140">**Network security group (NSG)**.</span></span> <span data-ttu-id="5db03-141">Az [NSG][nsg] segítségével lehet engedélyezni vagy letiltani az alhálózat felé irányuló hálózati forgalmat.</span><span class="sxs-lookup"><span data-stu-id="5db03-141">The [NSG][nsg] is used to allow/deny network traffic to the subnet.</span></span> <span data-ttu-id="5db03-142">Egy NSG-t társíthat egy különálló hálózati adapterhez vagy egy alhálózathoz.</span><span class="sxs-lookup"><span data-stu-id="5db03-142">You can associate an NSG with an individual NIC or with a subnet.</span></span> <span data-ttu-id="5db03-143">Ha egy alhálózathoz társítja, az NSG-szabályok az alhálózat összes virtuális gépére vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="5db03-143">If you associate it with a subnet, the NSG rules apply to all VMs in that subnet.</span></span>
* <span data-ttu-id="5db03-144">**Diagnosztika.**</span><span class="sxs-lookup"><span data-stu-id="5db03-144">**Diagnostics.**</span></span> <span data-ttu-id="5db03-145">A diagnosztikai naplózás létfontosságú a virtuális gép kezeléséhez és hibaelhárításához.</span><span class="sxs-lookup"><span data-stu-id="5db03-145">Diagnostic logging is crucial for managing and troubleshooting the VM.</span></span>

## <a name="recommendations"></a><span data-ttu-id="5db03-146">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="5db03-146">Recommendations</span></span>

<span data-ttu-id="5db03-147">Ez az architektúra látható a baseline javaslatok az Azure-ban futó Linux virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="5db03-147">This architecture shows the baseline recommendations for running a Linux VM in Azure.</span></span> <span data-ttu-id="5db03-148">Azonban nem ajánlott használatával egy virtuális a kritikus fontosságú számítási feladatokhoz, mert azt egy hibaérzékeny pontot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="5db03-148">However, we don't recommend using a single VM for mission critical workloads because it creates a single point of failure.</span></span> <span data-ttu-id="5db03-149">A magasabb rendelkezésre állás érdekében helyezzen üzembe több virtuális gépet egy [rendelkezésre állási csoportban][availability-set].</span><span class="sxs-lookup"><span data-stu-id="5db03-149">For higher availability, deploy multiple VMs in an [availability set][availability-set].</span></span> <span data-ttu-id="5db03-150">További információkért tekintse meg a [több virtuális gép Azure-on való futtatását][multi-vm] ismertető szakaszt.</span><span class="sxs-lookup"><span data-stu-id="5db03-150">For more information, see [Running multiple VMs on Azure][multi-vm].</span></span> 

### <a name="vm-recommendations"></a><span data-ttu-id="5db03-151">Virtuális gépekre vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="5db03-151">VM recommendations</span></span>

<span data-ttu-id="5db03-152">Az Azure számos különféle virtuálisgép-méretet biztosít, de mi a DS és a GS sorozatot ajánljuk, mert ezek a gépméretek támogatják a [Premium Storage][premium-storage] tárolást.</span><span class="sxs-lookup"><span data-stu-id="5db03-152">Azure offers many different virtual machine sizes, but we recommend the DS- and GS-series because these machine sizes support [Premium Storage][premium-storage].</span></span> <span data-ttu-id="5db03-153">Válassza ezen gépméretek egyikét, kivéve, ha speciális számítási feladatokhoz, például nagy teljesítményű feldolgozáshoz kívánja a gépeket használni.</span><span class="sxs-lookup"><span data-stu-id="5db03-153">Select one of these machine sizes unless you have a specialized workload such as high-performance computing.</span></span> <span data-ttu-id="5db03-154">Részletekért tekintse meg a [virtuálisgép-méretekkel kapcsolatos][virtual-machine-sizes] szakaszt.</span><span class="sxs-lookup"><span data-stu-id="5db03-154">For details, see [virtual machine sizes][virtual-machine-sizes].</span></span>

<span data-ttu-id="5db03-155">Ha meglévő számítási feladatot helyez át az Azure-ba, kezdetnek azt a virtuálisgép-méretet válassza, amely a leginkább egyezik a helyszíni kiszolgálói méretével.</span><span class="sxs-lookup"><span data-stu-id="5db03-155">If you are moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="5db03-156">Ezután mérje meg a valós számítási feladat teljesítményét a CPU, a memória és a lemez másodpercenkénti bemeneti/kimeneti műveletei (IOPS) figyelembe vételével, és módosítsa a méretet, ha szükséges.</span><span class="sxs-lookup"><span data-stu-id="5db03-156">Then measure the performance of your actual workload with respect to CPU, memory, and disk input/output operations per second (IOPS), and adjust the size if needed.</span></span> <span data-ttu-id="5db03-157">Ha több hálózati adapterre van szükség a virtuális géphez, vegye figyelembe, hogy a hálózati adapterek maximális száma a [virtuálisgép-méret][vm-size-tables] függvénye.</span><span class="sxs-lookup"><span data-stu-id="5db03-157">If you require multiple NICs for your VM, be aware that the maximum number of NICs is a function of the [VM size][vm-size-tables].</span></span>

<span data-ttu-id="5db03-158">Amikor üzembe helyezi a virtuális gépet és az egyéb erőforrásokat, meg kell adnia egy régiót.</span><span class="sxs-lookup"><span data-stu-id="5db03-158">When you provision the VM and other resources, you must specify a region.</span></span> <span data-ttu-id="5db03-159">A legjobb megoldás, ha a belső felhasználóihoz vagy ügyfeleihez legközelebb eső régiót választja.</span><span class="sxs-lookup"><span data-stu-id="5db03-159">Generally, choose a region closest to your internal users or customers.</span></span> <span data-ttu-id="5db03-160">Azonban nem minden virtuálisgép-méret érhető el minden régióban.</span><span class="sxs-lookup"><span data-stu-id="5db03-160">However, not all VM sizes may be available in all region.</span></span> <span data-ttu-id="5db03-161">Részletek: [Szolgáltatások régiónként][services-by-region].</span><span class="sxs-lookup"><span data-stu-id="5db03-161">For details, see [Services by region][services-by-region].</span></span> <span data-ttu-id="5db03-162">A Virtuálisgép-méretek érhető el egy adott régióban listájában, a következő Azure parancssori felület (CLI) parancsot:</span><span class="sxs-lookup"><span data-stu-id="5db03-162">To list the VM sizes available in a specific region, run the following Azure command-line interface (CLI) command:</span></span>

```
az vm list-sizes --location <location>
```

<span data-ttu-id="5db03-163">Információk közzétett virtuálisgép-rendszerkép kiválasztásáról: [Linux virtuális gép rendszerképének kiválasztása az Azure CLI-vel][select-vm-image].</span><span class="sxs-lookup"><span data-stu-id="5db03-163">For information about choosing a published VM image, see [Select Linux VM images with the Azure CLI][select-vm-image].</span></span>

<span data-ttu-id="5db03-164">Engedélyezze a megfigyelést és a diagnosztikát, beleértve az alapvető állapotmetrikákat, a diagnosztikai infrastruktúra naplófájljait és a [rendszerindítási diagnosztikát][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="5db03-164">Enable monitoring and diagnostics, including basic health metrics, diagnostics infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="5db03-165">Rendszerindítási diagnosztika segíthetnek diagnosztizálni rendszerindítási hiba, ha a virtuális gép nem indítható állapotának beolvasása.</span><span class="sxs-lookup"><span data-stu-id="5db03-165">Boot diagnostics can help you diagnose boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="5db03-166">További információkat [a megfigyelés és a diagnosztika engedélyezésével kapcsolatos][enable-monitoring] szakaszban találhat.</span><span class="sxs-lookup"><span data-stu-id="5db03-166">For more information, see [Enable monitoring and diagnostics][enable-monitoring].</span></span>  

### <a name="disk-and-storage-recommendations"></a><span data-ttu-id="5db03-167">A lemezre és a tárolásra vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="5db03-167">Disk and storage recommendations</span></span>

<span data-ttu-id="5db03-168">A legjobb adatátviteli teljesítmény érdekében javasoljuk a [Premium Storage][premium-storage] tárolást, amely SSD meghajtókon tárolja az adatokat.</span><span class="sxs-lookup"><span data-stu-id="5db03-168">For best disk I/O performance, we recommend [Premium Storage][premium-storage], which stores data on solid-state drives (SSDs).</span></span> <span data-ttu-id="5db03-169">A költség az üzembe helyezett lemez méretétől függően változik.</span><span class="sxs-lookup"><span data-stu-id="5db03-169">Cost is based on the size of the provisioned disk.</span></span> <span data-ttu-id="5db03-170">AZ IOPS és az átviteli sebesség (azaz az adatátviteli sebesség) a lemezmérettől is függ, ezért lemezek üzembe helyezésekor vegye figyelembe mindhárom tényezőt (kapacitás, IOPS és átviteli sebesség).</span><span class="sxs-lookup"><span data-stu-id="5db03-170">IOPS and throughput (that is, data transfer rate) also depend on disk size, so when you provision a disk, consider all three factors (capacity, IOPS, and throughput).</span></span> 

<span data-ttu-id="5db03-171">Azt is javasoljuk a használatát [által kezelt lemezeken](/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="5db03-171">We also recommend the use of [managed disks](/azure/storage/storage-managed-disks-overview).</span></span> <span data-ttu-id="5db03-172">Kezelt lemezeken nincs szükség a storage-fiók.</span><span class="sxs-lookup"><span data-stu-id="5db03-172">Managed disks do not require a storage account.</span></span> <span data-ttu-id="5db03-173">Egyszerűen adja meg, méretének és típusú lemez, és azt magas rendelkezésre állású úgy van telepítve.</span><span class="sxs-lookup"><span data-stu-id="5db03-173">You simply specify the size and type of disk and it is deployed in a highly available way.</span></span>

<span data-ttu-id="5db03-174">Ha felügyelt lemezek nem használ, hozzon létre külön Azure-tárfiókokat az egyes virtuális gépek a virtuális merevlemezek (VHD) ahhoz, hogy elérte-e az IOPS-korlátok vonatkoznak storage-fiókok elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="5db03-174">If you are not using managed disks, create separate Azure storage accounts for each VM to hold the virtual hard disks (VHDs) in order to avoid hitting the IOPS limits for storage accounts.</span></span>

<span data-ttu-id="5db03-175">Adjon hozzá egy vagy több adatlemezt.</span><span class="sxs-lookup"><span data-stu-id="5db03-175">Add one or more data disks.</span></span> <span data-ttu-id="5db03-176">A létrehozott VHD-k nincsenek formázva.</span><span class="sxs-lookup"><span data-stu-id="5db03-176">When you create a VHD, it is unformatted.</span></span> <span data-ttu-id="5db03-177">A lemez formázásához jelentkezzen be a virtuális gépre.</span><span class="sxs-lookup"><span data-stu-id="5db03-177">Log in to the VM to format the disk.</span></span> <span data-ttu-id="5db03-178">A Linux felületen az adatlemezek `/dev/sdc`, `/dev/sdd` stb. formátumban jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="5db03-178">In the Linux shell, data disks are displayed as `/dev/sdc`, `/dev/sdd`, and so on.</span></span> <span data-ttu-id="5db03-179">Az `lsblk` futtatásával listázhatja a blokkeszközöket, beleértve a lemezeket.</span><span class="sxs-lookup"><span data-stu-id="5db03-179">You can run `lsblk` to list the block devices, including the disks.</span></span> <span data-ttu-id="5db03-180">Adatlemez használatához hozzon létre egy partíciót és egy fájlrendszert, majd csatlakoztassa a lemezt.</span><span class="sxs-lookup"><span data-stu-id="5db03-180">To use a data disk, create a partition and file system, and mount the disk.</span></span> <span data-ttu-id="5db03-181">Példa:</span><span class="sxs-lookup"><span data-stu-id="5db03-181">For example:</span></span>

```bat
# Create a partition.
sudo fdisk /dev/sdc     # Enter 'n' to partition, 'w' to write the change.

# Create a file system.
sudo mkfs -t ext3 /dev/sdc1

# Mount the drive.
sudo mkdir /data1
sudo mount /dev/sdc1 /data1
```

<span data-ttu-id="5db03-182">Ha nem használ [által kezelt lemezeken](/azure/storage/storage-managed-disks-overview) és sok adatlemez, vegye figyelembe a teljes i/o-korlátozás a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="5db03-182">If you are not using [managed disks](/azure/storage/storage-managed-disks-overview) and have a large number of data disks, be aware of the total I/O limits of the storage account.</span></span> <span data-ttu-id="5db03-183">További információkért lásd a [virtuálisgép-lemez korlátaival kapcsolatos][vm-disk-limits] szakaszt.</span><span class="sxs-lookup"><span data-stu-id="5db03-183">For more information, see [virtual machine disk limits][vm-disk-limits].</span></span>

<span data-ttu-id="5db03-184">Adatlemez hozzáadásakor a rendszer hozzárendel egy logikaiegység-szám (LUN) azonosítót a lemezhez.</span><span class="sxs-lookup"><span data-stu-id="5db03-184">When you add a data disk, a logical unit number (LUN) ID is assigned to the disk.</span></span> <span data-ttu-id="5db03-185">Lehetősége van megadni a LUN azonosítót &mdash; – ha például lecserél egy lemezt, de meg akarja tartani a LUN azonosítót, vagy ha egy alkalmazása egy konkrét LUN azonosítót keres.</span><span class="sxs-lookup"><span data-stu-id="5db03-185">Optionally, you can specify the LUN ID &mdash; for example, if you're replacing a disk and want to retain the same LUN ID, or you have an application that looks for a specific LUN ID.</span></span> <span data-ttu-id="5db03-186">Ne feledje azonban, hogy az egyes lemezek LUN azonosítóinak egyedinek kell lenniük.</span><span class="sxs-lookup"><span data-stu-id="5db03-186">However, remember that LUN IDs must be unique for each disk.</span></span>

<span data-ttu-id="5db03-187">Érdemes lehet módosítani az i/o-ütemező optimalizálása SSD-k teljesítményt, mert a lemez virtuális gépek a prémium szintű tárfiókok SSD-k.</span><span class="sxs-lookup"><span data-stu-id="5db03-187">You may want to change the I/O scheduler to optimize for performance on SSDs because the disks for VMs with premium storage accounts are SSDs.</span></span> <span data-ttu-id="5db03-188">A közös javasoljuk, hogy használja a NOOP Feladatütemező SSD-k, de például ajánlott egy eszköz [iostat] a munkaterheléshez lemez i/o-teljesítményének figyelése.</span><span class="sxs-lookup"><span data-stu-id="5db03-188">A common recommendation is to use the NOOP scheduler for SSDs, but you should use a tool such as [iostat] to monitor disk I/O performance for your workload.</span></span>

<span data-ttu-id="5db03-189">A legjobb teljesítmény érdekében hozzon létre egy önálló tárfiókot a diagnosztikai naplók tárolására.</span><span class="sxs-lookup"><span data-stu-id="5db03-189">For best performance, create a separate storage account to hold diagnostic logs.</span></span> <span data-ttu-id="5db03-190">Egy standard helyileg redundáns tárolási (LRS) fiók elegendő a diagnosztikai naplókhoz.</span><span class="sxs-lookup"><span data-stu-id="5db03-190">A standard locally redundant storage (LRS) account is sufficient for diagnostic logs.</span></span>

### <a name="network-recommendations"></a><span data-ttu-id="5db03-191">Hálózatokra vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="5db03-191">Network recommendations</span></span>

<span data-ttu-id="5db03-192">A nyilvános IP-cím lehet dinamikus vagy statikus.</span><span class="sxs-lookup"><span data-stu-id="5db03-192">The public IP address can be dynamic or static.</span></span> <span data-ttu-id="5db03-193">Alapértelmezés szerint dinamikus.</span><span class="sxs-lookup"><span data-stu-id="5db03-193">The default is dynamic.</span></span>

* <span data-ttu-id="5db03-194">Akkor foglaljon le [statikus IP-címet][static-ip], ha rögzített, nem módosuló IP-címre van szüksége – például ha egy A rekordot kell létrehoznia a DNS-ben, vagy ha hozzá kell adnia az IP-címet a biztonságos elemek listájához.&mdash;</span><span class="sxs-lookup"><span data-stu-id="5db03-194">Reserve a [static IP address][static-ip] if you need a fixed IP address that won't change &mdash; for example, if you need to create an A record in DNS, or need the IP address to be added to a safe list.</span></span>
* <span data-ttu-id="5db03-195">Létrehozhat egy teljes tartománynevet (FQDN) is az IP-címhez.</span><span class="sxs-lookup"><span data-stu-id="5db03-195">You can also create a fully qualified domain name (FQDN) for the IP address.</span></span> <span data-ttu-id="5db03-196">Ezután a DNS-ben regisztrálhat egy, az FQDN-re mutató [CNAME rekordot][cname-record].</span><span class="sxs-lookup"><span data-stu-id="5db03-196">You can then register a [CNAME record][cname-record] in DNS that points to the FQDN.</span></span> <span data-ttu-id="5db03-197">További információért tekintse meg a [teljes tartománynév az Azure Portalon való létrehozásával kapcsolatos][fqdn] szakaszt.</span><span class="sxs-lookup"><span data-stu-id="5db03-197">For more information, see [create a fully qualified domain name in the Azure portal][fqdn].</span></span>

<span data-ttu-id="5db03-198">Minden NSG tartalmaz egy [alapértelmezett szabálykészletet][nsg-default-rules], amelyben szerepel egy minden bejövő internetes forgalmat blokkoló szabály.</span><span class="sxs-lookup"><span data-stu-id="5db03-198">All NSGs contain a set of [default rules][nsg-default-rules], including a rule that blocks all inbound Internet traffic.</span></span> <span data-ttu-id="5db03-199">Az alapértelmezett szabályok nem törölhetők, azonban más szabályokkal felülírhatók.</span><span class="sxs-lookup"><span data-stu-id="5db03-199">The default rules cannot be deleted, but other rules can override them.</span></span> <span data-ttu-id="5db03-200">Az internetes forgalom engedélyezéséhez hozzon létre olyan szabályokat, amelyek adott portokon engedélyezik a bejövő forgalmat – például a HTTP-hez a 80-as porton.&mdash;</span><span class="sxs-lookup"><span data-stu-id="5db03-200">To enable Internet traffic, create rules that allow inbound traffic to specific ports &mdash; for example, port 80 for HTTP.</span></span>

<span data-ttu-id="5db03-201">Az SSH engedélyezéséhez adjon hozzá egy szabályt az NSG-hez, amely engedélyezi a bejövő internetes forgalmat a 22-es TCP-portra.</span><span class="sxs-lookup"><span data-stu-id="5db03-201">To enable SSH, add a rule to the NSG that allows inbound traffic to TCP port 22.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="5db03-202">Méretezési szempontok</span><span class="sxs-lookup"><span data-stu-id="5db03-202">Scalability considerations</span></span>

<span data-ttu-id="5db03-203">Méretezheti a virtuális gépek felfelé vagy lefelé által [módosítása a Virtuálisgép-méretet][vm-resize].</span><span class="sxs-lookup"><span data-stu-id="5db03-203">You can scale a VM up or down by [changing the VM size][vm-resize].</span></span> <span data-ttu-id="5db03-204">Horizontális vízszintesen, két vagy több virtuális gép egy terheléselosztó mögött elhelyezni.</span><span class="sxs-lookup"><span data-stu-id="5db03-204">To scale out horizontally, put two or more VMs behind a load balancer.</span></span> <span data-ttu-id="5db03-205">További információkért lásd: [több virtuális gépek Azure-on futó, a méretezhetőség és a rendelkezésre állási][multi-vm].</span><span class="sxs-lookup"><span data-stu-id="5db03-205">For details, see [Running multiple VMs on Azure for scalability and availability][multi-vm].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="5db03-206">Rendelkezésre állási szempontok</span><span class="sxs-lookup"><span data-stu-id="5db03-206">Availability considerations</span></span>

<span data-ttu-id="5db03-207">Magas rendelkezésre állás érdekében telepítsen több virtuális gép rendelkezésre állási csoportba.</span><span class="sxs-lookup"><span data-stu-id="5db03-207">For higher availability, deploy multiple VMs in an availability set.</span></span> <span data-ttu-id="5db03-208">Ez magasabb szintű [szolgáltatói szerződést][vm-sla] (SLA-t) biztosít.</span><span class="sxs-lookup"><span data-stu-id="5db03-208">This also provides a higher [service level agreement][vm-sla]  (SLA).</span></span>

<span data-ttu-id="5db03-209">A virtuális gépre hatással lehet egy [tervezett karbantartás][planned-maintenance] vagy egy [nem tervezett karbantartás][manage-vm-availability].</span><span class="sxs-lookup"><span data-stu-id="5db03-209">Your VM may be affected by [planned maintenance][planned-maintenance] or [unplanned maintenance][manage-vm-availability].</span></span> <span data-ttu-id="5db03-210">Annak megállapításához, hogy a virtuális gép újraindítását egy tervezett karbantartás okozta-e, használja a [virtuális gépek újraindítási naplóit][reboot-logs].</span><span class="sxs-lookup"><span data-stu-id="5db03-210">You can use [VM reboot logs][reboot-logs] to determine whether a VM reboot was caused by planned maintenance.</span></span>

<span data-ttu-id="5db03-211">A VHD-ket a rendszer az [Azure Storage][azure-storage]-ban tárolja, és az Azure Storage a tartósság és a rendelkezésre állás érdekében replikálva van.</span><span class="sxs-lookup"><span data-stu-id="5db03-211">VHDs are stored in [Azure storage][azure-storage], and Azure storage is replicated for durability and availability.</span></span>

<span data-ttu-id="5db03-212">A normál műveletek során történő véletlen (például hiba miatti) adatvesztés elleni védelem érdekében érdemes időponthoz kötött biztonsági mentéseket is megvalósítani [blob-pillanatképekkel][blob-snapshot] vagy más eszközzel.</span><span class="sxs-lookup"><span data-stu-id="5db03-212">To protect against accidental data loss during normal operations (for example, because of user error), you should also implement point-in-time backups, using [blob snapshots][blob-snapshot] or another tool.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="5db03-213">Felügyeleti szempontok</span><span class="sxs-lookup"><span data-stu-id="5db03-213">Manageability considerations</span></span>

<span data-ttu-id="5db03-214">**Erőforráscsoportok.**</span><span class="sxs-lookup"><span data-stu-id="5db03-214">**Resource groups.**</span></span> <span data-ttu-id="5db03-215">A szorosan összekapcsolt, azonos életciklusú erőforrásokat helyezze egy [erőforráscsoportba][resource-manager-overview].</span><span class="sxs-lookup"><span data-stu-id="5db03-215">Put tightly coupled resources that share the same life cycle into the same [resource group][resource-manager-overview].</span></span> <span data-ttu-id="5db03-216">Az erőforráscsoportok segítségével csoportosan helyezhet üzembe és figyelhet erőforrásokat, és a számlázási költségeket erőforráscsoportonként összegezheti.</span><span class="sxs-lookup"><span data-stu-id="5db03-216">Resource groups allow you to deploy and monitor resources as a group, and roll up billing costs by resource group.</span></span> <span data-ttu-id="5db03-217">Az erőforrásokat törölheti is készletenként. Ez nagyon hasznos tesztkörnyezetek esetében.</span><span class="sxs-lookup"><span data-stu-id="5db03-217">You can also delete resources as a set, which is very useful for test deployments.</span></span> <span data-ttu-id="5db03-218">Az erőforrásoknak adjon kifejező nevet,</span><span class="sxs-lookup"><span data-stu-id="5db03-218">Give resources meaningful names.</span></span> <span data-ttu-id="5db03-219">így könnyebb megtalálni egy adott erőforrást és megérteni a szerepét.</span><span class="sxs-lookup"><span data-stu-id="5db03-219">That makes it easier to locate a specific resource and understand its role.</span></span> <span data-ttu-id="5db03-220">Lásd: [Az Azure-erőforrások ajánlott elnevezési konvenciói][naming conventions].</span><span class="sxs-lookup"><span data-stu-id="5db03-220">See [Recommended Naming Conventions for Azure Resources][naming conventions].</span></span>

<span data-ttu-id="5db03-221">**SSH**.</span><span class="sxs-lookup"><span data-stu-id="5db03-221">**SSH**.</span></span> <span data-ttu-id="5db03-222">Linux virtuális gép létrehozása előtt hozzon létre egy 2048 bites RSA nyilvános-titkos kulcspárt.</span><span class="sxs-lookup"><span data-stu-id="5db03-222">Before you create a Linux VM, generate a 2048-bit RSA public-private key pair.</span></span> <span data-ttu-id="5db03-223">A virtuális gép létrehozásakor használja a nyilvánoskulcs-fájlt.</span><span class="sxs-lookup"><span data-stu-id="5db03-223">Use the public key file when you create the VM.</span></span> <span data-ttu-id="5db03-224">További információ: [SSH használata Linuxon és Macen az Azure-on][ssh-linux].</span><span class="sxs-lookup"><span data-stu-id="5db03-224">For more information, see [How to Use SSH with Linux and Mac on Azure][ssh-linux].</span></span>

<span data-ttu-id="5db03-225">**Virtuális gépek leállítása.**</span><span class="sxs-lookup"><span data-stu-id="5db03-225">**Stopping a VM.**</span></span> <span data-ttu-id="5db03-226">Az Azure különbséget tesz a „leállított” és a „felszabadított” állapot között.</span><span class="sxs-lookup"><span data-stu-id="5db03-226">Azure makes a distinction between "stopped" and "deallocated" states.</span></span> <span data-ttu-id="5db03-227">A leállított virtuális gépek után fizetni kell, a felszabadítottak után azonban nem.</span><span class="sxs-lookup"><span data-stu-id="5db03-227">You are charged when the VM status is stopped, but not when the VM is deallocated.</span></span> 

<span data-ttu-id="5db03-228">Az Azure Portalon a **Leállítás** gombbal szabadítható fel a virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="5db03-228">In the Azure portal, the **Stop** button deallocates the VM.</span></span> <span data-ttu-id="5db03-229">Ha leállítja az operációs rendszer bejelentkezett keresztül, a virtuális gép le van-e állítva, de *nem* felszabadítása. lehetséges, így továbbra is fizetnie kell.</span><span class="sxs-lookup"><span data-stu-id="5db03-229">If you shut down through the OS while logged in, the VM is stopped but *not* deallocated, so you will still be charged.</span></span> 

<span data-ttu-id="5db03-230">**Virtuális gépek törlése.**</span><span class="sxs-lookup"><span data-stu-id="5db03-230">**Deleting a VM.**</span></span> <span data-ttu-id="5db03-231">Ha töröl egy virtuális gépet, a VHD-k nem törlődnek.</span><span class="sxs-lookup"><span data-stu-id="5db03-231">If you delete a VM, the VHDs are not deleted.</span></span> <span data-ttu-id="5db03-232">Ez azt jelenti, hogy biztonságosan törölheti a virtuális gépet anélkül, hogy adatot vesztene.</span><span class="sxs-lookup"><span data-stu-id="5db03-232">That means you can safely delete the VM without losing data.</span></span> <span data-ttu-id="5db03-233">A tárolásért azonban továbbra is díjat kell fizetnie.</span><span class="sxs-lookup"><span data-stu-id="5db03-233">However, you will still be charged for storage.</span></span> <span data-ttu-id="5db03-234">A VHD törléséhez törölje a fájlt a [Blob Storage-ból][blob-storage].</span><span class="sxs-lookup"><span data-stu-id="5db03-234">To delete the VHD, delete the file from [Blob storage][blob-storage].</span></span>

<span data-ttu-id="5db03-235">A véletlen törlés megelőzése érdekében használjon [erőforrászárat][resource-lock]. Ezzel zárolhat egy egész erőforráscsoportot, vagy egyes erőforrásokat, például a virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="5db03-235">To prevent accidental deletion, use a [resource lock][resource-lock] to lock the entire resource group or lock individual resources, such as the VM.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="5db03-236">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="5db03-236">Security considerations</span></span>

<span data-ttu-id="5db03-237">Használjon [az Azure Security Center] [ security-center] való központi láthatja az Azure-erőforrások biztonsági állapotát.</span><span class="sxs-lookup"><span data-stu-id="5db03-237">Use [Azure Security Center][security-center] to get a central view of the security state of your Azure resources.</span></span> <span data-ttu-id="5db03-238">A Security Center a potenciális biztonsági problémákat figyeli, és biztonsági állapotát a központi telepítés átfogó képet nyújt.</span><span class="sxs-lookup"><span data-stu-id="5db03-238">Security Center monitors potential security issues and provides a comprehensive picture of the security health of your deployment.</span></span> <span data-ttu-id="5db03-239">A Security Center / Azure-előfizetés úgy van beállítva.</span><span class="sxs-lookup"><span data-stu-id="5db03-239">Security Center is configured per Azure subscription.</span></span> <span data-ttu-id="5db03-240">Biztonsági adatok gyűjtésének engedélyezése a [az Azure Security Center használatába][security-center-get-started].</span><span class="sxs-lookup"><span data-stu-id="5db03-240">Enable security data collection as described in [Azure Security Center quick start guide][security-center-get-started].</span></span> <span data-ttu-id="5db03-241">Adatgyűjtés engedélyezésekor a rendszer a Security Center automatikusan ellenőrzi a bármely adott előfizetésen belül létrehozott virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="5db03-241">When data collection is enabled, Security Center automatically scans any VMs created under that subscription.</span></span>

<span data-ttu-id="5db03-242">**Javítás kezelése.**</span><span class="sxs-lookup"><span data-stu-id="5db03-242">**Patch management.**</span></span> <span data-ttu-id="5db03-243">Ha engedélyezve van, a Security Center ellenőrzi, hogy biztonsági és kritikus frissítések hiányoznak.</span><span class="sxs-lookup"><span data-stu-id="5db03-243">If enabled, Security Center checks whether security and critical updates are missing.</span></span> 

<span data-ttu-id="5db03-244">**Kártevőirtó.**</span><span class="sxs-lookup"><span data-stu-id="5db03-244">**Antimalware.**</span></span> <span data-ttu-id="5db03-245">Ha engedélyezve van, a Security Center ellenőrzi, hogy telepítve van-e a kártevőirtó szoftver.</span><span class="sxs-lookup"><span data-stu-id="5db03-245">If enabled, Security Center checks whether antimalware software is installed.</span></span> <span data-ttu-id="5db03-246">A Security Center az Azure-portálon belül a kártevőirtó szoftver telepítéséhez is használható.</span><span class="sxs-lookup"><span data-stu-id="5db03-246">You can also use Security Center to install antimalware software from inside the Azure portal.</span></span>

<span data-ttu-id="5db03-247">**Műveletek.**</span><span class="sxs-lookup"><span data-stu-id="5db03-247">**Operations.**</span></span> <span data-ttu-id="5db03-248">A [szerepköralapú hozzáférés-vezérléssel][rbac] (RBAC) szabályozható az üzembe helyezett Azure-erőforrásokhoz való hozzáférés.</span><span class="sxs-lookup"><span data-stu-id="5db03-248">Use [role-based access control][rbac] (RBAC) to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="5db03-249">Az RBAC lehetővé teszi, hogy engedélyezési szerepköröket rendeljen a fejlesztő és üzemeltető csapata tagjaihoz.</span><span class="sxs-lookup"><span data-stu-id="5db03-249">RBAC lets you assign authorization roles to members of your DevOps team.</span></span> <span data-ttu-id="5db03-250">Az Olvasó szerepkör például áttekintheti az Azure-erőforrásokat, de nem hozhatja létre, nem kezelheti és nem törölheti őket.</span><span class="sxs-lookup"><span data-stu-id="5db03-250">For example, the Reader role can view Azure resources but not create, manage, or delete them.</span></span> <span data-ttu-id="5db03-251">Bizonyos szerepkörök kifejezetten egy adott Azure-erőforrástípusra jellemzők.</span><span class="sxs-lookup"><span data-stu-id="5db03-251">Some roles are specific to particular Azure resource types.</span></span> <span data-ttu-id="5db03-252">Például a virtuális gép közreműködő szerepkört is indítsa újra a virtuális gép felszabadítása, a rendszergazdai jelszó visszaállítása, hozzon létre egy új virtuális Gépet, illetve stb.</span><span class="sxs-lookup"><span data-stu-id="5db03-252">For example, the Virtual Machine Contributor role can restart or deallocate a VM, reset the administrator password, create a new VM, and so forth.</span></span> <span data-ttu-id="5db03-253">Más [beépített RBAC-szerepkörök] [ rbac-roles] , amelyek hasznosak lehetnek a következők ebbe az architektúrába [DevTest Labs felhasználói] [ rbac-devtest] és [ A közreműködői hálózati][rbac-network].</span><span class="sxs-lookup"><span data-stu-id="5db03-253">Other [built-in RBAC roles][rbac-roles] that might be useful for this architecture include [DevTest Labs User][rbac-devtest] and [Network Contributor][rbac-network].</span></span> <span data-ttu-id="5db03-254">Egy felhasználóhoz több szerepkört is rendelhető, és létrehozhat egyéni szerepköröket a még részletesebb engedélyek érdekében.</span><span class="sxs-lookup"><span data-stu-id="5db03-254">A user can be assigned to multiple roles, and you can create custom roles for even more fine-grained permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="5db03-255">Az RBAC nem korlátozza a virtuális gépre bejelentkezett felhasználó által végezhető műveleteket.</span><span class="sxs-lookup"><span data-stu-id="5db03-255">RBAC does not limit the actions that a user logged into a VM can perform.</span></span> <span data-ttu-id="5db03-256">Azokat az engedélyeket a vendég operációs rendszeren lévő fiók típusa határozza meg.</span><span class="sxs-lookup"><span data-stu-id="5db03-256">Those permissions are determined by the account type on the guest OS.</span></span>   

<span data-ttu-id="5db03-257">A [vizsgálati naplók][audit-logs] segítségével megtekintheti az üzembe helyezési műveleteket és más virtuálisgép-eseményeket.</span><span class="sxs-lookup"><span data-stu-id="5db03-257">Use [audit logs][audit-logs] to see provisioning actions and other VM events.</span></span>

<span data-ttu-id="5db03-258">**Adattitkosítás.**</span><span class="sxs-lookup"><span data-stu-id="5db03-258">**Data encryption.**</span></span> <span data-ttu-id="5db03-259">Ha titkosítania kell az operációs rendszert és az adatlemezeket, érdemes megfontolnia az [Azure Disk Encryption][disk-encryption] használatát.</span><span class="sxs-lookup"><span data-stu-id="5db03-259">Consider [Azure Disk Encryption][disk-encryption] if you need to encrypt the OS and data disks.</span></span> 

## <a name="deploy-the-solution"></a><span data-ttu-id="5db03-260">A megoldás üzembe helyezéséhez</span><span class="sxs-lookup"><span data-stu-id="5db03-260">Deploy the solution</span></span>

<span data-ttu-id="5db03-261">Ez az architektúra telepítésének érhető el a [GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="5db03-261">A deployment for this architecture is available on [GitHub][github-folder].</span></span> <span data-ttu-id="5db03-262">Telepíti a következő:</span><span class="sxs-lookup"><span data-stu-id="5db03-262">It deploys the following:</span></span>

  * <span data-ttu-id="5db03-263">Egy virtuális hálózatot egyetlen alhálózattal nevű **webes** üzemeltetni a virtuális Gépet.</span><span class="sxs-lookup"><span data-stu-id="5db03-263">A virtual network with a single subnet named **web** used to host the VM.</span></span>
  * <span data-ttu-id="5db03-264">Egy NSG két bejövő szabály az SSH és a HTTP-forgalom a virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="5db03-264">An NSG with two incoming rules to allow SSH and HTTP traffic to the VM.</span></span>
  * <span data-ttu-id="5db03-265">A legújabb verziója Ubuntu 16.04.3 virtuális gép LTS.</span><span class="sxs-lookup"><span data-stu-id="5db03-265">A VM running the latest version of Ubuntu 16.04.3 LTS.</span></span>
  * <span data-ttu-id="5db03-266">Egy minta egyéni parancsprogramok futtatására szolgáló bővítmény, amely az Apache HTTP Server telepíti az Ubuntu virtuális gép, és formázza a két adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="5db03-266">A sample custom script extension that deploys Apache HTTP Server to the Ubuntu VM, and formats the two data disks.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="5db03-267">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="5db03-267">Prerequisites</span></span>

<span data-ttu-id="5db03-268">Mielőtt a saját előfizetésének telepítése a referencia-architektúrában, a következő lépésekkel kell azt.</span><span class="sxs-lookup"><span data-stu-id="5db03-268">Before you can deploy the reference architecture to your own subscription, you must perform the following steps.</span></span>

1. <span data-ttu-id="5db03-269">Klónozza, ágaztassa vagy a zip-fájl letöltése a [AzureCAT referencia architektúra] [ ref-arch-repo] GitHub-tárházban.</span><span class="sxs-lookup"><span data-stu-id="5db03-269">Clone, fork, or download the zip file for the [AzureCAT reference architectures][ref-arch-repo] GitHub repository.</span></span>

2. <span data-ttu-id="5db03-270">Győződjön meg arról, hogy az Azure CLI 2.0 telepítve a számítógépre.</span><span class="sxs-lookup"><span data-stu-id="5db03-270">Make sure you have the Azure CLI 2.0 installed on your computer.</span></span> <span data-ttu-id="5db03-271">A parancssori felület telepítéséhez kövesse az utasításokat a [Azure CLI 2.0 telepítése][azure-cli-2].</span><span class="sxs-lookup"><span data-stu-id="5db03-271">To install the CLI, follow the instructions in [Install Azure CLI 2.0][azure-cli-2].</span></span>

3. <span data-ttu-id="5db03-272">Telepítse a [Azure építőelemeket] [ azbb] npm csomag.</span><span class="sxs-lookup"><span data-stu-id="5db03-272">Install the [Azure building blocks][azbb] npm package.</span></span>

4. <span data-ttu-id="5db03-273">A parancssorból bash, vagy PowerShell kérdés, jelentkezzen be az Azure-fiókjával használja az alábbi parancsok egyikét, és kövesse az utasításokat.</span><span class="sxs-lookup"><span data-stu-id="5db03-273">From a command prompt, bash prompt, or PowerShell prompt, login to your Azure account by using one of the commands below, and follow the prompts.</span></span>

  ```bash
  az login
  ```

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="5db03-274">Az üzembe helyezéséhez azbb használatával</span><span class="sxs-lookup"><span data-stu-id="5db03-274">Deploy the solution using azbb</span></span>

<span data-ttu-id="5db03-275">A minta egyetlen virtuális gép számítási feladat telepítéséhez kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="5db03-275">To deploy the sample single VM workload, follow these steps:</span></span>

1. <span data-ttu-id="5db03-276">Keresse meg a `virtual-machines\single-vm\parameters\linux` a fenti előfeltételek lépésben letöltött tárház mappát.</span><span class="sxs-lookup"><span data-stu-id="5db03-276">Navigate to the `virtual-machines\single-vm\parameters\linux` folder for the repository you downloaded in the pre-requisites step above.</span></span>

2. <span data-ttu-id="5db03-277">Nyissa meg a `single-vm-v2.json` fájlt, és adjon meg egy felhasználónév és SSH-kulcs az idézőjelek között alább látható módon, majd mentse a fájlt.</span><span class="sxs-lookup"><span data-stu-id="5db03-277">Open the `single-vm-v2.json` file and enter a username and SSH key between the quotes, as shown below, then save the file.</span></span>

  ```bash
  "adminUsername": "",
  "adminsshPublicKey": "",
  ```

3. <span data-ttu-id="5db03-278">Futtatás `azbb` a minta virtuális gép telepítése a lent látható módon.</span><span class="sxs-lookup"><span data-stu-id="5db03-278">Run `azbb` to deploy the sample VM as shown below.</span></span>

  ```bash
  azbb -s <subscription_id> -g <resource_group_name> -l <location> -p single-vm-v2.json --deploy
  ```

<span data-ttu-id="5db03-279">A minta referenciaarchitektúra telepítésével kapcsolatos további információkért látogasson el a [GitHub-tárházban][git].</span><span class="sxs-lookup"><span data-stu-id="5db03-279">For more information on deploying this sample reference architecture, visit our [GitHub repository][git].</span></span>

## <a name="next-steps"></a><span data-ttu-id="5db03-280">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="5db03-280">Next steps</span></span>

- <span data-ttu-id="5db03-281">További tudnivalók a [Azure építőelemeket][azbbv2].</span><span class="sxs-lookup"><span data-stu-id="5db03-281">Learn about our [Azure building Blocks][azbbv2].</span></span>
- <span data-ttu-id="5db03-282">Telepítése [több virtuális gép] [ multi-vm] az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="5db03-282">Deploy [multiple VMs][multi-vm] in Azure.</span></span>

<!-- links -->
[git]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[multi-vm]: ../virtual-machines-linux/multi-vm.md
[naming conventions]: ../../best-practices/naming-conventions.md
[audit-logs]: https://azure.microsoft.com/blog/analyze-azure-audit-logs-in-powerbi-more/
[availability-set]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[azbb]: https://github.com/mspnp/template-building-blocks/wiki/Install-Azure-Building-Blocks
[azbbv2]: https://github.com/mspnp/template-building-blocks
[azure-cli-2]: /cli/azure/install-azure-cli?view=azure-cli-latest
[azure-linux]: /azure/virtual-machines/virtual-machines-linux-azure-overview
[azure-storage]: /azure/storage/storage-introduction
[blob-snapshot]: /azure/storage/storage-blob-snapshots
[blob-storage]: /azure/storage/storage-introduction
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[cname-record]: https://en.wikipedia.org/wiki/CNAME_record
[data-disk]: /azure/virtual-machines/virtual-machines-linux-about-disks-vhds
[disk-encryption]: /azure/security/azure-security-disk-encryption
[enable-monitoring]: /azure/monitoring-and-diagnostics/insights-how-to-use-diagnostics
[fqdn]: /azure/virtual-machines/virtual-machines-linux-portal-create-fqdn
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[iostat]: https://en.wikipedia.org/wiki/Iostat
[manage-vm-availability]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[nsg]: /azure/virtual-network/virtual-networks-nsg
[nsg-default-rules]: /azure/virtual-network/virtual-networks-nsg#default-rules
[OSPatching]: https://github.com/Azure/azure-linux-extensions/tree/master/OSPatching
[planned-maintenance]: /azure/virtual-machines/virtual-machines-linux-planned-maintenance
[premium-storage]: /azure/storage/storage-premium-storage
[rbac]: /azure/active-directory/role-based-access-control-what-is
[rbac-roles]: /azure/active-directory/role-based-access-built-in-roles
[rbac-devtest]: /azure/active-directory/role-based-access-built-in-roles#devtest-labs-user
[rbac-network]: /azure/active-directory/role-based-access-built-in-roles#network-contributor
[reboot-logs]: https://azure.microsoft.com/blog/viewing-vm-reboot-logs/
[ref-arch-repo]: https://github.com/mspnp/reference-architectures
[resource-lock]: /azure/resource-group-lock-resources
[resource-manager-overview]: /azure/azure-resource-manager/resource-group-overview
[security-center]: /azure/security-center/
[security-center-get-started]: /azure/security-center/security-center-get-started
[select-vm-image]: /azure/virtual-machines/virtual-machines-linux-cli-ps-findimage
[services-by-region]: https://azure.microsoft.com/regions/#services
[ssh-linux]: /azure/virtual-machines/virtual-machines-linux-mac-create-ssh-keys
[static-ip]: /azure/virtual-network/virtual-networks-reserved-public-ip
[virtual-machine-sizes]: /azure/virtual-machines/virtual-machines-linux-sizes
[visio-download]: https://archcenter.azureedge.net/cdn/vm-reference-architectures.vsdx
[vm-disk-limits]: /azure/azure-subscription-service-limits#virtual-machine-disk-limits
[vm-resize]: /azure/virtual-machines/virtual-machines-linux-change-vm-size
[vm-size-tables]: /azure/virtual-machines/virtual-machines-linux-sizes
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[readme]: https://github.com/mspnp/reference-architectures/blob/master/virtual-machines/single-vm/README.md
[0]: ./images/single-vm-diagram.png "Önálló Linux virtuális gép architektúra az Azure-ban"

