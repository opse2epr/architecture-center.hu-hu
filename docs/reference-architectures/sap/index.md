---
title: Az SAP NetWeaver és az SAP HANA üzembe helyezése az Azure-ban
description: Bevált eljárások az SAP HANA futtatásához magas rendelkezésre állású környezetben az Azure-ban.
author: njray
ms.date: 06/29/2017
ms.openlocfilehash: 33171164c59a520a87ef3209c5bb1b208377221c
ms.sourcegitcommit: c441fd165e6bebbbbbc19854ec6f3676be9c3b25
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/30/2018
---
# <a name="deploy-sap-netweaver-and-sap-hana-on-azure"></a><span data-ttu-id="d53d6-103">Az SAP NetWeaver és az SAP HANA üzembe helyezése az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="d53d6-103">Deploy SAP NetWeaver and SAP HANA on Azure</span></span>

<span data-ttu-id="d53d6-104">Ez a referenciaarchitektúra bemutat néhány bevált eljárást az SAP HANA futtatásához magas rendelkezésre állású környezetben az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="d53d6-104">This reference architecture shows a set of proven practices for running SAP HANA in a high availability environment on Azure.</span></span> [<span data-ttu-id="d53d6-105">**A megoldás üzembe helyezése**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-105">**Deploy this solution**.</span></span>](#deploy-the-solution)

<span data-ttu-id="d53d6-106">![0][0]</span><span class="sxs-lookup"><span data-stu-id="d53d6-106">![0][0]</span></span>

<span data-ttu-id="d53d6-107">*Töltse le az architektúra [Visio-fájlját][visio-download].*</span><span class="sxs-lookup"><span data-stu-id="d53d6-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

> [!NOTE]
> <span data-ttu-id="d53d6-108">A referenciaarchitektúra üzembe helyezéséhez SAP-termékek és más, nem a Microsoft által gyártott termékek megfelelő licence szükséges.</span><span class="sxs-lookup"><span data-stu-id="d53d6-108">Deploying this reference architecture requires appropriate licensing of SAP products and other non-Microsoft technologies.</span></span> <span data-ttu-id="d53d6-109">További információk a Microsoft és az SAP közti partneri kapcsolatról: [SAP HANA az Azure-ban][sap-hana-on-azure].</span><span class="sxs-lookup"><span data-stu-id="d53d6-109">For information about the partnership between Microsoft and SAP, see [SAP HANA on Azure][sap-hana-on-azure].</span></span>

## <a name="architecture"></a><span data-ttu-id="d53d6-110">Architektúra</span><span class="sxs-lookup"><span data-stu-id="d53d6-110">Architecture</span></span>

<span data-ttu-id="d53d6-111">Az architektúra a következőkben leírt összetevőkből áll.</span><span class="sxs-lookup"><span data-stu-id="d53d6-111">The architecture consists of the following components.</span></span>

- <span data-ttu-id="d53d6-112">**Virtuális hálózat (VNet)**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-112">**Virtual network (VNet)**.</span></span> <span data-ttu-id="d53d6-113">A VNet egy logikailag elkülönített hálózat megjelenítése az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="d53d6-113">A VNet is a representation of a logically isolated network in Azure.</span></span> <span data-ttu-id="d53d6-114">Ezen referenciaarchitektúra összes virtuális gépe ugyanazon a VNeten van üzembe helyezve.</span><span class="sxs-lookup"><span data-stu-id="d53d6-114">All of the VMs in this reference architecture are deployed to the same VNet.</span></span> <span data-ttu-id="d53d6-115">A virtuális hálózat további alhálózatokra oszlik.</span><span class="sxs-lookup"><span data-stu-id="d53d6-115">The VNet is further subdivided into subnets.</span></span> <span data-ttu-id="d53d6-116">Hozzon létre egy külön alhálózatot mindegyik réteghez, tehát az alkalmazáshoz (SAP NetWeaver), az adatbázishoz (SAP HANA), a felügyelethez (Jumpbox) és az Active Directoryhoz is.</span><span class="sxs-lookup"><span data-stu-id="d53d6-116">Create a separate subnet for each tier, including application (SAP NetWeaver), database (SAP HANA), management (the jumpbox), and Active Directory.</span></span>

- <span data-ttu-id="d53d6-117">**Virtuális gépek (VM-ek)**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-117">**Virtual machines (VMs)**.</span></span> <span data-ttu-id="d53d6-118">Ezen architektúra virtuális gépei több, jól elkülöníthető rétegbe vannak csoportosítva.</span><span class="sxs-lookup"><span data-stu-id="d53d6-118">The VMs for this architecture are grouped into several distinct tiers.</span></span>

    - <span data-ttu-id="d53d6-119">**SAP NetWeaver**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-119">**SAP NetWeaver**.</span></span> <span data-ttu-id="d53d6-120">Ide tartozik az SAP ASCS, az SAP Web Dispatcher és az SAP-alkalmazáskiszolgálók.</span><span class="sxs-lookup"><span data-stu-id="d53d6-120">Includes SAP ASCS, SAP Web Dispatcher, and the SAP application servers.</span></span> 
    
    - <span data-ttu-id="d53d6-121">**SAP HANA**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-121">**SAP HANA**.</span></span> <span data-ttu-id="d53d6-122">Ebben a referenciaarchitektúrában az adatbázisrétegben az SAP HANA található, amely egyetlen [GS5][vm-sizes-mem] példányon fut.</span><span class="sxs-lookup"><span data-stu-id="d53d6-122">This reference architecture uses SAP HANA for the database tier, running on a single [GS5][vm-sizes-mem] instance.</span></span> <span data-ttu-id="d53d6-123">Az SAP HANA tanúsítva van a GS5-ön futó termelési OLAP számítási feladatokhoz vagy a [nagyméretű Azure-példányokon futó SAP HANA-hoz][azure-large-instances].</span><span class="sxs-lookup"><span data-stu-id="d53d6-123">SAP HANA is certified for production OLAP workloads on GS5 or [SAP HANA on Azure Large Instances][azure-large-instances].</span></span> <span data-ttu-id="d53d6-124">Ez a referenciaarchitektúra az Azure-beli virtuális gépek G és M sorozataihoz készült.</span><span class="sxs-lookup"><span data-stu-id="d53d6-124">This reference architecture is for Azure virtual machines in the G-series and M-series.</span></span> <span data-ttu-id="d53d6-125">További információk a nagyméretű Azure-példányokon futó SAP HANA-ról: [Az SAP HANA (nagyméretű példányok) áttekintése és architektúrája az Azure-ban][azure-large-instances].</span><span class="sxs-lookup"><span data-stu-id="d53d6-125">For information about SAP HANA on Azure Large Instances, see [SAP HANA (large instances) overview and architecture on Azure][azure-large-instances].</span></span>
   
    - <span data-ttu-id="d53d6-126">**Jumpbox**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-126">**Jumpbox**.</span></span> <span data-ttu-id="d53d6-127">Más néven bástyagazdagép.</span><span class="sxs-lookup"><span data-stu-id="d53d6-127">Also called a bastion host.</span></span> <span data-ttu-id="d53d6-128">A hálózaton található biztonságos virtuális gép, amelyet a rendszergazdák a többi virtuális géphez való kapcsolódásra használnak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-128">This is a secure VM on the network that administrators use to connect to the other VMs.</span></span> 
     
    - <span data-ttu-id="d53d6-129">**Windows Server Active Directory- (AD-) tartományvezérlők**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-129">**Windows Server Active Directory (AD) domain controllers.**</span></span> <span data-ttu-id="d53d6-130">A tartományvezérlők konfigurálják a Windows Server feladatátvételi fürtöt (lásd az alábbiakban).</span><span class="sxs-lookup"><span data-stu-id="d53d6-130">The domain controllers are used to configure the Windows Server Failover Cluster (see below).</span></span>
 
- <span data-ttu-id="d53d6-131">**Rendelkezésre állási csoportok**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-131">**Availability sets**.</span></span> <span data-ttu-id="d53d6-132">Helyezze az SAP Web Dispatcher, az SAP-alkalmazáskiszolgáló és az SAP ACSC szerepkörű virtuális gépeket külön rendelkezésre állási csoportokba, és helyezzen üzembe legalább két virtuális gépet minden szerepkörhöz.</span><span class="sxs-lookup"><span data-stu-id="d53d6-132">Place the VMs for the SAP Web Dispatcher, SAP application server, and SAP ACSC roles into separate availability sets, and provision at least two VMs for each role.</span></span> <span data-ttu-id="d53d6-133">A virtuális gépek így magasabb szintű szolgáltatói szerződésre (SLA-ra) jogosultak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-133">This makes the VMs eligible for a higher service level agreement (SLA).</span></span>
    
- <span data-ttu-id="d53d6-134">**Hálózati adapterek (NIC-k)**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-134">**NICs.**</span></span> <span data-ttu-id="d53d6-135">Az SAP NetWeavert és az SAP HANA-t futtató virtuális gépeknek két hálózati adapterrel (NIC-vel) kell rendelkezniük.</span><span class="sxs-lookup"><span data-stu-id="d53d6-135">The VMs that run SAP NetWeaver and SAP HANA require two network interfaces (NICs).</span></span> <span data-ttu-id="d53d6-136">Mindegyik NIC másik alhálózathoz van rendelve, hogy az adatforgalom különböző típusai el legyenek különítve.</span><span class="sxs-lookup"><span data-stu-id="d53d6-136">Each NIC is assigned to a different subnet, to segregate different types of traffic.</span></span> <span data-ttu-id="d53d6-137">További információkért lásd alább a [Javaslatok](#recommendations) részt.</span><span class="sxs-lookup"><span data-stu-id="d53d6-137">See [Recommendations](#recommendations) below for more information.</span></span>

- <span data-ttu-id="d53d6-138">**Windows Server feladatátvételi fürt**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-138">**Windows Server Failover Cluster**.</span></span> <span data-ttu-id="d53d6-139">Az SAP ASCS-t futtató virtuális gépek feladatátvételi fürtként vannak konfigurálva a magas rendelkezésre állás érdekében.</span><span class="sxs-lookup"><span data-stu-id="d53d6-139">The VMs that run SAP ACSC are configured as a failover cluster for high availability.</span></span> <span data-ttu-id="d53d6-140">A feladatátvételi fürt támogatásához az SIOS DataKeeper Cluster Edition tölti be a fürt megosztott kötete (CSV) szerepét a fürtcsomópontok független lemezeinek replikálásával.</span><span class="sxs-lookup"><span data-stu-id="d53d6-140">To support the failover cluster, SIOS DataKeeper Cluster Edition performs the cluster shared volume (CSV) function by replicating independent disks owned by the cluster nodes.</span></span> <span data-ttu-id="d53d6-141">További részletekért lásd: [SAP alkalmazások futtatása Microsoft platformon][running-sap].</span><span class="sxs-lookup"><span data-stu-id="d53d6-141">For details, see [Running SAP applications on the Microsoft platform][running-sap].</span></span>
    
- <span data-ttu-id="d53d6-142">**Terheléselosztók**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-142">**Load balancers.**</span></span> <span data-ttu-id="d53d6-143">Két [Azure Load Balancert][azure-lb] használunk.</span><span class="sxs-lookup"><span data-stu-id="d53d6-143">Two [Azure Load Balancer][azure-lb] instances are used.</span></span> <span data-ttu-id="d53d6-144">Az első, amely az ábra bal oldalán látható, elosztja a forgalmat az SAP Web Dispatcher virtuális gépek között.</span><span class="sxs-lookup"><span data-stu-id="d53d6-144">The first, shown on the left of the diagram, distributes traffic to the SAP Web Dispatcher VMs.</span></span> <span data-ttu-id="d53d6-145">Ezzel a konfigurációval megvalósul a párhuzamos webes forgalomirányító, amelyet [az SAP Web Dispatcher magas rendelkezésre állásával][sap-dispatcher-ha] kapcsolatos témakör ismertet.</span><span class="sxs-lookup"><span data-stu-id="d53d6-145">This configuration implements the parallel web dispatcher option described in [High Availability of the SAP Web Dispatcher][sap-dispatcher-ha].</span></span> <span data-ttu-id="d53d6-146">A második, jobb oldali terheléselosztó lehetővé teszi a feladatátvételt a Windows Server feladatátvételi fürtben azzal, hogy a bejövő kapcsolatokat az aktív/kifogástalan állapotú csomópontra irányítja.</span><span class="sxs-lookup"><span data-stu-id="d53d6-146">The second load balancer, shown on the right, enables failover in the Windows Server Failover Cluster, by directing incoming connections to the active/healthy node.</span></span>

- <span data-ttu-id="d53d6-147">**VPN Gateway**.</span><span class="sxs-lookup"><span data-stu-id="d53d6-147">**VPN Gateway.**</span></span> <span data-ttu-id="d53d6-148">A VPN Gateway kibővíti a helyszíni hálózatot az Azure VNetre.</span><span class="sxs-lookup"><span data-stu-id="d53d6-148">The VPN Gateway extends your on-premises network to the Azure VNet.</span></span> <span data-ttu-id="d53d6-149">Az ExpressRoute is használható, amely egy dedikált magánhálózati kapcsolatot hoz létre, amely nem a nyilvános interneten keresztül valósul meg.</span><span class="sxs-lookup"><span data-stu-id="d53d6-149">You can also use ExpressRoute, which uses a dedicated private connection that does not go over the public Internet.</span></span> <span data-ttu-id="d53d6-150">A példában szereplő megoldás nem telepíti az átjárót.</span><span class="sxs-lookup"><span data-stu-id="d53d6-150">The example solution does not deploy the gateway.</span></span> <span data-ttu-id="d53d6-151">További információ: [Helyszíni hálózat csatlakoztatása az Azure-hoz][hybrid-networking].</span><span class="sxs-lookup"><span data-stu-id="d53d6-151">For more information, see [Connect an on-premises network to Azure][hybrid-networking].</span></span>

## <a name="recommendations"></a><span data-ttu-id="d53d6-152">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="d53d6-152">Recommendations</span></span>

<span data-ttu-id="d53d6-153">Az Ön követelményei eltérhetnek az itt leírt architektúrától.</span><span class="sxs-lookup"><span data-stu-id="d53d6-153">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="d53d6-154">Ezeket a javaslatokat tekintse kiindulópontnak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-154">Use these recommendations as a starting point.</span></span>

### <a name="load-balancers"></a><span data-ttu-id="d53d6-155">Terheléselosztók</span><span class="sxs-lookup"><span data-stu-id="d53d6-155">Load balancers</span></span>

<span data-ttu-id="d53d6-156">Az [SAP Web Dispatcher][sap-dispatcher] végzi a HTTP(S)-forgalom terheléselosztását a kettős veremmel rendelkező kiszolgálók (ABAP és Java) felé.</span><span class="sxs-lookup"><span data-stu-id="d53d6-156">[SAP Web Dispatcher][sap-dispatcher] handles load balancing of HTTP(S) traffic to dual-stack servers (ABAP and Java).</span></span> <span data-ttu-id="d53d6-157">Az SAP évek óta az egyvermes alkalmazáskiszolgálók használatát népszerűsíti, ezért manapság nagyon kevés alkalmazás fut kettős vermű üzembehelyezési modelleken.</span><span class="sxs-lookup"><span data-stu-id="d53d6-157">SAP has advocated single-stack application servers for years, so very few applications run on a dual-stack deployment model nowadays.</span></span> <span data-ttu-id="d53d6-158">Az ábrán látható Azure Load Balancer implementálja az SAP Web Dispatcher magas rendelkezésre állású fürtjét.</span><span class="sxs-lookup"><span data-stu-id="d53d6-158">The Azure load balancer shown in the architecture diagram implements the high availability cluster for the SAP Web Dispatcher.</span></span>

<span data-ttu-id="d53d6-159">Az alkalmazáskiszolgálók felé irányuló forgalom terheléselosztása az SAP-n belül történik.</span><span class="sxs-lookup"><span data-stu-id="d53d6-159">Load balancing of traffic to the application servers is handled within SAP.</span></span> <span data-ttu-id="d53d6-160">Az SAP-kiszolgálóhoz DIAG és RFC-k útján csatlakozó SAPGUI-ügyfelektől érkező forgalom terheléselosztásához az SCS-üzenetkiszolgáló SAP App Server [bejelentkezési csoportokat][logon-groups] hoz létre.</span><span class="sxs-lookup"><span data-stu-id="d53d6-160">For traffic from SAPGUI clients connecting to a SAP server via DIAG and Remote Function Calls (RFC), the SCS message server balances the load by creating SAP App Server [Logon Groups][logon-groups].</span></span> 

<span data-ttu-id="d53d6-161">Az SMLG egy SAP ABAP-tranzakció, amelynek célja az SAP Central Services bejelentkezési terheléselosztási képességének felügyelete.</span><span class="sxs-lookup"><span data-stu-id="d53d6-161">SMLG is an SAP ABAP transaction used to manage the logon load balancing capability of SAP Central Services.</span></span> <span data-ttu-id="d53d6-162">A bejelentkezési csoport háttérkészletéhez több ABAP-alkalmazáskiszolgáló tartozik.</span><span class="sxs-lookup"><span data-stu-id="d53d6-162">The backend pool of the logon group has more than one ABAP application server.</span></span> <span data-ttu-id="d53d6-163">Az ASCS fürtszolgáltatásokhoz hozzáférő ügyfelek az Azure Load Balancerhez egy előtérbeli IP-címen keresztül csatlakoznak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-163">Clients accessing ASCS cluster services connect to the Azure load balancer through a frontend IP address.</span></span> <span data-ttu-id="d53d6-164">Az ASCS fürt virtuális hálózati nevéhez szintén tartozik egy IP-cím.</span><span class="sxs-lookup"><span data-stu-id="d53d6-164">The ASCS cluster virtual network name also has an IP address.</span></span> <span data-ttu-id="d53d6-165">Lehetőség van ezt a címet társítani egy további IP-címhez az Azure Load Balancerön, hogy a fürt távolról is felügyelhető legyen.</span><span class="sxs-lookup"><span data-stu-id="d53d6-165">Optionally, this address can be associated with an additional IP address on the Azure load balancer, so that the cluster can be managed remotely.</span></span>  

### <a name="nics"></a><span data-ttu-id="d53d6-166">Hálózati adapterek (NIC-k)</span><span class="sxs-lookup"><span data-stu-id="d53d6-166">NICs</span></span>

<span data-ttu-id="d53d6-167">Az SAP környezetkezelési funkcióihoz a kiszolgáló adatforgalmát szét kell választani különböző hálózati adapterekre.</span><span class="sxs-lookup"><span data-stu-id="d53d6-167">SAP landscape management functions require segregation of server traffic on different NICs.</span></span> <span data-ttu-id="d53d6-168">Például az üzleti adatokat külön kell választani az adminisztrációs forgalomtól és a biztonsági mentések forgalmától.</span><span class="sxs-lookup"><span data-stu-id="d53d6-168">For example, business data should be separated from administrative traffic and backup traffic.</span></span> <span data-ttu-id="d53d6-169">Azzal, hogy a különböző alhálózatokhoz több hálózati adaptert rendelünk, lehetővé tesszük az adatok ily módon való szétválasztását.</span><span class="sxs-lookup"><span data-stu-id="d53d6-169">Assigning multiple NICs to different subnets enables this data segregation.</span></span> <span data-ttu-id="d53d6-170">További információkért lásd a „Hálózat” témakört a [Magas rendelkezésre állás létrehozása az SAP NetWeaver és az SAP HANA számára][sap-ha] című PDF-dokumentumban.</span><span class="sxs-lookup"><span data-stu-id="d53d6-170">For more information, see "Network" in [Building High Availability for SAP NetWeaver and SAP HANA][sap-ha] (PDF).</span></span>

<span data-ttu-id="d53d6-171">Rendelje hozzá az adminisztrációs NIC-t a felügyeleti alhálózathoz, az adatkommunikációs NIC-t pedig egy külön alhálózathoz.</span><span class="sxs-lookup"><span data-stu-id="d53d6-171">Assign the administration NIC to the management subnet, and assign the data communication NIC to a separate subnet.</span></span> <span data-ttu-id="d53d6-172">Konfigurációs részletek: [Több hálózati adapterrel rendelkező Windows rendszerű virtuális gép létrehozása és felügyelete][multiple-vm-nics].</span><span class="sxs-lookup"><span data-stu-id="d53d6-172">For configuration details, see [Create and manage a Windows virtual machine that has multiple NICs][multiple-vm-nics].</span></span>

### <a name="azure-storage"></a><span data-ttu-id="d53d6-173">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="d53d6-173">Azure Storage</span></span>

<span data-ttu-id="d53d6-174">Javasoljuk minden adatbázis-kiszolgáló virtuális géphez az Azure Premium Storage használatát az egyenletes olvasási/írási késleltetések érdekében.</span><span class="sxs-lookup"><span data-stu-id="d53d6-174">With all database server VMs, we recommend using Azure Premium Storage for consistent read/write latency.</span></span> <span data-ttu-id="d53d6-175">Az SAP-alkalmazáskiszolgálókhoz, például az (A)SCS virtuális gépekhez az Azure Standard Storage is használható, mivel az alkalmazás végrehajtása a memóriában történik, a lemezt pedig csak naplózásra használja a rendszer.</span><span class="sxs-lookup"><span data-stu-id="d53d6-175">For SAP application servers, including the (A)SCS virtual machines, you can use Azure Standard Storage, because application execution takes place in memory and uses disks for logging only.</span></span>

<span data-ttu-id="d53d6-176">A legjobb megbízhatóság érdekében javasoljuk az [Azure Managed Disks][managed-disks] használatát.</span><span class="sxs-lookup"><span data-stu-id="d53d6-176">For best reliability, we recommend using [Azure Managed Disks][managed-disks].</span></span> <span data-ttu-id="d53d6-177">A felügyelt lemezek biztosítják, hogy a rendelkezésre állási csoportban elkülönüljenek egymástól a virtuális gépek lemezei a kritikus hibapontok elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="d53d6-177">Managed disks ensure that the disks for VMs within an availability set are isolated to avoid single points of failure.</span></span>

> [!NOTE]
> <span data-ttu-id="d53d6-178">A referenciaarchitektúra Resource Manager-sablonja jelenleg nem használ felügyelt lemezeket.</span><span class="sxs-lookup"><span data-stu-id="d53d6-178">Currently the Resource Manager template for this reference architecture does not use managed disks.</span></span> <span data-ttu-id="d53d6-179">Tervezzük a sablont frissítését a felügyelt lemezek használatára.</span><span class="sxs-lookup"><span data-stu-id="d53d6-179">We are planning to update the template to use managed disks.</span></span>

<span data-ttu-id="d53d6-180">A magas IOPS és a lemezsávszélesség magas átviteli sebessége érdekében az Azure Storage elrendezésére is érvényesek a tárterület-teljesítmény optimalizálására szolgáló ajánlott gyakorlatok.</span><span class="sxs-lookup"><span data-stu-id="d53d6-180">To achieve high IOPS and disk bandwidth throughput, the common practices in storage volume performance optimization apply to Azure storage layout.</span></span> <span data-ttu-id="d53d6-181">Például több lemez összevonása és ezzel egy nagyobb lemezkötet létrehozása növeli az I/O-teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="d53d6-181">For example, striping multiple disks together to create a larger disk volume improves IO performance.</span></span> <span data-ttu-id="d53d6-182">A tárolóban található ritkán változó tartalmak olvasási gyorsítótárazásának engedélyezésével növelhető az adatelérés sebessége.</span><span class="sxs-lookup"><span data-stu-id="d53d6-182">Enabling the read cache on storage content that changes infrequently enhances the speed of data retrieval.</span></span> <span data-ttu-id="d53d6-183">További részletekért a teljesítménykövetelményekkel kapcsolatban lásd az [1943937-es számú SAP-jegyzetet a hardverkonfiguráció-ellenőrzési eszközről][sap-1943937].</span><span class="sxs-lookup"><span data-stu-id="d53d6-183">For details about performance requirements, see [SAP note 1943937 - Hardware Configuration Check Tool][sap-1943937].</span></span>

<span data-ttu-id="d53d6-184">Az adattár biztonsági mentéséhez javasoljuk a [ritkán használt adatok tárolási rétegét][cool-blob-storage] az Azure Blob Storage-ban.</span><span class="sxs-lookup"><span data-stu-id="d53d6-184">For the backup data store, we recommend using the [cool storage tier][cool-blob-storage] of Azure Blob storage.</span></span> <span data-ttu-id="d53d6-185">A ritkán használt adatok tárolási rétegében költséghatékonyan tárolhatók a ritkábban használt, hosszú élettartamú adatok.</span><span class="sxs-lookup"><span data-stu-id="d53d6-185">The cool storage tier is a cost-effective way to store data that is less frequently accessed and long-lived.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="d53d6-186">Méretezési szempontok</span><span class="sxs-lookup"><span data-stu-id="d53d6-186">Scalability considerations</span></span>

<span data-ttu-id="d53d6-187">Az SAP alkalmazásrétegben az Azure számos különböző méretet kínál a virtuális gépek felskálázásához.</span><span class="sxs-lookup"><span data-stu-id="d53d6-187">At the SAP application layer, Azure offers a wide range of virtual machine sizes for scaling up.</span></span> <span data-ttu-id="d53d6-188">A teljes listát lásd az [1928533-as számú SAP-jegyzetben – SAP alkalmazások az Azure-ban: Támogatott termékek és Azure-virtuálisgéptípusok][sap-1928533].</span><span class="sxs-lookup"><span data-stu-id="d53d6-188">For an inclusive list, see [SAP note 1928533 - SAP Applications on Azure: Supported Products and Azure VM Types][sap-1928533].</span></span> <span data-ttu-id="d53d6-189">A horizontális felskálázáshoz adjon hozzá további virtuális gépeket a rendelkezésre állási csoporthoz.</span><span class="sxs-lookup"><span data-stu-id="d53d6-189">Scale out by adding more VMs to the availability set.</span></span>

<span data-ttu-id="d53d6-190">Az Azure-alapú virtuális gépeken futó SAP HANA (és mind az OLTP, mind az OLAP SAP-alkalmazások) esetében az SAP által tanúsított virtuálisgép-méret a GS5 egyetlen virtuálisgép-példánnyal.</span><span class="sxs-lookup"><span data-stu-id="d53d6-190">For SAP HANA on Azure virtual machines with both OLTP and OLAP SAP applications, the SAP-certified virtual machine size is GS5 with a single VM instance.</span></span> <span data-ttu-id="d53d6-191">A nagyobb méretű számítási feladatokhoz a Microsoft [nagyméretű Azure-példányokat][azure-large-instances] is kínál a Microsoft Azure Certified programban részt vevő adatközpontokban található fizikai kiszolgálókon futó SAP HANA-hoz. A nagyméretű példányok jelenleg példányonként akár 4 TB memóriakapacitást is nyújtanak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-191">For larger workloads, Microsoft also offers [Azure Large Instances][azure-large-instances] for SAP HANA on physical servers co-located in a Microsoft Azure certified datacenter, which provides up to 4 TB of memory capacity for a single instance at this time.</span></span> <span data-ttu-id="d53d6-192">Többcsomópontos konfigurációval a teljes memóriakapacitás akár 32 TB-ra növelhető.</span><span class="sxs-lookup"><span data-stu-id="d53d6-192">Multi-node configuration is also possible with a total memory capacity of up to 32 TB.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="d53d6-193">Rendelkezésre állási szempontok</span><span class="sxs-lookup"><span data-stu-id="d53d6-193">Availability considerations</span></span>

<span data-ttu-id="d53d6-194">Az SAP-alkalmazás egy központi adatbázisban futó elosztott telepítése esetében az alapul szolgáló telepítés replikálásával érhető el a magas rendelkezésre állás.</span><span class="sxs-lookup"><span data-stu-id="d53d6-194">In this distributed installation of the SAP application on a centralized database, the base installation is replicated to achieve high availability.</span></span> <span data-ttu-id="d53d6-195">A magas rendelkezésre állás kialakítása az architektúra minden rétegében eltérő:</span><span class="sxs-lookup"><span data-stu-id="d53d6-195">For each layer of the architecture, the high availability design varies:</span></span>

- <span data-ttu-id="d53d6-196">**Web Dispatcher.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-196">**Web Dispatcher.**</span></span> <span data-ttu-id="d53d6-197">A magas rendelkezésre állás az SAP-alkalmazások forgalmához használt redundáns SAP Web Dispatcher-példányokkal érhető el.</span><span class="sxs-lookup"><span data-stu-id="d53d6-197">High availability is achieved with redundant SAP Web Dispatcher instances with SAP application traffic.</span></span> <span data-ttu-id="d53d6-198">Lásd az [SAP Web Dispatcher][swd] című részt az SAP dokumentációjában.</span><span class="sxs-lookup"><span data-stu-id="d53d6-198">See [SAP Web Dispatcher][swd] in the SAP Documentation.</span></span>

- <span data-ttu-id="d53d6-199">**ASCS.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-199">**ASCS.**</span></span> <span data-ttu-id="d53d6-200">Az Azure-beli Windows rendszerű virtuális gépeken futó ASCS magas rendelkezésre állásának eléréséhez a Windows Server feladatátvételi fürtszolgáltatást használhatjuk a fürt megosztott kötetét adó SIOS DataKeeperrel együtt.</span><span class="sxs-lookup"><span data-stu-id="d53d6-200">For high availability of ASCS on Azure Windows virtual machines, Windows Sever Failover Clustering is used with SIOS DataKeeper to implement the cluster shared volume.</span></span> <span data-ttu-id="d53d6-201">A megvalósítás részleteit lásd: [Az Azure-ban futó SAP ASCS fürtözése][clustering].</span><span class="sxs-lookup"><span data-stu-id="d53d6-201">For implementation details, see [Clustering SAP ASCS on Azure][clustering].</span></span>

- <span data-ttu-id="d53d6-202">**Alkalmazáskiszolgálók.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-202">**Application servers.**</span></span> <span data-ttu-id="d53d6-203">A magas rendelkezésre állás az adatforgalom terheléselosztásával érhető el alkalmazáskiszolgálók egy csoportjában.</span><span class="sxs-lookup"><span data-stu-id="d53d6-203">High availability is achieved by load balancing traffic within a pool of application servers.</span></span>

- <span data-ttu-id="d53d6-204">**Adatbázisréteg.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-204">**Database tier.**</span></span> <span data-ttu-id="d53d6-205">Ez a referenciaarchitektúra egyetlen SAP HANA-adatbázispéldányt helyez üzembe.</span><span class="sxs-lookup"><span data-stu-id="d53d6-205">This reference architecture deploys a single SAP HANA database instance.</span></span> <span data-ttu-id="d53d6-206">Magas rendelkezésre álláshoz helyezzen üzembe több példányt, majd használja a HANA System Replication (HSR) eszközt a manuális feladatátvétel implementálásához.</span><span class="sxs-lookup"><span data-stu-id="d53d6-206">For high availability, deploy more than one instance and use HANA System Replication (HSR) to implement manual failover.</span></span> <span data-ttu-id="d53d6-207">Az automatikus feladatátvétel engedélyezéséhez egy HA bővítmény szükséges az adott Linux-disztribúcióhoz.</span><span class="sxs-lookup"><span data-stu-id="d53d6-207">To enable automatic failover, an HA extension for the specific Linux distribution is required.</span></span>

### <a name="disaster-recovery-considerations"></a><span data-ttu-id="d53d6-208">Vészhelyreállítási szempontok</span><span class="sxs-lookup"><span data-stu-id="d53d6-208">Disaster recovery considerations</span></span>

<span data-ttu-id="d53d6-209">Minden egyes réteg más stratégiával biztosít vészhelyreállítási (DR) védelmet.</span><span class="sxs-lookup"><span data-stu-id="d53d6-209">Each tier uses a different strategy to provide disaster recovery (DR) protection.</span></span>

- <span data-ttu-id="d53d6-210">**Alkalmazáskiszolgálók.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-210">**Application servers.**</span></span> <span data-ttu-id="d53d6-211">Az SAP-alkalmazáskiszolgálók nem tartalmaznak üzleti adatokat.</span><span class="sxs-lookup"><span data-stu-id="d53d6-211">SAP application servers don't contain business data.</span></span> <span data-ttu-id="d53d6-212">Az Azure-ban egyszerű vészhelyreállítási stratégia lehet, ha az SAP-alkalmazáskiszolgálókat egy másik régióban hozzuk létre.</span><span class="sxs-lookup"><span data-stu-id="d53d6-212">On Azure, a simple DR strategy is to create SAP application servers in another region.</span></span> <span data-ttu-id="d53d6-213">Ha az elsődleges alkalmazáskiszolgálón bármilyen konfigurációmódosítás vagy kernelfrissítés lép életbe, a módosításokat át kell másolni a vészhelyreállítás régióban található virtuális gépekre.</span><span class="sxs-lookup"><span data-stu-id="d53d6-213">Upon any configuration changes or kernel updates on the primary application server, the same changes must be copied to VMs in the DR region.</span></span> <span data-ttu-id="d53d6-214">Ilyenek például a kernel végrehajtható fájljai.</span><span class="sxs-lookup"><span data-stu-id="d53d6-214">For example, the kernel executables copied to the DR VMs.</span></span>

- <span data-ttu-id="d53d6-215">**SAP Central Services.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-215">**SAP Central Services.**</span></span> <span data-ttu-id="d53d6-216">Az SAP alkalmazáscsoport ezen összetevője szintén nem tárol üzleti adatokat.</span><span class="sxs-lookup"><span data-stu-id="d53d6-216">This component of the SAP application stack also doesn't persist business data.</span></span> <span data-ttu-id="d53d6-217">Létrehozhat a DR régióban egy virtuális gépet, amely az SCS szerepkört futtatja.</span><span class="sxs-lookup"><span data-stu-id="d53d6-217">You can build a VM in the DR region to run the SCS role.</span></span> <span data-ttu-id="d53d6-218">Az elsődleges SCS csomópont egyedüli szinkronizálandó tartalma az **/sapmnt** megosztási tartalom.</span><span class="sxs-lookup"><span data-stu-id="d53d6-218">The only content from the primary SCS node to synchronize is the **/sapmnt** share content.</span></span> <span data-ttu-id="d53d6-219">Emellett ha az elsődleges SCS-kiszolgálókon bármilyen konfigurációmódosítás vagy kernelfrissítés történik, azokat a DR SCS-kiszolgálón is meg kell ismételni.</span><span class="sxs-lookup"><span data-stu-id="d53d6-219">Also, if configuration changes or kernel updates take place on the primary SCS servers, they must be repeated on the DR SCS.</span></span> <span data-ttu-id="d53d6-220">A két kiszolgáló szinkronizálását egy egyszerű ütemezett másolási feladattal elvégezheti, amely átmásolja az **/sapmnt** tartalmát a DR oldalra.</span><span class="sxs-lookup"><span data-stu-id="d53d6-220">To synchronize the two servers, simply use a regularly scheduled copy job to copy **/sapmnt** to the DR side.</span></span> <span data-ttu-id="d53d6-221">A létrehozási, másolási és tesztelési feladatátvételi folyamatok részleteiért töltse le az [SAP NetWeaver: Building a Hyper-V and Microsoft Azure–based Disaster Recovery Solution][sap-netweaver-dr] (SAP NetWeaver: Hyper-V- és Microsoft Azure-alapú vészhelyreállítási megoldás létrehozása) című dokumentumot, és olvassa el a „4.3:</span><span class="sxs-lookup"><span data-stu-id="d53d6-221">For details about the build, copy, and test failover process, download [SAP NetWeaver: Building a Hyper-V and Microsoft Azure–based Disaster Recovery Solution][sap-netweaver-dr], and refer to "4.3.</span></span> <span data-ttu-id="d53d6-222">SAP SPOF layer (ASCS)” (SAP SPOF réteg – ASCS) fejezetet.</span><span class="sxs-lookup"><span data-stu-id="d53d6-222">SAP SPOF layer (ASCS)."</span></span>

- <span data-ttu-id="d53d6-223">**Adatbázisréteg.**</span><span class="sxs-lookup"><span data-stu-id="d53d6-223">**Database tier.**</span></span> <span data-ttu-id="d53d6-224">Használjon a HANA által támogatott replikációs megoldást, például a HSR-t vagy a tárreplikációt.</span><span class="sxs-lookup"><span data-stu-id="d53d6-224">Use HANA-supported replication solutions such as HSR or Storage Replication.</span></span> 

## <a name="manageability-considerations"></a><span data-ttu-id="d53d6-225">Felügyeleti szempontok</span><span class="sxs-lookup"><span data-stu-id="d53d6-225">Manageability considerations</span></span>

<span data-ttu-id="d53d6-226">Az SAP HANA rendelkezik egy biztonsági mentési funkcióval, amely az alapul szolgáló Azure-infrastruktúrát használja.</span><span class="sxs-lookup"><span data-stu-id="d53d6-226">SAP HANA has a backup feature that uses the underlying Azure infrastructure.</span></span> <span data-ttu-id="d53d6-227">Azure virtuális gépen futó SAP HANA-adatbázis biztonsági mentéséhez az SAP HANA pillanatképe és az Azure-tároló pillanatképe is szükséges a biztonsági mentési fájlok konzisztenciájának biztosítása érdekében.</span><span class="sxs-lookup"><span data-stu-id="d53d6-227">To back up the SAP HANA database running on Azure virtual machines, both the SAP HANA snapshot and Azure storage snapshot are used to ensure the consistency of backup files.</span></span> <span data-ttu-id="d53d6-228">Részletekért lásd az [SAP HANA az Azure-beli virtuális gépeken – Biztonsági mentési útmutató][hana-backup] és az [Azure Backup szolgáltatás – gyakori kérdések][backup-faq] cikkeket.</span><span class="sxs-lookup"><span data-stu-id="d53d6-228">For details, see [Backup guide for SAP HANA on Azure Virtual Machines][hana-backup] and the [Azure Backup service FAQ][backup-faq].</span></span>

<span data-ttu-id="d53d6-229">Az Azure számos különféle funkciót nyújt az infrastruktúra átfogó [monitorozásához és diagnosztizálásához][monitoring].</span><span class="sxs-lookup"><span data-stu-id="d53d6-229">Azure provides several functions for [monitoring and diagnostics][monitoring] of the overall infrastructure.</span></span> <span data-ttu-id="d53d6-230">Emellett az Azure-beli virtuális gépek (Linux vagy Windows) fejlett monitorozását az Azure Operations Management Suite (OMS) végzi.</span><span class="sxs-lookup"><span data-stu-id="d53d6-230">Also, enhanced monitoring of Azure virtual machines (Linux or Windows) is handled by Azure Operations Management Suite (OMS).</span></span>

<span data-ttu-id="d53d6-231">Ha SAP-alapú monitorozásra van szüksége az erőforrásokhoz és az SAP-infrastruktúra szolgáltatási teljesítményéhez, használja az Azure SAP Enhanced Monitoring bővítményt.</span><span class="sxs-lookup"><span data-stu-id="d53d6-231">To provide SAP-based monitoring of resources and service performance of the SAP infrastructure, use the Azure SAP Enhanced Monitoring extension.</span></span> <span data-ttu-id="d53d6-232">Ez a bővítmény betölti az Azure monitorozási statisztikáit az SAP alkalmazásba az operációs rendszer monitorozása és a DBA Cockpit funkcióinak használata céljából.</span><span class="sxs-lookup"><span data-stu-id="d53d6-232">This extension feeds Azure monitoring statistics into the SAP application for operating system monitoring and DBA Cockpit functions.</span></span> 

## <a name="security-considerations"></a><span data-ttu-id="d53d6-233">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="d53d6-233">Security considerations</span></span>

<span data-ttu-id="d53d6-234">Az SAP egy saját felhasználófelügyeleti motorral (UME-vel) vezérli a szerepköralapú hozzáféréseket és az engedélyezést az SAP alkalmazáson belül.</span><span class="sxs-lookup"><span data-stu-id="d53d6-234">SAP has its own Users Management Engine (UME) to control role-based access and authorization within the SAP application.</span></span> <span data-ttu-id="d53d6-235">Részletekért lásd: [SAP HANA – Biztonsági áttekintés][sap-security].</span><span class="sxs-lookup"><span data-stu-id="d53d6-235">For details, see [SAP HANA Security - An Overview][sap-security].</span></span> <span data-ttu-id="d53d6-236">(A hozzáféréshez egy SAP Service Marketplace-fiók szükséges.)</span><span class="sxs-lookup"><span data-stu-id="d53d6-236">(A SAP Service Marketplace account is required for access.)</span></span>

<span data-ttu-id="d53d6-237">Az infrastruktúra biztonsága érdekében az adatok a továbbítás és a tárolás közben is védelem alatt állnak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-237">For infrastructure security, data is safeguarded in transit and at rest.</span></span> <span data-ttu-id="d53d6-238">A hálózati biztonság témájával az [SAP NetWeaver az Azure-beli virtuális gépeken – Tervezési és megvalósítási útmutató][netweaver-on-azure] „Biztonsági szempontok” szakasza foglalkozik.</span><span class="sxs-lookup"><span data-stu-id="d53d6-238">The “Security considerations” section of the [SAP NetWeaver on Azure Virtual Machines (VMs) – Planning and Implementation Guide][netweaver-on-azure] begins to address network security.</span></span> <span data-ttu-id="d53d6-239">Ez az útmutató adja meg azt is, hogy a tűzfalakon mely portokat kell megnyitni az alkalmazás kommunikációjának lehetővé tételéhez.</span><span class="sxs-lookup"><span data-stu-id="d53d6-239">The guide also specifies the network ports you must open on the firewalls to allow application communication.</span></span> 

<span data-ttu-id="d53d6-240">Windows és Linux rendszerű IaaS virtuális gépek lemezeinek titkosításához használja az [Azure Disk Encryption][disk-encryption] szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="d53d6-240">To encrypt Windows and Linux IaaS virtual machine disks, you can use [Azure Disk Encryption][disk-encryption].</span></span> <span data-ttu-id="d53d6-241">Az Azure Disk Encryption Windows rendszeren a BitLocker funkcióval, Linux rendszeren pedig a DM-Crypt funkcióval titkosítja az operációs rendszer és az adatlemezek köteteit.</span><span class="sxs-lookup"><span data-stu-id="d53d6-241">Azure Disk Encryption uses the BitLocker feature of Windows and the DM-Crypt feature of Linux to provide volume encryption for the operating system and the data disks.</span></span> <span data-ttu-id="d53d6-242">A megoldás az Azure Key Vaulttal együtt is használható, így a lemeztitkosítási kulcsokat és titkos kulcsokat a Key Vault-előfizetésből vezérelheti és felügyelheti.</span><span class="sxs-lookup"><span data-stu-id="d53d6-242">The solution also works with Azure Key Vault to help you control and manage the disk-encryption keys and secrets in your Key Vault subscription.</span></span> <span data-ttu-id="d53d6-243">A virtuális gépek lemezein található, inaktív adatok az Azure Storage-ban titkosítva vannak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-243">Data on the virtual machine disks are encrypted at rest in your Azure storage.</span></span>

<span data-ttu-id="d53d6-244">Az SAP HANA inaktív adatainak titkosításához javasoljuk az SAP HANA natív titkosítási technológiájának használatát.</span><span class="sxs-lookup"><span data-stu-id="d53d6-244">For SAP HANA data-at-rest encryption, we recommend using the SAP HANA native encryption technology.</span></span>

> [!NOTE]
> <span data-ttu-id="d53d6-245">Egy adott kiszolgálón ne használja egyszerre a HANA inaktívadat-titkosítási funkcióját és az Azure Disk Encryptiont.</span><span class="sxs-lookup"><span data-stu-id="d53d6-245">Don't use the HANA data-at-rest encryption with Azure disk encryption on the same server.</span></span>

<span data-ttu-id="d53d6-246">A VNet különböző alhálózatai között érdemes lehet [hálózati biztonsági csoportok][nsg] (NSG-k) használatával korlátozni az adatforgalmat.</span><span class="sxs-lookup"><span data-stu-id="d53d6-246">Consider using [network security groups][nsg] (NSGs) to restrict traffic between the various subnets in the VNet.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="d53d6-247">A megoldás üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="d53d6-247">Deploy the solution</span></span> 

<span data-ttu-id="d53d6-248">A referenciaarchitektúra üzembehelyezési szkriptjei elérhetők a [GitHubon][github].</span><span class="sxs-lookup"><span data-stu-id="d53d6-248">The deployment scripts for this reference architecture are available on [GitHub][github].</span></span>


### <a name="prerequisites"></a><span data-ttu-id="d53d6-249">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="d53d6-249">Prerequisites</span></span>

- <span data-ttu-id="d53d6-250">A telepítés végrehajtásához hozzáféréssel kell rendelkeznie a SAP Software Download Center letöltőközponthoz.</span><span class="sxs-lookup"><span data-stu-id="d53d6-250">You must have access to the SAP Software Download Center to complete the installation.</span></span>
 
- <span data-ttu-id="d53d6-251">Telepítse az [Azure PowerShell][azure-ps] legújabb verzióját.</span><span class="sxs-lookup"><span data-stu-id="d53d6-251">Install the latest version of [Azure PowerShell][azure-ps].</span></span> 

- <span data-ttu-id="d53d6-252">Ehhez az üzemelő példányhoz 51 mag szükséges.</span><span class="sxs-lookup"><span data-stu-id="d53d6-252">This deployment requires 51 cores.</span></span> <span data-ttu-id="d53d6-253">Az üzembe helyezése előtt ellenőrizze, hogy az előfizetése virtuálisgép-magokra vonatkozó kvótája elegendő-e.</span><span class="sxs-lookup"><span data-stu-id="d53d6-253">Before deploying, verify that your subscription has sufficient quota for VM cores.</span></span> <span data-ttu-id="d53d6-254">Ha nem, küldjön támogatási kérelmet az Azure Portalról további kvótáért.</span><span class="sxs-lookup"><span data-stu-id="d53d6-254">If not, use the Azure portal to submit a support request for more quota.</span></span>
 
- <span data-ttu-id="d53d6-255">Ez az üzemelő példány egy GS sorozatú virtuális gépet használ.</span><span class="sxs-lookup"><span data-stu-id="d53d6-255">This deployment uses a GS-series VM.</span></span> <span data-ttu-id="d53d6-256">A GS sorozat régiónkénti elérhetőségét [itt ellenőrizheti][region-availability].</span><span class="sxs-lookup"><span data-stu-id="d53d6-256">Check the availability of the GS series per region [here][region-availability].</span></span>

- <span data-ttu-id="d53d6-257">Az üzembe helyezés költségeinek meghatározásához lásd: [Azure-díjkalkulátor][azure-pricing].</span><span class="sxs-lookup"><span data-stu-id="d53d6-257">To estimate the cost of this deployment, see the [Azure Pricing Calculator][azure-pricing].</span></span> 
 
<span data-ttu-id="d53d6-258">A referenciaarchitektúra a következő virtuális gépeket helyezi üzembe:</span><span class="sxs-lookup"><span data-stu-id="d53d6-258">This reference architecture deploys the following VMs:</span></span>

| <span data-ttu-id="d53d6-259">Erőforrás neve</span><span class="sxs-lookup"><span data-stu-id="d53d6-259">Resource name</span></span> | <span data-ttu-id="d53d6-260">Virtuális gép mérete</span><span class="sxs-lookup"><span data-stu-id="d53d6-260">VM Size</span></span> | <span data-ttu-id="d53d6-261">Cél</span><span class="sxs-lookup"><span data-stu-id="d53d6-261">Purpose</span></span>  |
|---------------|---------|----------|
| <span data-ttu-id="d53d6-262">`ra-sapApps-scs-vm1` ... `ra-sapApps-scs-vmN`</span><span class="sxs-lookup"><span data-stu-id="d53d6-262">`ra-sapApps-scs-vm1` ... `ra-sapApps-scs-vmN`</span></span> | <span data-ttu-id="d53d6-263">DS11v2</span><span class="sxs-lookup"><span data-stu-id="d53d6-263">DS11v2</span></span> | <span data-ttu-id="d53d6-264">SAP Central Services</span><span class="sxs-lookup"><span data-stu-id="d53d6-264">SAP Central Services</span></span> |
| <span data-ttu-id="d53d6-265">`ra-sapApps-vm1` ... `ra-sapApps-vmN`</span><span class="sxs-lookup"><span data-stu-id="d53d6-265">`ra-sapApps-vm1` ... `ra-sapApps-vmN`</span></span> | <span data-ttu-id="d53d6-266">DS11v2</span><span class="sxs-lookup"><span data-stu-id="d53d6-266">DS11v2</span></span> | <span data-ttu-id="d53d6-267">SAP NetWeaver alkalmazás</span><span class="sxs-lookup"><span data-stu-id="d53d6-267">SAP NetWeaver application</span></span> |
| <span data-ttu-id="d53d6-268">`ra-sap-wdp-vm1` ... `ra-sap-wdp-vmN`</span><span class="sxs-lookup"><span data-stu-id="d53d6-268">`ra-sap-wdp-vm1` ... `ra-sap-wdp-vmN`</span></span> | <span data-ttu-id="d53d6-269">DS11v2</span><span class="sxs-lookup"><span data-stu-id="d53d6-269">DS11v2</span></span> | <span data-ttu-id="d53d6-270">SAP Web Dispatcher</span><span class="sxs-lookup"><span data-stu-id="d53d6-270">SAP Web Dispatcher</span></span> |
| `ra-sap-data-vm1` | <span data-ttu-id="d53d6-271">GS5</span><span class="sxs-lookup"><span data-stu-id="d53d6-271">GS5</span></span> | <span data-ttu-id="d53d6-272">SAP HANA-adatbázispéldány</span><span class="sxs-lookup"><span data-stu-id="d53d6-272">SAP HANA database instance</span></span> |
| `ra-sap-jumpbox-vm1` | <span data-ttu-id="d53d6-273">DS1V2</span><span class="sxs-lookup"><span data-stu-id="d53d6-273">DS1V2</span></span> | <span data-ttu-id="d53d6-274">Jumpbox</span><span class="sxs-lookup"><span data-stu-id="d53d6-274">Jumpbox</span></span> |

<span data-ttu-id="d53d6-275">Egyetlen SAP HANA-példány van üzembe helyezve.</span><span class="sxs-lookup"><span data-stu-id="d53d6-275">A single SAP HANA instance is deployed.</span></span> <span data-ttu-id="d53d6-276">Az alkalmazások virtuális gépeinek esetében az üzembe helyezendő példányokat a sablonparaméterek határozzák meg.</span><span class="sxs-lookup"><span data-stu-id="d53d6-276">For the application VMs, the number of instances to deploy is specified in the template parameters.</span></span>

### <a name="deploy-sap-infrastructure"></a><span data-ttu-id="d53d6-277">SAP-infrastruktúra üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="d53d6-277">Deploy SAP infrastructure</span></span>

<span data-ttu-id="d53d6-278">Az architektúra növekményesen vagy egyszerre is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="d53d6-278">You can deploy this architecture incrementally or all at once.</span></span> <span data-ttu-id="d53d6-279">Első alkalommal növekményes üzembe helyezést javaslunk, hogy megismerhesse, az üzembe helyezés melyik lépés milyen művelet hajtható végre.</span><span class="sxs-lookup"><span data-stu-id="d53d6-279">The first time, we recommend an incremental deployment, so that you can see what each deployment step does.</span></span> <span data-ttu-id="d53d6-280">A növekmény az alábbi *mód* paraméterek egyikével határozható meg</span><span class="sxs-lookup"><span data-stu-id="d53d6-280">Specify the increment using one of the following *mode* parameters</span></span>

| <span data-ttu-id="d53d6-281">Mód</span><span class="sxs-lookup"><span data-stu-id="d53d6-281">Mode</span></span>           | <span data-ttu-id="d53d6-282">Művelet</span><span class="sxs-lookup"><span data-stu-id="d53d6-282">What it does</span></span>                                                                                                            |
|----------------|-----------------------------------------------------|
| <span data-ttu-id="d53d6-283">infrastruktúra</span><span class="sxs-lookup"><span data-stu-id="d53d6-283">infrastructure</span></span> | <span data-ttu-id="d53d6-284">A hálózati infrastruktúra üzembe helyezése az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="d53d6-284">Deploys the network infrastructure in Azure.</span></span>        |
| <span data-ttu-id="d53d6-285">számítási feladat</span><span class="sxs-lookup"><span data-stu-id="d53d6-285">workload</span></span>       | <span data-ttu-id="d53d6-286">Az SAP-kiszolgálók üzembe helyezése a hálózaton.</span><span class="sxs-lookup"><span data-stu-id="d53d6-286">Deploys the SAP servers to the network.</span></span>             |
| <span data-ttu-id="d53d6-287">összes</span><span class="sxs-lookup"><span data-stu-id="d53d6-287">all</span></span>            | <span data-ttu-id="d53d6-288">Üzembe helyezi az összes fenti környezetet.</span><span class="sxs-lookup"><span data-stu-id="d53d6-288">Deploys all the preceding deployments.</span></span>              |

<span data-ttu-id="d53d6-289">A megoldás üzembe helyezéséhez hajtsa végre az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="d53d6-289">To deploy the solution, perform the following steps:</span></span>

1. <span data-ttu-id="d53d6-290">Töltse le vagy klónozza a [GitHub-adattárat][github] a saját helyi számítógépére.</span><span class="sxs-lookup"><span data-stu-id="d53d6-290">Download or clone the [GitHub repo][github] to your local computer.</span></span>

2. <span data-ttu-id="d53d6-291">Nyisson meg egy PowerShell-ablakot, és lépjen a `/sap/sap-hana/` mappára.</span><span class="sxs-lookup"><span data-stu-id="d53d6-291">Open a PowerShell window and navigate to the `/sap/sap-hana/` folder.</span></span>

3. <span data-ttu-id="d53d6-292">Futtassa az alábbi PowerShell-parancsmagot.</span><span class="sxs-lookup"><span data-stu-id="d53d6-292">Run the following PowerShell cmdlet.</span></span> <span data-ttu-id="d53d6-293">A `<subscription id>` paraméterhez adja meg az Azure-előfizetése azonosítóját.</span><span class="sxs-lookup"><span data-stu-id="d53d6-293">For `<subscription id>`, use your Azure subscription ID.</span></span> <span data-ttu-id="d53d6-294">A `<location>` paraméter esetében adjon meg egy Azure-régiót (pl. `eastus` vagy `westus`).</span><span class="sxs-lookup"><span data-stu-id="d53d6-294">For `<location>`, specify an Azure region, such as `eastus` or `westus`.</span></span> <span data-ttu-id="d53d6-295">A `<mode>` paraméternél adja meg a fent említett módok egyikét.</span><span class="sxs-lookup"><span data-stu-id="d53d6-295">For `<mode>`, specify one of the modes listed above.</span></span>

    ```powershell
     .\Deploy-ReferenceArchitecture -SubscriptionId <subscription id> -Location <location> -ResourceGroupName <resource group> <mode>
    ```

4.  <span data-ttu-id="d53d6-296">Ha a rendszer kéri, jelentkezzen be az Azure-fiókjába.</span><span class="sxs-lookup"><span data-stu-id="d53d6-296">When prompted, log on to your Azure account.</span></span> 

<span data-ttu-id="d53d6-297">A kiválasztott módtól függően az üzembehelyezési szkriptek befejezése több órát is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="d53d6-297">The deployment scripts can take up to several hours to complete, depending on the mode you selected.</span></span>

> [!WARNING]
> <span data-ttu-id="d53d6-298">A paraméterfájlok több helyen nem módosítható jelszót (`AweS0me@PW`) tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="d53d6-298">The parameter files include a hard-coded password (`AweS0me@PW`) in various places.</span></span> <span data-ttu-id="d53d6-299">Módosítsa ezeket az értékeket az üzembe helyezés előtt.</span><span class="sxs-lookup"><span data-stu-id="d53d6-299">Change these values before you deploy.</span></span>
 
### <a name="configure-sap-applications-and-database"></a><span data-ttu-id="d53d6-300">SAP-alkalmazások és -adatbázis konfigurálása</span><span class="sxs-lookup"><span data-stu-id="d53d6-300">Configure SAP applications and database</span></span>

<span data-ttu-id="d53d6-301">Az SAP-infrastruktúra üzembe helyezését követően telepítse és konfigurálja az SAP-alkalmazásait és HANA-adatbázisát a virtuális gépeken az alább ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="d53d6-301">After deploying the SAP infrastructure, install and configure your SAP applications and HANA database on the virtual machines as follows.</span></span>

> [!NOTE]
> <span data-ttu-id="d53d6-302">Az SAP telepítésével kapcsolatos utasításokhoz rendelkeznie kell felhasználónévvel és jelszóval az SAP támogatási portáljához, hogy letölthesse az [SAP telepítési útmutatóit][sap-guide].</span><span class="sxs-lookup"><span data-stu-id="d53d6-302">For SAP installation instructions, you must have a SAP Support Portal username and password to download the [SAP installation guides][sap-guide].</span></span>

1. <span data-ttu-id="d53d6-303">Jelentkezzen be a jumpboxba (`ra-sap-jumpbox-vm1`).</span><span class="sxs-lookup"><span data-stu-id="d53d6-303">Log into the jumpbox (`ra-sap-jumpbox-vm1`).</span></span> <span data-ttu-id="d53d6-304">A jumpbox használatával jelentkezhet majd be a többi virtuális gépbe.</span><span class="sxs-lookup"><span data-stu-id="d53d6-304">You will use the jumpbox to log into the other VMs.</span></span> 

2.  <span data-ttu-id="d53d6-305">Minden `ra-sap-wdp-vm1` ... `ra-sap-wdp-vmN` nevű virtuális gép esetében jelentkezzen be a virtuális gépbe, majd telepítse és konfigurálja az SAP Web Dispatcher-példányt [a Web Dispatcher telepítését][sap-dispatcher-install] ismertető wikiben leírt lépések segítségével.</span><span class="sxs-lookup"><span data-stu-id="d53d6-305">For each VM named `ra-sap-wdp-vm1` ... `ra-sap-wdp-vmN`, log into the VM, and install and configure the SAP Web Dispatcher instance using the steps described in the [Web Dispatcher Installation][sap-dispatcher-install] wiki.</span></span>

3.  <span data-ttu-id="d53d6-306">Jelentkezzen be az `ra-sap-data-vm1` nevű virtuális gépbe.</span><span class="sxs-lookup"><span data-stu-id="d53d6-306">Log into the VM named `ra-sap-data-vm1`.</span></span> <span data-ttu-id="d53d6-307">Telepítse és konfigurálja az SAP Hana-adatbázispéldányt az [SAP HANA-kiszolgáló telepítési és frissítési útmutatójának][hana-guide] segítségével.</span><span class="sxs-lookup"><span data-stu-id="d53d6-307">Install and configure the SAP Hana Database instance using the [SAP HANA Server Installation and Update Guide][hana-guide].</span></span>

4. <span data-ttu-id="d53d6-308">Minden `ra-sapApps-scs-vm1` ... `ra-sapApps-scs-vmN` nevű virtuális gép esetében jelentkezzen be a virtuális gépbe, majd telepítse és konfigurálja az SAP Central Services (SCS) szolgáltatást az [SAP telepítési útmutatóinak][sap-guide] használatával.</span><span class="sxs-lookup"><span data-stu-id="d53d6-308">For each VM named `ra-sapApps-scs-vm1` ... `ra-sapApps-scs-vmN`, log into the VM, and install and configure the SAP Central Services (SCS) using the [SAP installation guides][sap-guide].</span></span>

5.  <span data-ttu-id="d53d6-309">Minden `ra-sapApps-vm1` ... `ra-sapApps-vmN` nevű virtuális gép esetében jelentkezzen be a virtuális gépbe, majd telepítse és konfigurálja az SAP NetWeaver alkalmazást az [SAP telepítési útmutatóinak][sap-guide] használatával.</span><span class="sxs-lookup"><span data-stu-id="d53d6-309">For each VM named `ra-sapApps-vm1` ... `ra-sapApps-vmN`, log into the VM, and install and configure the SAP NetWeaver application using the [SAP installation guides][sap-guide].</span></span>

<span data-ttu-id="d53d6-310">**_A referenciaarchitektúrában közreműködtek_** &mdash;: Rick Rainey, Ross Sponholtz, Ben Trinh</span><span class="sxs-lookup"><span data-stu-id="d53d6-310">**_Contributors to this reference architecture_** &mdash; Rick Rainey, Ross Sponholtz, Ben Trinh</span></span>

[azure-large-instances]: /azure/virtual-machines/workloads/sap/hana-overview-architecture
[azure-lb]: /azure/load-balancer/load-balancer-overview
[azure-pricing]: https://azure.microsoft.com/pricing/calculator/
[azure-ps]: /powershell/azure/overview
[backup-faq]: /azure/backup/backup-azure-backup-faq
[clustering]: https://blogs.msdn.microsoft.com/saponsqlserver/2015/05/20/clustering-sap-ascs-instance-using-windows-server-failover-cluster-on-microsoft-azure-with-sios-datakeeper-and-azure-internal-load-balancer/
[cool-blob-storage]: /azure/storage/storage-blob-storage-tiers
[disk-encryption]: /azure/security/azure-security-disk-encryption
[github]: https://github.com/mspnp/reference-architectures/tree/master/sap/sap-hana
[hana-backup]: /azure/virtual-machines/workloads/sap/sap-hana-backup-guide
[hana-guide]: https://help.sap.com/viewer/2c1988d620e04368aa4103bf26f17727/2.0.01/en-US/7eb0167eb35e4e2885415205b8383584.html
[hybrid-networking]: ../hybrid-networking/index.md
[logon-groups]: https://wiki.scn.sap.com/wiki/display/SI/ABAP+Logon+Group+based+Load+Balancing
[managed-disks]: /azure/storage/storage-managed-disks-overview
[monitoring]: /azure/architecture/best-practices/monitoring
[multiple-vm-nics]: /azure/virtual-machines/windows/multiple-nics
[netweaver-on-azure]: /azure/virtual-machines/workloads/sap/planning-guide
[nsg]: /azure/virtual-network/virtual-networks-nsg
[region-availability]: https://azure.microsoft.com/regions/services/
[running-SAP]: https://blogs.msdn.microsoft.com/saponsqlserver/2016/06/07/sap-on-sql-general-update-for-customers-partners-june-2016/
[sap-1943937]: https://launchpad.support.sap.com/#/notes/1943937
[sap-1928533]: https://launchpad.support.sap.com/#/notes/1928533
[sap-dispatcher]: https://help.sap.com/doc/saphelp_nw73ehp1/7.31.19/en-US/48/8fe37933114e6fe10000000a421937/frameset.htm
[sap-dispatcher-ha]: https://help.sap.com/doc/saphelp_nw73ehp1/7.31.19/en-US/48/9a9a6b48c673e8e10000000a42189b/frameset.htm
[sap-dispatcher-install]: https://wiki.scn.sap.com/wiki/display/SI/Web+Dispatcher+Installation
[sap-guide]: https://service.sap.com/instguides
[sap-ha]: https://support.sap.com/content/dam/SAAP/SAP_Activate/AGS_70.pdf
[sap-hana-on-azure]: https://azure.microsoft.com/services/virtual-machines/sap-hana/
[sap-netweaver-dr]: http://download.microsoft.com/download/9/5/6/956FEDC3-702D-4EFB-A7D3-2DB7505566B6/SAP%20NetWeaver%20-%20Building%20an%20Azure%20based%20Disaster%20Recovery%20Solution%20V1_5%20.docx
[sap-security]: https://archive.sap.com/documents/docs/DOC-62943
[visio-download]: https://archcenter.blob.core.windows.net/cdn/SAP-HANA-architecture.vsdx
[vm-sizes-mem]: /azure/virtual-machines/windows/sizes-memory
[swd]: https://help.sap.com/doc/saphelp_nw70ehp2/7.02.16/en-us/48/8fe37933114e6fe10000000a421937/frameset.htm
[0]: ./images/sap-hana.png "SAP HANA-architektúra a Microsoft Azure használatával"
