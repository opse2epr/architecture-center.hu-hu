---
title: Magas rendelkezésre állású SharePoint Server 2016-farm futtatása az Azure-ban
description: Bevált módszerek a magas rendelkezésre állású SharePoint Server 2016-farm létrehozására az Azure-ban.
author: njray
ms.date: 08/01/2017
ms.openlocfilehash: 9fe4fc09cf3babdf3ec8e8f27049f90e0047e9f0
ms.sourcegitcommit: 776b8c1efc662d42273a33de3b82ec69e3cd80c5
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/12/2018
ms.locfileid: "38987709"
---
# <a name="run-a-high-availability-sharepoint-server-2016-farm-in-azure"></a><span data-ttu-id="d118a-103">Magas rendelkezésre állású SharePoint Server 2016-farm futtatása az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="d118a-103">Run a high availability SharePoint Server 2016 farm in Azure</span></span>

<span data-ttu-id="d118a-104">A jelen referenciaarchitektúra bevált módszereket mutat be a magas rendelkezésre állású SharePoint Server 2016-farmok Azure-ban való létrehozására a MinRole topológia és az SQL Server Always On rendelkezésre állási csoportok használatával.</span><span class="sxs-lookup"><span data-stu-id="d118a-104">This reference architecture shows a set of proven practices for setting up a high availability SharePoint Server 2016 farm on Azure, using MinRole topology and SQL Server Always On availability groups.</span></span> <span data-ttu-id="d118a-105">A SharePoint-farm egy biztonságos virtuális hálózaton lesz üzembe helyezve, amelynek nincs internetes végpontja vagy jelenléte.</span><span class="sxs-lookup"><span data-stu-id="d118a-105">The SharePoint farm is deployed in a secured virtual network with no Internet-facing endpoint or presence.</span></span> [<span data-ttu-id="d118a-106">**A megoldás üzembe helyezése**.</span><span class="sxs-lookup"><span data-stu-id="d118a-106">**Deploy this solution**.</span></span>](#deploy-the-solution) 

![](./images/sharepoint-ha.png)

<span data-ttu-id="d118a-107">*Töltse le az architektúra [Visio-fájlját][visio-download].*</span><span class="sxs-lookup"><span data-stu-id="d118a-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="d118a-108">Architektúra</span><span class="sxs-lookup"><span data-stu-id="d118a-108">Architecture</span></span>

<span data-ttu-id="d118a-109">Ez az architektúra a [Windows rendszerű virtuális gépek futtatása N szintű alkalmazáshoz][windows-n-tier] című cikkben bemutatott architektúrára épít.</span><span class="sxs-lookup"><span data-stu-id="d118a-109">This architecture builds on the one shown in [Run Windows VMs for an N-tier application][windows-n-tier].</span></span> <span data-ttu-id="d118a-110">Egy magas rendelkezésre állású SharePoint Server 2016-farmot helyez üzembe egy Azure-beli virtuális hálózaton (VNet) belül.</span><span class="sxs-lookup"><span data-stu-id="d118a-110">It deploys a SharePoint Server 2016 farm with high availability inside an Azure virtual network (VNet).</span></span> <span data-ttu-id="d118a-111">Az architektúra alkalmazható a teszt- és az éles környezetekhez, a SharePoint Office 365-öt tartalmazó hibrid infrastruktúráihoz, vagy mint a vészhelyreállítás alapja.</span><span class="sxs-lookup"><span data-stu-id="d118a-111">This architecture is suitable for a test or production environment, a SharePoint hybrid infrastructure with Office 365, or as the basis for a disaster recovery scenario.</span></span>

<span data-ttu-id="d118a-112">Az architektúra az alábbi összetevőkből áll:</span><span class="sxs-lookup"><span data-stu-id="d118a-112">The architecture consists of the following components:</span></span>

- <span data-ttu-id="d118a-113">**Erőforráscsoportok**.</span><span class="sxs-lookup"><span data-stu-id="d118a-113">**Resource groups**.</span></span> <span data-ttu-id="d118a-114">Az [erőforráscsoport][resource-group] egy tároló, amely kapcsolódó Azure-erőforrásokat tárol.</span><span class="sxs-lookup"><span data-stu-id="d118a-114">A [resource group][resource-group] is a container that holds related Azure resources.</span></span> <span data-ttu-id="d118a-115">A rendszer egy erőforráscsoportot használ a SharePoint-kiszolgálókhoz, és egy másik erőforráscsoportot a virtuális gépektől független infrastruktúra-összetevőkhöz, például a virtuális hálózathoz és a terheléselosztókhoz.</span><span class="sxs-lookup"><span data-stu-id="d118a-115">One resource group is used for the SharePoint servers, and another resource group is used for infrastructure components that are independent of VMs, such as the virtual network and load balancers.</span></span>

- <span data-ttu-id="d118a-116">**Virtuális hálózat (VNet)**.</span><span class="sxs-lookup"><span data-stu-id="d118a-116">**Virtual network (VNet)**.</span></span> <span data-ttu-id="d118a-117">A rendszer a virtuális gépeket egy egyedi intranetes címterülettel rendelkező virtuális hálózaton helyezi üzembe.</span><span class="sxs-lookup"><span data-stu-id="d118a-117">The VMs are deployed in a VNet with a unique intranet address space.</span></span> <span data-ttu-id="d118a-118">A virtuális hálózat további alhálózatokra oszlik.</span><span class="sxs-lookup"><span data-stu-id="d118a-118">The VNet is further subdivided into subnets.</span></span> 

- <span data-ttu-id="d118a-119">**Virtuális gépek (VM-ek)**.</span><span class="sxs-lookup"><span data-stu-id="d118a-119">**Virtual machines (VMs)**.</span></span> <span data-ttu-id="d118a-120">A rendszer üzembe helyezi a virtuális gépeket a virtuális hálózaton, és statikus magánhálózati IP-címeket rendel az összes virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="d118a-120">The VMs are deployed into the VNet, and private static IP addresses are assigned to all of the VMs.</span></span> <span data-ttu-id="d118a-121">Az IP-címek gyorsítótárazásával kapcsolatos problémák és a címek újraindítás utáni megváltozásának megelőzéséhez az SQL Servert és a SharePoint Server 2016-ot futtató virtuális gépeken javasolt a statikus IP-címek használata.</span><span class="sxs-lookup"><span data-stu-id="d118a-121">Static IP addresses are recommended for the VMs running SQL Server and SharePoint Server 2016, to avoid issues with IP address caching and changes of addresses after a restart.</span></span>

- <span data-ttu-id="d118a-122">**Rendelkezésre állási csoportok**.</span><span class="sxs-lookup"><span data-stu-id="d118a-122">**Availability sets**.</span></span> <span data-ttu-id="d118a-123">Helyezze az egyes SharePoint-szerepkörökhöz tartozó virtuális gépeket külön [rendelkezésre állási csoportokba][availability-set], és helyezzen üzembe legalább két virtuális gépet minden szerepkörhöz.</span><span class="sxs-lookup"><span data-stu-id="d118a-123">Place the VMs for each SharePoint role into separate [availability sets][availability-set], and provision at least two virtual machines (VMs) for each role.</span></span> <span data-ttu-id="d118a-124">A virtuális gépek így magasabb szintű szolgáltatói szerződésre (SLA-ra) jogosultak.</span><span class="sxs-lookup"><span data-stu-id="d118a-124">This makes the VMs eligible for a higher service level agreement (SLA).</span></span> 

- <span data-ttu-id="d118a-125">**Belső terheléselosztó**.</span><span class="sxs-lookup"><span data-stu-id="d118a-125">**Internal load balancer**.</span></span> <span data-ttu-id="d118a-126">A [terheléselosztó][load-balancer] elosztja a helyszíni hálózatról érkező SharePoint-kérés forgalmát a SharePoint-farm előtér-webkiszolgálói között.</span><span class="sxs-lookup"><span data-stu-id="d118a-126">The [load balancer][load-balancer] distributes SharePoint request traffic from the on-premises network to the front-end web servers of the SharePoint farm.</span></span> 

- <span data-ttu-id="d118a-127">**Hálózati biztonsági csoportok (NSG-k)**.</span><span class="sxs-lookup"><span data-stu-id="d118a-127">**Network security groups (NSGs)**.</span></span> <span data-ttu-id="d118a-128">A virtuális gépeket tartalmazó összes alhálózaton létrejön egy [hálózati biztonsági csoport][nsg].</span><span class="sxs-lookup"><span data-stu-id="d118a-128">For each subnet that contains virtual machines, a [network security group][nsg] is created.</span></span> <span data-ttu-id="d118a-129">Az NSG-ket használja a hálózati forgalom korlátozására a virtuális hálózaton belül, hogy el lehessen különíteni az alhálózatokat.</span><span class="sxs-lookup"><span data-stu-id="d118a-129">Use NSGs to restrict network traffic within the VNet, in order to isolate subnets.</span></span> 

- <span data-ttu-id="d118a-130">**Átjáró**.</span><span class="sxs-lookup"><span data-stu-id="d118a-130">**Gateway**.</span></span> <span data-ttu-id="d118a-131">Az átjáró kapcsolatot biztosít a helyszíni hálózat és az Azure-beli virtuális hálózat között.</span><span class="sxs-lookup"><span data-stu-id="d118a-131">The gateway provides a connection between your on-premises network and the Azure virtual network.</span></span> <span data-ttu-id="d118a-132">A kapcsolat ExpressRoute- vagy helyek közötti VPN-átjárót használhat.</span><span class="sxs-lookup"><span data-stu-id="d118a-132">Your connection can use ExpressRoute or site-to-site VPN.</span></span> <span data-ttu-id="d118a-133">További információ: [Helyszíni hálózat csatlakoztatása az Azure-hoz][hybrid-ra].</span><span class="sxs-lookup"><span data-stu-id="d118a-133">For more information, see [Connect an on-premises network to Azure][hybrid-ra].</span></span>

- <span data-ttu-id="d118a-134">**Windows Server Active Directory- (AD) tartományvezérlők**.</span><span class="sxs-lookup"><span data-stu-id="d118a-134">**Windows Server Active Directory (AD) domain controllers**.</span></span> <span data-ttu-id="d118a-135">Ez a referenciaarchitektúra Windows Server Active Directory- (AD-) tartományvezérlőket helyez üzembe.</span><span class="sxs-lookup"><span data-stu-id="d118a-135">This reference architecture deploys Windows Server AD domain controllers.</span></span> <span data-ttu-id="d118a-136">Ezek a tartományvezérlők az Azure-beli virtuális hálózaton futnak, és megbízhatósági viszonyban vannak a helyszíni Windows Server AD-erdővel.</span><span class="sxs-lookup"><span data-stu-id="d118a-136">These domain controllers run in the Azure VNet and have a trust relationship with the on-premises Windows Server AD forest.</span></span> <span data-ttu-id="d118a-137">Az ügyfelek SharePoint-farmokon lévő erőforrásokkal kapcsolatos webes kéréseit a rendszer a virtuális hálózaton hitelesíti ahelyett, hogy továbbítaná a hitelesítési forgalmat az átjárókapcsolaton keresztül a helyszíni hálózatra.</span><span class="sxs-lookup"><span data-stu-id="d118a-137">Client web requests for SharePoint farm resources are authenticated in the VNet rather than sending that authentication traffic across the gateway connection to the on-premises network.</span></span> <span data-ttu-id="d118a-138">A DNS-ben intranet A vagy CNAME-rekordok jönnek létre, hogy az intranetes felhasználók fel tudják oldani a SharePoint-farm nevét a belső terheléselosztó magánhálózati IP-címére.</span><span class="sxs-lookup"><span data-stu-id="d118a-138">In DNS, intranet A or CNAME records are created so that intranet users can resolve the name of the SharePoint farm to the private IP address of the internal load balancer.</span></span>

  <span data-ttu-id="d118a-139">A SharePoint Server 2016 támogatja az [Azure Active Directory Domain Services](/azure/active-directory-domain-services/) használatát is.</span><span class="sxs-lookup"><span data-stu-id="d118a-139">SharePoint Server 2016 also supports using [Azure Active Directory Domain Services](/azure/active-directory-domain-services/).</span></span> <span data-ttu-id="d118a-140">Az Azure AD Domain Services felügyelt tartományi szolgáltatásokat biztosít, hogy az Azure-ban ne legyen szükség tartományvezérlők üzembe helyezésére és felügyeletére.</span><span class="sxs-lookup"><span data-stu-id="d118a-140">Azure AD Domain Services provides managed domain services, so that you don't need to deploy and manage domain controllers in Azure.</span></span>

- <span data-ttu-id="d118a-141">**SQL Server Always On rendelkezésre állási csoport**.</span><span class="sxs-lookup"><span data-stu-id="d118a-141">**SQL Server Always On Availability Group**.</span></span> <span data-ttu-id="d118a-142">Az SQL Server-adatbázisok magas rendelkezésre állása érdekében javasoljuk a [SQL Server Always On rendelkezésre állási csoportok][sql-always-on] használatát.</span><span class="sxs-lookup"><span data-stu-id="d118a-142">For high availability of the SQL Server database, we recommend [SQL Server Always On Availability Groups][sql-always-on].</span></span> <span data-ttu-id="d118a-143">A rendszer két virtuális gépet használ az SQL Serverhez.</span><span class="sxs-lookup"><span data-stu-id="d118a-143">Two virtual machines are used for SQL Server.</span></span> <span data-ttu-id="d118a-144">Az egyik az elsődleges adatbázis-replikát tartalmazza, a másik pedig a másodlagos replikát.</span><span class="sxs-lookup"><span data-stu-id="d118a-144">One contains the primary database replica and the other contains the secondary replica.</span></span> 

- <span data-ttu-id="d118a-145">**Csomóponttöbbséget használó virtuális gép**.</span><span class="sxs-lookup"><span data-stu-id="d118a-145">**Majority node VM**.</span></span> <span data-ttu-id="d118a-146">Ez a virtuális gép lehetővé teszi, hogy a feladatátvevő fürt kvórumot hozzon létre.</span><span class="sxs-lookup"><span data-stu-id="d118a-146">This VM allows the failover cluster to establish quorum.</span></span> <span data-ttu-id="d118a-147">További információ: [A feladatátvevő fürtök kvórumkonfigurációinak ismertetése][sql-quorum].</span><span class="sxs-lookup"><span data-stu-id="d118a-147">For more information, see [Understanding Quorum Configurations in a Failover Cluster][sql-quorum].</span></span>

- <span data-ttu-id="d118a-148">**SharePoint-kiszolgálók**.</span><span class="sxs-lookup"><span data-stu-id="d118a-148">**SharePoint servers**.</span></span> <span data-ttu-id="d118a-149">A SharePoint-kiszolgálók töltik be a webes előtér, a gyorsítótárazás, alkalmazás és a keresés szerepköröket.</span><span class="sxs-lookup"><span data-stu-id="d118a-149">The SharePoint servers perform the web front-end, caching, application, and search roles.</span></span> 

- <span data-ttu-id="d118a-150">**Jumpbox**.</span><span class="sxs-lookup"><span data-stu-id="d118a-150">**Jumpbox**.</span></span> <span data-ttu-id="d118a-151">Más néven [bástyagazdagép][bastion-host].</span><span class="sxs-lookup"><span data-stu-id="d118a-151">Also called a [bastion host][bastion-host].</span></span> <span data-ttu-id="d118a-152">A hálózaton található biztonságos virtuális gép, amelyet a rendszergazdák a többi virtuális géphez való kapcsolódásra használnak.</span><span class="sxs-lookup"><span data-stu-id="d118a-152">This is a secure VM on the network that administrators use to connect to the other VMs.</span></span> <span data-ttu-id="d118a-153">A jumpbox olyan NSG-vel rendelkezik, amely csak a biztonságos elemek listáján szereplő nyilvános IP-címekről érkező távoli forgalmat engedélyezi.</span><span class="sxs-lookup"><span data-stu-id="d118a-153">The jumpbox has an NSG that allows remote traffic only from public IP addresses on a safe list.</span></span> <span data-ttu-id="d118a-154">Az NSG-nek engedélyeznie kell a távoli asztali (RDP) forgalmat.</span><span class="sxs-lookup"><span data-stu-id="d118a-154">The NSG should permit remote desktop (RDP) traffic.</span></span>

## <a name="recommendations"></a><span data-ttu-id="d118a-155">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-155">Recommendations</span></span>

<span data-ttu-id="d118a-156">Az Ön követelményei eltérhetnek az itt leírt architektúrától.</span><span class="sxs-lookup"><span data-stu-id="d118a-156">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="d118a-157">Ezeket a javaslatokat tekintse kiindulópontnak.</span><span class="sxs-lookup"><span data-stu-id="d118a-157">Use these recommendations as a starting point.</span></span>

### <a name="resource-group-recommendations"></a><span data-ttu-id="d118a-158">Erőforráscsoportra vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-158">Resource group recommendations</span></span>

<span data-ttu-id="d118a-159">Javasoljuk, hogy különítse el az erőforráscsoportokat kiszolgálói szerepkör szerint, és hozzon létre egy külön erőforráscsoportot a globális erőforrásnak számító infrastruktúra-összetevők számára.</span><span class="sxs-lookup"><span data-stu-id="d118a-159">We recommend separating resource groups according to the server role, and having a separate resource group for infrastructure components that are global resources.</span></span> <span data-ttu-id="d118a-160">Ebben az architektúrában a SharePoint-erőforrások alkotják az egyik csoportot, az SQL Server és a többi segédeszköz pedig a másikat.</span><span class="sxs-lookup"><span data-stu-id="d118a-160">In this architecture, the SharePoint resources form one group, while the SQL Server and other utility assets form another.</span></span>

### <a name="virtual-network-and-subnet-recommendations"></a><span data-ttu-id="d118a-161">Virtuális hálózatra és alhálózatra vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-161">Virtual network and subnet recommendations</span></span>

<span data-ttu-id="d118a-162">Minden SharePoint-szerepkörhöz használjon egy alhálózatot, plusz egy alhálózatot az átjáróhoz, és egyet a jumpboxhoz.</span><span class="sxs-lookup"><span data-stu-id="d118a-162">Use one subnet for each SharePoint role, plus a subnet for the gateway and one for the jumpbox.</span></span> 

<span data-ttu-id="d118a-163">Az átjáró-alhálózatnak a *GatewaySubnet* névvel kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="d118a-163">The gateway subnet must be named *GatewaySubnet*.</span></span> <span data-ttu-id="d118a-164">Rendeljen hozzá egy címteret az átjáró-alhálózathoz a virtuális hálózat címterének végéről.</span><span class="sxs-lookup"><span data-stu-id="d118a-164">Assign the gateway subnet address space from the last part of the virtual network address space.</span></span> <span data-ttu-id="d118a-165">További információ: [Helyszíni hálózat csatlakoztatása az Azure-hoz VPN-átjáró használatával][hybrid-vpn-ra].</span><span class="sxs-lookup"><span data-stu-id="d118a-165">For more information, see [Connect an on-premises network to Azure using a VPN gateway][hybrid-vpn-ra].</span></span>

### <a name="vm-recommendations"></a><span data-ttu-id="d118a-166">Virtuális gépekre vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-166">VM recommendations</span></span>

<span data-ttu-id="d118a-167">A Standard DSv2 virtuális gépek méretei alapján ehhez az architektúrához legalább 38 magra van szükség:</span><span class="sxs-lookup"><span data-stu-id="d118a-167">Based on Standard DSv2 virtual machine sizes, this architecture requires a minimum of 38 cores:</span></span>

- <span data-ttu-id="d118a-168">8 SharePoint-kiszolgáló, Standard_DS3_v2 méret (4 mag/darab) = 32 mag</span><span class="sxs-lookup"><span data-stu-id="d118a-168">8 SharePoint servers on Standard_DS3_v2 (4 cores each) = 32 cores</span></span>
- <span data-ttu-id="d118a-169">2 Active Directory-tartományvezérlő, Standard_DS1_v2 méret (1 mag/darab) = 2 mag</span><span class="sxs-lookup"><span data-stu-id="d118a-169">2 Active Directory domain controllers on Standard_DS1_v2 (1 core each) = 2 cores</span></span>
- <span data-ttu-id="d118a-170">2 SQL Servert futtató virtuális gép, Standard_DS1_v2 méret = 2 mag</span><span class="sxs-lookup"><span data-stu-id="d118a-170">2 SQL Server VMs on Standard_DS1_v2 = 2 cores</span></span>
- <span data-ttu-id="d118a-171">1 csomóponttöbbség, Standard_DS1_v2 méret = 1 mag</span><span class="sxs-lookup"><span data-stu-id="d118a-171">1 majority node on Standard_DS1_v2 = 1 core</span></span>
- <span data-ttu-id="d118a-172">1 felügyeleti kiszolgáló, Standard_DS1_v2 méret = 1 mag</span><span class="sxs-lookup"><span data-stu-id="d118a-172">1 management server on Standard_DS1_v2 = 1 core</span></span>

<span data-ttu-id="d118a-173">A magok teljes száma a kiválasztott virtuálisgép-méretektől függ.</span><span class="sxs-lookup"><span data-stu-id="d118a-173">The total number of cores will depend on the VM sizes that you select.</span></span> <span data-ttu-id="d118a-174">További információt a [SharePoint Serverre vonatkozó javaslatokat](#sharepoint-server-recommendations) tartalmazó alábbi szakaszban talál.</span><span class="sxs-lookup"><span data-stu-id="d118a-174">For more information, see [SharePoint Server recommendations](#sharepoint-server-recommendations) below.</span></span>

<span data-ttu-id="d118a-175">Győződjön meg arról, hogy az Azure-előfizetésnek elegendő virtuálisgép-magkvóta áll rendelkezésére, különben az üzembe helyezés sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="d118a-175">Make sure your Azure subscription has enough VM core quota for the deployment, or the deployment will fail.</span></span> <span data-ttu-id="d118a-176">Lásd: [Az Azure-előfizetések és -szolgáltatások korlátozásai, kvótái és megkötései][quotas].</span><span class="sxs-lookup"><span data-stu-id="d118a-176">See [Azure subscription and service limits, quotas, and constraints][quotas].</span></span> 
 
### <a name="nsg-recommendations"></a><span data-ttu-id="d118a-177">NSG-kre vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-177">NSG recommendations</span></span>

<span data-ttu-id="d118a-178">Javasoljuk, hogy legyen egy NSG minden egyes virtuális gépeket tartalmazó alhálózathoz, hogy el lehessen különíteni az alhálózatokat.</span><span class="sxs-lookup"><span data-stu-id="d118a-178">We recommend having one NSG for each subnet that contains VMs, to enable subnet isolation.</span></span> <span data-ttu-id="d118a-179">Ha alhálózat-elkülönítést szeretne konfigurálni, adjon meg olyan NSG-szabályokat, amelyek minden egyes alhálózatnál meghatározzák az engedélyezett vagy tiltott bejövő és kimenő adatforgalmat.</span><span class="sxs-lookup"><span data-stu-id="d118a-179">If you want to configure subnet isolation, add NSG rules that define the allowed or denied inbound or outbound traffic for each subnet.</span></span> <span data-ttu-id="d118a-180">További információ: [Hálózati forgalom szűrése hálózati biztonsági csoportokkal][virtual-networks-nsg].</span><span class="sxs-lookup"><span data-stu-id="d118a-180">For more information, see [Filter network traffic with network security groups][virtual-networks-nsg].</span></span> 

<span data-ttu-id="d118a-181">Ne rendeljen NSG-ket az átjáró-alhálózathoz, különben az átjáró nem fog működni.</span><span class="sxs-lookup"><span data-stu-id="d118a-181">Do not assign an NSG to the gateway subnet, or the gateway will stop functioning.</span></span> 

### <a name="storage-recommendations"></a><span data-ttu-id="d118a-182">Tárolásra vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-182">Storage recommendations</span></span>

<span data-ttu-id="d118a-183">A farmon található virtuális gépek tárolókonfigurációjának egyeznie kell a helyszíni üzemelő példányoknál használt megfelelő ajánlott eljárásokkal.</span><span class="sxs-lookup"><span data-stu-id="d118a-183">The storage configuration of the VMs in the farm should match the appropriate best practices used for on-premises deployments.</span></span> <span data-ttu-id="d118a-184">A SharePoint-kiszolgálóknak külön lemezzel kell rendelkezniük a naplók számára.</span><span class="sxs-lookup"><span data-stu-id="d118a-184">SharePoint servers should have a separate disk for logs.</span></span> <span data-ttu-id="d118a-185">A keresési index szerepköröket üzemeltető SharePoint-kiszolgálóknak további lemezterületre van szükségük a keresési index tárolásához.</span><span class="sxs-lookup"><span data-stu-id="d118a-185">SharePoint servers hosting search index roles require additional disk space for the search index to be stored.</span></span> <span data-ttu-id="d118a-186">Az SQL Server esetén a szabványos eljárás az adatok és a naplók elkülönítése.</span><span class="sxs-lookup"><span data-stu-id="d118a-186">For SQL Server, the standard practice is to separate data and logs.</span></span> <span data-ttu-id="d118a-187">Adjon hozzá további lemezeket az adatbázis biztonsági másolatainak tárolásához, és használjon egy külön lemezt a [tempdb][tempdb] számára.</span><span class="sxs-lookup"><span data-stu-id="d118a-187">Add more disks for database backup storage, and use a separate disk for [tempdb][tempdb].</span></span>

<span data-ttu-id="d118a-188">A legjobb megbízhatóság érdekében javasoljuk az [Azure Managed Disks][managed-disks] használatát.</span><span class="sxs-lookup"><span data-stu-id="d118a-188">For best reliability, we recommend using [Azure Managed Disks][managed-disks].</span></span> <span data-ttu-id="d118a-189">A felügyelt lemezek biztosítják, hogy a rendelkezésre állási csoportban elkülönüljenek egymástól a virtuális gépek lemezei a kritikus hibapontok elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="d118a-189">Managed disks ensure that the disks for VMs within an availability set are isolated to avoid single points of failure.</span></span> 

> [!NOTE]
> <span data-ttu-id="d118a-190">A referenciaarchitektúra Resource Manager-sablonja jelenleg nem használ felügyelt lemezeket.</span><span class="sxs-lookup"><span data-stu-id="d118a-190">Currently the Resource Manager template for this reference architecture does not use managed disks.</span></span> <span data-ttu-id="d118a-191">Tervezzük a sablont frissítését a felügyelt lemezek használatára.</span><span class="sxs-lookup"><span data-stu-id="d118a-191">We are planning to update the template to use managed disks.</span></span>

<span data-ttu-id="d118a-192">A SharePointot és az SQL Servert futtató virtuális gépeknél használjon Prémium felügyelt lemezeket.</span><span class="sxs-lookup"><span data-stu-id="d118a-192">Use Premium managed disks for all SharePoint and SQL Server VMs.</span></span> <span data-ttu-id="d118a-193">A csomóponttöbbséget használó kiszolgáló, a tartományvezérlők és a felügyeleti kiszolgáló esetén használhat Standard felügyelt lemezeket.</span><span class="sxs-lookup"><span data-stu-id="d118a-193">You can use Standard managed disks for the majority node server, the domain controllers, and the management server.</span></span> 

### <a name="sharepoint-server-recommendations"></a><span data-ttu-id="d118a-194">SharePoint Serverre vonatkozó javaslatok</span><span class="sxs-lookup"><span data-stu-id="d118a-194">SharePoint Server recommendations</span></span>

<span data-ttu-id="d118a-195">A SharePoint-farm konfigurálása előtt győződjön meg arról, hogy minden szolgáltatáshoz rendelkezik Windows Server Active Directory-szolgáltatásfiókkal.</span><span class="sxs-lookup"><span data-stu-id="d118a-195">Before configuring the SharePoint farm, make sure you have one Windows Server Active Directory service account per service.</span></span> <span data-ttu-id="d118a-196">Ennél az architektúránál a jogosultság szerepkörönként való elkülönítéséhez legalább az alábbi tartományszintű fiókokra van szükség:</span><span class="sxs-lookup"><span data-stu-id="d118a-196">For this architecture, you need at a minimum the following domain-level accounts to isolate privilege per role:</span></span>

- <span data-ttu-id="d118a-197">SQL Server-szolgáltatásfiók</span><span class="sxs-lookup"><span data-stu-id="d118a-197">SQL Server Service account</span></span>
- <span data-ttu-id="d118a-198">Telepítési felhasználói fiók</span><span class="sxs-lookup"><span data-stu-id="d118a-198">Setup User account</span></span>
- <span data-ttu-id="d118a-199">Kiszolgálófarm-fiók</span><span class="sxs-lookup"><span data-stu-id="d118a-199">Server Farm account</span></span>
- <span data-ttu-id="d118a-200">Keresésiszolgáltatás-fiók</span><span class="sxs-lookup"><span data-stu-id="d118a-200">Search Service account</span></span>
- <span data-ttu-id="d118a-201">Tartalom-hozzáférési fiók</span><span class="sxs-lookup"><span data-stu-id="d118a-201">Content Access account</span></span>
- <span data-ttu-id="d118a-202">Webalkalmazáskészlet-fiókok</span><span class="sxs-lookup"><span data-stu-id="d118a-202">Web App Pool accounts</span></span>
- <span data-ttu-id="d118a-203">Szolgáltatási alkalmazáskészlet-fiókok</span><span class="sxs-lookup"><span data-stu-id="d118a-203">Service App Pool accounts</span></span>
- <span data-ttu-id="d118a-204">Gyorsítótár-felügyelői fiók</span><span class="sxs-lookup"><span data-stu-id="d118a-204">Cache Super User account</span></span>
- <span data-ttu-id="d118a-205">Emelt jogosultsági szintű gyorsítótár-olvasói fiók</span><span class="sxs-lookup"><span data-stu-id="d118a-205">Cache Super Reader account</span></span>

<span data-ttu-id="d118a-206">A keresési indexelő kivételével az összes szerepkörhöz javasoljuk a [Standard_DS3_v2][vm-sizes-general] virtuálisgép-méret használatát.</span><span class="sxs-lookup"><span data-stu-id="d118a-206">For all roles except the Search Indexer, we recommended using the [Standard_DS3_v2][vm-sizes-general] VM size.</span></span> <span data-ttu-id="d118a-207">A keresési indexelőnek legalább [Standard_DS13_v2][vm-sizes-memory] méretűnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="d118a-207">The Search Indexer should be at least the [Standard_DS13_v2][vm-sizes-memory] size.</span></span> 

> [!NOTE]
> <span data-ttu-id="d118a-208">A referenciaarchitektúra Resource Manager-sablonja a telepítés tesztelésére a kisebb DS3 méretet használja a keresési indexelőhöz.</span><span class="sxs-lookup"><span data-stu-id="d118a-208">The Resource Manager template for this reference architecture uses the smaller DS3 size for the Search Indexer, for purposes of testing the deployment.</span></span> <span data-ttu-id="d118a-209">Éles környezetek esetén használja a DS13 méretet, vagy egy annál nagyobbat.</span><span class="sxs-lookup"><span data-stu-id="d118a-209">For a production deployment, use the DS13 size or larger.</span></span> 

<span data-ttu-id="d118a-210">Az éles környezetben végzett számítási feladatokról lásd: [A SharePoint Server 2016 hardver- és szoftverkövetelményei][sharepoint-reqs].</span><span class="sxs-lookup"><span data-stu-id="d118a-210">For production workloads, see [Hardware and software requirements for SharePoint Server 2016][sharepoint-reqs].</span></span> 

<span data-ttu-id="d118a-211">Ne felejtse el megtervezni a keresési architektúrát, hogy meg tudjon felelni a lemezteljesítmény minimális támogatási követelményének (200 MB/s).</span><span class="sxs-lookup"><span data-stu-id="d118a-211">To meet the support requirement for disk throughput of 200 MB per second minimum, make sure to plan the Search architecture.</span></span> <span data-ttu-id="d118a-212">Lásd: [Vállalati keresési architektúra megtervezése a SharePoint Server 2013 rendszerben][sharepoint-search].</span><span class="sxs-lookup"><span data-stu-id="d118a-212">See [Plan enterprise search architecture in SharePoint Server 2013][sharepoint-search].</span></span> <span data-ttu-id="d118a-213">Kövesse a [SharePoint Server 2016 bejárásának ajánlott eljárásaira][sharepoint-crawling] vonatkozó útmutatást is.</span><span class="sxs-lookup"><span data-stu-id="d118a-213">Also follow the guidelines in [Best practices for crawling in SharePoint Server 2016][sharepoint-crawling].</span></span>

<span data-ttu-id="d118a-214">Továbbá a keresési összetevő adatait tárolja egy külön tárolóköteten vagy nagy teljesítményű partíción.</span><span class="sxs-lookup"><span data-stu-id="d118a-214">In addition, store the search component data on a separate storage volume or partition with high performance.</span></span> <span data-ttu-id="d118a-215">A terhelés csökkentéséhez és a teljesítmény növeléséhez konfigurálja az architektúrához szükséges objektum-gyorsítótár felhasználói fiókjait.</span><span class="sxs-lookup"><span data-stu-id="d118a-215">To reduce load and improve throughput, configure the object cache user accounts, which are required in this architecture.</span></span> <span data-ttu-id="d118a-216">A Windows Server operációsrendszer-fájljait, a SharePoint Server 2016 programfájljait és a diagnosztikai naplókat ossza el három külön tárolókötet vagy normál teljesítményű partíció között.</span><span class="sxs-lookup"><span data-stu-id="d118a-216">Split the Windows Server operating system files, the SharePoint Server 2016 program files, and diagnostics logs across three separate storage volumes or partitions with normal performance.</span></span> 

<span data-ttu-id="d118a-217">További információk a javaslatokról: [Az első üzembe helyezés rendszergazdai- és szolgáltatásfiókjai a SharePoint Server 2016 rendszerben][sharepoint-accounts].</span><span class="sxs-lookup"><span data-stu-id="d118a-217">For more information about these recommendations, see [Initial deployment administrative and service accounts in SharePoint Server 2016][sharepoint-accounts].</span></span>

### <a name="hybrid-workloads"></a><span data-ttu-id="d118a-218">Hibrid számítási feladatok</span><span class="sxs-lookup"><span data-stu-id="d118a-218">Hybrid workloads</span></span>

<span data-ttu-id="d118a-219">Ez a referenciaarchitektúra egy SharePoint Server 2016-farmot helyez üzembe, amelyet [SharePoint hibrid környezetként][sharepoint-hybrid] lehet használni &mdash; azaz kiterjeszti a SharePoint Server 2016-ot az Office 365 SharePoint Online-ra.</span><span class="sxs-lookup"><span data-stu-id="d118a-219">This reference architecture deploys a SharePoint Server 2016 farm that can be used as a [SharePoint hybrid environment][sharepoint-hybrid] &mdash; that is, extending SharePoint Server 2016 to Office 365 SharePoint Online.</span></span> <span data-ttu-id="d118a-220">Ha már rendelkezik Office Online Serverrel, lásd: [Az Office Web Apps és az Office Online Server támogatása az Azure-ban][office-web-apps].</span><span class="sxs-lookup"><span data-stu-id="d118a-220">If you have Office Online Server, see [Office Web Apps and Office Online Server supportability in Azure][office-web-apps].</span></span>

<span data-ttu-id="d118a-221">A telepítés alapértelmezett szolgáltatásalkalmazásait úgy alakították ki, hogy támogassák a hibrid számítási feladatokat.</span><span class="sxs-lookup"><span data-stu-id="d118a-221">The default service applications in this deployment are designed to support hybrid workloads.</span></span> <span data-ttu-id="d118a-222">A SharePoint Server 2016 és az Office 365 bármely hibrid számítási feladatát üzembe lehet helyezni ezen a farmon a SharePoint-infrastruktúra módosítása nélkül, egy kivétellel: A Cloud Hybrid Search szolgáltatásalkalmazást nem lehet üzembe helyezni olyan kiszolgálókon, amelyek meglévő keresési topológiát üzemeltetnek.</span><span class="sxs-lookup"><span data-stu-id="d118a-222">All SharePoint Server 2016 and Office 365 hybrid workloads can be deployed to this farm without changes to the SharePoint infrastructure, with one exception: The Cloud Hybrid Search Service Application must not be deployed onto servers hosting an existing search topology.</span></span> <span data-ttu-id="d118a-223">A farmhoz ezért hozzá kell adni legalább egy keresői szerepköralapú virtuális gépet, hogy támogassa ezt a hibrid forgatókönyvet.</span><span class="sxs-lookup"><span data-stu-id="d118a-223">Therefore, one or more search-role-based VMs must be added to the farm to support this hybrid scenario.</span></span>

### <a name="sql-server-always-on-availability-groups"></a><span data-ttu-id="d118a-224">SQL Server Always On rendelkezésre állási csoportok</span><span class="sxs-lookup"><span data-stu-id="d118a-224">SQL Server Always On Availability Groups</span></span>

<span data-ttu-id="d118a-225">Ez az architektúra SQL Servert futtató virtuális gépeket használ, mivel a SharePoint Server 2016 nem tudja az Azure SQL Database-t használni.</span><span class="sxs-lookup"><span data-stu-id="d118a-225">This architecture uses SQL Server virtual machines because SharePoint Server 2016 cannot use Azure SQL Database.</span></span> <span data-ttu-id="d118a-226">A magas rendelkezésre állás SQL Serveren való támogatásához javasoljuk, hogy használja az Always On rendelkezésre állási csoportokat. Ezek megadnak egy adatbáziskészletet, amelynek az adatbázisai együtt hajtják végre a feladatátvételt, így magas rendelkezésre állásúak és helyreállíthatók lesznek.</span><span class="sxs-lookup"><span data-stu-id="d118a-226">To support high availability in SQL Server, we recommend using Always On Availability Groups, which specify a set of databases that fail over together, making them highly-available and recoverable.</span></span> <span data-ttu-id="d118a-227">Ebben a referenciaarchitektúrában az adatbázisok létrehozása az üzembe helyezéskor történik, viszont manuálisan engedélyeznie kell az Always On rendelkezésre állási csoportokat, és hozzá kell adnia a SharePoint-adatbázisokat egy rendelkezésre állási csoporthoz.</span><span class="sxs-lookup"><span data-stu-id="d118a-227">In this reference architecture, the databases are created during deployment, but you must manually enable Always On Availability Groups and add the SharePoint databases to an availability group.</span></span> <span data-ttu-id="d118a-228">További információ: [A rendelkezésre állási csoport létrehozása és a SharePoint-adatbázisok hozzáadása][create-availability-group].</span><span class="sxs-lookup"><span data-stu-id="d118a-228">For more information, see [Create the availability group and add the SharePoint databases][create-availability-group].</span></span>

<span data-ttu-id="d118a-229">Emellett azt is javasoljuk, hogy adjon hozzá a fürthöz egy figyelő IP-címet. Ez az SQL Servert futtató virtuális gépek belső terheléselosztójának magánhálózati IP-címe.</span><span class="sxs-lookup"><span data-stu-id="d118a-229">We also recommend adding a listener IP address to the cluster, which is the private IP address of the internal load balancer for the SQL Server virtual machines.</span></span>

<span data-ttu-id="d118a-230">Az ajánlott virtuálisgép-méretekért és az Azure-ban futó SQL Server teljesítményével kapcsolatos egyéb javaslatokért lásd: [Az SQL Server teljesítményéhez kapcsolódó ajánlott eljárások Azure-beli virtuális gépeken][sql-performance].</span><span class="sxs-lookup"><span data-stu-id="d118a-230">For recommended VM sizes and other performance recommendations for SQL Server running in Azure, see [Performance best practices for SQL Server in Azure Virtual Machines][sql-performance].</span></span> <span data-ttu-id="d118a-231">Kövesse az [A SharePoint Server 2016-farmon futó SQL Serverre vonatkozó ajánlott eljárások][sql-sharepoint-best-practices] útmutatását is.</span><span class="sxs-lookup"><span data-stu-id="d118a-231">Also follow the recommendations in [Best practices for SQL Server in a SharePoint Server 2016 farm][sql-sharepoint-best-practices].</span></span>

<span data-ttu-id="d118a-232">Javasoljuk, hogy a csomóponttöbbséget használó kiszolgálót ne azon a számítógépen helyezze el, amelyen a replikációs partnerek találhatók.</span><span class="sxs-lookup"><span data-stu-id="d118a-232">We recommend that the majority node server reside on a separate computer from the replication partners.</span></span> <span data-ttu-id="d118a-233">A kiszolgáló lehetővé teszi, hogy a másodlagos replikációs partnerkiszolgáló a magas biztonsági üzemmódú munkamenetben felismerje, mikor kell automatikus feladatátvételt kezdeményeznie.</span><span class="sxs-lookup"><span data-stu-id="d118a-233">The server enables the secondary replication partner server in a high-safety mode session to recognize whether to initiate an automatic failover.</span></span> <span data-ttu-id="d118a-234">A két partnerrel ellentétben a csomóponttöbbséget használó kiszolgáló nem az adatbázist szolgálja ki, hanem az automatikus feladatátvételt támogatja.</span><span class="sxs-lookup"><span data-stu-id="d118a-234">Unlike the two partners, the majority node server doesn't serve the database but rather supports automatic failover.</span></span> 

## <a name="scalability-considerations"></a><span data-ttu-id="d118a-235">Méretezési szempontok</span><span class="sxs-lookup"><span data-stu-id="d118a-235">Scalability considerations</span></span>

<span data-ttu-id="d118a-236">A meglévő kiszolgálók vertikális felskálázásához egyszerűen módosítsa a virtuális gép méretét.</span><span class="sxs-lookup"><span data-stu-id="d118a-236">To scale up the existing servers, simply change the VM size.</span></span> 

<span data-ttu-id="d118a-237">A SharePoint Server 2016 [MinRoles][minroles] képességével horizontálisan felskálázhatja a kiszolgálókat a kiszolgáló szerepköre alapján, valamint el is távolíthat kiszolgálókat egy adott szerepkörből.</span><span class="sxs-lookup"><span data-stu-id="d118a-237">With the [MinRoles][minroles] capability in SharePoint Server 2016, you can scale out servers based on the server's role and also remove servers from a role.</span></span> <span data-ttu-id="d118a-238">Amikor kiszolgálókat ad hozzá egy szerepkörhöz, megadhatja bármelyik önálló szerepkört vagy a kombinált szerepkörök egyikét.</span><span class="sxs-lookup"><span data-stu-id="d118a-238">When you add servers to a role, you can specify any of the single roles or one of the combined roles.</span></span> <span data-ttu-id="d118a-239">Ha azonban a keresési szerepkörhöz ad hozzá kiszolgálókat, a keresési topológiát is újra kell konfigurálnia a PowerShell használatával.</span><span class="sxs-lookup"><span data-stu-id="d118a-239">If you add servers to the Search role, however, you must also reconfigure the search topology using PowerShell.</span></span> <span data-ttu-id="d118a-240">A szerepköröket át is alakíthatja a MinRoles használatával.</span><span class="sxs-lookup"><span data-stu-id="d118a-240">You can also convert roles using MinRoles.</span></span> <span data-ttu-id="d118a-241">További információ: [MinRole-kiszolgálófarmok kezelése a SharePoint Server 2016-ban][sharepoint-minrole].</span><span class="sxs-lookup"><span data-stu-id="d118a-241">For more information, see [Managing a MinRole Server Farm in SharePoint Server 2016][sharepoint-minrole].</span></span>

<span data-ttu-id="d118a-242">Vegye figyelembe, hogy a SharePoint Server 2016 nem támogatja a virtuálisgép-méretezési csoportok automatikus skálázásra történő használatát.</span><span class="sxs-lookup"><span data-stu-id="d118a-242">Note that SharePoint Server 2016 doesn't support using virtual machine scale sets for auto-scaling.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="d118a-243">Rendelkezésre állási szempontok</span><span class="sxs-lookup"><span data-stu-id="d118a-243">Availability considerations</span></span>

<span data-ttu-id="d118a-244">Ez a referenciaarchitektúra támogatja a magas rendelkezésre állást az Azure-régióban, mivel minden egyes szerepkörhöz legalább két virtuális gép van üzembe helyezve egy rendelkezésre állási csoportban.</span><span class="sxs-lookup"><span data-stu-id="d118a-244">This reference architecture supports high availability within an Azure region, because each role has at least two VMs deployed in an availability set.</span></span>

<span data-ttu-id="d118a-245">A regionális meghibásodással szembeni védelemhez hozzon létre egy külön vészhelyreállítási farmot egy másik Azure-régióban.</span><span class="sxs-lookup"><span data-stu-id="d118a-245">To protect against a regional failure, create a separate disaster recovery farm in a different Azure region.</span></span> <span data-ttu-id="d118a-246">A telepítési követelményeket a helyreállításiidő-célkitűzések (RTO-k) és a helyreállításipont-célkitűzések (RPO-k) fogják meghatározni.</span><span class="sxs-lookup"><span data-stu-id="d118a-246">Your recovery time objectives (RTOs) and recovery point objectives (RPOs) will determine the setup requirements.</span></span> <span data-ttu-id="d118a-247">További részleteké: [Vészhelyreállítási stratégia kiválasztása a SharePoint 2016-hoz][sharepoint-dr].</span><span class="sxs-lookup"><span data-stu-id="d118a-247">For details, see [Choose a disaster recovery strategy for SharePoint 2016][sharepoint-dr].</span></span> <span data-ttu-id="d118a-248">A másodlagos régiót *párosítani* kell az elsődleges régióval.</span><span class="sxs-lookup"><span data-stu-id="d118a-248">The secondary region should be a *paired region* with the primary region.</span></span> <span data-ttu-id="d118a-249">Széles körű leállás esetén minden párból az egyik régió helyreállítása előnyt élvez.</span><span class="sxs-lookup"><span data-stu-id="d118a-249">In the event of a broad outage, recovery of one region is prioritized out of every pair.</span></span> <span data-ttu-id="d118a-250">További információ: [Üzletmenet-folytonosság és vészhelyreállítás (BCDR): Az Azure párosított régiói][paired-regions].</span><span class="sxs-lookup"><span data-stu-id="d118a-250">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions][paired-regions].</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="d118a-251">Felügyeleti szempontok</span><span class="sxs-lookup"><span data-stu-id="d118a-251">Manageability considerations</span></span>

<span data-ttu-id="d118a-252">A kiszolgálók, kiszolgálófarmok és helyek működtetéséhez és karbantartásához kövesse a SharePoint-műveletekre vonatkozó ajánlott eljárásokat.</span><span class="sxs-lookup"><span data-stu-id="d118a-252">To operate and maintain servers, server farms, and sites, follow the recommended practices for SharePoint operations.</span></span> <span data-ttu-id="d118a-253">További információ: [A SharePoint Server 2016 műveletei][sharepoint-ops].</span><span class="sxs-lookup"><span data-stu-id="d118a-253">For more information, see [Operations for SharePoint Server 2016][sharepoint-ops].</span></span>

<span data-ttu-id="d118a-254">Az SQL Server SharePoint-környezetben való felügyeletekor megfontolandó feladatok eltérhetnek az adatbázis-alkalmazásoknál jellemzően megfontolt feladatoktól.</span><span class="sxs-lookup"><span data-stu-id="d118a-254">The tasks to consider when managing SQL Server in a SharePoint environment may differ from the ones typically considered for a database application.</span></span> <span data-ttu-id="d118a-255">Az ajánlott eljárás az SQL-adatbázisok hetente történő teljes körű biztonsági mentése, növekményes éjszakai biztonsági mentésekkel.</span><span class="sxs-lookup"><span data-stu-id="d118a-255">A best practice is to fully back up all SQL databases weekly with incremental nightly backups.</span></span> <span data-ttu-id="d118a-256">Készítsen biztonsági másolatot a tranzakciónaplókról 15 percenként.</span><span class="sxs-lookup"><span data-stu-id="d118a-256">Back up transaction logs every 15 minutes.</span></span> <span data-ttu-id="d118a-257">Egy másik eljárás az SQL Server karbantartási feladatainak megvalósítása az adatbázisokon, miközben letiltja a beépített SharePoint karbantartási feladatokat.</span><span class="sxs-lookup"><span data-stu-id="d118a-257">Another practice is to implement SQL Server maintenance tasks on the databases while disabling the built-in SharePoint ones.</span></span> <span data-ttu-id="d118a-258">További információ: [A tárolás és az SQL Server kapacitástervezése és konfigurálása][sql-server-capacity-planning].</span><span class="sxs-lookup"><span data-stu-id="d118a-258">For more information, see [Storage and SQL Server capacity planning and configuration][sql-server-capacity-planning].</span></span> 

## <a name="security-considerations"></a><span data-ttu-id="d118a-259">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="d118a-259">Security considerations</span></span>

<span data-ttu-id="d118a-260">A SharePoint Server 2016 futtatásához használt tartományszintű szolgáltatásfiókoknak Windows Server AD-tartományvezérlőkre van szükségük a tartományhoz való csatlakozáshoz és a hitelesítési folyamatokhoz.</span><span class="sxs-lookup"><span data-stu-id="d118a-260">The domain-level service accounts used to run SharePoint Server 2016 require Windows Server AD domain controllers for domain-join and authentication processes.</span></span> <span data-ttu-id="d118a-261">Az Azure Active Directory Domain Services nem használható erre a célra.</span><span class="sxs-lookup"><span data-stu-id="d118a-261">Azure Active Directory Domain Services can't be used for this purpose.</span></span> <span data-ttu-id="d118a-262">Az intraneten már elhelyezett Windows Server AD identitás-infrastruktúra bővítéséhez ez az architektúra egy meglévő helyszíni Windows Server AD-erdő két Windows Server AD replika tartományvezérlőjét használja.</span><span class="sxs-lookup"><span data-stu-id="d118a-262">To extend the Windows Server AD identity infrastructure already in place in the intranet, this architecture uses two Windows Server AD replica domain controllers of an existing on-premises Windows Server AD forest.</span></span>

<span data-ttu-id="d118a-263">Emellett mindig célszerű előre megtervezni a biztonság megerősítését.</span><span class="sxs-lookup"><span data-stu-id="d118a-263">In addition, it's always wise to plan for security hardening.</span></span> <span data-ttu-id="d118a-264">Egyéb javaslatok:</span><span class="sxs-lookup"><span data-stu-id="d118a-264">Other recommendations include:</span></span>

- <span data-ttu-id="d118a-265">Adjon szabályokat az NSG-khez az alhálózatok és a szerepkörök elkülönítéséhez.</span><span class="sxs-lookup"><span data-stu-id="d118a-265">Add rules to NSGs to isolate subnets and roles.</span></span>
- <span data-ttu-id="d118a-266">Ne rendeljen nyilvános IP-címeket a virtuális gépekhez.</span><span class="sxs-lookup"><span data-stu-id="d118a-266">Don't assign public IP addresses to VMs.</span></span>
- <span data-ttu-id="d118a-267">A behatolásészleléshez és a hasznos adatforgalom elemzéséhez fontolja meg egy virtuális hálózati berendezés használatát az előtér-webkiszolgálók előtt a belső Azure Load Balancer helyett.</span><span class="sxs-lookup"><span data-stu-id="d118a-267">For intrusion detection and analysis of payloads, consider using a network virtual appliance in front of the front-end web servers instead of an internal Azure load balancer.</span></span>
- <span data-ttu-id="d118a-268">Igény szerint IPsec-házirendekkel titkosíthatja a kiszolgálók közötti nem titkosított forgalmat.</span><span class="sxs-lookup"><span data-stu-id="d118a-268">As an option, use IPsec policies for encryption of cleartext traffic between servers.</span></span> <span data-ttu-id="d118a-269">Ha az alhálózatokat is elkülöníti, frissítse a hálózati biztonsági csoport szabályait, hogy engedélyezzék az IPsec-forgalmat.</span><span class="sxs-lookup"><span data-stu-id="d118a-269">If you are also doing subnet isolation, update your network security group rules to allow IPsec traffic.</span></span>
- <span data-ttu-id="d118a-270">Telepítsen kártevőirtó ügynököket a virtuális gépekre.</span><span class="sxs-lookup"><span data-stu-id="d118a-270">Install anti-malware agents for the VMs.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="d118a-271">A megoldás üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="d118a-271">Deploy the solution</span></span>

<span data-ttu-id="d118a-272">A referenciaarchitektúra üzembehelyezési szkriptjei elérhetők a [GitHubon][github].</span><span class="sxs-lookup"><span data-stu-id="d118a-272">The deployment scripts for this reference architecture are available on [GitHub][github].</span></span> 

<span data-ttu-id="d118a-273">Az architektúra növekményesen vagy egyszerre is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="d118a-273">You can deploy this architecture incrementally or all at once.</span></span> <span data-ttu-id="d118a-274">Első alkalommal a növekményes üzembe helyezést javasoljuk, hogy megismerhesse, melyik üzembehelyezési lépés mire való.</span><span class="sxs-lookup"><span data-stu-id="d118a-274">The first time, we recommend an incremental deployment, so that you can see what each deployment does.</span></span> <span data-ttu-id="d118a-275">A növekmény az alábbi *mód* paraméterek egyikével határozható meg.</span><span class="sxs-lookup"><span data-stu-id="d118a-275">Specify the increment using one of the following *mode* parameters.</span></span>

| <span data-ttu-id="d118a-276">Mód</span><span class="sxs-lookup"><span data-stu-id="d118a-276">Mode</span></span>           | <span data-ttu-id="d118a-277">Művelet</span><span class="sxs-lookup"><span data-stu-id="d118a-277">What it does</span></span>                                                                                                            |
|----------------|-------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d118a-278">onprem</span><span class="sxs-lookup"><span data-stu-id="d118a-278">onprem</span></span>         | <span data-ttu-id="d118a-279">(Nem kötelező) Üzembe helyez egy szimulált helyszíni hálózati környezetet tesztelési és értékelési célokra.</span><span class="sxs-lookup"><span data-stu-id="d118a-279">(Optional) Deploys a simulated on-premises network environment, for testing or evaluation.</span></span> <span data-ttu-id="d118a-280">Ez a lépés nem csatlakozik tényleges helyszíni hálózathoz.</span><span class="sxs-lookup"><span data-stu-id="d118a-280">This step does not connect to an actual on-premises network.</span></span> |
| <span data-ttu-id="d118a-281">infrastruktúra</span><span class="sxs-lookup"><span data-stu-id="d118a-281">infrastructure</span></span> | <span data-ttu-id="d118a-282">Üzembe helyezi a SharePoint 2016 hálózati infrastruktúrát és a jumpboxot az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="d118a-282">Deploys the SharePoint 2016 network infrastructure and jumpbox to Azure.</span></span>                                                |
| <span data-ttu-id="d118a-283">createvpn</span><span class="sxs-lookup"><span data-stu-id="d118a-283">createvpn</span></span>      | <span data-ttu-id="d118a-284">Üzembe helyez egy-egy virtuális hálózati átjárót a SharePoint- és a helyszíni hálózaton, és csatlakoztatja őket.</span><span class="sxs-lookup"><span data-stu-id="d118a-284">Deploys a virtual network gateway for both the SharePoint and on-premises networks and connects them.</span></span> <span data-ttu-id="d118a-285">Ezt a lépést csak akkor futtassa, ha futtatta az `onprem` lépést.</span><span class="sxs-lookup"><span data-stu-id="d118a-285">Run this step only if you ran the `onprem` step.</span></span>                |
| <span data-ttu-id="d118a-286">számítási feladat</span><span class="sxs-lookup"><span data-stu-id="d118a-286">workload</span></span>       | <span data-ttu-id="d118a-287">Üzembe helyezi a SharePoint-kiszolgálókat a SharePoint-hálózaton.</span><span class="sxs-lookup"><span data-stu-id="d118a-287">Deploys the SharePoint servers to the SharePoint network.</span></span>                                                               |
| <span data-ttu-id="d118a-288">biztonság</span><span class="sxs-lookup"><span data-stu-id="d118a-288">security</span></span>       | <span data-ttu-id="d118a-289">Üzembe helyezi a hálózati biztonsági csoportot a SharePoint-hálózaton.</span><span class="sxs-lookup"><span data-stu-id="d118a-289">Deploys the network security group to the SharePoint network.</span></span>                                                           |
| <span data-ttu-id="d118a-290">összes</span><span class="sxs-lookup"><span data-stu-id="d118a-290">all</span></span>            | <span data-ttu-id="d118a-291">Üzembe helyezi az összes fenti környezetet.</span><span class="sxs-lookup"><span data-stu-id="d118a-291">Deploys all the preceding deployments.</span></span>                            


<span data-ttu-id="d118a-292">Az architektúra szimulált helyszíni hálózati környezettel történő növekményes üzembe helyezéséhez futtassa az alábbi lépéseket ebben a sorrendben:</span><span class="sxs-lookup"><span data-stu-id="d118a-292">To deploy the architecture incrementally with a simulated on-premises network environment, run the following steps in order:</span></span>

1. <span data-ttu-id="d118a-293">onprem</span><span class="sxs-lookup"><span data-stu-id="d118a-293">onprem</span></span>
2. <span data-ttu-id="d118a-294">infrastruktúra</span><span class="sxs-lookup"><span data-stu-id="d118a-294">infrastructure</span></span>
3. <span data-ttu-id="d118a-295">createvpn</span><span class="sxs-lookup"><span data-stu-id="d118a-295">createvpn</span></span>
4. <span data-ttu-id="d118a-296">számítási feladat</span><span class="sxs-lookup"><span data-stu-id="d118a-296">workload</span></span>
5. <span data-ttu-id="d118a-297">biztonság</span><span class="sxs-lookup"><span data-stu-id="d118a-297">security</span></span>

<span data-ttu-id="d118a-298">Az architektúra szimulált helyszíni hálózati környezet nélkül történő növekményes üzembe helyezéséhez futtassa az alábbi lépéseket ebben a sorrendben:</span><span class="sxs-lookup"><span data-stu-id="d118a-298">To deploy the architecture incrementally without a simulated on-premises network environment, run the following steps in order:</span></span>

1. <span data-ttu-id="d118a-299">infrastruktúra</span><span class="sxs-lookup"><span data-stu-id="d118a-299">infrastructure</span></span>
2. <span data-ttu-id="d118a-300">számítási feladat</span><span class="sxs-lookup"><span data-stu-id="d118a-300">workload</span></span>
3. <span data-ttu-id="d118a-301">biztonság</span><span class="sxs-lookup"><span data-stu-id="d118a-301">security</span></span>

<span data-ttu-id="d118a-302">Ha mindent egy lépésben szeretne üzembe helyezni, használja az `all` paramétert.</span><span class="sxs-lookup"><span data-stu-id="d118a-302">To deploy everything in one step, use `all`.</span></span> <span data-ttu-id="d118a-303">Vegye figyelembe, hogy a teljes folyamat több órát is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="d118a-303">Note that the entire process may take several hours.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="d118a-304">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="d118a-304">Prerequisites</span></span>

* <span data-ttu-id="d118a-305">Telepítse az [Azure PowerShell][azure-ps] legújabb verzióját.</span><span class="sxs-lookup"><span data-stu-id="d118a-305">Install the latest version of [Azure PowerShell][azure-ps].</span></span>

* <span data-ttu-id="d118a-306">A referenciaarchitektúra üzembe helyezése előtt ellenőrizze, hogy az előfizetése elegendő kvótával rendelkezik-e (legalább 38 mag).</span><span class="sxs-lookup"><span data-stu-id="d118a-306">Before deploying this reference architecture, verify that your subscription has sufficient quota—at least 38 cores.</span></span> <span data-ttu-id="d118a-307">Ha nincs elég mag, küldjön támogatási kérelmet az Azure Portalról további kvótáért.</span><span class="sxs-lookup"><span data-stu-id="d118a-307">If you don't have enough, use the Azure portal to submit a support request for more quota.</span></span>

* <span data-ttu-id="d118a-308">Az üzembe helyezés költségeinek meghatározásához lásd: [Azure-díjkalkulátor][azure-pricing].</span><span class="sxs-lookup"><span data-stu-id="d118a-308">To estimate the cost of this deployment, see the [Azure Pricing Calculator][azure-pricing].</span></span>

### <a name="deploy-the-reference-architecture"></a><span data-ttu-id="d118a-309">A referenciaarchitektúra üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="d118a-309">Deploy the reference architecture</span></span>

1.  <span data-ttu-id="d118a-310">Töltse le vagy klónozza a [GitHub-adattárat][github] a saját helyi számítógépére.</span><span class="sxs-lookup"><span data-stu-id="d118a-310">Download or clone the [GitHub repo][github] to your local computer.</span></span>

2.  <span data-ttu-id="d118a-311">Nyisson meg egy PowerShell-ablakot, és lépjen a `/sharepoint/sharepoint-2016` mappára.</span><span class="sxs-lookup"><span data-stu-id="d118a-311">Open a PowerShell window and navigate to the `/sharepoint/sharepoint-2016` folder.</span></span>

3.  <span data-ttu-id="d118a-312">Futtassa az alábbi PowerShell-parancsot.</span><span class="sxs-lookup"><span data-stu-id="d118a-312">Run the following PowerShell command.</span></span> <span data-ttu-id="d118a-313">A \<subscription id\> paraméterhez adja meg az Azure-előfizetése azonosítóját.</span><span class="sxs-lookup"><span data-stu-id="d118a-313">For \<subscription id\>, use your Azure subscription ID.</span></span> <span data-ttu-id="d118a-314">A \<location\> paraméterhez adjon meg Azure-régiót (például `eastus` vagy `westus`).</span><span class="sxs-lookup"><span data-stu-id="d118a-314">For \<location\>, specify an Azure region, such as `eastus` or `westus`.</span></span> <span data-ttu-id="d118a-315">A \<mode\> paraméterhez adja meg az `onprem`, `infrastructure`, `createvpn`, `workload`, `security` vagy az `all` értéket.</span><span class="sxs-lookup"><span data-stu-id="d118a-315">For \<mode\>, specify `onprem`, `infrastructure`, `createvpn`, `workload`, `security`, or `all`.</span></span>

    ```powershell
    .\Deploy-ReferenceArchitecture.ps1 <subscription id> <location> <mode>
    ```   
4. <span data-ttu-id="d118a-316">Ha a rendszer kéri, jelentkezzen be az Azure-fiókjába.</span><span class="sxs-lookup"><span data-stu-id="d118a-316">When prompted, log on to your Azure account.</span></span> <span data-ttu-id="d118a-317">A kiválasztott módtól függően az üzembehelyezési szkriptek befejezése több órát is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="d118a-317">The deployment scripts can take up to several hours to complete, depending on the mode you selected.</span></span>

5. <span data-ttu-id="d118a-318">Ha az üzembe helyezés befejeződik, futtassa a szkripteket az SQL Server Always On rendelkezésre állási csoportok konfigurálásához.</span><span class="sxs-lookup"><span data-stu-id="d118a-318">When the deployment completes, run the scripts to configure SQL Server Always On Availability Groups.</span></span> <span data-ttu-id="d118a-319">További részletekért tekintse meg az [információs fájlt][readme].</span><span class="sxs-lookup"><span data-stu-id="d118a-319">See the [readme][readme] for details.</span></span>

> [!WARNING]
> <span data-ttu-id="d118a-320">A paraméterfájlok több helyen nem módosítható jelszót (`AweS0me@PW`) tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="d118a-320">The parameter files include a hard-coded password (`AweS0me@PW`) in various places.</span></span> <span data-ttu-id="d118a-321">Módosítsa ezeket az értékeket az üzembe helyezés előtt.</span><span class="sxs-lookup"><span data-stu-id="d118a-321">Change these values before you deploy.</span></span>


## <a name="validate-the-deployment"></a><span data-ttu-id="d118a-322">Az üzembe helyezés ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="d118a-322">Validate the deployment</span></span>

<span data-ttu-id="d118a-323">A referenciaarchitektúra üzembe helyezése után az alábbi erőforráscsoportok fognak megjelenni a használt előfizetés alatt:</span><span class="sxs-lookup"><span data-stu-id="d118a-323">After you deploy this reference architecture, the following resource groups are listed under the Subscription that you used:</span></span>

| <span data-ttu-id="d118a-324">Erőforráscsoport</span><span class="sxs-lookup"><span data-stu-id="d118a-324">Resource Group</span></span>        | <span data-ttu-id="d118a-325">Cél</span><span class="sxs-lookup"><span data-stu-id="d118a-325">Purpose</span></span>                                                                                         |
|-----------------------|-------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d118a-326">ra-onprem-sp2016-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-326">ra-onprem-sp2016-rg</span></span>   | <span data-ttu-id="d118a-327">Szimulált helyszíni hálózat Active Directoryval, a SharePoint 2016-hálózattal összevonva</span><span class="sxs-lookup"><span data-stu-id="d118a-327">Simulated on-premises network with Active Directory, federated with the SharePoint 2016 network</span></span> |
| <span data-ttu-id="d118a-328">ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-328">ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-329">A SharePoint-környezet támogatására szolgáló infrastruktúra</span><span class="sxs-lookup"><span data-stu-id="d118a-329">Infrastructure to support SharePoint deployment</span></span>                                                 |
| <span data-ttu-id="d118a-330">ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-330">ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-331">A SharePoint és a támogató erőforrások</span><span class="sxs-lookup"><span data-stu-id="d118a-331">SharePoint and supporting resources</span></span>                                                             |

### <a name="validate-access-to-the-sharepoint-site-from-the-on-premises-network"></a><span data-ttu-id="d118a-332">A SharePoint-hely helyszíni hálózatról való elérésének ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="d118a-332">Validate access to the SharePoint site from the on-premises network</span></span>

1. <span data-ttu-id="d118a-333">Az [Azure Portalon][azure-portal] **Erőforráscsoportok** területén válassza ki a `ra-onprem-sp2016-rg` erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="d118a-333">In the [Azure portal][azure-portal], under **Resource groups**, select the `ra-onprem-sp2016-rg` resource group.</span></span>

2. <span data-ttu-id="d118a-334">Az erőforrások listájában válassza ki a `ra-adds-user-vm1` nevű virtuálisgép-erőforrást.</span><span class="sxs-lookup"><span data-stu-id="d118a-334">In the list of resources, select the VM resource named `ra-adds-user-vm1`.</span></span> 

3. <span data-ttu-id="d118a-335">Csatlakozzon a virtuális géphez a [Csatlakozás virtuális géphez][connect-to-vm] című részben ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="d118a-335">Connect to the VM, as described in [Connect to virtual machine][connect-to-vm].</span></span> <span data-ttu-id="d118a-336">Felhasználónév: `\onpremuser`.</span><span class="sxs-lookup"><span data-stu-id="d118a-336">The user name is `\onpremuser`.</span></span>

5.  <span data-ttu-id="d118a-337">Ha létrejött a távoli kapcsolat a virtuális géppel, nyisson meg egy böngészőt a virtuális gépen, és navigáljon a következő helyre: `http://portal.contoso.local`.</span><span class="sxs-lookup"><span data-stu-id="d118a-337">When the remote connection to the VM is established, open a browser in the VM and navigate to `http://portal.contoso.local`.</span></span>

6.  <span data-ttu-id="d118a-338">A **Windows rendszerbiztonság** mezőben jelentkezzen be a SharePoint portálra a `contoso.local\testuser` felhasználónévvel.</span><span class="sxs-lookup"><span data-stu-id="d118a-338">In the **Windows Security** box, log on to the SharePoint portal using `contoso.local\testuser` for the user name.</span></span>

<span data-ttu-id="d118a-339">Ez a bejelentkezés a helyszíni hálózat által használt Fabrikam.com tartományból nyit alagutat a SharePoint portál által használt contoso.local tartomány felé.</span><span class="sxs-lookup"><span data-stu-id="d118a-339">This logon tunnels from the Fabrikam.com domain used by the on-premises network to the contoso.local domain used by the SharePoint portal.</span></span> <span data-ttu-id="d118a-340">Amikor megnyílik a SharePoint-hely, a legfelső szintű bemutatówebhely fog megjelenni.</span><span class="sxs-lookup"><span data-stu-id="d118a-340">When the SharePoint site opens, you'll see the root demo site.</span></span>

### <a name="validate-jumpbox-access-to-vms-and-check-configuration-settings"></a><span data-ttu-id="d118a-341">A jumpbox virtuális gépekhez való hozzáférésének ellenőrzése és a konfigurációs beállítások áttekintése</span><span class="sxs-lookup"><span data-stu-id="d118a-341">Validate jumpbox access to VMs and check configuration settings</span></span>

1.  <span data-ttu-id="d118a-342">Az [Azure Portalon][azure-portal] **Erőforráscsoportok** területén válassza ki a `ra-sp2016-network-rg` erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="d118a-342">In [Azure portal][azure-portal], under **Resource groups**, select the `ra-sp2016-network-rg` resource group.</span></span>

2.  <span data-ttu-id="d118a-343">Az erőforrások listájában válassza ki a `ra-sp2016-jb-vm1` nevű virtuálisgép-erőforrást, azaz a jumpboxot.</span><span class="sxs-lookup"><span data-stu-id="d118a-343">In the list of resources, select the VM resource named `ra-sp2016-jb-vm1`, which is the jumpbox.</span></span>

3. <span data-ttu-id="d118a-344">Csatlakozzon a virtuális géphez a [Csatlakozás virtuális géphez][connect-to-vm] című részben ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="d118a-344">Connect to the VM, as described in [Connect to virtual machine][connect-to-vm].</span></span> <span data-ttu-id="d118a-345">Felhasználónév: `testuser`.</span><span class="sxs-lookup"><span data-stu-id="d118a-345">The user name is `testuser`.</span></span>

4.  <span data-ttu-id="d118a-346">Miután bejelentkezett a jumpboxba, nyisson meg onnan egy RDP-munkamenetet.</span><span class="sxs-lookup"><span data-stu-id="d118a-346">After you log onto the jumpbox, open an RDP session from the jumpbox.</span></span> <span data-ttu-id="d118a-347">Csatlakozzon a virtuális hálózaton található bármely másik virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="d118a-347">Connect to any other VMs in the VNet.</span></span> <span data-ttu-id="d118a-348">Felhasználónév: `testuser`.</span><span class="sxs-lookup"><span data-stu-id="d118a-348">The username is `testuser`.</span></span> <span data-ttu-id="d118a-349">A távoli számítógép biztonsági tanúsítványára vonatkozó figyelmeztetést figyelmen kívül hagyhatja.</span><span class="sxs-lookup"><span data-stu-id="d118a-349">You can ignore the warning about the remote computer's security certificate.</span></span>

5.  <span data-ttu-id="d118a-350">Amikor megnyílik a virtuális géppel létesített távoli kapcsolat, tekintse át a konfigurációt, és végezzen módosításokat a felügyeleti eszközökkel, például a Kiszolgálókezelővel.</span><span class="sxs-lookup"><span data-stu-id="d118a-350">When the remote connection to the VM opens, review the configuration and make changes using the administrative tools such as Server Manager.</span></span>

<span data-ttu-id="d118a-351">Az alábbi táblázatban az üzembe helyezett virtuális gépek láthatók.</span><span class="sxs-lookup"><span data-stu-id="d118a-351">The following table shows the VMs that are deployed.</span></span> 

| <span data-ttu-id="d118a-352">Erőforrás neve</span><span class="sxs-lookup"><span data-stu-id="d118a-352">Resource Name</span></span>      | <span data-ttu-id="d118a-353">Cél</span><span class="sxs-lookup"><span data-stu-id="d118a-353">Purpose</span></span>                                   | <span data-ttu-id="d118a-354">Erőforráscsoport</span><span class="sxs-lookup"><span data-stu-id="d118a-354">Resource Group</span></span>        | <span data-ttu-id="d118a-355">Virtuális gép neve</span><span class="sxs-lookup"><span data-stu-id="d118a-355">VM Name</span></span>                       |
|--------------------|-------------------------------------------|-----------------------|-------------------------------|
| <span data-ttu-id="d118a-356">Ra-sp2016-ad-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-356">Ra-sp2016-ad-vm1</span></span>   | <span data-ttu-id="d118a-357">Active Directory + DNS</span><span class="sxs-lookup"><span data-stu-id="d118a-357">Active Directory + DNS</span></span>                    | <span data-ttu-id="d118a-358">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-358">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-359">Ad1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-359">Ad1.contoso.local</span></span>             |
| <span data-ttu-id="d118a-360">Ra-sp2016-ad-vm2</span><span class="sxs-lookup"><span data-stu-id="d118a-360">Ra-sp2016-ad-vm2</span></span>   | <span data-ttu-id="d118a-361">Active Directory + DNS</span><span class="sxs-lookup"><span data-stu-id="d118a-361">Active Directory + DNS</span></span>                    | <span data-ttu-id="d118a-362">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-362">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-363">Ad2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-363">Ad2.contoso.local</span></span>             |
| <span data-ttu-id="d118a-364">Ra-sp2016-fsw-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-364">Ra-sp2016-fsw-vm1</span></span>  | <span data-ttu-id="d118a-365">SharePoint</span><span class="sxs-lookup"><span data-stu-id="d118a-365">SharePoint</span></span>                                | <span data-ttu-id="d118a-366">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-366">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-367">Fsw1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-367">Fsw1.contoso.local</span></span>            |
| <span data-ttu-id="d118a-368">Ra-sp2016-jb-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-368">Ra-sp2016-jb-vm1</span></span>   | <span data-ttu-id="d118a-369">Jumpbox</span><span class="sxs-lookup"><span data-stu-id="d118a-369">Jumpbox</span></span>                                   | <span data-ttu-id="d118a-370">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-370">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-371">Jb (a bejelentkezéshez használja a nyilvános IP-címet)</span><span class="sxs-lookup"><span data-stu-id="d118a-371">Jb (use public IP to log on)</span></span> |
| <span data-ttu-id="d118a-372">Ra-sp2016-sql-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-372">Ra-sp2016-sql-vm1</span></span>  | <span data-ttu-id="d118a-373">SQL Always On – Feladatátvétel</span><span class="sxs-lookup"><span data-stu-id="d118a-373">SQL Always On - Failover</span></span>                  | <span data-ttu-id="d118a-374">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-374">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-375">Sq1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-375">Sq1.contoso.local</span></span>             |
| <span data-ttu-id="d118a-376">Ra-sp2016-sql-vm2</span><span class="sxs-lookup"><span data-stu-id="d118a-376">Ra-sp2016-sql-vm2</span></span>  | <span data-ttu-id="d118a-377">SQL Always On – Elsődleges</span><span class="sxs-lookup"><span data-stu-id="d118a-377">SQL Always On - Primary</span></span>                   | <span data-ttu-id="d118a-378">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-378">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="d118a-379">Sq2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-379">Sq2.contoso.local</span></span>             |
| <span data-ttu-id="d118a-380">Ra-sp2016-app-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-380">Ra-sp2016-app-vm1</span></span>  | <span data-ttu-id="d118a-381">SharePoint 2016 alkalmazás MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-381">SharePoint 2016 Application MinRole</span></span>       | <span data-ttu-id="d118a-382">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-382">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-383">App1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-383">App1.contoso.local</span></span>            |
| <span data-ttu-id="d118a-384">Ra-sp2016-app-vm2</span><span class="sxs-lookup"><span data-stu-id="d118a-384">Ra-sp2016-app-vm2</span></span>  | <span data-ttu-id="d118a-385">SharePoint 2016 alkalmazás MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-385">SharePoint 2016 Application MinRole</span></span>       | <span data-ttu-id="d118a-386">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-386">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-387">App2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-387">App2.contoso.local</span></span>            |
| <span data-ttu-id="d118a-388">Ra-sp2016-dch-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-388">Ra-sp2016-dch-vm1</span></span>  | <span data-ttu-id="d118a-389">SharePoint 2016 elosztott gyorsítótárazás MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-389">SharePoint 2016 Distributed Cache MinRole</span></span> | <span data-ttu-id="d118a-390">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-390">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-391">Dch1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-391">Dch1.contoso.local</span></span>            |
| <span data-ttu-id="d118a-392">Ra-sp2016-dch-vm2</span><span class="sxs-lookup"><span data-stu-id="d118a-392">Ra-sp2016-dch-vm2</span></span>  | <span data-ttu-id="d118a-393">SharePoint 2016 elosztott gyorsítótárazás MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-393">SharePoint 2016 Distributed Cache MinRole</span></span> | <span data-ttu-id="d118a-394">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-394">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-395">Dch2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-395">Dch2.contoso.local</span></span>            |
| <span data-ttu-id="d118a-396">Ra-sp2016-srch-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-396">Ra-sp2016-srch-vm1</span></span> | <span data-ttu-id="d118a-397">SharePoint 2016 keresés MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-397">SharePoint 2016 Search MinRole</span></span>            | <span data-ttu-id="d118a-398">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-398">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-399">Srch1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-399">Srch1.contoso.local</span></span>           |
| <span data-ttu-id="d118a-400">Ra-sp2016-srch-vm2</span><span class="sxs-lookup"><span data-stu-id="d118a-400">Ra-sp2016-srch-vm2</span></span> | <span data-ttu-id="d118a-401">SharePoint 2016 keresés MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-401">SharePoint 2016 Search MinRole</span></span>            | <span data-ttu-id="d118a-402">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-402">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-403">Srch2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-403">Srch2.contoso.local</span></span>           |
| <span data-ttu-id="d118a-404">Ra-sp2016-wfe-vm1</span><span class="sxs-lookup"><span data-stu-id="d118a-404">Ra-sp2016-wfe-vm1</span></span>  | <span data-ttu-id="d118a-405">SharePoint 2016 webes kezelőfelület MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-405">SharePoint 2016 Web Front End MinRole</span></span>     | <span data-ttu-id="d118a-406">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-406">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-407">Wfe1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-407">Wfe1.contoso.local</span></span>            |
| <span data-ttu-id="d118a-408">Ra-sp2016-wfe-vm2</span><span class="sxs-lookup"><span data-stu-id="d118a-408">Ra-sp2016-wfe-vm2</span></span>  | <span data-ttu-id="d118a-409">SharePoint 2016 webes kezelőfelület MinRole</span><span class="sxs-lookup"><span data-stu-id="d118a-409">SharePoint 2016 Web Front End MinRole</span></span>     | <span data-ttu-id="d118a-410">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="d118a-410">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="d118a-411">Wfe2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="d118a-411">Wfe2.contoso.local</span></span>            |


<span data-ttu-id="d118a-412">**_A referenciaarchitektúra készítésében közreműködtek:_** &mdash;  Joe Davies, Bob Fox, Neil Hodgkinson, Paul Stork</span><span class="sxs-lookup"><span data-stu-id="d118a-412">**_Contributors to this reference architecture_** &mdash;  Joe Davies, Bob Fox, Neil Hodgkinson, Paul Stork</span></span>

<!-- links -->

[availability-set]: /azure/virtual-machines/windows/manage-availability
[azure-portal]: https://portal.azure.com
[azure-ps]: /powershell/azure/overview
[azure-pricing]: https://azure.microsoft.com/pricing/calculator/
[bastion-host]: https://en.wikipedia.org/wiki/Bastion_host
[create-availability-group]: https://technet.microsoft.com/library/mt793548(v=office.16).aspx
[connect-to-vm]: /azure/virtual-machines/windows/quick-create-portal#connect-to-virtual-machine
[github]: https://github.com/mspnp/reference-architectures
[hybrid-ra]: ../hybrid-networking/index.md
[hybrid-vpn-ra]: ../hybrid-networking/vpn.md
[load-balancer]: /azure/load-balancer/load-balancer-internal-overview
[managed-disks]: /azure/storage/storage-managed-disks-overview
[minroles]: https://technet.microsoft.com/library/mt346114(v=office.16).aspx
[nsg]: /azure/virtual-network/virtual-networks-nsg
[office-web-apps]: https://support.microsoft.com/help/3199955/office-web-apps-and-office-online-server-supportability-in-azure
[paired-regions]: /azure/best-practices-availability-paired-regions
[readme]: https://github.com/mspnp/reference-architectures/tree/master/sharepoint/sharepoint-2016
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[quotas]: /azure/azure-subscription-service-limits
[sharepoint-accounts]: https://technet.microsoft.com/library/ee662513(v=office.16).aspx
[sharepoint-crawling]: https://technet.microsoft.com/library/dn535606(v=office.16).aspx
[sharepoint-dr]: https://technet.microsoft.com/library/ff628971(v=office.16).aspx
[sharepoint-hybrid]: https://aka.ms/sphybrid
[sharepoint-minrole]: https://technet.microsoft.com/library/mt743705(v=office.16).aspx
[sharepoint-ops]: https://technet.microsoft.com/library/cc262289(v=office.16).aspx
[sharepoint-reqs]: https://technet.microsoft.com/library/cc262485(v=office.16).aspx
[sharepoint-search]: https://technet.microsoft.com/library/dn342836.aspx
[sql-always-on]: /sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server
[sql-performance]: /virtual-machines/windows/sql/virtual-machines-windows-sql-performance
[sql-server-capacity-planning]: https://technet.microsoft.com/library/cc298801(v=office.16).aspx
[sql-quorum]: https://technet.microsoft.com/library/cc731739(v=ws.11).aspx
[sql-sharepoint-best-practices]: https://technet.microsoft.com/library/hh292622(v=office.16).aspx
[tempdb]: /sql/relational-databases/databases/tempdb-database
[virtual-networks-nsg]: /azure/virtual-network/virtual-networks-nsg
[visio-download]: https://archcenter.blob.core.windows.net/cdn/Sharepoint-2016.vsdx
[vm-sizes-general]: /azure/virtual-machines/windows/sizes-general
[vm-sizes-memory]: /azure/virtual-machines/windows/sizes-memory
[windows-n-tier]: ../virtual-machines-windows/n-tier.md
