---
title: "Mikroszolgáltatások architektúra stílus"
description: "Előnyeit, kihívást és mikroszolgáltatások architektúrák ajánlott eljárásai ismerteti az Azure-on"
author: MikeWasson
ms.openlocfilehash: 6426b3342a319832baf5eec35e9c783ba9348bdd
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="microservices-architecture-style"></a><span data-ttu-id="4818c-103">Mikroszolgáltatások architektúra stílus</span><span class="sxs-lookup"><span data-stu-id="4818c-103">Microservices architecture style</span></span>

<span data-ttu-id="4818c-104">Egy mikroszolgáltatások architektúra kicsi, önálló szolgáltatások gyűjteményei.</span><span class="sxs-lookup"><span data-stu-id="4818c-104">A microservices architecture consists of a collection of small, autonomous services.</span></span> <span data-ttu-id="4818c-105">Minden szolgáltatás önálló, és meg kell valósítania egy egyetlen üzleti képesség.</span><span class="sxs-lookup"><span data-stu-id="4818c-105">Each service is self-contained and should implement a single business capability.</span></span> 

![](./images/microservices-logical.svg)
 
<span data-ttu-id="4818c-106">Bizonyos értelemben mikroszolgáltatások célú szolgáltatás architektúrák (SOA) természetes fejlődéséhez, de mikroszolgáltatások létrehozására és SOA közötti különbségek vannak.</span><span class="sxs-lookup"><span data-stu-id="4818c-106">In some ways, microservices are the natural evolution of service oriented architectures (SOA), but there are differences between microservices and SOA.</span></span> <span data-ttu-id="4818c-107">Az alábbiakban néhány olyan mikroszolgáltatási definiáló jellemzői:</span><span class="sxs-lookup"><span data-stu-id="4818c-107">Here are some defining characteristics of a microservice:</span></span>

- <span data-ttu-id="4818c-108">Mikroszolgáltatások architektúra esetén a szolgáltatások kicsi, független és lazán összekapcsolt.</span><span class="sxs-lookup"><span data-stu-id="4818c-108">In a microservices architecture, services are small, independent, and loosely coupled.</span></span>

- <span data-ttu-id="4818c-109">Minden szolgáltatás egy külön codebase, amely egy kis fejlesztési csapat fogja kezelni akkor is.</span><span class="sxs-lookup"><span data-stu-id="4818c-109">Each service is a separate codebase, which can be managed by a small development team.</span></span>

- <span data-ttu-id="4818c-110">Szolgáltatások egymástól függetlenül is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="4818c-110">Services can be deployed independently.</span></span> <span data-ttu-id="4818c-111">Egy csoport frissítheti a meglévő szolgáltatás újraépítését, és a teljes alkalmazás újbóli terjesztése nélkül.</span><span class="sxs-lookup"><span data-stu-id="4818c-111">A team can update an existing service without rebuilding and redeploying the entire application.</span></span>

- <span data-ttu-id="4818c-112">Szolgáltatások a saját adatok vagy a külső állapot megőrzése felelősek.</span><span class="sxs-lookup"><span data-stu-id="4818c-112">Services are responsible for persisting their own data or external state.</span></span> <span data-ttu-id="4818c-113">Ez eltér a hagyományos modelltől, ahol egy külön adatrétege kezeli az adatmegőrzés.</span><span class="sxs-lookup"><span data-stu-id="4818c-113">This differs from the traditional model, where a separate data layer handles data persistence.</span></span>

- <span data-ttu-id="4818c-114">Szolgáltatások jól meghatározott API-k használatával kommunikál egymással.</span><span class="sxs-lookup"><span data-stu-id="4818c-114">Services communicate with each other by using well-defined APIs.</span></span> <span data-ttu-id="4818c-115">Belső megvalósítás részletei minden szolgáltatás más szolgáltatások rejtve maradnak.</span><span class="sxs-lookup"><span data-stu-id="4818c-115">Internal implementation details of each service are hidden from other services.</span></span>

- <span data-ttu-id="4818c-116">Szolgáltatások nem kell azonos technológia vermet, könyvtárak, vagy keretrendszert.</span><span class="sxs-lookup"><span data-stu-id="4818c-116">Services don't need to share the same technology stack, libraries, or frameworks.</span></span>

<span data-ttu-id="4818c-117">Emellett a szolgáltatások magukat, néhány más összetevők jelennek meg egy tipikus mikroszolgáltatások architektúra:</span><span class="sxs-lookup"><span data-stu-id="4818c-117">Besides for the services themselves, some other components appear in a typical microservices architecture:</span></span>

<span data-ttu-id="4818c-118">**Felügyeleti**.</span><span class="sxs-lookup"><span data-stu-id="4818c-118">**Management**.</span></span> <span data-ttu-id="4818c-119">A felügyeleti összetevő felelős szolgáltatások helyezését csomópontok azonosítása sikertelen, a szolgáltatások újraelosztás csomópontok, és így tovább.</span><span class="sxs-lookup"><span data-stu-id="4818c-119">The management component is responsible for placing services on nodes, identifying failures, rebalancing services across nodes, and so forth.</span></span>  

<span data-ttu-id="4818c-120">**Felderítési szolgáltatás**.</span><span class="sxs-lookup"><span data-stu-id="4818c-120">**Service Discovery**.</span></span>  <span data-ttu-id="4818c-121">Fenntart egy listát a szolgáltatások és a csomópontok találhatók-e meg.</span><span class="sxs-lookup"><span data-stu-id="4818c-121">Maintains a list of services and which nodes they are located on.</span></span> <span data-ttu-id="4818c-122">Lehetővé teszi, hogy a szolgáltatás értékét a található a végpont egy szolgáltatás számára.</span><span class="sxs-lookup"><span data-stu-id="4818c-122">Enables service lookup to find the endpoint for a service.</span></span> 

<span data-ttu-id="4818c-123">**API-átjáró**.</span><span class="sxs-lookup"><span data-stu-id="4818c-123">**API Gateway**.</span></span> <span data-ttu-id="4818c-124">Az API-átjáró a belépési pont az ügyfelek.</span><span class="sxs-lookup"><span data-stu-id="4818c-124">The API gateway is the entry point for clients.</span></span> <span data-ttu-id="4818c-125">Az ügyfelek ne hívja közvetlenül szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="4818c-125">Clients don't call services directly.</span></span> <span data-ttu-id="4818c-126">Ehelyett meghívják az API-átjárón, amely továbbítja a megfelelő szolgáltatásokat a háttérben futó hívása.</span><span class="sxs-lookup"><span data-stu-id="4818c-126">Instead, they call the API gateway, which forwards the call to the appropriate services on the back end.</span></span> <span data-ttu-id="4818c-127">Az API-átjáró előfordulhat, hogy több szolgáltatásokból válaszok összesítő és az összesített választ küldi vissza.</span><span class="sxs-lookup"><span data-stu-id="4818c-127">The API gateway might aggregate the responses from several services and return the aggregated response.</span></span> 

<span data-ttu-id="4818c-128">Az API-átjáró használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="4818c-128">The advantages of using an API gateway include:</span></span>

- <span data-ttu-id="4818c-129">Leválasztja a ügyfelek szolgáltatásokból.</span><span class="sxs-lookup"><span data-stu-id="4818c-129">It decouples clients from services.</span></span> <span data-ttu-id="4818c-130">A szolgáltatások lehetnek rendszerverzióval ellátott vagy átkerült anélkül, hogy az összes ügyfél frissítése.</span><span class="sxs-lookup"><span data-stu-id="4818c-130">Services can be versioned or refactored without needing to update all of the clients.</span></span>

-  <span data-ttu-id="4818c-131">Szolgáltatások használhatnak üzenetkezelő protokollokkal, amelyek nincsenek rövid, például az AMQP webes.</span><span class="sxs-lookup"><span data-stu-id="4818c-131">Services can use messaging protocols that are not web friendly, such as AMQP.</span></span>

- <span data-ttu-id="4818c-132">Az API-átjáró más több területet funkciókat, például a hitelesítés, a naplózás, az SSL-lezárást és a terheléselosztás hajthat végre.</span><span class="sxs-lookup"><span data-stu-id="4818c-132">The API Gateway can perform other cross-cutting functions such as authentication, logging, SSL termination, and load balancing.</span></span>

## <a name="when-to-use-this-architecture"></a><span data-ttu-id="4818c-133">Mikor érdemes használni, ez az architektúra</span><span class="sxs-lookup"><span data-stu-id="4818c-133">When to use this architecture</span></span>

<span data-ttu-id="4818c-134">Vegye figyelembe a architektúra stílus:</span><span class="sxs-lookup"><span data-stu-id="4818c-134">Consider this architecture style for:</span></span>

- <span data-ttu-id="4818c-135">A magas kiadás sebesség igénylő nagy alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="4818c-135">Large applications that require a high release velocity.</span></span>

- <span data-ttu-id="4818c-136">Összetett alkalmazások, csak magas szinten méretezhető.</span><span class="sxs-lookup"><span data-stu-id="4818c-136">Complex applications that need to be highly scalable.</span></span>

- <span data-ttu-id="4818c-137">Alkalmazások gazdag tartományok vagy sok altartományokat.</span><span class="sxs-lookup"><span data-stu-id="4818c-137">Applications with rich domains or many subdomains.</span></span>

- <span data-ttu-id="4818c-138">Olyan szervezet, amely tartalmaz kis fejlesztőcsapatai számára.</span><span class="sxs-lookup"><span data-stu-id="4818c-138">An organization that consists of small development teams.</span></span>


## <a name="benefits"></a><span data-ttu-id="4818c-139">Előnyök</span><span class="sxs-lookup"><span data-stu-id="4818c-139">Benefits</span></span> 

- <span data-ttu-id="4818c-140">**Független központi telepítések**.</span><span class="sxs-lookup"><span data-stu-id="4818c-140">**Independent deployments**.</span></span> <span data-ttu-id="4818c-141">Szolgáltatás frissítése a teljes alkalmazás üzembe helyezésével és állíthatja vissza, illetve előregörgetéseket frissítés esetén.</span><span class="sxs-lookup"><span data-stu-id="4818c-141">You can update a service without redeploying the entire application, and roll back or roll forward an update if something goes wrong.</span></span> <span data-ttu-id="4818c-142">Hibajavításokat tartalmaz, és a szolgáltatás kiadásokban még kezelhetőbbé teszik és kevésbé.</span><span class="sxs-lookup"><span data-stu-id="4818c-142">Bug fixes and feature releases are more manageable and less risky.</span></span>

- <span data-ttu-id="4818c-143">**Független fejlesztési**.</span><span class="sxs-lookup"><span data-stu-id="4818c-143">**Independent development**.</span></span> <span data-ttu-id="4818c-144">Egyetlen fejlesztőcsoportunk létrehozása, tesztelése és a szolgáltatás telepítése.</span><span class="sxs-lookup"><span data-stu-id="4818c-144">A single development team can build, test, and deploy a service.</span></span> <span data-ttu-id="4818c-145">A folyamatos innováció és kiadása gyorsabb ütemben történik eredménye.</span><span class="sxs-lookup"><span data-stu-id="4818c-145">The result is continuous innovation and a faster release cadence.</span></span> 

- <span data-ttu-id="4818c-146">**Kisméretű, célzott csoportok**.</span><span class="sxs-lookup"><span data-stu-id="4818c-146">**Small, focused teams**.</span></span> <span data-ttu-id="4818c-147">Csoportok egy szolgáltatás összpontosíthat.</span><span class="sxs-lookup"><span data-stu-id="4818c-147">Teams can focus on one service.</span></span> <span data-ttu-id="4818c-148">Minden szolgáltatás teszi könnyebben érthetőek legyenek kódbázisra, és a könnyebb új csoport tagjai hatékonyságának növeléséhez kisebb körét.</span><span class="sxs-lookup"><span data-stu-id="4818c-148">The smaller scope of each service makes the code base easier to understand, and it's easier for new team members to ramp up.</span></span>

- <span data-ttu-id="4818c-149">**Elkülönítési fault**.</span><span class="sxs-lookup"><span data-stu-id="4818c-149">**Fault isolation**.</span></span> <span data-ttu-id="4818c-150">Ha a szolgáltatás leáll, akkor nem vegye ki a teljes alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="4818c-150">If a service goes down, it won't take out the entire application.</span></span> <span data-ttu-id="4818c-151">Azonban, hogy nem jelenti azt elérhetővé az ingyenes.</span><span class="sxs-lookup"><span data-stu-id="4818c-151">However, that doesn't mean you get resiliency for free.</span></span> <span data-ttu-id="4818c-152">Továbbra is szeretné kövesse a bevált gyakorlatokat rugalmasság és a kialakítási minták.</span><span class="sxs-lookup"><span data-stu-id="4818c-152">You still need to follow resiliency best practices and design patterns.</span></span> <span data-ttu-id="4818c-153">Lásd: [rugalmas alkalmazások az Azure-kialakítása][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="4818c-153">See [Designing resilient applications for Azure][resiliency-overview].</span></span>

- <span data-ttu-id="4818c-154">**Vegyes technológia verem**.</span><span class="sxs-lookup"><span data-stu-id="4818c-154">**Mixed technology stacks**.</span></span> <span data-ttu-id="4818c-155">Csoportok ki tudja választani a technológia, amely legjobban megfelel a szolgáltatásában.</span><span class="sxs-lookup"><span data-stu-id="4818c-155">Teams can pick the technology that best fits their service.</span></span> 

- <span data-ttu-id="4818c-156">**A részletes skálázás**.</span><span class="sxs-lookup"><span data-stu-id="4818c-156">**Granular scaling**.</span></span> <span data-ttu-id="4818c-157">Szolgáltatások egymástól függetlenül lehet méretezni.</span><span class="sxs-lookup"><span data-stu-id="4818c-157">Services can be scaled independently.</span></span> <span data-ttu-id="4818c-158">Egy időben virtuális gépenként szolgáltatások magasabb sűrűségét azt jelenti, hogy Virtuálisgép-erőforrások teljes mértékben ki van használva.</span><span class="sxs-lookup"><span data-stu-id="4818c-158">At the same time, the higher density of services per VM means that VM resources are fully utilized.</span></span> <span data-ttu-id="4818c-159">Egy elhelyezési korlátozás használ, a szolgáltatások rendelhető hozzá egy virtuális gép-profilja (magas CPU, nagy memória, és így tovább).</span><span class="sxs-lookup"><span data-stu-id="4818c-159">Using placement constraints, a services can be matched to a VM profile (high CPU, high memory, and so on).</span></span>

## <a name="challenges"></a><span data-ttu-id="4818c-160">Kihívásai</span><span class="sxs-lookup"><span data-stu-id="4818c-160">Challenges</span></span>

- <span data-ttu-id="4818c-161">**Összetettsége**.</span><span class="sxs-lookup"><span data-stu-id="4818c-161">**Complexity**.</span></span> <span data-ttu-id="4818c-162">A mikroszolgáltatások alkalmazások áthelyezése több részből áll az egyenértékű egységes alkalmazásnál.</span><span class="sxs-lookup"><span data-stu-id="4818c-162">A microservices application has more moving parts than the equivalent monolithic application.</span></span> <span data-ttu-id="4818c-163">Minden szolgáltatás egyszerűbb, de a teljes rendszer egészének összetettebb.</span><span class="sxs-lookup"><span data-stu-id="4818c-163">Each service is simpler, but the entire system as a whole is more complex.</span></span>

- <span data-ttu-id="4818c-164">**Fejlesztési és tesztelési**.</span><span class="sxs-lookup"><span data-stu-id="4818c-164">**Development and test**.</span></span> <span data-ttu-id="4818c-165">Szolgáltatásfüggőségek fejlesztésről másik módszert igényel.</span><span class="sxs-lookup"><span data-stu-id="4818c-165">Developing against service dependencies requires a different approach.</span></span> <span data-ttu-id="4818c-166">Meglévő eszközök nem feltétlenül tervezték együtt szolgáltatásfüggőségek.</span><span class="sxs-lookup"><span data-stu-id="4818c-166">Existing tools are not necessarily designed to work with service dependencies.</span></span> <span data-ttu-id="4818c-167">Szolgáltatás határain túlnyúló újrabontása bonyolult lehet.</span><span class="sxs-lookup"><span data-stu-id="4818c-167">Refactoring across service boundaries can be difficult.</span></span> <span data-ttu-id="4818c-168">Is nehéz függőségei, teszteléséhez, különösen akkor, ha az alkalmazás gyorsan fejlődnek-e.</span><span class="sxs-lookup"><span data-stu-id="4818c-168">It is also challenging to test service dependencies, especially when the application is evolving quickly.</span></span>

- <span data-ttu-id="4818c-169">**A cégirányítási hiánya**.</span><span class="sxs-lookup"><span data-stu-id="4818c-169">**Lack of governance**.</span></span> <span data-ttu-id="4818c-170">Mikroszolgáltatások létrehozására decentralizált megközelítés előnye is van, de azt is problémákkal is járhat.</span><span class="sxs-lookup"><span data-stu-id="4818c-170">The decentralized approach to building microservices has advantages, but it can also lead to problems.</span></span> <span data-ttu-id="4818c-171">A sok különböző nyelv és keretrendszer, az alkalmazás váló nehéz fenntartani fordulhatnak elő.</span><span class="sxs-lookup"><span data-stu-id="4818c-171">You may end up with so many different languages and frameworks that the application becomes hard to maintain.</span></span> <span data-ttu-id="4818c-172">Bevezetni néhány projekt kiterjedő szabványok, csapat rugalmasságot túlságosan korlátozás nélkül hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="4818c-172">It may be useful to put some project-wide standards in place, without overly restricting teams' flexibility.</span></span> <span data-ttu-id="4818c-173">Ez különösen több területet funkciók, például a naplózás vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="4818c-173">This especially applies to cross-cutting functionality such as logging.</span></span>

- <span data-ttu-id="4818c-174">**Hálózati torlódás és késés**.</span><span class="sxs-lookup"><span data-stu-id="4818c-174">**Network congestion and latency**.</span></span> <span data-ttu-id="4818c-175">A sok kisméretű, a részletes szolgáltatások használatát további értekezleteire kommunikációt eredményez.</span><span class="sxs-lookup"><span data-stu-id="4818c-175">The use of many small, granular services can result in more interservice communication.</span></span> <span data-ttu-id="4818c-176">Is a szolgáltatás függőségek lekérdezi a lánc túl hosszú (A B kiszolgálóra, amely meghívja a C...) hívásokról, a további várakozási probléma válhat.</span><span class="sxs-lookup"><span data-stu-id="4818c-176">Also, if the chain of service dependencies gets too long (service A calls B, which calls C...), the additional latency can become a problem.</span></span> <span data-ttu-id="4818c-177">Szüksége lesz a Tervező API-k gondosan.</span><span class="sxs-lookup"><span data-stu-id="4818c-177">You will need to design APIs carefully.</span></span> <span data-ttu-id="4818c-178">Kerülje túlságosan chatty API-k, gondolja át szerializálási formátumok és használ aszinkron kommunikációt mintákat keressen.</span><span class="sxs-lookup"><span data-stu-id="4818c-178">Avoid overly chatty APIs, think about serialization formats, and look for places to use asynchronous communication patterns.</span></span>

- <span data-ttu-id="4818c-179">**Adatok sértetlensége**.</span><span class="sxs-lookup"><span data-stu-id="4818c-179">**Data integrity**.</span></span> <span data-ttu-id="4818c-180">Az egyes mikroszolgáltatási saját adatmegőrzés felelős.</span><span class="sxs-lookup"><span data-stu-id="4818c-180">With each microservice responsible for its own data persistence.</span></span> <span data-ttu-id="4818c-181">Ennek eredményeképpen a adatkonzisztencia kihívást lehet.</span><span class="sxs-lookup"><span data-stu-id="4818c-181">As a result, data consistency can be a challenge.</span></span> <span data-ttu-id="4818c-182">Vezessék be a végleges konzisztencia, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="4818c-182">Embrace eventual consistency where possible.</span></span>

- <span data-ttu-id="4818c-183">**Felügyeleti**.</span><span class="sxs-lookup"><span data-stu-id="4818c-183">**Management**.</span></span> <span data-ttu-id="4818c-184">A mikroszolgáltatások sikeres egy összetett DevOps kulturális környezet szükséges.</span><span class="sxs-lookup"><span data-stu-id="4818c-184">To be successful with microservices requires a mature DevOps culture.</span></span> <span data-ttu-id="4818c-185">Korrelált naplózása szolgáltatásban kihívást jelenthet.</span><span class="sxs-lookup"><span data-stu-id="4818c-185">Correlated logging across services can be challenging.</span></span> <span data-ttu-id="4818c-186">Naplózási általában több szolgáltatás hívások egyfelhasználós művelet kell összefüggéseket.</span><span class="sxs-lookup"><span data-stu-id="4818c-186">Typically, logging must correlate multiple service calls for a single user operation.</span></span>

- <span data-ttu-id="4818c-187">**Versioning**.</span><span class="sxs-lookup"><span data-stu-id="4818c-187">**Versioning**.</span></span> <span data-ttu-id="4818c-188">Frissítések egy kell a tőle függő szolgáltatások nem törhetik meg.</span><span class="sxs-lookup"><span data-stu-id="4818c-188">Updates to a service must not break services that depend on it.</span></span> <span data-ttu-id="4818c-189">Több szolgáltatások frissítése sikerült egy adott időpontban, így nélkül gondos tervezés, akkor lehet, hogy problémákat visszafelé vagy kompatibilitási továbbítsa.</span><span class="sxs-lookup"><span data-stu-id="4818c-189">Multiple services could be updated at any given time, so without careful design, you might have problems with backward or forward compatibility.</span></span>

- <span data-ttu-id="4818c-190">**Skillset**.</span><span class="sxs-lookup"><span data-stu-id="4818c-190">**Skillset**.</span></span> <span data-ttu-id="4818c-191">Mikroszolgáltatások azok helyre elosztott rendszerek.</span><span class="sxs-lookup"><span data-stu-id="4818c-191">Microservices are highly distributed systems.</span></span> <span data-ttu-id="4818c-192">Gondosan határozza meg, hogy a csapat a képességek és a felhasználói élmény, a sikeres-e.</span><span class="sxs-lookup"><span data-stu-id="4818c-192">Carefully evaluate whether the team has the skills and experience to be successful.</span></span>

## <a name="best-practices"></a><span data-ttu-id="4818c-193">Ajánlott eljárások</span><span class="sxs-lookup"><span data-stu-id="4818c-193">Best practices</span></span>

- <span data-ttu-id="4818c-194">A vállalati tartomány körül modellre szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="4818c-194">Model services around the business domain.</span></span> 

- <span data-ttu-id="4818c-195">Minden decentralize.</span><span class="sxs-lookup"><span data-stu-id="4818c-195">Decentralize everything.</span></span> <span data-ttu-id="4818c-196">Az egyes csoportok tervezéséről és kiépítéséről szolgáltatások felelősek.</span><span class="sxs-lookup"><span data-stu-id="4818c-196">Individual teams are responsible for designing and building services.</span></span> <span data-ttu-id="4818c-197">Kerülje a kódban, illetve az adatok sémák megosztása.</span><span class="sxs-lookup"><span data-stu-id="4818c-197">Avoid sharing code or data schemas.</span></span> 

- <span data-ttu-id="4818c-198">Adattárolás a szolgáltatást, amely birtokolja az adatokat a saját kell lennie.</span><span class="sxs-lookup"><span data-stu-id="4818c-198">Data storage should be private to the service that owns the data.</span></span> <span data-ttu-id="4818c-199">Ajánlott tárhelyet használja az egyes szolgáltatást és az adatok.</span><span class="sxs-lookup"><span data-stu-id="4818c-199">Use the best storage for each service and data type.</span></span> 

- <span data-ttu-id="4818c-200">Szolgáltatások tetszetős API-k segítségével kommunikálnak.</span><span class="sxs-lookup"><span data-stu-id="4818c-200">Services communicate through well-designed APIs.</span></span> <span data-ttu-id="4818c-201">Kerülje a megvalósítás részletei megakadályozására.</span><span class="sxs-lookup"><span data-stu-id="4818c-201">Avoid leaking implementation details.</span></span> <span data-ttu-id="4818c-202">API-k modell kell a tartományhoz, a szolgáltatás nem a belső megvalósítása.</span><span class="sxs-lookup"><span data-stu-id="4818c-202">APIs should model the domain, not the internal implementation of the service.</span></span>

- <span data-ttu-id="4818c-203">Kerülje a szolgáltatások közötti.</span><span class="sxs-lookup"><span data-stu-id="4818c-203">Avoid coupling between services.</span></span> <span data-ttu-id="4818c-204">Kapcsolási okai a megosztott adatbázis sémák és kemény kommunikációs protokollokat.</span><span class="sxs-lookup"><span data-stu-id="4818c-204">Causes of coupling include shared database schemas and rigid communication protocols.</span></span>

- <span data-ttu-id="4818c-205">Több területet problémákat, például hitelesítés és az SSL-lezárást, hogy az átjáró kiürítése.</span><span class="sxs-lookup"><span data-stu-id="4818c-205">Offload cross-cutting concerns, such as authentication and SSL termination, to the gateway.</span></span>

- <span data-ttu-id="4818c-206">Tartsa meg az átjáróról induló tartomány Tudásbázis.</span><span class="sxs-lookup"><span data-stu-id="4818c-206">Keep domain knowledge out of the gateway.</span></span> <span data-ttu-id="4818c-207">Az átjáró kell kezelni, és ügyfélkérések az üzleti szabályok vagy a tartomány logika ismeretek nélkül.</span><span class="sxs-lookup"><span data-stu-id="4818c-207">The gateway should handle and route client requests without any knowledge of the business rules or domain logic.</span></span> <span data-ttu-id="4818c-208">Ellenkező esetben az átjáró függőség válik, és hatására a szolgáltatások közötti.</span><span class="sxs-lookup"><span data-stu-id="4818c-208">Otherwise, the gateway becomes a dependency and can cause coupling between services.</span></span>

- <span data-ttu-id="4818c-209">Szolgáltatások laza kapcsoló és a magas működési Kohéziós kell rendelkezniük.</span><span class="sxs-lookup"><span data-stu-id="4818c-209">Services should have loose coupling and high functional cohesion.</span></span> <span data-ttu-id="4818c-210">Függvények, amelyek valószínűleg módosítása együtt csomagolt és együtt telepíteni kell.</span><span class="sxs-lookup"><span data-stu-id="4818c-210">Functions that are likely to change together should be packaged and deployed together.</span></span> <span data-ttu-id="4818c-211">Ha ezek a szolgáltatások külön találhatók, ezek a szolgáltatások végül szorosan összekapcsolt, mert egy szolgáltatás változása esetén, a többi szolgáltatás frissítése.</span><span class="sxs-lookup"><span data-stu-id="4818c-211">If they reside in separate services, those services end up being tightly coupled, because a change in one service will require updating the other service.</span></span> <span data-ttu-id="4818c-212">Két szolgáltatások túlságosan chatty kommunikációját szoros kapcsoló és alacsony Kohéziós tünete is lehet.</span><span class="sxs-lookup"><span data-stu-id="4818c-212">Overly chatty communication between two services may be a symptom of tight coupling and low cohesion.</span></span> 

- <span data-ttu-id="4818c-213">Különítse el a hibákat.</span><span class="sxs-lookup"><span data-stu-id="4818c-213">Isolate failures.</span></span> <span data-ttu-id="4818c-214">Rugalmasság stratégiák segítségével megakadályozhatja, hogy a hibákat a szolgáltatásokon belüli egymásra épülő.</span><span class="sxs-lookup"><span data-stu-id="4818c-214">Use resiliency strategies to prevent failures within a service from cascading.</span></span> <span data-ttu-id="4818c-215">Lásd: [rugalmassági minták] [ resiliency-patterns] és [rugalmas alkalmazásokhoz tervezéséhez][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="4818c-215">See [Resiliency patterns][resiliency-patterns] and [Designing resilient applications][resiliency-overview].</span></span>

## <a name="microservices-using-azure-container-service"></a><span data-ttu-id="4818c-216">Azure Tárolószolgáltatás használatával Mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="4818c-216">Microservices using Azure Container Service</span></span> 

<span data-ttu-id="4818c-217">Azure Tárolószolgáltatás segítségével konfigurálhatja, és helyezze üzembe egy Docker-fürtöt.</span><span class="sxs-lookup"><span data-stu-id="4818c-217">You can use Azure Container Service to configure and provision a Docker cluster.</span></span> <span data-ttu-id="4818c-218">Az Azure tárolószolgáltatások számos népszerű tároló orchestrators, beleértve a Kubernetes, a DC/OS és a Docker Swarm támogatja.</span><span class="sxs-lookup"><span data-stu-id="4818c-218">Azure Container Services supports several popular container orchestrators, including Kubernetes, DC/OS, and Docker Swarm.</span></span>

![](./images/microservices-acs.png)
 
<span data-ttu-id="4818c-219">**Nyilvános csomópontok**.</span><span class="sxs-lookup"><span data-stu-id="4818c-219">**Public nodes**.</span></span> <span data-ttu-id="4818c-220">Ezek a csomópontok egy nyilvánosan elérhető terheléselosztó keresztül érhetők el.</span><span class="sxs-lookup"><span data-stu-id="4818c-220">These nodes are reachable through a public-facing load balancer.</span></span> <span data-ttu-id="4818c-221">Ezek a csomópontok az API-átjáró üzemelteti.</span><span class="sxs-lookup"><span data-stu-id="4818c-221">The API gateway is hosted on these nodes.</span></span>

<span data-ttu-id="4818c-222">**Háttér-csomópontok**.</span><span class="sxs-lookup"><span data-stu-id="4818c-222">**Backend nodes**.</span></span> <span data-ttu-id="4818c-223">Ezek a csomópontok az API-átjárón keresztül elérő ügyfelek szolgáltatások futtatásához.</span><span class="sxs-lookup"><span data-stu-id="4818c-223">These nodes run services that clients reach via the API gateway.</span></span> <span data-ttu-id="4818c-224">Ezek a csomópontok nem közvetlenül fogadni az internetes forgalmat.</span><span class="sxs-lookup"><span data-stu-id="4818c-224">These nodes don't receive Internet traffic directly.</span></span> <span data-ttu-id="4818c-225">A háttér-csomópontok közé tartozik a virtuális gépek, mindegyik különböző hardverprofilhoz egynél több alkalmazáskészlet.</span><span class="sxs-lookup"><span data-stu-id="4818c-225">The backend nodes might include more than one pool of VMs, each with a different hardware profile.</span></span> <span data-ttu-id="4818c-226">Például létrehozhatja a általános számítási feladatok, a magas CPU-munkaterhelések és a felső memóriaterület munkaterhelések külön készletek.</span><span class="sxs-lookup"><span data-stu-id="4818c-226">For example, you could create separate pools for general compute workloads, high CPU workloads, and high memory workloads.</span></span> 

<span data-ttu-id="4818c-227">**Felügyeleti virtuális gépek**.</span><span class="sxs-lookup"><span data-stu-id="4818c-227">**Management VMs**.</span></span> <span data-ttu-id="4818c-228">A főcsomópontok futtassa a tároló orchestrator virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="4818c-228">These VMs run the master nodes for the container orchestrator.</span></span> 

<span data-ttu-id="4818c-229">**Hálózati**.</span><span class="sxs-lookup"><span data-stu-id="4818c-229">**Networking**.</span></span> <span data-ttu-id="4818c-230">A nyilvános csomópontokat, a háttér-csomópontok és a felügyeleti virtuális gépek külön alhálózatokon belül ugyanazt a virtuális hálózatot (VNet) kerülnek.</span><span class="sxs-lookup"><span data-stu-id="4818c-230">The public nodes, backend nodes, and management VMs are placed in separate subnets within the same virtual network (VNet).</span></span> 

<span data-ttu-id="4818c-231">**Terheléselosztók**.</span><span class="sxs-lookup"><span data-stu-id="4818c-231">**Load balancers**.</span></span>  <span data-ttu-id="4818c-232">Egy külső terheléselosztót a nyilvános csomópontok előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="4818c-232">An externally facing load balancer sits in front of the public nodes.</span></span> <span data-ttu-id="4818c-233">Internetes kérelmek nyilvános csomópontjának terjesztett.</span><span class="sxs-lookup"><span data-stu-id="4818c-233">It distributes internet requests to the public nodes.</span></span> <span data-ttu-id="4818c-234">Egy másik terheléselosztó a felügyeleti virtuális gépek, virtuális gépek kezelési NAT-szabályok használata a secure shell (ssh) forgalom engedélyezésére előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="4818c-234">Another load balancer is placed in front of the management VMs, to allow secure shell (ssh) traffic to the management VMs, using NAT rules.</span></span>

<span data-ttu-id="4818c-235">A megbízhatósági és méretezhetőségi minden egyes szolgáltatás replikálja a rendszer több virtuális gépek között.</span><span class="sxs-lookup"><span data-stu-id="4818c-235">For reliability and scalability, each service is replicated across multiple VMs.</span></span> <span data-ttu-id="4818c-236">Azonban mivel a szolgáltatások is viszonylag kis méretű (egy egységes alkalmazáshoz képest), több szolgáltatás vannak általában csomagolt be egy virtuális.</span><span class="sxs-lookup"><span data-stu-id="4818c-236">However, because services are also relatively lightweight (compared with a monolithic application), multiple services are usually packed into a single VM.</span></span> <span data-ttu-id="4818c-237">Magasabb sűrűség lehetővé teszi, hogy az erőforrás-kihasználást.</span><span class="sxs-lookup"><span data-stu-id="4818c-237">Higher density allows better resource utilization.</span></span> <span data-ttu-id="4818c-238">Ha egy adott szolgáltatáshoz jelentős erőforrásokat nem használja, nem kell az egész virtuális gép fordítsanak futnak, hogy a szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="4818c-238">If a particular service doesn't use a lot of resources, you don't need to dedicate an entire VM to running that service.</span></span>

<span data-ttu-id="4818c-239">Az alábbi ábrán látható négy különböző szolgáltatásokat (különböző alakzatok jelzi) futtató három csomópontot.</span><span class="sxs-lookup"><span data-stu-id="4818c-239">The following diagram shows three nodes running four different services (indicated by different shapes).</span></span> <span data-ttu-id="4818c-240">Figyelje meg, hogy egyes szolgáltatások rendelkezik-e legalább két példányt.</span><span class="sxs-lookup"><span data-stu-id="4818c-240">Notice that each service has at least two instances.</span></span> 
 
![](./images/microservices-node-density.png)

## <a name="microservices-using-azure-service-fabric"></a><span data-ttu-id="4818c-241">Azure Service Fabric használatával Mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="4818c-241">Microservices using Azure Service Fabric</span></span>

<span data-ttu-id="4818c-242">Az alábbi ábrán egy mikroszolgáltatások architektúra Azure Service Fabric használatával.</span><span class="sxs-lookup"><span data-stu-id="4818c-242">The following diagram shows a microservices architecture using Azure Service Fabric.</span></span>

![](./images/service-fabric.png)

<span data-ttu-id="4818c-243">A Service Fabric-fürt telepítve van egy vagy több Virtuálisgép-méretezési készlet.</span><span class="sxs-lookup"><span data-stu-id="4818c-243">The Service Fabric Cluster is deployed to one or more VM scale sets.</span></span> <span data-ttu-id="4818c-244">Lehetséges, hogy egynél több Virtuálisgép-méretezési a fürt ahhoz, hogy a Virtuálisgép-típusokon kombinációját kell beállítani.</span><span class="sxs-lookup"><span data-stu-id="4818c-244">You might have more than one VM scale set in the cluster, in order to have a mix of VM types.</span></span> <span data-ttu-id="4818c-245">Egy API-átjáró a Service Fabric-fürt külső terheléselosztással ügyfél kérések fogadása előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="4818c-245">An API Gateway is placed in front of the Service Fabric cluster, with an external load balancer to receive client requests.</span></span>

<span data-ttu-id="4818c-246">A Service Fabric-futtatókörnyezet fürt kezelése, beleértve a szolgáltatás elhelyezését, a csomópontok feladatátvételét hiba és az állapotfigyelés hajt végre.</span><span class="sxs-lookup"><span data-stu-id="4818c-246">The Service Fabric runtime performs cluster management, including service placement, node failover, and health monitoring.</span></span> <span data-ttu-id="4818c-247">A runtime telepítve van a fürtcsomópontokon magukat.</span><span class="sxs-lookup"><span data-stu-id="4818c-247">The runtime is deployed on the cluster nodes themselves.</span></span> <span data-ttu-id="4818c-248">Nincs olyan virtuális gépeket kezelő külön készletét.</span><span class="sxs-lookup"><span data-stu-id="4818c-248">There isn't a separate set of cluster management VMs.</span></span>

<span data-ttu-id="4818c-249">Szolgáltatások kommunikálnak egymással a Service Fabric beépített fordított proxy használata.</span><span class="sxs-lookup"><span data-stu-id="4818c-249">Services communicate with each other using the reverse proxy that is built into Service Fabric.</span></span> <span data-ttu-id="4818c-250">A Service Fabric egy tudja oldani az elnevezett szolgáltatás felderítési szolgáltatást biztosít.</span><span class="sxs-lookup"><span data-stu-id="4818c-250">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>


<!-- links -->

[resiliency-overview]: ../../resiliency/index.md
[resiliency-patterns]: ../../patterns/category/resiliency.md



