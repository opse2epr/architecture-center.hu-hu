---
title: Mikroszolgáltatási architektúrastílus
description: Ismerteti a mikroszolgáltatási architektúrák előnyeit, kihívásait és ajánlott eljárásait az Azure-ban
author: MikeWasson
ms.date: 08/30/2018
ms.openlocfilehash: fb23ac3e408f3a202d925a1bf684bc30d423f218
ms.sourcegitcommit: ae8a1de6f4af7a89a66a8339879843d945201f85
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/31/2018
ms.locfileid: "43325443"
---
# <a name="microservices-architecture-style"></a><span data-ttu-id="5ddf4-103">Mikroszolgáltatási architektúrastílus</span><span class="sxs-lookup"><span data-stu-id="5ddf4-103">Microservices architecture style</span></span>

<span data-ttu-id="5ddf4-104">A mikroszolgáltatási architektúra kisebb, autonóm szolgáltatások gyűjteményéből áll.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-104">A microservices architecture consists of a collection of small, autonomous services.</span></span> <span data-ttu-id="5ddf4-105">Mindegyik szolgáltatás önálló, és egyetlen üzleti képességet valósít meg.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-105">Each service is self-contained and should implement a single business capability.</span></span> <span data-ttu-id="5ddf4-106">A mikroszolgáltatási architektúrák Azure-ban való létrehozásáról részletes útmutatót a [Mikroszolgáltatások tervezése, létrehozása és működtetése az Azure-ban](../../microservices/index.md) című szakaszban talál.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-106">For detailed guidance about building a microservices architecture on Azure, see [Designing, building, and operating microservices on Azure](../../microservices/index.md).</span></span>

![](./images/microservices-logical.svg)
 
<span data-ttu-id="5ddf4-107">Bizonyos értelemben a mikroszolgáltatások a szolgáltatásorientált architektúrák (SOA-k) természetes továbbfejlődése, de vannak különbségek a mikroszolgáltatások és az SOA-k között.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-107">In some ways, microservices are the natural evolution of service oriented architectures (SOA), but there are differences between microservices and SOA.</span></span> <span data-ttu-id="5ddf4-108">Íme néhány a mikroszolgáltatások meghatározó jellemzői közül:</span><span class="sxs-lookup"><span data-stu-id="5ddf4-108">Here are some defining characteristics of a microservice:</span></span>

- <span data-ttu-id="5ddf4-109">A mikroszolgáltatási architektúrában a szolgáltatások kicsik, függetlenek és lazán összekapcsoltak.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-109">In a microservices architecture, services are small, independent, and loosely coupled.</span></span>

- <span data-ttu-id="5ddf4-110">Minden szolgáltatás egy külön kódbázis, amelyet egy kis fejlesztői csapat felügyelhet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-110">Each service is a separate codebase, which can be managed by a small development team.</span></span>

- <span data-ttu-id="5ddf4-111">A szolgáltatások egymástól függetlenül is üzembe helyezhetők.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-111">Services can be deployed independently.</span></span> <span data-ttu-id="5ddf4-112">Egy csapat a meglévő szolgáltatást a teljes alkalmazás újraépítése és ismételt üzembe helyezése nélkül frissítheti.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-112">A team can update an existing service without rebuilding and redeploying the entire application.</span></span>

- <span data-ttu-id="5ddf4-113">A szolgáltatások a saját adataik vagy külső állapotuk fenntartásáért felelősek.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-113">Services are responsible for persisting their own data or external state.</span></span> <span data-ttu-id="5ddf4-114">Ez eltér a hagyományos modelltől, ahol egy külön adatréteg kezeli az adatmegőrzést.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-114">This differs from the traditional model, where a separate data layer handles data persistence.</span></span>

- <span data-ttu-id="5ddf4-115">A szolgáltatások jól meghatározott API-k használatával kommunikálnak egymással.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-115">Services communicate with each other by using well-defined APIs.</span></span> <span data-ttu-id="5ddf4-116">Az egyes szolgáltatások belső megvalósítási részletei rejtve vannak a többi szolgáltatás elől.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-116">Internal implementation details of each service are hidden from other services.</span></span>

- <span data-ttu-id="5ddf4-117">Nem kell, hogy a szolgáltatások ugyanazt a technológiát, kódtárat vagy keretrendszert használják.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-117">Services don't need to share the same technology stack, libraries, or frameworks.</span></span>

<span data-ttu-id="5ddf4-118">A szolgáltatások mellett általában néhány egyéb összetevő is megjelenik a mikroszolgáltatási architektúrákban:</span><span class="sxs-lookup"><span data-stu-id="5ddf4-118">Besides for the services themselves, some other components appear in a typical microservices architecture:</span></span>

<span data-ttu-id="5ddf4-119">**Felügyelet**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-119">**Management**.</span></span> <span data-ttu-id="5ddf4-120">A felügyeleti szolgáltatás felelős például a szolgáltatások csomópontra helyezéséért, a hibák azonosításáért, a szolgáltatások újraegyensúlyozásáért a csomópontokon, stb.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-120">The management component is responsible for placing services on nodes, identifying failures, rebalancing services across nodes, and so forth.</span></span>  

<span data-ttu-id="5ddf4-121">**Szolgáltatásészlelés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-121">**Service Discovery**.</span></span>  <span data-ttu-id="5ddf4-122">Listát tart fenn a szolgáltatásokról és arról, hogy azok melyik csomóponton találhatók.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-122">Maintains a list of services and which nodes they are located on.</span></span> <span data-ttu-id="5ddf4-123">Engedélyezi a szolgáltatáskeresést egy szolgáltatás végpontjának megtalálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-123">Enables service lookup to find the endpoint for a service.</span></span> 

<span data-ttu-id="5ddf4-124">**API-átjáró**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-124">**API Gateway**.</span></span> <span data-ttu-id="5ddf4-125">Az API-átjáró az ügyfelek belépési pontja.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-125">The API gateway is the entry point for clients.</span></span> <span data-ttu-id="5ddf4-126">Az ügyfelek nem közvetlenül hívják meg a szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-126">Clients don't call services directly.</span></span> <span data-ttu-id="5ddf4-127">Ehelyett az API-átjárót hívják meg, amely továbbítja a hívást a háttérben található megfelelő szolgáltatásnak.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-127">Instead, they call the API gateway, which forwards the call to the appropriate services on the back end.</span></span> <span data-ttu-id="5ddf4-128">Előfordulhat, hogy az API-átjáró több szolgáltatásból összesíti a válaszokat, és az összesített választ adja vissza.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-128">The API gateway might aggregate the responses from several services and return the aggregated response.</span></span> 

<span data-ttu-id="5ddf4-129">Az API-átjáró használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="5ddf4-129">The advantages of using an API gateway include:</span></span>

- <span data-ttu-id="5ddf4-130">Elválasztja az ügyfeleket a szolgáltatásoktól.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-130">It decouples clients from services.</span></span> <span data-ttu-id="5ddf4-131">A szolgáltatások az összes ügyfél frissítése nélkül elláthatók verziószámmal vagy újratervezhetők.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-131">Services can be versioned or refactored without needing to update all of the clients.</span></span>

-  <span data-ttu-id="5ddf4-132">A szolgáltatások használhatnak nem webbarát üzenetküldési protokollokat (például AMQP).</span><span class="sxs-lookup"><span data-stu-id="5ddf4-132">Services can use messaging protocols that are not web friendly, such as AMQP.</span></span>

- <span data-ttu-id="5ddf4-133">Az API-átjáró egyéb, az egész rendszert érintő funkciókat is végrehajthat, például hitelesítést, naplózást, SSL-lezárást és terheléselosztást.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-133">The API Gateway can perform other cross-cutting functions such as authentication, logging, SSL termination, and load balancing.</span></span>

## <a name="when-to-use-this-architecture"></a><span data-ttu-id="5ddf4-134">Mikor érdemes ezt az architektúrát használni?</span><span class="sxs-lookup"><span data-stu-id="5ddf4-134">When to use this architecture</span></span>

<span data-ttu-id="5ddf4-135">Fontolja meg ennek az architektúrastílusnak a használatát a következőkhöz:</span><span class="sxs-lookup"><span data-stu-id="5ddf4-135">Consider this architecture style for:</span></span>

- <span data-ttu-id="5ddf4-136">Kiadások gyors megjelenését igénylő, nagy méretű alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-136">Large applications that require a high release velocity.</span></span>

- <span data-ttu-id="5ddf4-137">Összetett alkalmazások, amelyeknek jól skálázhatónak kell lenniük.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-137">Complex applications that need to be highly scalable.</span></span>

- <span data-ttu-id="5ddf4-138">Részletes tartománnyal vagy több altartománnyal rendelkező alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-138">Applications with rich domains or many subdomains.</span></span>

- <span data-ttu-id="5ddf4-139">Kis fejlesztői csapatokból álló vállalatok.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-139">An organization that consists of small development teams.</span></span>


## <a name="benefits"></a><span data-ttu-id="5ddf4-140">Előnyök</span><span class="sxs-lookup"><span data-stu-id="5ddf4-140">Benefits</span></span> 

- <span data-ttu-id="5ddf4-141">**Független üzembe helyezések**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-141">**Independent deployments**.</span></span> <span data-ttu-id="5ddf4-142">A szolgáltatásokat a teljes alkalmazás ismételt üzembe helyezése nélkül frissítheti, illetve visszavonhat vagy előregörgethet egy frissítést, ha valami probléma merül fel.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-142">You can update a service without redeploying the entire application, and roll back or roll forward an update if something goes wrong.</span></span> <span data-ttu-id="5ddf4-143">A hibajavítások és a funkciók kiadása kezelhetőbb és kevésbé kockázatos.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-143">Bug fixes and feature releases are more manageable and less risky.</span></span>

- <span data-ttu-id="5ddf4-144">**Független fejlesztés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-144">**Independent development**.</span></span> <span data-ttu-id="5ddf4-145">Egy fejlesztői csapat építhet, tesztelhet és helyezhet üzembe szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-145">A single development team can build, test, and deploy a service.</span></span> <span data-ttu-id="5ddf4-146">Ennek eredménye a folyamatos innováció és a kiadás gyorsabb üteme.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-146">The result is continuous innovation and a faster release cadence.</span></span> 

- <span data-ttu-id="5ddf4-147">**Kis méretű, célzott csapatok**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-147">**Small, focused teams**.</span></span> <span data-ttu-id="5ddf4-148">A csapatok egy szolgáltatásra összpontosíthatnak.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-148">Teams can focus on one service.</span></span> <span data-ttu-id="5ddf4-149">Az egyes szolgáltatások kisebb hatóköre könnyebben átláthatóvá teszi a kódbázisokat, és az új csapattagok gyorsabban megismerkedhetnek a szolgáltatással.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-149">The smaller scope of each service makes the code base easier to understand, and it's easier for new team members to ramp up.</span></span>

- <span data-ttu-id="5ddf4-150">**Hibaelkülönítés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-150">**Fault isolation**.</span></span> <span data-ttu-id="5ddf4-151">Ha a szolgáltatás leáll, nem áll le az egész alkalmazás is.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-151">If a service goes down, it won't take out the entire application.</span></span> <span data-ttu-id="5ddf4-152">Ez azonban önmagában nem biztosít rugalmasságot.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-152">However, that doesn't mean you get resiliency for free.</span></span> <span data-ttu-id="5ddf4-153">Továbbra is követnie kell a rugalmasságra vonatkozó ajánlott eljárásokat és tervezési mintákat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-153">You still need to follow resiliency best practices and design patterns.</span></span> <span data-ttu-id="5ddf4-154">Lásd: [Rugalmas alkalmazások tervezése az Azure-hoz][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="5ddf4-154">See [Designing resilient applications for Azure][resiliency-overview].</span></span>

- <span data-ttu-id="5ddf4-155">**Vegyes technológiák**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-155">**Mixed technology stacks**.</span></span> <span data-ttu-id="5ddf4-156">A csapatok kiválaszthatják a szolgáltatásukhoz legmegfelelőbb technológiát.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-156">Teams can pick the technology that best fits their service.</span></span> 

- <span data-ttu-id="5ddf4-157">**Részletes méretezés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-157">**Granular scaling**.</span></span> <span data-ttu-id="5ddf4-158">A szolgáltatások egymástól függetlenül skálázhatók.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-158">Services can be scaled independently.</span></span> <span data-ttu-id="5ddf4-159">Ugyanakkor az egy virtuális gépen található szolgáltatások nagyobb sűrűsége azt jelenti, hogy a virtuálisgép-erőforrások teljesen ki vannak használva.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-159">At the same time, the higher density of services per VM means that VM resources are fully utilized.</span></span> <span data-ttu-id="5ddf4-160">Elhelyezési korlátozások használatával a szolgáltatások összekapcsolhatók egy virtuálisgép-profillal (magas CPU-használat, magas memóriahasználat stb.).</span><span class="sxs-lookup"><span data-stu-id="5ddf4-160">Using placement constraints, a services can be matched to a VM profile (high CPU, high memory, and so on).</span></span>

## <a name="challenges"></a><span data-ttu-id="5ddf4-161">Problémák</span><span class="sxs-lookup"><span data-stu-id="5ddf4-161">Challenges</span></span>

- <span data-ttu-id="5ddf4-162">**Összetettség**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-162">**Complexity**.</span></span> <span data-ttu-id="5ddf4-163">A mikroszolgáltatás-alkalmazások több mozgó részből állnak, mint az egyenértékű monolitikus alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-163">A microservices application has more moving parts than the equivalent monolithic application.</span></span> <span data-ttu-id="5ddf4-164">Az egyes szolgáltatások egyszerűbbek, de a rendszer egésze összetettebb.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-164">Each service is simpler, but the entire system as a whole is more complex.</span></span>

- <span data-ttu-id="5ddf4-165">**Fejlesztés és tesztelés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-165">**Development and test**.</span></span> <span data-ttu-id="5ddf4-166">A szolgáltatásfüggőségekhez való fejlesztéshez más módszer szükséges.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-166">Developing against service dependencies requires a different approach.</span></span> <span data-ttu-id="5ddf4-167">A meglévő eszközöket nem feltétlenül a szolgáltatásfüggőségekkel való együttműködésre tervezték.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-167">Existing tools are not necessarily designed to work with service dependencies.</span></span> <span data-ttu-id="5ddf4-168">A szolgáltatás határain túlnyúló újrabontás bonyolult lehet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-168">Refactoring across service boundaries can be difficult.</span></span> <span data-ttu-id="5ddf4-169">A szolgáltatásfüggőségek tesztelése is kihívást jelent, különösen akkor, ha az alkalmazás gyorsan fejlődik.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-169">It is also challenging to test service dependencies, especially when the application is evolving quickly.</span></span>

- <span data-ttu-id="5ddf4-170">**Irányítás hiánya**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-170">**Lack of governance**.</span></span> <span data-ttu-id="5ddf4-171">A mikroszolgáltatások építésének decentralizált megközelítése rendelkezik előnyökkel, de problémákhoz is vezethet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-171">The decentralized approach to building microservices has advantages, but it can also lead to problems.</span></span> <span data-ttu-id="5ddf4-172">Előfordulhat, hogy végül olyan sok különböző nyelv és keretrendszer lesz jelen, hogy nehézkessé válik az alkalmazás karbantartása.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-172">You may end up with so many different languages and frameworks that the application becomes hard to maintain.</span></span> <span data-ttu-id="5ddf4-173">Hasznos lehet néhány projektszintű szabvány bevezetése, a csapat rugalmasságának túlzott korlátozása nélkül.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-173">It may be useful to put some project-wide standards in place, without overly restricting teams' flexibility.</span></span> <span data-ttu-id="5ddf4-174">Ez különösen az egész rendszert érintő funkciókra vonatkozik (például a naplózásra).</span><span class="sxs-lookup"><span data-stu-id="5ddf4-174">This especially applies to cross-cutting functionality such as logging.</span></span>

- <span data-ttu-id="5ddf4-175">**Hálózati torlódás és késleltetés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-175">**Network congestion and latency**.</span></span> <span data-ttu-id="5ddf4-176">A sok kis részletes szolgáltatás használata több szolgáltatások közötti kommunikációt eredményezhet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-176">The use of many small, granular services can result in more interservice communication.</span></span> <span data-ttu-id="5ddf4-177">Emellett ha a szolgáltatásfüggőségek láncolata túl hosszú (A szolgáltatás meghívja a B-t, amely meghívja a C-t, stb.), a további késleltetés problémává válhat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-177">Also, if the chain of service dependencies gets too long (service A calls B, which calls C...), the additional latency can become a problem.</span></span> <span data-ttu-id="5ddf4-178">Gondosan kell megterveznie az API-kat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-178">You will need to design APIs carefully.</span></span> <span data-ttu-id="5ddf4-179">Kerülje a túlságosan forgalmas API-kat, gondoljon a szerializálási formátumokra, és keressen helyet az aszinkron kommunikáció használatához.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-179">Avoid overly chatty APIs, think about serialization formats, and look for places to use asynchronous communication patterns.</span></span>

- <span data-ttu-id="5ddf4-180">**Adatintegritás**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-180">**Data integrity**.</span></span> <span data-ttu-id="5ddf4-181">Az egyes mikroszolgáltatások a saját adataik megőrzéséért felelősek.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-181">With each microservice responsible for its own data persistence.</span></span> <span data-ttu-id="5ddf4-182">Ennek eredményeként az adatkonzisztencia problémát jelenthet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-182">As a result, data consistency can be a challenge.</span></span> <span data-ttu-id="5ddf4-183">Ahol lehetséges, támogassa a végső konzisztenciát.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-183">Embrace eventual consistency where possible.</span></span>

- <span data-ttu-id="5ddf4-184">**Felügyelet**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-184">**Management**.</span></span> <span data-ttu-id="5ddf4-185">Ahhoz, hogy sikeresen használhassa a mikroszolgáltatásokat, fejlett DevOps-kultúra szükséges.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-185">To be successful with microservices requires a mature DevOps culture.</span></span> <span data-ttu-id="5ddf4-186">A szolgáltatások korrelált naplózása kihívást jelenthet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-186">Correlated logging across services can be challenging.</span></span> <span data-ttu-id="5ddf4-187">A naplózásnak általában több szolgáltatás-hívást kell korrelálnia egyetlen felhasználói művelethez.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-187">Typically, logging must correlate multiple service calls for a single user operation.</span></span>

- <span data-ttu-id="5ddf4-188">**Verziókezelés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-188">**Versioning**.</span></span> <span data-ttu-id="5ddf4-189">Egy szolgáltatás frissítéseinek tilos megszüntetnie a tőle függő szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-189">Updates to a service must not break services that depend on it.</span></span> <span data-ttu-id="5ddf4-190">Bármikor frissülhet akár több szolgáltatás is, ezért körültekintő tervezés nélkül problémák merülhetnek fel a visszamenőleges vagy a jövőbeli kompatibilitással kapcsolatban.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-190">Multiple services could be updated at any given time, so without careful design, you might have problems with backward or forward compatibility.</span></span>

- <span data-ttu-id="5ddf4-191">**Készségek**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-191">**Skillset**.</span></span> <span data-ttu-id="5ddf4-192">A mikroszolgáltatások több helyre elosztott rendszerek.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-192">Microservices are highly distributed systems.</span></span> <span data-ttu-id="5ddf4-193">Gondosan mérlegelje, hogy a csapat rendelkezik-e a sikerességhez szükséges szakértelemmel és tapasztalattal.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-193">Carefully evaluate whether the team has the skills and experience to be successful.</span></span>

## <a name="best-practices"></a><span data-ttu-id="5ddf4-194">Ajánlott eljárások</span><span class="sxs-lookup"><span data-stu-id="5ddf4-194">Best practices</span></span>

- <span data-ttu-id="5ddf4-195">Modellezze a szolgáltatásokat az üzleti tartomány köré.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-195">Model services around the business domain.</span></span> 

- <span data-ttu-id="5ddf4-196">Decentralizáljon mindent.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-196">Decentralize everything.</span></span> <span data-ttu-id="5ddf4-197">Az egyes csapatok felelősek a szolgáltatások megtervezéséért és építéséért.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-197">Individual teams are responsible for designing and building services.</span></span> <span data-ttu-id="5ddf4-198">Kerülje a kódok és adatsémák megosztását.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-198">Avoid sharing code or data schemas.</span></span> 

- <span data-ttu-id="5ddf4-199">Az adattárolót csak az adatokat birtokló szolgáltatás érhesse el.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-199">Data storage should be private to the service that owns the data.</span></span> <span data-ttu-id="5ddf4-200">Használja a legjobb tárolót minden szolgáltatáshoz és adattípushoz.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-200">Use the best storage for each service and data type.</span></span> 

- <span data-ttu-id="5ddf4-201">A szolgáltatások gondosan megtervezett API-kon keresztül kommunikálnak.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-201">Services communicate through well-designed APIs.</span></span> <span data-ttu-id="5ddf4-202">Kerülje a megvalósítási részletek kiszivárgását.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-202">Avoid leaking implementation details.</span></span> <span data-ttu-id="5ddf4-203">Az API-knak a tartományt kell modellezniük, nem a szolgáltatás belső megvalósítását.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-203">APIs should model the domain, not the internal implementation of the service.</span></span>

- <span data-ttu-id="5ddf4-204">Kerülje a szolgáltatások összekapcsolását.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-204">Avoid coupling between services.</span></span> <span data-ttu-id="5ddf4-205">Az összekapcsolás okai például a megosztott adatbázissémák és a merev kommunikációs protokollok.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-205">Causes of coupling include shared database schemas and rigid communication protocols.</span></span>

- <span data-ttu-id="5ddf4-206">Szervezze ki az egész rendszert érintő funkciókat, például a hitelesítést vagy SSL-lezárást az átjáróhoz.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-206">Offload cross-cutting concerns, such as authentication and SSL termination, to the gateway.</span></span>

- <span data-ttu-id="5ddf4-207">A tartományra vonatkozó ismereteket tartsa az átjárón kívül.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-207">Keep domain knowledge out of the gateway.</span></span> <span data-ttu-id="5ddf4-208">Az átjárónak az üzleti szabályok és a tartományi logika ismerete nélkül kell kezelnie és irányítania az ügyfélkérelmeket.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-208">The gateway should handle and route client requests without any knowledge of the business rules or domain logic.</span></span> <span data-ttu-id="5ddf4-209">Ellenkező esetben az átjáró függőségé válik és a szolgáltatások összekapcsolását okozhatja.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-209">Otherwise, the gateway becomes a dependency and can cause coupling between services.</span></span>

- <span data-ttu-id="5ddf4-210">A szolgáltatásoknak laza összekapcsolással és magas működési kohézióval kell rendelkezniük.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-210">Services should have loose coupling and high functional cohesion.</span></span> <span data-ttu-id="5ddf4-211">A várhatóan együtt módosuló funkciókat egy csomagba kell rendezni, és együtt kell üzembe helyezni.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-211">Functions that are likely to change together should be packaged and deployed together.</span></span> <span data-ttu-id="5ddf4-212">Ha ezek külön szolgáltatásokban találhatók, a szolgáltatások végül szorosan össze lesznek kapcsolva, mert az egyik szolgáltatás módosítása a másik szolgáltatás frissítését igényli.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-212">If they reside in separate services, those services end up being tightly coupled, because a change in one service will require updating the other service.</span></span> <span data-ttu-id="5ddf4-213">A két szolgáltatás közötti, túl forgalmas kommunikáció a szoros összekapcsolás és az alacsony kohézió jele lehet.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-213">Overly chatty communication between two services may be a symptom of tight coupling and low cohesion.</span></span> 

- <span data-ttu-id="5ddf4-214">Különítse el a hibákat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-214">Isolate failures.</span></span> <span data-ttu-id="5ddf4-215">Használjon rugalmassági stratégiákat, hogy megelőzze a szolgáltatásban fellépő hibák halmozódását.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-215">Use resiliency strategies to prevent failures within a service from cascading.</span></span> <span data-ttu-id="5ddf4-216">Lásd: [Rugalmassági minták][resiliency-patterns] és [Rugalmas alkalmazások tervezése][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="5ddf4-216">See [Resiliency patterns][resiliency-patterns] and [Designing resilient applications][resiliency-overview].</span></span>

## <a name="microservices-using-azure-container-service"></a><span data-ttu-id="5ddf4-217">Az Azure Container Service-t használó mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="5ddf4-217">Microservices using Azure Container Service</span></span> 

<span data-ttu-id="5ddf4-218">Az [Azure Container Service](/azure/container-service/) egy Docker-fürt konfigurálására és kiosztására használható.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-218">You can use [Azure Container Service](/azure/container-service/) to configure and provision a Docker cluster.</span></span> <span data-ttu-id="5ddf4-219">Az Azure Container Service számos népszerű tárolóvezénylőt támogat, például a Kubernetes, DC/OS és Docker Swarm tárolóvezénylőket.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-219">Azure Container Services supports several popular container orchestrators, including Kubernetes, DC/OS, and Docker Swarm.</span></span>

![](./images/microservices-acs.png)
 
<span data-ttu-id="5ddf4-220">**Nyilvános csomópontok**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-220">**Public nodes**.</span></span> <span data-ttu-id="5ddf4-221">Ezek a csomópontok nyilvános terheléselosztón keresztül érhetők el.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-221">These nodes are reachable through a public-facing load balancer.</span></span> <span data-ttu-id="5ddf4-222">Az API-átjáró ezeken a csomópontokon üzemel.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-222">The API gateway is hosted on these nodes.</span></span>

<span data-ttu-id="5ddf4-223">**Háttércsomópontok**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-223">**Backend nodes**.</span></span> <span data-ttu-id="5ddf4-224">Ezek a csomópontok olyan szolgáltatásokat futtatnak, amelyeket az ügyfelek az API-átjárón keresztül érnek el.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-224">These nodes run services that clients reach via the API gateway.</span></span> <span data-ttu-id="5ddf4-225">Ezek a csomópontok nem fogadnak közvetlenül internetes forgalmat.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-225">These nodes don't receive Internet traffic directly.</span></span> <span data-ttu-id="5ddf4-226">A háttércsomópontok egynél több virtuálisgép-készletet tartalmazhatnak, amelyek közül mindegyik különböző hardverprofillal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-226">The backend nodes might include more than one pool of VMs, each with a different hardware profile.</span></span> <span data-ttu-id="5ddf4-227">Létrehozhat például egy külön készletet az általános számítási feladatoknak, a magas CPU-használatú számítási feladatoknak és a nagy memóriaigényű számítási feladatoknak.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-227">For example, you could create separate pools for general compute workloads, high CPU workloads, and high memory workloads.</span></span> 

<span data-ttu-id="5ddf4-228">**Felügyeleti virtuális gépek**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-228">**Management VMs**.</span></span> <span data-ttu-id="5ddf4-229">Ezek a virtuális gépek a tárolóvezénylők főcsomópontjait futtatják.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-229">These VMs run the master nodes for the container orchestrator.</span></span> 

<span data-ttu-id="5ddf4-230">**Hálózatkezelés**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-230">**Networking**.</span></span> <span data-ttu-id="5ddf4-231">A nyilvános csomópontok, a háttércsomópontok és a felügyeleti virtuális gépek külön alhálózatra kerülnek, ugyanazon a virtuális hálózaton (VNeten) belül.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-231">The public nodes, backend nodes, and management VMs are placed in separate subnets within the same virtual network (VNet).</span></span> 

<span data-ttu-id="5ddf4-232">**Terheléselosztók**.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-232">**Load balancers**.</span></span>  <span data-ttu-id="5ddf4-233">A kifelé irányuló terheléselosztó a nyilvános csomópontok előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-233">An externally facing load balancer sits in front of the public nodes.</span></span> <span data-ttu-id="5ddf4-234">Internetes kérelmeket oszt ki a nyilvános csomópontoknak.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-234">It distributes internet requests to the public nodes.</span></span> <span data-ttu-id="5ddf4-235">Egy másik terheléselosztó a felügyeleti virtuális gépek elé lesz elhelyezve, hogy engedélyezze a Secure Shell- (SSH-) forgalom felügyeleti virtuális gépekre irányítását, NAT-szabályok használatával.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-235">Another load balancer is placed in front of the management VMs, to allow secure shell (ssh) traffic to the management VMs, using NAT rules.</span></span>

<span data-ttu-id="5ddf4-236">A megbízhatóság és skálázhatóság érdekében minden szolgáltatást több virtuális gépen replikál a rendszer.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-236">For reliability and scalability, each service is replicated across multiple VMs.</span></span> <span data-ttu-id="5ddf4-237">Mivel azonban a szolgáltatások is viszonylag egyszerűek (egy monolitikus alkalmazáshoz képest), egy virtuális gépen általában több szolgáltatás van elhelyezve.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-237">However, because services are also relatively lightweight (compared with a monolithic application), multiple services are usually packed into a single VM.</span></span> <span data-ttu-id="5ddf4-238">A magasabb sűrűség jobb erőforrás-használatot tesz lehetővé.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-238">Higher density allows better resource utilization.</span></span> <span data-ttu-id="5ddf4-239">Ha egy adott szolgáltatás nem használ sok erőforrást, nem szükséges egy teljes virtuális gépet a szolgáltatás futtatásához rendelnie.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-239">If a particular service doesn't use a lot of resources, you don't need to dedicate an entire VM to running that service.</span></span>

<span data-ttu-id="5ddf4-240">Az alábbi ábrán három csomópont látható, amelyek négy különböző szolgáltatást futtatnak (ezeket különböző alakzatok jelölik).</span><span class="sxs-lookup"><span data-stu-id="5ddf4-240">The following diagram shows three nodes running four different services (indicated by different shapes).</span></span> <span data-ttu-id="5ddf4-241">Figyelje meg, hogy minden szolgáltatás legalább két példánnyal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-241">Notice that each service has at least two instances.</span></span> 
 
![](./images/microservices-node-density.png)

## <a name="microservices-using-azure-service-fabric"></a><span data-ttu-id="5ddf4-242">Az Azure Service Fabric szolgáltatást használó mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="5ddf4-242">Microservices using Azure Service Fabric</span></span>

<span data-ttu-id="5ddf4-243">Az alábbi ábrán az [Azure Service Fabric](/azure/service-fabric/) szolgáltatást használó mikroszolgáltatási architektúra látható.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-243">The following diagram shows a microservices architecture using [Azure Service Fabric](/azure/service-fabric/).</span></span>

![](./images/service-fabric.png)

<span data-ttu-id="5ddf4-244">A Service Fabric-fürt egy vagy több virtuálisgép-méretezési csoportra van telepítve.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-244">The Service Fabric cluster is deployed to one or more VM scale sets.</span></span> <span data-ttu-id="5ddf4-245">Előfordulhat, hogy a fürtben egynél több virtuálisgép-méretezési csoporttal rendelkezik, hogy többféle virtuálisgép-típust használhasson.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-245">You might have more than one VM scale set in the cluster, in order to have a mix of VM types.</span></span> <span data-ttu-id="5ddf4-246">Egy külső terheléselosztóval rendelkező API-átjáró helyezkedik el a Service Fabric-fürt előtt, az ügyfélkérelmek fogadásához.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-246">An API Gateway is placed in front of the Service Fabric cluster, with an external load balancer to receive client requests.</span></span>

<span data-ttu-id="5ddf4-247">A Service Fabric-futtatókörnyezet végzi a fürt kezelését, beleértve a szolgáltatások elhelyezését, a csomópont feladatátvételét és az állapotmonitorozást.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-247">The Service Fabric runtime performs cluster management, including service placement, node failover, and health monitoring.</span></span> <span data-ttu-id="5ddf4-248">A futtatókörnyezet a fürtcsomópontokon van telepítve.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-248">The runtime is deployed on the cluster nodes themselves.</span></span> <span data-ttu-id="5ddf4-249">A fürtkezelő virtuális gépeknek nincs külön csoportja.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-249">There isn't a separate set of cluster management VMs.</span></span>

<span data-ttu-id="5ddf4-250">A szolgáltatások a Service Fabricbe épített fordított proxy használatával kommunikálnak egymással.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-250">Services communicate with each other using the reverse proxy that is built into Service Fabric.</span></span> <span data-ttu-id="5ddf4-251">A Service Fabric egy olyan felderítési szolgáltatást nyújt, amellyel feloldható egy elnevezett szolgáltatás végpontja.</span><span class="sxs-lookup"><span data-stu-id="5ddf4-251">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>


<!-- links -->

[resiliency-overview]: ../../resiliency/index.md
[resiliency-patterns]: ../../patterns/category/resiliency.md



