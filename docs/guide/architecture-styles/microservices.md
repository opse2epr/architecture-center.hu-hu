---
title: "Mikroszolgáltatások architektúra stílus"
description: "Előnyeit, kihívást és mikroszolgáltatások architektúrák ajánlott eljárásai ismerteti az Azure-on"
author: MikeWasson
ms.openlocfilehash: 08fd39b6cf0b3c88af654b27e21b2d7dd9fb19b1
ms.sourcegitcommit: 7764a804f000180c37a4f8dbab946b525f784f58
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/09/2018
---
# <a name="microservices-architecture-style"></a><span data-ttu-id="e3d07-103">Mikroszolgáltatások architektúra stílus</span><span class="sxs-lookup"><span data-stu-id="e3d07-103">Microservices architecture style</span></span>

<span data-ttu-id="e3d07-104">Egy mikroszolgáltatások architektúra kicsi, önálló szolgáltatások gyűjteményei.</span><span class="sxs-lookup"><span data-stu-id="e3d07-104">A microservices architecture consists of a collection of small, autonomous services.</span></span> <span data-ttu-id="e3d07-105">Minden szolgáltatás önálló, és meg kell valósítania egy egyetlen üzleti képesség.</span><span class="sxs-lookup"><span data-stu-id="e3d07-105">Each service is self-contained and should implement a single business capability.</span></span> <span data-ttu-id="e3d07-106">Az Azure-on a mikroszolgáltatások architektúra létrehozásával kapcsolatos részletes útmutatóért lásd: [tervezési, kiépítési és mikroszolgáltatások létrehozására az Azure-on működő](../../microservices/index.md).</span><span class="sxs-lookup"><span data-stu-id="e3d07-106">For detailed guidance about building a microservices architecture on Azure, see [Designing, building, and operating microservices on Azure](../../microservices/index.md).</span></span>

![](./images/microservices-logical.svg)
 
<span data-ttu-id="e3d07-107">Bizonyos értelemben mikroszolgáltatások célú szolgáltatás architektúrák (SOA) természetes fejlődéséhez, de mikroszolgáltatások létrehozására és SOA közötti különbségek vannak.</span><span class="sxs-lookup"><span data-stu-id="e3d07-107">In some ways, microservices are the natural evolution of service oriented architectures (SOA), but there are differences between microservices and SOA.</span></span> <span data-ttu-id="e3d07-108">Az alábbiakban néhány olyan mikroszolgáltatási definiáló jellemzői:</span><span class="sxs-lookup"><span data-stu-id="e3d07-108">Here are some defining characteristics of a microservice:</span></span>

- <span data-ttu-id="e3d07-109">Mikroszolgáltatások architektúra esetén a szolgáltatások kicsi, független és lazán összekapcsolt.</span><span class="sxs-lookup"><span data-stu-id="e3d07-109">In a microservices architecture, services are small, independent, and loosely coupled.</span></span>

- <span data-ttu-id="e3d07-110">Minden szolgáltatás egy külön codebase, amely egy kis fejlesztési csapat fogja kezelni akkor is.</span><span class="sxs-lookup"><span data-stu-id="e3d07-110">Each service is a separate codebase, which can be managed by a small development team.</span></span>

- <span data-ttu-id="e3d07-111">Szolgáltatások egymástól függetlenül is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="e3d07-111">Services can be deployed independently.</span></span> <span data-ttu-id="e3d07-112">Egy csoport frissítheti a meglévő szolgáltatás újraépítését, és a teljes alkalmazás újbóli terjesztése nélkül.</span><span class="sxs-lookup"><span data-stu-id="e3d07-112">A team can update an existing service without rebuilding and redeploying the entire application.</span></span>

- <span data-ttu-id="e3d07-113">Szolgáltatások a saját adatok vagy a külső állapot megőrzése felelősek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-113">Services are responsible for persisting their own data or external state.</span></span> <span data-ttu-id="e3d07-114">Ez eltér a hagyományos modelltől, ahol egy külön adatrétege kezeli az adatmegőrzés.</span><span class="sxs-lookup"><span data-stu-id="e3d07-114">This differs from the traditional model, where a separate data layer handles data persistence.</span></span>

- <span data-ttu-id="e3d07-115">Szolgáltatások jól meghatározott API-k használatával kommunikál egymással.</span><span class="sxs-lookup"><span data-stu-id="e3d07-115">Services communicate with each other by using well-defined APIs.</span></span> <span data-ttu-id="e3d07-116">Belső megvalósítás részletei minden szolgáltatás más szolgáltatások rejtve maradnak.</span><span class="sxs-lookup"><span data-stu-id="e3d07-116">Internal implementation details of each service are hidden from other services.</span></span>

- <span data-ttu-id="e3d07-117">Szolgáltatások nem kell azonos technológia vermet, könyvtárak, vagy keretrendszert.</span><span class="sxs-lookup"><span data-stu-id="e3d07-117">Services don't need to share the same technology stack, libraries, or frameworks.</span></span>

<span data-ttu-id="e3d07-118">Emellett a szolgáltatások magukat, néhány más összetevők jelennek meg egy tipikus mikroszolgáltatások architektúra:</span><span class="sxs-lookup"><span data-stu-id="e3d07-118">Besides for the services themselves, some other components appear in a typical microservices architecture:</span></span>

<span data-ttu-id="e3d07-119">**Felügyeleti**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-119">**Management**.</span></span> <span data-ttu-id="e3d07-120">A felügyeleti összetevő felelős szolgáltatások helyezését csomópontok azonosítása sikertelen, a szolgáltatások újraelosztás csomópontok, és így tovább.</span><span class="sxs-lookup"><span data-stu-id="e3d07-120">The management component is responsible for placing services on nodes, identifying failures, rebalancing services across nodes, and so forth.</span></span>  

<span data-ttu-id="e3d07-121">**Felderítési szolgáltatás**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-121">**Service Discovery**.</span></span>  <span data-ttu-id="e3d07-122">Fenntart egy listát a szolgáltatások és a csomópontok találhatók-e meg.</span><span class="sxs-lookup"><span data-stu-id="e3d07-122">Maintains a list of services and which nodes they are located on.</span></span> <span data-ttu-id="e3d07-123">Lehetővé teszi, hogy a szolgáltatás értékét a található a végpont egy szolgáltatás számára.</span><span class="sxs-lookup"><span data-stu-id="e3d07-123">Enables service lookup to find the endpoint for a service.</span></span> 

<span data-ttu-id="e3d07-124">**API-átjáró**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-124">**API Gateway**.</span></span> <span data-ttu-id="e3d07-125">Az API-átjáró a belépési pont az ügyfelek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-125">The API gateway is the entry point for clients.</span></span> <span data-ttu-id="e3d07-126">Az ügyfelek ne hívja közvetlenül szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="e3d07-126">Clients don't call services directly.</span></span> <span data-ttu-id="e3d07-127">Ehelyett meghívják az API-átjárón, amely továbbítja a megfelelő szolgáltatásokat a háttérben futó hívása.</span><span class="sxs-lookup"><span data-stu-id="e3d07-127">Instead, they call the API gateway, which forwards the call to the appropriate services on the back end.</span></span> <span data-ttu-id="e3d07-128">Az API-átjáró előfordulhat, hogy több szolgáltatásokból válaszok összesítő és az összesített választ küldi vissza.</span><span class="sxs-lookup"><span data-stu-id="e3d07-128">The API gateway might aggregate the responses from several services and return the aggregated response.</span></span> 

<span data-ttu-id="e3d07-129">Az API-átjáró használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="e3d07-129">The advantages of using an API gateway include:</span></span>

- <span data-ttu-id="e3d07-130">Leválasztja a ügyfelek szolgáltatásokból.</span><span class="sxs-lookup"><span data-stu-id="e3d07-130">It decouples clients from services.</span></span> <span data-ttu-id="e3d07-131">A szolgáltatások lehetnek rendszerverzióval ellátott vagy átkerült anélkül, hogy az összes ügyfél frissítése.</span><span class="sxs-lookup"><span data-stu-id="e3d07-131">Services can be versioned or refactored without needing to update all of the clients.</span></span>

-  <span data-ttu-id="e3d07-132">Szolgáltatások használhatnak üzenetkezelő protokollokkal, amelyek nincsenek rövid, például az AMQP webes.</span><span class="sxs-lookup"><span data-stu-id="e3d07-132">Services can use messaging protocols that are not web friendly, such as AMQP.</span></span>

- <span data-ttu-id="e3d07-133">Az API-átjáró más több területet funkciókat, például a hitelesítés, a naplózás, az SSL-lezárást és a terheléselosztás hajthat végre.</span><span class="sxs-lookup"><span data-stu-id="e3d07-133">The API Gateway can perform other cross-cutting functions such as authentication, logging, SSL termination, and load balancing.</span></span>

## <a name="when-to-use-this-architecture"></a><span data-ttu-id="e3d07-134">Mikor érdemes használni, ez az architektúra</span><span class="sxs-lookup"><span data-stu-id="e3d07-134">When to use this architecture</span></span>

<span data-ttu-id="e3d07-135">Vegye figyelembe a architektúra stílus:</span><span class="sxs-lookup"><span data-stu-id="e3d07-135">Consider this architecture style for:</span></span>

- <span data-ttu-id="e3d07-136">A magas kiadás sebesség igénylő nagy alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="e3d07-136">Large applications that require a high release velocity.</span></span>

- <span data-ttu-id="e3d07-137">Összetett alkalmazások, csak magas szinten méretezhető.</span><span class="sxs-lookup"><span data-stu-id="e3d07-137">Complex applications that need to be highly scalable.</span></span>

- <span data-ttu-id="e3d07-138">Alkalmazások gazdag tartományok vagy sok altartományokat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-138">Applications with rich domains or many subdomains.</span></span>

- <span data-ttu-id="e3d07-139">Olyan szervezet, amely tartalmaz kis fejlesztőcsapatai számára.</span><span class="sxs-lookup"><span data-stu-id="e3d07-139">An organization that consists of small development teams.</span></span>


## <a name="benefits"></a><span data-ttu-id="e3d07-140">Előnyök</span><span class="sxs-lookup"><span data-stu-id="e3d07-140">Benefits</span></span> 

- <span data-ttu-id="e3d07-141">**Független központi telepítések**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-141">**Independent deployments**.</span></span> <span data-ttu-id="e3d07-142">Szolgáltatás frissítése a teljes alkalmazás üzembe helyezésével és állíthatja vissza, illetve előregörgetéseket frissítés esetén.</span><span class="sxs-lookup"><span data-stu-id="e3d07-142">You can update a service without redeploying the entire application, and roll back or roll forward an update if something goes wrong.</span></span> <span data-ttu-id="e3d07-143">Hibajavításokat tartalmaz, és a szolgáltatás kiadásokban még kezelhetőbbé teszik és kevésbé.</span><span class="sxs-lookup"><span data-stu-id="e3d07-143">Bug fixes and feature releases are more manageable and less risky.</span></span>

- <span data-ttu-id="e3d07-144">**Független fejlesztési**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-144">**Independent development**.</span></span> <span data-ttu-id="e3d07-145">Egyetlen fejlesztőcsoportunk létrehozása, tesztelése és a szolgáltatás telepítése.</span><span class="sxs-lookup"><span data-stu-id="e3d07-145">A single development team can build, test, and deploy a service.</span></span> <span data-ttu-id="e3d07-146">A folyamatos innováció és kiadása gyorsabb ütemben történik eredménye.</span><span class="sxs-lookup"><span data-stu-id="e3d07-146">The result is continuous innovation and a faster release cadence.</span></span> 

- <span data-ttu-id="e3d07-147">**Kisméretű, célzott csoportok**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-147">**Small, focused teams**.</span></span> <span data-ttu-id="e3d07-148">Csoportok egy szolgáltatás összpontosíthat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-148">Teams can focus on one service.</span></span> <span data-ttu-id="e3d07-149">Minden szolgáltatás teszi könnyebben érthetőek legyenek kódbázisra, és a könnyebb új csoport tagjai hatékonyságának növeléséhez kisebb körét.</span><span class="sxs-lookup"><span data-stu-id="e3d07-149">The smaller scope of each service makes the code base easier to understand, and it's easier for new team members to ramp up.</span></span>

- <span data-ttu-id="e3d07-150">**Elkülönítési fault**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-150">**Fault isolation**.</span></span> <span data-ttu-id="e3d07-151">Ha a szolgáltatás leáll, akkor nem vegye ki a teljes alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="e3d07-151">If a service goes down, it won't take out the entire application.</span></span> <span data-ttu-id="e3d07-152">Azonban, hogy nem jelenti azt elérhetővé az ingyenes.</span><span class="sxs-lookup"><span data-stu-id="e3d07-152">However, that doesn't mean you get resiliency for free.</span></span> <span data-ttu-id="e3d07-153">Továbbra is szeretné kövesse a bevált gyakorlatokat rugalmasság és a kialakítási minták.</span><span class="sxs-lookup"><span data-stu-id="e3d07-153">You still need to follow resiliency best practices and design patterns.</span></span> <span data-ttu-id="e3d07-154">Lásd: [rugalmas alkalmazások az Azure-kialakítása][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="e3d07-154">See [Designing resilient applications for Azure][resiliency-overview].</span></span>

- <span data-ttu-id="e3d07-155">**Vegyes technológia verem**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-155">**Mixed technology stacks**.</span></span> <span data-ttu-id="e3d07-156">Csoportok ki tudja választani a technológia, amely legjobban megfelel a szolgáltatásában.</span><span class="sxs-lookup"><span data-stu-id="e3d07-156">Teams can pick the technology that best fits their service.</span></span> 

- <span data-ttu-id="e3d07-157">**A részletes skálázás**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-157">**Granular scaling**.</span></span> <span data-ttu-id="e3d07-158">Szolgáltatások egymástól függetlenül lehet méretezni.</span><span class="sxs-lookup"><span data-stu-id="e3d07-158">Services can be scaled independently.</span></span> <span data-ttu-id="e3d07-159">Egy időben virtuális gépenként szolgáltatások magasabb sűrűségét azt jelenti, hogy Virtuálisgép-erőforrások teljes mértékben ki van használva.</span><span class="sxs-lookup"><span data-stu-id="e3d07-159">At the same time, the higher density of services per VM means that VM resources are fully utilized.</span></span> <span data-ttu-id="e3d07-160">Egy elhelyezési korlátozás használ, a szolgáltatások rendelhető hozzá egy virtuális gép-profilja (magas CPU, nagy memória, és így tovább).</span><span class="sxs-lookup"><span data-stu-id="e3d07-160">Using placement constraints, a services can be matched to a VM profile (high CPU, high memory, and so on).</span></span>

## <a name="challenges"></a><span data-ttu-id="e3d07-161">Kihívásai</span><span class="sxs-lookup"><span data-stu-id="e3d07-161">Challenges</span></span>

- <span data-ttu-id="e3d07-162">**Összetettség**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-162">**Complexity**.</span></span> <span data-ttu-id="e3d07-163">A mikroszolgáltatások alkalmazások áthelyezése több részből áll az egyenértékű egységes alkalmazásnál.</span><span class="sxs-lookup"><span data-stu-id="e3d07-163">A microservices application has more moving parts than the equivalent monolithic application.</span></span> <span data-ttu-id="e3d07-164">Minden szolgáltatás egyszerűbb, de a teljes rendszer egészének összetettebb.</span><span class="sxs-lookup"><span data-stu-id="e3d07-164">Each service is simpler, but the entire system as a whole is more complex.</span></span>

- <span data-ttu-id="e3d07-165">**Fejlesztési és tesztelési**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-165">**Development and test**.</span></span> <span data-ttu-id="e3d07-166">Szolgáltatásfüggőségek fejlesztésről másik módszert igényel.</span><span class="sxs-lookup"><span data-stu-id="e3d07-166">Developing against service dependencies requires a different approach.</span></span> <span data-ttu-id="e3d07-167">Meglévő eszközök nem feltétlenül tervezték együtt szolgáltatásfüggőségek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-167">Existing tools are not necessarily designed to work with service dependencies.</span></span> <span data-ttu-id="e3d07-168">Szolgáltatás határain túlnyúló újrabontása bonyolult lehet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-168">Refactoring across service boundaries can be difficult.</span></span> <span data-ttu-id="e3d07-169">Is nehéz függőségei, teszteléséhez, különösen akkor, ha az alkalmazás gyorsan fejlődnek-e.</span><span class="sxs-lookup"><span data-stu-id="e3d07-169">It is also challenging to test service dependencies, especially when the application is evolving quickly.</span></span>

- <span data-ttu-id="e3d07-170">**A cégirányítási hiánya**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-170">**Lack of governance**.</span></span> <span data-ttu-id="e3d07-171">Mikroszolgáltatások létrehozására decentralizált megközelítés előnye is van, de azt is problémákkal is járhat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-171">The decentralized approach to building microservices has advantages, but it can also lead to problems.</span></span> <span data-ttu-id="e3d07-172">A sok különböző nyelv és keretrendszer, az alkalmazás váló nehéz fenntartani fordulhatnak elő.</span><span class="sxs-lookup"><span data-stu-id="e3d07-172">You may end up with so many different languages and frameworks that the application becomes hard to maintain.</span></span> <span data-ttu-id="e3d07-173">Bevezetni néhány projekt kiterjedő szabványok, csapat rugalmasságot túlságosan korlátozás nélkül hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-173">It may be useful to put some project-wide standards in place, without overly restricting teams' flexibility.</span></span> <span data-ttu-id="e3d07-174">Ez különösen több területet funkciók, például a naplózás vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="e3d07-174">This especially applies to cross-cutting functionality such as logging.</span></span>

- <span data-ttu-id="e3d07-175">**Hálózati torlódás és késleltetés**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-175">**Network congestion and latency**.</span></span> <span data-ttu-id="e3d07-176">A sok kisméretű, a részletes szolgáltatások használatát további értekezleteire kommunikációt eredményez.</span><span class="sxs-lookup"><span data-stu-id="e3d07-176">The use of many small, granular services can result in more interservice communication.</span></span> <span data-ttu-id="e3d07-177">Is a szolgáltatás függőségek lekérdezi a lánc túl hosszú (A B kiszolgálóra, amely meghívja a C...) hívásokról, a további várakozási probléma válhat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-177">Also, if the chain of service dependencies gets too long (service A calls B, which calls C...), the additional latency can become a problem.</span></span> <span data-ttu-id="e3d07-178">Szüksége lesz a Tervező API-k gondosan.</span><span class="sxs-lookup"><span data-stu-id="e3d07-178">You will need to design APIs carefully.</span></span> <span data-ttu-id="e3d07-179">Kerülje túlságosan chatty API-k, gondolja át szerializálási formátumok és használ aszinkron kommunikációt mintákat keressen.</span><span class="sxs-lookup"><span data-stu-id="e3d07-179">Avoid overly chatty APIs, think about serialization formats, and look for places to use asynchronous communication patterns.</span></span>

- <span data-ttu-id="e3d07-180">**Adatok sértetlensége**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-180">**Data integrity**.</span></span> <span data-ttu-id="e3d07-181">Az egyes mikroszolgáltatási saját adatmegőrzés felelős.</span><span class="sxs-lookup"><span data-stu-id="e3d07-181">With each microservice responsible for its own data persistence.</span></span> <span data-ttu-id="e3d07-182">Ennek eredményeképpen a adatkonzisztencia kihívást lehet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-182">As a result, data consistency can be a challenge.</span></span> <span data-ttu-id="e3d07-183">Vezessék be a végleges konzisztencia, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="e3d07-183">Embrace eventual consistency where possible.</span></span>

- <span data-ttu-id="e3d07-184">**Felügyeleti**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-184">**Management**.</span></span> <span data-ttu-id="e3d07-185">A mikroszolgáltatások sikeres egy összetett DevOps kulturális környezet szükséges.</span><span class="sxs-lookup"><span data-stu-id="e3d07-185">To be successful with microservices requires a mature DevOps culture.</span></span> <span data-ttu-id="e3d07-186">Korrelált naplózása szolgáltatásban kihívást jelenthet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-186">Correlated logging across services can be challenging.</span></span> <span data-ttu-id="e3d07-187">Naplózási általában több szolgáltatás hívások egyfelhasználós művelet kell összefüggéseket.</span><span class="sxs-lookup"><span data-stu-id="e3d07-187">Typically, logging must correlate multiple service calls for a single user operation.</span></span>

- <span data-ttu-id="e3d07-188">**Versioning**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-188">**Versioning**.</span></span> <span data-ttu-id="e3d07-189">Frissítések egy kell a tőle függő szolgáltatások nem törhetik meg.</span><span class="sxs-lookup"><span data-stu-id="e3d07-189">Updates to a service must not break services that depend on it.</span></span> <span data-ttu-id="e3d07-190">Több szolgáltatások frissítése sikerült egy adott időpontban, így nélkül gondos tervezés, akkor lehet, hogy problémákat visszafelé vagy kompatibilitási továbbítsa.</span><span class="sxs-lookup"><span data-stu-id="e3d07-190">Multiple services could be updated at any given time, so without careful design, you might have problems with backward or forward compatibility.</span></span>

- <span data-ttu-id="e3d07-191">**Skillset**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-191">**Skillset**.</span></span> <span data-ttu-id="e3d07-192">Mikroszolgáltatások azok helyre elosztott rendszerek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-192">Microservices are highly distributed systems.</span></span> <span data-ttu-id="e3d07-193">Gondosan határozza meg, hogy a csapat a képességek és a felhasználói élmény, a sikeres-e.</span><span class="sxs-lookup"><span data-stu-id="e3d07-193">Carefully evaluate whether the team has the skills and experience to be successful.</span></span>

## <a name="best-practices"></a><span data-ttu-id="e3d07-194">Ajánlott eljárások</span><span class="sxs-lookup"><span data-stu-id="e3d07-194">Best practices</span></span>

- <span data-ttu-id="e3d07-195">A vállalati tartomány körül modellre szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="e3d07-195">Model services around the business domain.</span></span> 

- <span data-ttu-id="e3d07-196">Minden decentralize.</span><span class="sxs-lookup"><span data-stu-id="e3d07-196">Decentralize everything.</span></span> <span data-ttu-id="e3d07-197">Az egyes csoportok tervezéséről és kiépítéséről szolgáltatások felelősek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-197">Individual teams are responsible for designing and building services.</span></span> <span data-ttu-id="e3d07-198">Kerülje a kódban, illetve az adatok sémák megosztása.</span><span class="sxs-lookup"><span data-stu-id="e3d07-198">Avoid sharing code or data schemas.</span></span> 

- <span data-ttu-id="e3d07-199">Adattárolás a szolgáltatást, amely birtokolja az adatokat a saját kell lennie.</span><span class="sxs-lookup"><span data-stu-id="e3d07-199">Data storage should be private to the service that owns the data.</span></span> <span data-ttu-id="e3d07-200">Ajánlott tárhelyet használja az egyes szolgáltatást és az adatok.</span><span class="sxs-lookup"><span data-stu-id="e3d07-200">Use the best storage for each service and data type.</span></span> 

- <span data-ttu-id="e3d07-201">Szolgáltatások tetszetős API-k segítségével kommunikálnak.</span><span class="sxs-lookup"><span data-stu-id="e3d07-201">Services communicate through well-designed APIs.</span></span> <span data-ttu-id="e3d07-202">Kerülje a megvalósítás részletei megakadályozására.</span><span class="sxs-lookup"><span data-stu-id="e3d07-202">Avoid leaking implementation details.</span></span> <span data-ttu-id="e3d07-203">API-k modell kell a tartományhoz, a szolgáltatás nem a belső megvalósítása.</span><span class="sxs-lookup"><span data-stu-id="e3d07-203">APIs should model the domain, not the internal implementation of the service.</span></span>

- <span data-ttu-id="e3d07-204">Kerülje a szolgáltatások közötti.</span><span class="sxs-lookup"><span data-stu-id="e3d07-204">Avoid coupling between services.</span></span> <span data-ttu-id="e3d07-205">Kapcsolási okai a megosztott adatbázis sémák és kemény kommunikációs protokollokat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-205">Causes of coupling include shared database schemas and rigid communication protocols.</span></span>

- <span data-ttu-id="e3d07-206">Több területet problémákat, például hitelesítés és az SSL-lezárást, hogy az átjáró kiürítése.</span><span class="sxs-lookup"><span data-stu-id="e3d07-206">Offload cross-cutting concerns, such as authentication and SSL termination, to the gateway.</span></span>

- <span data-ttu-id="e3d07-207">Tartsa meg az átjáróról induló tartomány Tudásbázis.</span><span class="sxs-lookup"><span data-stu-id="e3d07-207">Keep domain knowledge out of the gateway.</span></span> <span data-ttu-id="e3d07-208">Az átjáró kell kezelni, és ügyfélkérések az üzleti szabályok vagy a tartomány logika ismeretek nélkül.</span><span class="sxs-lookup"><span data-stu-id="e3d07-208">The gateway should handle and route client requests without any knowledge of the business rules or domain logic.</span></span> <span data-ttu-id="e3d07-209">Ellenkező esetben az átjáró függőség válik, és hatására a szolgáltatások közötti.</span><span class="sxs-lookup"><span data-stu-id="e3d07-209">Otherwise, the gateway becomes a dependency and can cause coupling between services.</span></span>

- <span data-ttu-id="e3d07-210">Szolgáltatások laza kapcsoló és a magas működési Kohéziós kell rendelkezniük.</span><span class="sxs-lookup"><span data-stu-id="e3d07-210">Services should have loose coupling and high functional cohesion.</span></span> <span data-ttu-id="e3d07-211">Függvények, amelyek valószínűleg módosítása együtt csomagolt és együtt telepíteni kell.</span><span class="sxs-lookup"><span data-stu-id="e3d07-211">Functions that are likely to change together should be packaged and deployed together.</span></span> <span data-ttu-id="e3d07-212">Ha ezek a szolgáltatások külön találhatók, ezek a szolgáltatások végül szorosan összekapcsolt, mert egy szolgáltatás változása esetén, a többi szolgáltatás frissítése.</span><span class="sxs-lookup"><span data-stu-id="e3d07-212">If they reside in separate services, those services end up being tightly coupled, because a change in one service will require updating the other service.</span></span> <span data-ttu-id="e3d07-213">Két szolgáltatások túlságosan chatty kommunikációját szoros kapcsoló és alacsony Kohéziós tünete is lehet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-213">Overly chatty communication between two services may be a symptom of tight coupling and low cohesion.</span></span> 

- <span data-ttu-id="e3d07-214">Különítse el a hibákat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-214">Isolate failures.</span></span> <span data-ttu-id="e3d07-215">Rugalmasság stratégiák segítségével megakadályozhatja, hogy a hibákat a szolgáltatásokon belüli egymásra épülő.</span><span class="sxs-lookup"><span data-stu-id="e3d07-215">Use resiliency strategies to prevent failures within a service from cascading.</span></span> <span data-ttu-id="e3d07-216">Lásd: [rugalmassági minták] [ resiliency-patterns] és [rugalmas alkalmazásokhoz tervezéséhez][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="e3d07-216">See [Resiliency patterns][resiliency-patterns] and [Designing resilient applications][resiliency-overview].</span></span>

## <a name="microservices-using-azure-container-service"></a><span data-ttu-id="e3d07-217">Azure Tárolószolgáltatás használatával Mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="e3d07-217">Microservices using Azure Container Service</span></span> 

<span data-ttu-id="e3d07-218">Használhat [Azure Tárolószolgáltatás](/azure/container-service/) konfigurálása, és helyezze üzembe egy Docker-fürt számára.</span><span class="sxs-lookup"><span data-stu-id="e3d07-218">You can use [Azure Container Service](/azure/container-service/) to configure and provision a Docker cluster.</span></span> <span data-ttu-id="e3d07-219">Az Azure tárolószolgáltatások számos népszerű tároló orchestrators, beleértve a Kubernetes, a DC/OS és a Docker Swarm támogatja.</span><span class="sxs-lookup"><span data-stu-id="e3d07-219">Azure Container Services supports several popular container orchestrators, including Kubernetes, DC/OS, and Docker Swarm.</span></span>

![](./images/microservices-acs.png)
 
<span data-ttu-id="e3d07-220">**Nyilvános csomópontok**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-220">**Public nodes**.</span></span> <span data-ttu-id="e3d07-221">Ezek a csomópontok egy nyilvánosan elérhető terheléselosztó keresztül érhetők el.</span><span class="sxs-lookup"><span data-stu-id="e3d07-221">These nodes are reachable through a public-facing load balancer.</span></span> <span data-ttu-id="e3d07-222">Ezek a csomópontok az API-átjáró üzemelteti.</span><span class="sxs-lookup"><span data-stu-id="e3d07-222">The API gateway is hosted on these nodes.</span></span>

<span data-ttu-id="e3d07-223">**Háttér-csomópontok**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-223">**Backend nodes**.</span></span> <span data-ttu-id="e3d07-224">Ezek a csomópontok az API-átjárón keresztül elérő ügyfelek szolgáltatások futtatásához.</span><span class="sxs-lookup"><span data-stu-id="e3d07-224">These nodes run services that clients reach via the API gateway.</span></span> <span data-ttu-id="e3d07-225">Ezek a csomópontok nem közvetlenül fogadni az internetes forgalmat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-225">These nodes don't receive Internet traffic directly.</span></span> <span data-ttu-id="e3d07-226">A háttér-csomópontok közé tartozik a virtuális gépek, mindegyik különböző hardverprofilhoz egynél több alkalmazáskészlet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-226">The backend nodes might include more than one pool of VMs, each with a different hardware profile.</span></span> <span data-ttu-id="e3d07-227">Például létrehozhatja a általános számítási feladatok, a magas CPU-munkaterhelések és a felső memóriaterület munkaterhelések külön készletek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-227">For example, you could create separate pools for general compute workloads, high CPU workloads, and high memory workloads.</span></span> 

<span data-ttu-id="e3d07-228">**Felügyeleti virtuális gépek**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-228">**Management VMs**.</span></span> <span data-ttu-id="e3d07-229">A főcsomópontok futtassa a tároló orchestrator virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="e3d07-229">These VMs run the master nodes for the container orchestrator.</span></span> 

<span data-ttu-id="e3d07-230">**Hálózati**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-230">**Networking**.</span></span> <span data-ttu-id="e3d07-231">A nyilvános csomópontokat, a háttér-csomópontok és a felügyeleti virtuális gépek külön alhálózatokon belül ugyanazt a virtuális hálózatot (VNet) kerülnek.</span><span class="sxs-lookup"><span data-stu-id="e3d07-231">The public nodes, backend nodes, and management VMs are placed in separate subnets within the same virtual network (VNet).</span></span> 

<span data-ttu-id="e3d07-232">**Terheléselosztók**.</span><span class="sxs-lookup"><span data-stu-id="e3d07-232">**Load balancers**.</span></span>  <span data-ttu-id="e3d07-233">Egy külső terheléselosztót a nyilvános csomópontok előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="e3d07-233">An externally facing load balancer sits in front of the public nodes.</span></span> <span data-ttu-id="e3d07-234">Internetes kérelmek nyilvános csomópontjának terjesztett.</span><span class="sxs-lookup"><span data-stu-id="e3d07-234">It distributes internet requests to the public nodes.</span></span> <span data-ttu-id="e3d07-235">Egy másik terheléselosztó a felügyeleti virtuális gépek, virtuális gépek kezelési NAT-szabályok használata a secure shell (ssh) forgalom engedélyezésére előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="e3d07-235">Another load balancer is placed in front of the management VMs, to allow secure shell (ssh) traffic to the management VMs, using NAT rules.</span></span>

<span data-ttu-id="e3d07-236">A megbízhatósági és méretezhetőségi minden egyes szolgáltatás replikálja a rendszer több virtuális gépek között.</span><span class="sxs-lookup"><span data-stu-id="e3d07-236">For reliability and scalability, each service is replicated across multiple VMs.</span></span> <span data-ttu-id="e3d07-237">Azonban mivel a szolgáltatások is viszonylag kis méretű (egy egységes alkalmazáshoz képest), több szolgáltatás vannak általában csomagolt be egy virtuális.</span><span class="sxs-lookup"><span data-stu-id="e3d07-237">However, because services are also relatively lightweight (compared with a monolithic application), multiple services are usually packed into a single VM.</span></span> <span data-ttu-id="e3d07-238">Magasabb sűrűség lehetővé teszi, hogy az erőforrás-kihasználást.</span><span class="sxs-lookup"><span data-stu-id="e3d07-238">Higher density allows better resource utilization.</span></span> <span data-ttu-id="e3d07-239">Ha egy adott szolgáltatáshoz jelentős erőforrásokat nem használja, nem kell az egész virtuális gép fordítsanak futnak, hogy a szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="e3d07-239">If a particular service doesn't use a lot of resources, you don't need to dedicate an entire VM to running that service.</span></span>

<span data-ttu-id="e3d07-240">Az alábbi ábrán látható négy különböző szolgáltatásokat (különböző alakzatok jelzi) futtató három csomópontot.</span><span class="sxs-lookup"><span data-stu-id="e3d07-240">The following diagram shows three nodes running four different services (indicated by different shapes).</span></span> <span data-ttu-id="e3d07-241">Figyelje meg, hogy egyes szolgáltatások rendelkezik-e legalább két példányt.</span><span class="sxs-lookup"><span data-stu-id="e3d07-241">Notice that each service has at least two instances.</span></span> 
 
![](./images/microservices-node-density.png)

## <a name="microservices-using-azure-service-fabric"></a><span data-ttu-id="e3d07-242">Azure Service Fabric használatával Mikroszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="e3d07-242">Microservices using Azure Service Fabric</span></span>

<span data-ttu-id="e3d07-243">Az alábbi ábrán látható egy mikroszolgáltatások architektúra használatával [Azure Service Fabric](/azure/service-fabric/).</span><span class="sxs-lookup"><span data-stu-id="e3d07-243">The following diagram shows a microservices architecture using [Azure Service Fabric](/azure/service-fabric/).</span></span>

![](./images/service-fabric.png)

<span data-ttu-id="e3d07-244">A Service Fabric-fürt telepítve van egy vagy több Virtuálisgép-méretezési készlet.</span><span class="sxs-lookup"><span data-stu-id="e3d07-244">The Service Fabric cluster is deployed to one or more VM scale sets.</span></span> <span data-ttu-id="e3d07-245">Lehetséges, hogy egynél több Virtuálisgép-méretezési a fürt ahhoz, hogy a Virtuálisgép-típusokon kombinációját kell beállítani.</span><span class="sxs-lookup"><span data-stu-id="e3d07-245">You might have more than one VM scale set in the cluster, in order to have a mix of VM types.</span></span> <span data-ttu-id="e3d07-246">Egy API-átjáró a Service Fabric-fürt külső terheléselosztással ügyfél kérések fogadása előtt helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="e3d07-246">An API Gateway is placed in front of the Service Fabric cluster, with an external load balancer to receive client requests.</span></span>

<span data-ttu-id="e3d07-247">A Service Fabric-futtatókörnyezet fürt kezelése, beleértve a szolgáltatás elhelyezését, a csomópontok feladatátvételét hiba és az állapotfigyelés hajt végre.</span><span class="sxs-lookup"><span data-stu-id="e3d07-247">The Service Fabric runtime performs cluster management, including service placement, node failover, and health monitoring.</span></span> <span data-ttu-id="e3d07-248">A runtime telepítve van a fürtcsomópontokon magukat.</span><span class="sxs-lookup"><span data-stu-id="e3d07-248">The runtime is deployed on the cluster nodes themselves.</span></span> <span data-ttu-id="e3d07-249">Nincs olyan virtuális gépeket kezelő külön készletét.</span><span class="sxs-lookup"><span data-stu-id="e3d07-249">There isn't a separate set of cluster management VMs.</span></span>

<span data-ttu-id="e3d07-250">Szolgáltatások kommunikálnak egymással a Service Fabric beépített fordított proxy használata.</span><span class="sxs-lookup"><span data-stu-id="e3d07-250">Services communicate with each other using the reverse proxy that is built into Service Fabric.</span></span> <span data-ttu-id="e3d07-251">A Service Fabric egy tudja oldani az elnevezett szolgáltatás felderítési szolgáltatást biztosít.</span><span class="sxs-lookup"><span data-stu-id="e3d07-251">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>


<!-- links -->

[resiliency-overview]: ../../resiliency/index.md
[resiliency-patterns]: ../../patterns/category/resiliency.md



