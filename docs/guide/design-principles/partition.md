---
title: Particionáljon a korlátok kiküszöböléséhez
titleSuffix: Azure Application Architecture Guide
description: Használjon particionálást az adatbázis-, hálózati és számítási korlátok megkerüléséhez.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 76590d2a0c16df9d599e7d4a856a84b5e3bdcec8
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54486012"
---
# <a name="partition-around-limits"></a><span data-ttu-id="66eb3-103">Particionáljon a korlátok kiküszöböléséhez</span><span class="sxs-lookup"><span data-stu-id="66eb3-103">Partition around limits</span></span>

## <a name="use-partitioning-to-work-around-database-network-and-compute-limits"></a><span data-ttu-id="66eb3-104">Particionálás használata az adatbázis-, hálózati és számítási korlátok megkerüléséhez</span><span class="sxs-lookup"><span data-stu-id="66eb3-104">Use partitioning to work around database, network, and compute limits</span></span>

<span data-ttu-id="66eb3-105">A felhőben minden szolgáltatás vertikális felskálázhatósága korlátozott.</span><span class="sxs-lookup"><span data-stu-id="66eb3-105">In the cloud, all services have limits in their ability to scale up.</span></span> <span data-ttu-id="66eb3-106">Az Azure-szolgáltatások korlátait [Az Azure-előfizetések és -szolgáltatások korlátozásai, kvótái és megkötései][azure-limits] című cikk ismerteti.</span><span class="sxs-lookup"><span data-stu-id="66eb3-106">Azure service limits are documented in [Azure subscription and service limits, quotas, and constraints][azure-limits].</span></span> <span data-ttu-id="66eb3-107">A korlátok a magok számára, az adatbázisméretre, a lekérdezések átviteli sebességére és a hálózati átviteli sebességre vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="66eb3-107">Limits include number of cores, database size, query throughput, and network throughput.</span></span> <span data-ttu-id="66eb3-108">Ha egy rendszer elér egy bizonyos méretet, beleütközhet egy vagy több ilyen korlátba.</span><span class="sxs-lookup"><span data-stu-id="66eb3-108">If your system grows sufficiently large, you may hit one or more of these limits.</span></span> <span data-ttu-id="66eb3-109">A korlátok megkerüléséhez particionálást használhat.</span><span class="sxs-lookup"><span data-stu-id="66eb3-109">Use partitioning to work around these limits.</span></span>

<span data-ttu-id="66eb3-110">A rendszer számos módon particionálható, például:</span><span class="sxs-lookup"><span data-stu-id="66eb3-110">There are many ways to partition a system, such as:</span></span>

- <span data-ttu-id="66eb3-111">Adatbázis particionálása az adatbázis méretére, az adatokhoz kapcsolódó I/O-műveletekre vagy az egyszerre futó munkamenetek számára vonatkozó korlátok elkerüléséhez.</span><span class="sxs-lookup"><span data-stu-id="66eb3-111">Partition a database to avoid limits on database size, data I/O, or number of concurrent sessions.</span></span>

- <span data-ttu-id="66eb3-112">Üzenetsor vagy üzenetbusz particionálása a kérések vagy az egyidejű kapcsolatok számára vonatkozó korlátok elkerüléséhez.</span><span class="sxs-lookup"><span data-stu-id="66eb3-112">Partition a queue or message bus to avoid limits on the number of requests or the number of concurrent connections.</span></span>

- <span data-ttu-id="66eb3-113">App Service-webalkalmazás particionálása az App Service-csomagonkénti példányok számára vonatkozó korlátok elkerüléséhez.</span><span class="sxs-lookup"><span data-stu-id="66eb3-113">Partition an App Service web app to avoid limits on the number of instances per App Service plan.</span></span>

<span data-ttu-id="66eb3-114">Egy adatbázis particionálható *horizontálisan*, *vertikálisan* vagy *funkcionálisan*.</span><span class="sxs-lookup"><span data-stu-id="66eb3-114">A database can be partitioned *horizontally*, *vertically*, or *functionally*.</span></span>

- <span data-ttu-id="66eb3-115">Horizontális particionálás (más néven horizontális skálázás) esetén mindegyik partíció a teljes adathalmaz egy részhalmazának adatait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="66eb3-115">In horizontal partitioning, also called sharding, each partition holds data for a subset of the total data set.</span></span> <span data-ttu-id="66eb3-116">A partíciók adatsémája megegyezik.</span><span class="sxs-lookup"><span data-stu-id="66eb3-116">The partitions share the same data schema.</span></span> <span data-ttu-id="66eb3-117">Például az A&ndash;M betűvel kezdődő ügyfelek egy partícióra kerülnek, az N&ndash;Z közöttiek pedig egy másikra.</span><span class="sxs-lookup"><span data-stu-id="66eb3-117">For example, customers whose names start with A&ndash;M go into one partition, N&ndash;Z into another partition.</span></span>

- <span data-ttu-id="66eb3-118">Vertikális particionáláskor mindegyik partíció az adattárban található elemekre vonatkozó mezőket egy részhalmazát tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="66eb3-118">In vertical partitioning, each partition holds a subset of the fields for the items in the data store.</span></span> <span data-ttu-id="66eb3-119">Az egyik partícióba például a gyakran használt mezőket helyezheti, egy másikba pedig a ritkábban használtakat.</span><span class="sxs-lookup"><span data-stu-id="66eb3-119">For example, put frequently accessed fields in one partition, and less frequently accessed fields in another.</span></span>

- <span data-ttu-id="66eb3-120">Funkcionális particionáláskor az adatok particionálása az alapján történik, hogy a rendszer egyes kapcsolódó kontextusai hogyan használják őket.</span><span class="sxs-lookup"><span data-stu-id="66eb3-120">In functional partitioning, data is partitioned according to how it is used by each bounded context in the system.</span></span> <span data-ttu-id="66eb3-121">Az egyik partícióban tárolhatja például a számlázási adatokat, egy másikban pedig a termékleltárral kapcsolatos adatokat.</span><span class="sxs-lookup"><span data-stu-id="66eb3-121">For example, store invoice data in one partition and product inventory data in another.</span></span> <span data-ttu-id="66eb3-122">A sémák egymástól függetlenek.</span><span class="sxs-lookup"><span data-stu-id="66eb3-122">The schemas are independent.</span></span>

<span data-ttu-id="66eb3-123">Részletesebb útmutatásért tekintse meg az [adatparticionálással][data-partitioning-guidance] foglalkozó témakört.</span><span class="sxs-lookup"><span data-stu-id="66eb3-123">For more detailed guidance, see [Data partitioning][data-partitioning-guidance].</span></span>

## <a name="recommendations"></a><span data-ttu-id="66eb3-124">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="66eb3-124">Recommendations</span></span>

<span data-ttu-id="66eb3-125">**Particionálja az alkalmazás különböző részeit**.</span><span class="sxs-lookup"><span data-stu-id="66eb3-125">**Partition different parts of the application**.</span></span> <span data-ttu-id="66eb3-126">Az adatbázisok kézenfekvő jelöltek a particionálásra, érdemes lehet azonban megfontolni a tárterület, a gyorsítótár, az üzenetsorok és a számítási példányok particionálását is.</span><span class="sxs-lookup"><span data-stu-id="66eb3-126">Databases are one obvious candidate for partitioning, but also consider storage, cache, queues, and compute instances.</span></span>

<span data-ttu-id="66eb3-127">**Tervezze meg a partíciókulcsot a túlzott terhelés elkerülése érdekében**.</span><span class="sxs-lookup"><span data-stu-id="66eb3-127">**Design the partition key to avoid hot spots**.</span></span> <span data-ttu-id="66eb3-128">Ha egy adatbázis particionálása után továbbra is egyetlen partíció kapja a kérések többségét, akkor még nem oldotta meg a problémát.</span><span class="sxs-lookup"><span data-stu-id="66eb3-128">If you partition a database, but one shard still gets the majority of the requests, then you haven't solved your problem.</span></span> <span data-ttu-id="66eb3-129">Ideális esetben a terhelés egyenletesen oszlik el a partíciók között.</span><span class="sxs-lookup"><span data-stu-id="66eb3-129">Ideally, load gets distributed evenly across all the partitions.</span></span> <span data-ttu-id="66eb3-130">A kivonatolást például ügyfélazonosító szerint végezze, ne pedig az ügyfél nevének első betűje alapján, mivel bizonyos betűk gyakoribbak.</span><span class="sxs-lookup"><span data-stu-id="66eb3-130">For example, hash by customer ID and not the first letter of the customer name, because some letters are more frequent.</span></span> <span data-ttu-id="66eb3-131">Ugyanaz az elv érvényes az üzenetsorok particionálására is.</span><span class="sxs-lookup"><span data-stu-id="66eb3-131">The same principle applies when partitioning a message queue.</span></span> <span data-ttu-id="66eb3-132">Olyan partíciókulcsot válasszon, amely egyenletesen osztja el az üzeneteket az üzenetsorok között.</span><span class="sxs-lookup"><span data-stu-id="66eb3-132">Pick a partition key that leads to an even distribution of messages across the set of queues.</span></span> <span data-ttu-id="66eb3-133">További információt a [horizontális skálázást][sharding] ismertető témakörben tekinthet meg.</span><span class="sxs-lookup"><span data-stu-id="66eb3-133">For more information, see [Sharding][sharding].</span></span>

<span data-ttu-id="66eb3-134">**Az Azure-előfizetések és a -szolgáltatások korlátaihoz igazodva végezze a particionálást**.</span><span class="sxs-lookup"><span data-stu-id="66eb3-134">**Partition around Azure subscription and service limits**.</span></span> <span data-ttu-id="66eb3-135">Az egyes összetevők és szolgáltatások mellett korlátozások vonatkoznak az előfizetésekre és erőforráscsoportokra is.</span><span class="sxs-lookup"><span data-stu-id="66eb3-135">Individual components and services have limits, but there are also limits for subscriptions and resource groups.</span></span> <span data-ttu-id="66eb3-136">A nagyon nagy alkalmazások esetén előfordulhat, hogy ezek korlátai szerint kell végeznie a particionálást.</span><span class="sxs-lookup"><span data-stu-id="66eb3-136">For very large applications, you might need to partition around those limits.</span></span>

<span data-ttu-id="66eb3-137">**Különböző szinteken végezze a particionálást**.</span><span class="sxs-lookup"><span data-stu-id="66eb3-137">**Partition at different levels**.</span></span> <span data-ttu-id="66eb3-138">Tegyük fel, hogy egy virtuális gépen helyez üzembe egy adatbázis-kiszolgálót.</span><span class="sxs-lookup"><span data-stu-id="66eb3-138">Consider a database server deployed on a VM.</span></span> <span data-ttu-id="66eb3-139">A virtuális gép egy virtuális merevlemezzel rendelkezik, amelyet az Azure Storage támogat.</span><span class="sxs-lookup"><span data-stu-id="66eb3-139">The VM has a VHD that is backed by Azure Storage.</span></span> <span data-ttu-id="66eb3-140">A tárfiók egy Azure-előfizetéshez tartozik.</span><span class="sxs-lookup"><span data-stu-id="66eb3-140">The storage account belongs to an Azure subscription.</span></span> <span data-ttu-id="66eb3-141">Vegye figyelembe, hogy a hierarchia mindegyik lépésére korlátok vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="66eb3-141">Notice that each step in the hierarchy has limits.</span></span> <span data-ttu-id="66eb3-142">Az adatbázis-kiszolgálóra a kapcsolatkészletre vonatkozó korlát lehet érvényes.</span><span class="sxs-lookup"><span data-stu-id="66eb3-142">The database server may have a connection pool limit.</span></span> <span data-ttu-id="66eb3-143">A virtuális gépre processzor- és hálózati korlátok vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="66eb3-143">VMs have CPU and network limits.</span></span> <span data-ttu-id="66eb3-144">A tárolóra IOPS-korlátok érvényesek.</span><span class="sxs-lookup"><span data-stu-id="66eb3-144">Storage has IOPS limits.</span></span> <span data-ttu-id="66eb3-145">Az előfizetésben korlátozott a virtuális gép magjainak a száma.</span><span class="sxs-lookup"><span data-stu-id="66eb3-145">The subscription has limits on the number of VM cores.</span></span> <span data-ttu-id="66eb3-146">Általában egyszerűbb a hierarchia alacsonyabb szintjén particionálni.</span><span class="sxs-lookup"><span data-stu-id="66eb3-146">Generally, it's easier to partition lower in the hierarchy.</span></span> <span data-ttu-id="66eb3-147">Az előfizetés szintjén végzett particionálás csak nagy alkalmazások esetén szükséges.</span><span class="sxs-lookup"><span data-stu-id="66eb3-147">Only large applications should need to partition at the subscription level.</span></span>

<!-- links -->

[azure-limits]: /azure/azure-subscription-service-limits
[data-partitioning-guidance]: ../../best-practices/data-partitioning.md
[sharding]: ../../patterns/sharding.md
