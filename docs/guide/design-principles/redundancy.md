---
title: "Ellenőrizze minden redundancia"
description: "Kerülje a hibaérzékeny pontokat redundancia épület az alkalmazásba."
author: MikeWasson
layout: LandingPage
ms.openlocfilehash: 89a1e6d2d3b1217ab07c9a99a4c4fb3e8cd2cd29
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="make-all-things-redundant"></a><span data-ttu-id="f1fcf-103">Ellenőrizze minden redundancia</span><span class="sxs-lookup"><span data-stu-id="f1fcf-103">Make all things redundant</span></span>

## <a name="build-redundancy-into-your-application-to-avoid-having-single-points-of-failure"></a><span data-ttu-id="f1fcf-104">Az alkalmazásba, hogy kerülje az egyetlen ponton felmerülő hibákat redundancia összeállítása</span><span class="sxs-lookup"><span data-stu-id="f1fcf-104">Build redundancy into your application, to avoid having single points of failure</span></span>

<span data-ttu-id="f1fcf-105">Egy rugalmas alkalmazás útvonalak hibát körül.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-105">A resilient application routes around failure.</span></span> <span data-ttu-id="f1fcf-106">A kritikus elérési utak azonosítását az alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-106">Identify the critical paths in your application.</span></span> <span data-ttu-id="f1fcf-107">Nincs redundancia az elérési út minden ponton?</span><span class="sxs-lookup"><span data-stu-id="f1fcf-107">Is there redundancy at each point in the path?</span></span> <span data-ttu-id="f1fcf-108">Ha egy alrendszer nem sikerül, az alkalmazás meghiúsul keresztül valamilyen más?</span><span class="sxs-lookup"><span data-stu-id="f1fcf-108">If a subsystem fails, will the application fail over to something else?</span></span>

## <a name="recommendations"></a><span data-ttu-id="f1fcf-109">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="f1fcf-109">Recommendations</span></span> 

<span data-ttu-id="f1fcf-110">**Fontolja meg az üzleti követelmények**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-110">**Consider business requirements**.</span></span> <span data-ttu-id="f1fcf-111">Egy az rendszerbe épített redundanciájának hatással lehet, költségeket és bonyodalmakat is.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-111">The amount of redundancy built into a system can affect both cost and complexity.</span></span> <span data-ttu-id="f1fcf-112">Az architektúra tájékoztatni kell által az üzleti követelményeinek, például a helyreállítási idő célkitűzése (RTO).</span><span class="sxs-lookup"><span data-stu-id="f1fcf-112">Your architecture should be informed by your business requirements, such as recovery time objective (RTO).</span></span> <span data-ttu-id="f1fcf-113">Például egy több területi drágább, mint egyetlen területi központi telepítések, és bonyolultabb kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-113">For example, a multi-region deployment is more expensive than a single-region deployment, and is more complicated to manage.</span></span> <span data-ttu-id="f1fcf-114">Szüksége lesz a feladatátvételi és a feladat-visszavétel üzemeltetési eljárásokat.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-114">You will need operational procedures to handle failover and failback.</span></span> <span data-ttu-id="f1fcf-115">A további költségek és az egyes üzleti forgatókönyvek és mások számára nem indokolt lehet.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-115">The additional cost and complexity might be justified for some business scenarios and not others.</span></span>

<span data-ttu-id="f1fcf-116">**Helyi virtuális gép egy terheléselosztó mögött**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-116">**Place VMs behind a load balancer**.</span></span> <span data-ttu-id="f1fcf-117">Egyetlen virtuális gép ne használjon a kritikus fontosságú munkaterhelésekhez.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-117">Don't use a single VM for mission-critical workloads.</span></span> <span data-ttu-id="f1fcf-118">Ehelyett a több virtuális gép egy terheléselosztó mögött elhelyezni.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-118">Instead, place multiple VMs behind a load balancer.</span></span> <span data-ttu-id="f1fcf-119">Ha a virtuális gép nem érhető el, a terheléselosztó osztja el a forgalmat a fennmaradó kifogástalan állapotú virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-119">If any VM becomes unavailable, the load balancer distributes traffic to the remaining healthy VMs.</span></span> <span data-ttu-id="f1fcf-120">Ez a konfiguráció központi telepítéséről további tudnivalókért lásd: [több virtuális géphez, amely méretezhetőséget és a rendelkezésre állási][multi-vm-blueprint].</span><span class="sxs-lookup"><span data-stu-id="f1fcf-120">To learn how to deploy this configuration, see [Multiple VMs for scalability and availability][multi-vm-blueprint].</span></span>

![](./images/load-balancing.svg)

<span data-ttu-id="f1fcf-121">**Adatbázisok replikálása**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-121">**Replicate databases**.</span></span> <span data-ttu-id="f1fcf-122">Az Azure SQL Database és Cosmos DB automatikusan replikálja az adatokat a régión belül, és engedélyezheti a georeplikáció régiók között.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-122">Azure SQL Database and Cosmos DB automatically replicate the data within a region, and you can enable geo-replication across regions.</span></span> <span data-ttu-id="f1fcf-123">Ha egy infrastruktúra-szolgáltatási adatbázis megoldást használ, válasszon egyet, amely támogatja a replikációt és feladatátvételt, például a [SQL Server Always On rendelkezésre állási csoportok][sql-always-on].</span><span class="sxs-lookup"><span data-stu-id="f1fcf-123">If you are using an IaaS database solution, choose one that supports replication and failover, such as [SQL Server Always On Availability Groups][sql-always-on].</span></span> 

<span data-ttu-id="f1fcf-124">**A georeplikáció engedélyezéséhez**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-124">**Enable geo-replication**.</span></span> <span data-ttu-id="f1fcf-125">A georeplikáció [Azure SQL Database] [ sql-geo-replication] és [Cosmos DB] [ docdb-geo-replication] hozza létre, egy vagy több másodlagos olvasható replika adatait másodlagos régióban.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-125">Geo-replication for [Azure SQL Database][sql-geo-replication] and [Cosmos DB][docdb-geo-replication] creates secondary readable replicas of your data in one or more secondary regions.</span></span> <span data-ttu-id="f1fcf-126">Nem tervezett kimaradás esetén az adatbázis átveheti a másodlagos régióba az írásokhoz.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-126">In the event of an outage, the database can fail over to the secondary region for writes.</span></span>

<span data-ttu-id="f1fcf-127">**A rendelkezésre állás érdekében partíció**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-127">**Partition for availability**.</span></span> <span data-ttu-id="f1fcf-128">Adatbázis particionálási gyakran használják a méretezhetőség javítása érdekében, de azt is tovább fejlesztheti rendelkezésre állását.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-128">Database partitioning is often used to improve scalability, but it can also improve availability.</span></span> <span data-ttu-id="f1fcf-129">Ha egy shard leáll, a más szilánkok továbbra is elérhetők.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-129">If one shard goes down, the other shards can still be reached.</span></span> <span data-ttu-id="f1fcf-130">Egy shard hibája miatt csak megszakítja majd a teljes tranzakció egy részét.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-130">A failure in one shard will only disrupt a subset of the total transactions.</span></span> 

<span data-ttu-id="f1fcf-131">**Egynél több régióban telepítendő**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-131">**Deploy to more than one region**.</span></span> <span data-ttu-id="f1fcf-132">A legnagyobb rendelkezésre állást, az csak egy régió az alkalmazást telepíti.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-132">For the highest availability, deploy the application to more than one region.</span></span> <span data-ttu-id="f1fcf-133">Ily módon a ritka eset, amikor probléma hatással van egy teljes terület, az alkalmazás átveheti egy másik régióban.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-133">That way, in the rare case when a problem affects an entire region, the application can fail over to another region.</span></span> <span data-ttu-id="f1fcf-134">Az alábbi ábrán egy több területi alkalmazás Azure Traffic Manager feladatátvételi kezelésére.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-134">The following diagram shows a multi-region application that uses Azure Traffic Manager to handle failover.</span></span>

![](images/failover.svg)

<span data-ttu-id="f1fcf-135">**Előtér / háttér feladatátvételi szinkronizálása**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-135">**Synchronize front and backend failover**.</span></span> <span data-ttu-id="f1fcf-136">Azure Traffic Manager használatával az előtér feladatátvételt.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-136">Use Azure Traffic Manager to fail over the front end.</span></span> <span data-ttu-id="f1fcf-137">Ha egyetlen előtér nem érhető el, a Traffic Manager átirányítja az új kérelmek a másodlagos régióba.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-137">If the front end becomes unreachable in one region, Traffic Manager will route new requests to the secondary region.</span></span> <span data-ttu-id="f1fcf-138">Az adatbázis-megoldásától függően szükség lehet koordinálja az adatbázis feladatátvétele.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-138">Depending on your database solution, you may need to coordinate failing over the database.</span></span> 

<span data-ttu-id="f1fcf-139">**Használja az Automatikus feladatátvétel, de manuális feladat-visszavétel**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-139">**Use automatic failover but manual failback**.</span></span> <span data-ttu-id="f1fcf-140">Automatikus feladatátvétel, de nem automatikus feladat-visszavétel a Traffic Manager használata.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-140">Use Traffic Manager for automatic failover, but not for automatic failback.</span></span> <span data-ttu-id="f1fcf-141">Automatikus feladat-visszavétel hordoz magában, ha fennáll a kockázata, akkor előfordulhat, hogy váltson át az elsődleges régióban, mielőtt a régióban teljesen kifogástalan.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-141">Automatic failback carries a risk that you might switch to the primary region before the region is completely healthy.</span></span> <span data-ttu-id="f1fcf-142">Ehelyett ellenőrizze, hogy minden alkalmazás alrendszer kifogástalan előtt manuálisan visszavétele.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-142">Instead, verify that all application subsystems are healthy before manually failing back.</span></span> <span data-ttu-id="f1fcf-143">Is attól függően, hogy az adatbázis szükség lehet Adatkonzisztencia ellenőrzése előtt vissza sikertelenek lesznek.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-143">Also, depending on the database, you might need to check data consistency before failing back.</span></span>

<span data-ttu-id="f1fcf-144">**A Traffic Manager közé tartozik a redundancia**.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-144">**Include redundancy for Traffic Manager**.</span></span> <span data-ttu-id="f1fcf-145">A TRAFFIC Manager ponttá lehetséges hiba.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-145">Traffic Manager is a possible failure point.</span></span> <span data-ttu-id="f1fcf-146">Tekintse át a Traffic Manager SLA-t, és határozza meg, hogy kizárólag a Traffic Manager segítségével megfelel-e az üzleti követelményeinek, a magas rendelkezésre állás érdekében.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-146">Review the Traffic Manager SLA, and determine whether using Traffic Manager alone meets your business requirements for high availability.</span></span> <span data-ttu-id="f1fcf-147">Ha nem, akkor vegyen fel egy másik forgalom felügyeleti megoldás, a feladat-visszavételre.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-147">If not, consider adding another traffic management solution as a failback.</span></span> <span data-ttu-id="f1fcf-148">Ha az Azure Traffic Manager szolgáltatás nem sikerül, módosítsa a CNAME rekordot a DNS-ben, hogy a többi felügyeleti szolgálat mutasson.</span><span class="sxs-lookup"><span data-stu-id="f1fcf-148">If the Azure Traffic Manager service fails, change your CNAME records in DNS to point to the other traffic management service.</span></span>



<!-- links -->

[multi-vm-blueprint]: ../../reference-architectures/virtual-machines-windows/multi-vm.md

[cassandra]: http://cassandra.apache.org/
[docdb-geo-replication]: /azure/documentdb/documentdb-distribute-data-globally
[sql-always-on]: https://msdn.microsoft.com/library/hh510230.aspx
[sql-geo-replication]: /azure/sql-database/sql-database-geo-replication-overview
