---
title: "Bővíteni. terv"
description: "A horizontális skálázás úgy kell megtervezni a felhőalapú alkalmazásokhoz."
author: MikeWasson
layout: LandingPage
ms.openlocfilehash: 8f9b3e99a53f5941f708b0de124f37e6ff7e5ab2
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="design-to-scale-out"></a><span data-ttu-id="b80ce-103">Bővíteni. terv</span><span class="sxs-lookup"><span data-stu-id="b80ce-103">Design to scale out</span></span>

## <a name="design-your-application-so-that-it-can-scale-horizontally"></a><span data-ttu-id="b80ce-104">Az alkalmazás, hogy azt horizontálisan méretezhető. terv</span><span class="sxs-lookup"><span data-stu-id="b80ce-104">Design your application so that it can scale horizontally</span></span>

<span data-ttu-id="b80ce-105">Egy elsődleges felhő előnye a rugalmas méretezést &mdash; mértékű kapacitás szükség szerint, a betöltés növekedése kiterjesztése, és ha a plusz kapacitást nincs szükség a méretezés használhatja.</span><span class="sxs-lookup"><span data-stu-id="b80ce-105">A primary advantage of the cloud is elastic scaling &mdash; the ability to use as much capacity as you need, scaling out as load increases, and scaling in when the extra capacity is not needed.</span></span> <span data-ttu-id="b80ce-106">Az alkalmazás tervezze meg, hogy azt horizontálisan méretezhető, hozzáadásával vagy eltávolításával új példányok, igény szerint van szüksége.</span><span class="sxs-lookup"><span data-stu-id="b80ce-106">Design your application so that it can scale horizontally, adding or removing new instances as demand requires.</span></span>

## <a name="recommendations"></a><span data-ttu-id="b80ce-107">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="b80ce-107">Recommendations</span></span>

<span data-ttu-id="b80ce-108">**Példány tölcsérútvonalak elkerülése**.</span><span class="sxs-lookup"><span data-stu-id="b80ce-108">**Avoid instance stickiness**.</span></span> <span data-ttu-id="b80ce-109">Tölcsérútvonalak, vagy *munkamenet affinitás*, ha ugyanazt az ügyfelet érkező kérelmeket a rendszer mindig irányítja át ugyanazon a kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="b80ce-109">Stickiness, or *session affinity*, is when requests from the same client are always routed to the same server.</span></span> <span data-ttu-id="b80ce-110">Tölcsérútvonalak korlátozza az alkalmazás képes kiterjesztése. Például a nagy mennyiségű felhasználó érkező forgalom nem lesz elérhető példányok között.</span><span class="sxs-lookup"><span data-stu-id="b80ce-110">Stickiness limits the application's ability to scale out. For example, traffic from a high-volume user will not be distributed across instances.</span></span> <span data-ttu-id="b80ce-111">Tölcsérútvonalak okai a munkamenet-állapot tárolása a memóriában, és a számítógép-specifikus kulcsok használatát a titkosításhoz.</span><span class="sxs-lookup"><span data-stu-id="b80ce-111">Causes of stickiness include storing session state in memory, and using machine-specific keys for encryption.</span></span> <span data-ttu-id="b80ce-112">Győződjön meg arról, hogy bármely példányok kezelik a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="b80ce-112">Make sure that any instance can handle any request.</span></span> 

<span data-ttu-id="b80ce-113">**Szűk keresztmetszetek azonosítása**.</span><span class="sxs-lookup"><span data-stu-id="b80ce-113">**Identify bottlenecks**.</span></span> <span data-ttu-id="b80ce-114">Minden teljesítményprobléma magic javítása kiterjesztése nem található.</span><span class="sxs-lookup"><span data-stu-id="b80ce-114">Scaling out isn't a magic fix for every performance issue.</span></span> <span data-ttu-id="b80ce-115">Például a szűk keresztmetszetek háttérbeli adatbázis esetén nem segítséget webkiszolgálókat hozzáadni.</span><span class="sxs-lookup"><span data-stu-id="b80ce-115">For example, if your backend database is the bottleneck, it won't help to add more web servers.</span></span> <span data-ttu-id="b80ce-116">Azonosítani és megoldani a szűk keresztmetszetek a rendszer először előtt több példány volt, a problémát.</span><span class="sxs-lookup"><span data-stu-id="b80ce-116">Identify and resolve the bottlenecks in the system first, before throwing more instances at the problem.</span></span> <span data-ttu-id="b80ce-117">A rendszer állapot-nyilvántartó részei ennek legvalószínűbb oka szűk keresztmetszetek.</span><span class="sxs-lookup"><span data-stu-id="b80ce-117">Stateful parts of the system are the most likely cause of bottlenecks.</span></span> 

<span data-ttu-id="b80ce-118">**Munkaterhelések felbontani által méretezhetőségi követelményeinek.**</span><span class="sxs-lookup"><span data-stu-id="b80ce-118">**Decompose workloads by scalability requirements.**</span></span>  <span data-ttu-id="b80ce-119">Alkalmazások gyakran több munkaterhelés méretezéshez eltérő követelmények állnak.</span><span class="sxs-lookup"><span data-stu-id="b80ce-119">Applications often consist of multiple workloads, with different requirements for scaling.</span></span> <span data-ttu-id="b80ce-120">Egy alkalmazás Előfordulhat például, egy nyilvánosan elérhető és egy különálló felügyeleti hely.</span><span class="sxs-lookup"><span data-stu-id="b80ce-120">For example, an application might have a public-facing site and a separate administration site.</span></span> <span data-ttu-id="b80ce-121">A nyilvános webhely problémákat tapasztalhat a forgalmat, hirtelen emelkedéseit, míg a felügyeleti webhely kisebb, kiszámíthatóbb terhelést.</span><span class="sxs-lookup"><span data-stu-id="b80ce-121">The public site may experience sudden surges in traffic, while the administration site has a smaller, more predictable load.</span></span> 

<span data-ttu-id="b80ce-122">**Erőforrás-igényes feladatok kiszervezése.**</span><span class="sxs-lookup"><span data-stu-id="b80ce-122">**Offload resource-intensive tasks.**</span></span> <span data-ttu-id="b80ce-123">Nagy mennyiségű Processzor- vagy i/o-erőforrások igénylő feladatokat kell áthelyezni [feladatok háttérben] [ background-jobs] Ha lehetséges, a terhelés, amely kezeli a felhasználói kérelmek kezelőfelületre minimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="b80ce-123">Tasks that require a lot of CPU or I/O resources should be moved to [background jobs][background-jobs] when possible, to minimize the load on the front end that is handling user requests.</span></span>

<span data-ttu-id="b80ce-124">**Beépített automatikus skálázás használatát**.</span><span class="sxs-lookup"><span data-stu-id="b80ce-124">**Use built-in autoscaling features**.</span></span> <span data-ttu-id="b80ce-125">Sok Azure számítási szolgáltatás kell beépített az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="b80ce-125">Many Azure compute services have built-in support for autoscaling.</span></span> <span data-ttu-id="b80ce-126">Ha az alkalmazás egy előre jelezhető, rendszeres munkaterhelés, horizontális felskálázás ütemezés szerint.</span><span class="sxs-lookup"><span data-stu-id="b80ce-126">If the application has a predictable, regular workload, scale out on a schedule.</span></span> <span data-ttu-id="b80ce-127">Például kibővítési munkaidőben.</span><span class="sxs-lookup"><span data-stu-id="b80ce-127">For example, scale out during business hours.</span></span> <span data-ttu-id="b80ce-128">Ellenkező esetben ha a munkaterhelés nem előre jelezhető, akkor teljesítménymutatók, például a Processzor- vagy kérelem várólistájának hossza való automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="b80ce-128">Otherwise, if the workload is not predictable, use performance metrics such as CPU or request queue length to trigger autoscaling.</span></span> <span data-ttu-id="b80ce-129">Ajánlott eljárások automatikus skálázást, lásd: [automatikus skálázás][autoscaling].</span><span class="sxs-lookup"><span data-stu-id="b80ce-129">For autoscaling best practices, see [Autoscaling][autoscaling].</span></span>

<span data-ttu-id="b80ce-130">**Fontolja meg a kritikus munkaterhelésekhez agresszív automatikus skálázás**.</span><span class="sxs-lookup"><span data-stu-id="b80ce-130">**Consider aggressive autoscaling for critical workloads**.</span></span> <span data-ttu-id="b80ce-131">A kritikus fontosságú munkaterhelésekhez meg szeretné tartani az igény szerinti előre.</span><span class="sxs-lookup"><span data-stu-id="b80ce-131">For critical workloads, you want to keep ahead of demand.</span></span> <span data-ttu-id="b80ce-132">Érdemes gyorsan számára a további forgalom kezelésére, és fokozatosan méretezését vissza túl nagy terhelés alatt új példányok felvételéhez.</span><span class="sxs-lookup"><span data-stu-id="b80ce-132">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

<span data-ttu-id="b80ce-133">**Terv a skála**.</span><span class="sxs-lookup"><span data-stu-id="b80ce-133">**Design for scale in**.</span></span>  <span data-ttu-id="b80ce-134">Ne feledje, hogy a rugalmasan méretezhető, az alkalmazás időszakok skála, amikor példányok beolvasása törölni kell.</span><span class="sxs-lookup"><span data-stu-id="b80ce-134">Remember that with elastic scale, the application will have periods of scale in, when instances get removed.</span></span> <span data-ttu-id="b80ce-135">Az alkalmazás kell kezelésére eltávolítani kívánt példányokat.</span><span class="sxs-lookup"><span data-stu-id="b80ce-135">The application must gracefully handle instances being removed.</span></span> <span data-ttu-id="b80ce-136">Az alábbiakban néhány scalein kezelésének módját:</span><span class="sxs-lookup"><span data-stu-id="b80ce-136">Here are some ways to handle scalein:</span></span>

- <span data-ttu-id="b80ce-137">Figyelés a leállítási események (ha elérhető) és a leállítási áramtalanították.</span><span class="sxs-lookup"><span data-stu-id="b80ce-137">Listen for shutdown events (when available) and shut down cleanly.</span></span> 
- <span data-ttu-id="b80ce-138">Ügyfelek, fogyasztók szolgáltatás kell kezelni átmeneti hiba, és próbálkozzon újra.</span><span class="sxs-lookup"><span data-stu-id="b80ce-138">Clients/consumers of a service should support transient fault handling and retry.</span></span> 
- <span data-ttu-id="b80ce-139">Hosszan futó feladatokat, fontolja meg a munkahelyi, az ellenőrzőpontok használatával összeállításának vagy a [Kiszolgálókészletéhez, és a szűrők] [ pipes-filters-pattern] mintát.</span><span class="sxs-lookup"><span data-stu-id="b80ce-139">For long-running tasks, consider breaking up the work, using checkpoints or the [Pipes and Filters][pipes-filters-pattern] pattern.</span></span> 
- <span data-ttu-id="b80ce-140">Elhelyezése munkaelemek várólistát, hogy egy másik példánya is onnan folytathatja az adatgyűjtést a munkahelyi példány közepén feldolgozási eltávolításakor.</span><span class="sxs-lookup"><span data-stu-id="b80ce-140">Put work items on a queue so that another instance can pick up the work, if an instance is removed in the middle of processing.</span></span> 


<!-- links -->

[autoscaling]: ../../best-practices/auto-scaling.md
[background-jobs]: ../../best-practices/background-jobs.md
[pipes-filters-pattern]: ../../patterns/pipes-and-filters.md
