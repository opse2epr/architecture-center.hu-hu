---
title: Tervezés a változás szolgálatában
titleSuffix: Azure Application Architecture Guide
description: A fejlődést szem előtt tartó tervezés kulcsfontosságú a folyamatos innováció szempontjából.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 4a1ed92f70660f16c07b4b472c3ef358af4319c9
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54481745"
---
# <a name="design-for-evolution"></a><span data-ttu-id="e07c6-103">Tervezzen a fejlődést szem előtt tartva</span><span class="sxs-lookup"><span data-stu-id="e07c6-103">Design for evolution</span></span>

## <a name="an-evolutionary-design-is-key-for-continuous-innovation"></a><span data-ttu-id="e07c6-104">A fejlődést szem előtt tartó tervezés kulcsfontosságú a folyamatos innováció szempontjából</span><span class="sxs-lookup"><span data-stu-id="e07c6-104">An evolutionary design is key for continuous innovation</span></span>

<span data-ttu-id="e07c6-105">Idővel minden sikeres alkalmazás változásokon esik át, aminek például hibajavítás, funkcióbővítés, új technológiák bevezetése vagy a meglévő rendszerek méretezhetőbbé és rugalmasabbá tétele lehet az oka.</span><span class="sxs-lookup"><span data-stu-id="e07c6-105">All successful applications change over time, whether to fix bugs, add new features, bring in new technologies, or make existing systems more scalable and resilient.</span></span> <span data-ttu-id="e07c6-106">Ha egy alkalmazás minden része szoros kapcsolatban áll egymással, az nagyon nehézzé teszi a rendszer módosítását.</span><span class="sxs-lookup"><span data-stu-id="e07c6-106">If all the parts of an application are tightly coupled, it becomes very hard to introduce changes into the system.</span></span> <span data-ttu-id="e07c6-107">Az alkalmazás egyik részének a módosítása működésképtelenné tehet egy másik részt, vagy a teljes kódbázist érintő változásokkal járhat.</span><span class="sxs-lookup"><span data-stu-id="e07c6-107">A change in one part of the application may break another part, or cause changes to ripple through the entire codebase.</span></span>

<span data-ttu-id="e07c6-108">Ez a probléma nem korlátozódik a monolitikus alkalmazásokra.</span><span class="sxs-lookup"><span data-stu-id="e07c6-108">This problem is not limited to monolithic applications.</span></span> <span data-ttu-id="e07c6-109">Egy alkalmazás, hiába választható szét különböző szolgáltatásokra, továbbra is mutathatja azt a fajta szoros összekapcsolódást, ami merevvé és törékennyé teszi a rendszert.</span><span class="sxs-lookup"><span data-stu-id="e07c6-109">An application can be decomposed into services, but still exhibit the sort of tight coupling that leaves the system rigid and brittle.</span></span> <span data-ttu-id="e07c6-110">Ha azonban a szolgáltatásokat a fejlődés szem előtt tartásával tervezik, a csapatok előállhatnak innovatív megoldásokkal, és folyamatosan gondoskodhatnak az új funkciók bevezetéséről.</span><span class="sxs-lookup"><span data-stu-id="e07c6-110">But when services are designed to evolve, teams can innovate and continuously deliver new features.</span></span>

<span data-ttu-id="e07c6-111">Mikroszolgáltatás-alapú népszerű révén megvalósítható az evolúciós tervezési egyre, mivel azok cím az itt felsorolt szempontok nagy része.</span><span class="sxs-lookup"><span data-stu-id="e07c6-111">Microservices are becoming a popular way to achieve an evolutionary design, because they address many of the considerations listed here.</span></span>

## <a name="recommendations"></a><span data-ttu-id="e07c6-112">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="e07c6-112">Recommendations</span></span>

<span data-ttu-id="e07c6-113">**Törekvés a nagyfokú kohézióra és a laza kapcsolódásokra**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-113">**Enforce high cohesion and loose coupling**.</span></span> <span data-ttu-id="e07c6-114">A szolgáltatás akkor jellemezhető *kohézióval*, ha logikailag összetartozó funkciókat biztosít.</span><span class="sxs-lookup"><span data-stu-id="e07c6-114">A service is *cohesive* if it provides functionality that logically belongs together.</span></span> <span data-ttu-id="e07c6-115">A szolgáltatások akkor *kapcsolódnak lazán*, ha az egyik szolgáltatás módosítása nem jár együtt egy másik módosításával.</span><span class="sxs-lookup"><span data-stu-id="e07c6-115">Services are *loosely coupled* if you can change one service without changing the other.</span></span> <span data-ttu-id="e07c6-116">A nagyfokú kohézió általában azt eredményezi, hogy egy funkció változtatásai a többi kapcsolódó funkció módosítását is szükségessé teszik.</span><span class="sxs-lookup"><span data-stu-id="e07c6-116">High cohesion generally means that changes in one function will require changes in other related functions.</span></span> <span data-ttu-id="e07c6-117">Ha úgy látja, hogy egy szolgáltatás frissítése a többi szolgáltatás összehangolt frissítését kívánja meg, az annak a jele lehet, hogy nincs kohézió a szolgáltatások között.</span><span class="sxs-lookup"><span data-stu-id="e07c6-117">If you find that updating a service requires coordinated updates to other services, it may be a sign that your services are not cohesive.</span></span> <span data-ttu-id="e07c6-118">A célja a tartományvezérelt tervezési (DDD) egyik ezeken a határokon belül azonosításához.</span><span class="sxs-lookup"><span data-stu-id="e07c6-118">One of the goals of domain-driven design (DDD) is to identify those boundaries.</span></span>

<span data-ttu-id="e07c6-119">**Környezettel kapcsolatos ismeretek beépítése**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-119">**Encapsulate domain knowledge**.</span></span> <span data-ttu-id="e07c6-120">Amikor egy ügyfél egy szolgáltatást használ, az adott környezetre (tartományra, területre) vonatkozó üzleti szabályok érvényesítésének felelőssége nem hárulhat az ügyfélre.</span><span class="sxs-lookup"><span data-stu-id="e07c6-120">When a client consumes a service, the responsibility for enforcing the business rules of the domain should not fall on the client.</span></span> <span data-ttu-id="e07c6-121">Ehelyett a szolgáltatásnak kell magában foglalnia a környezettel kapcsolatos mindazon ismereteket, amelyek a felelősségi körébe tartoznak.</span><span class="sxs-lookup"><span data-stu-id="e07c6-121">Instead, the service should encapsulate all of the domain knowledge that falls under its responsibility.</span></span> <span data-ttu-id="e07c6-122">Ennek hiányában minden egyes ügyfélnek érvényesítenie kell az üzleti szabályokat, aminek az lesz az eredménye, hogy a környezettel kapcsolatos ismeretek szétoszlanak az alkalmazás különböző részei között.</span><span class="sxs-lookup"><span data-stu-id="e07c6-122">Otherwise, every client has to enforce the business rules, and you end up with domain knowledge spread across different parts of the application.</span></span>

<span data-ttu-id="e07c6-123">**Aszinkron üzenetkezelés használata**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-123">**Use asynchronous messaging**.</span></span> <span data-ttu-id="e07c6-124">Az aszinkron üzenetkezelés lehetővé teszi az üzenet előállítójának elkülönítését az üzenet feldolgozójától.</span><span class="sxs-lookup"><span data-stu-id="e07c6-124">Asynchronous messaging is a way to decouple the message producer from the consumer.</span></span> <span data-ttu-id="e07c6-125">Az előállító nem függ az üzenetre válaszoló vagy adott műveletet végrehajtó feldolgozótól.</span><span class="sxs-lookup"><span data-stu-id="e07c6-125">The producer does not depend on the consumer responding to the message or taking any particular action.</span></span> <span data-ttu-id="e07c6-126">Közzétevői/előfizetői architektúra esetén az előállító adott esetben azt sem fogja tudni, hogy ki az üzenet felhasználója.</span><span class="sxs-lookup"><span data-stu-id="e07c6-126">With a pub/sub architecture, the producer may not even know who is consuming the message.</span></span> <span data-ttu-id="e07c6-127">Az új szolgáltatások egyszerűen használhatják fel az üzeneteket, az előállító bármiféle módosítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="e07c6-127">New services can easily consume the messages without any modifications to the producer.</span></span>

<span data-ttu-id="e07c6-128">**A környezettel kapcsolatos ismeretek átjáróba való beépítésének mellőzése**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-128">**Don't build domain knowledge into a gateway**.</span></span> <span data-ttu-id="e07c6-129">Az átjárók hasznosak lehetnek a mikroszolgáltatásokra épülő architektúrában, ha útválasztásról, protokollfordításról, terheléselosztásról vagy hitelesítésről van szó.</span><span class="sxs-lookup"><span data-stu-id="e07c6-129">Gateways can be useful in a microservices architecture, for things like request routing, protocol translation, load balancing, or authentication.</span></span> <span data-ttu-id="e07c6-130">Az átjárókat azonban korlátozni kell az ilyen jellegű infrastrukturális funkciók ellátására.</span><span class="sxs-lookup"><span data-stu-id="e07c6-130">However, the gateway should be restricted to this sort of infrastructure functionality.</span></span> <span data-ttu-id="e07c6-131">Nem foglalhatnak magukban a környezettel kapcsolatos ismereteket, ha el szeretnénk kerülni a túlzott függőséget.</span><span class="sxs-lookup"><span data-stu-id="e07c6-131">It should not implement any domain knowledge, to avoid becoming a heavy dependency.</span></span>

<span data-ttu-id="e07c6-132">**Nyílt felületek közzététele**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-132">**Expose open interfaces**.</span></span> <span data-ttu-id="e07c6-133">Kerülje a szolgáltatások között található egyéni fordítási rétegek létrehozását.</span><span class="sxs-lookup"><span data-stu-id="e07c6-133">Avoid creating custom translation layers that sit between services.</span></span> <span data-ttu-id="e07c6-134">A szolgáltatásoknak ehelyett egy jól meghatározott API-egyezménnyel rendelkező API-t kell közzétenniük.</span><span class="sxs-lookup"><span data-stu-id="e07c6-134">Instead, a service should expose an API with a well-defined API contract.</span></span> <span data-ttu-id="e07c6-135">Az API-nak rendelkeznie kell verziószámmal, hogy tovább lehessen fejleszteni a visszamenőleges kompatibilitás megtartása mellett.</span><span class="sxs-lookup"><span data-stu-id="e07c6-135">The API should be versioned, so that you can evolve the API while maintaining backward compatibility.</span></span> <span data-ttu-id="e07c6-136">Így a szolgáltatásokat a tőlük függő felsőbb szintű szolgáltatások összehangolt frissítése nélkül frissítheti.</span><span class="sxs-lookup"><span data-stu-id="e07c6-136">That way, you can update a service without coordinating updates to all of the upstream services that depend on it.</span></span> <span data-ttu-id="e07c6-137">A nyilvános szolgáltatásoknak egy RESTful API-t kell közzétenniük HTTP-n keresztül.</span><span class="sxs-lookup"><span data-stu-id="e07c6-137">Public facing services should expose a RESTful API over HTTP.</span></span> <span data-ttu-id="e07c6-138">Teljesítménybeli megfontolásokból a háttérszolgáltatások használhatnak RPC stílusú üzenetkezelési protokollt.</span><span class="sxs-lookup"><span data-stu-id="e07c6-138">Backend services might use an RPC-style messaging protocol for performance reasons.</span></span>

<span data-ttu-id="e07c6-139">**Tervezés és tesztelés szolgáltatási szerződések alapján**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-139">**Design and test against service contracts**.</span></span> <span data-ttu-id="e07c6-140">Ha a szolgáltatások jól meghatározott API-kat tesznek közzé, azok a fejlesztés és tesztelés alapjául szolgálhatnak.</span><span class="sxs-lookup"><span data-stu-id="e07c6-140">When services expose well-defined APIs, you can develop and test against those APIs.</span></span> <span data-ttu-id="e07c6-141">Így egy adott szolgáltatás fejlesztéséhez és teszteléséhez a tőle függő szolgáltatásokat nem kell felpörgetnie.</span><span class="sxs-lookup"><span data-stu-id="e07c6-141">That way, you can develop and test an individual service without spinning up all of its dependent services.</span></span> <span data-ttu-id="e07c6-142">(Az integrálást és a terheléstesztelést természetesen továbbra is a tényleges szolgáltatásokon kell végrehajtani.)</span><span class="sxs-lookup"><span data-stu-id="e07c6-142">(Of course, you would still perform integration and load testing against the real services.)</span></span>

<span data-ttu-id="e07c6-143">**Infrastruktúra elválasztása az üzleti logikától**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-143">**Abstract infrastructure away from domain logic**.</span></span> <span data-ttu-id="e07c6-144">Nem ajánlott keverni az üzleti logikát az infrastruktúrához kapcsolódó funkciókkal, például az üzenetkezeléssel vagy az adatmegőrzéssel.</span><span class="sxs-lookup"><span data-stu-id="e07c6-144">Don't let domain logic get mixed up with infrastructure-related functionality, such as messaging or persistence.</span></span> <span data-ttu-id="e07c6-145">Ha ezeket nem különíti el, az üzleti logika módosításai az infrastruktúrarétegek frissítését is szükségessé teszik, és fordítva.</span><span class="sxs-lookup"><span data-stu-id="e07c6-145">Otherwise, changes in the domain logic will require updates to the infrastructure layers and vice versa.</span></span>

<span data-ttu-id="e07c6-146">**Azonos szerepet betöltő funkciók külön szolgáltatásba foglalása**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-146">**Offload cross-cutting concerns to a separate service**.</span></span> <span data-ttu-id="e07c6-147">Ha például több szolgáltatásnak is kell kéréseket hitelesítenie, ezt a funkciót egy külön szolgáltatásba helyezheti át.</span><span class="sxs-lookup"><span data-stu-id="e07c6-147">For example, if several services need to authenticate requests, you could move this functionality into its own service.</span></span> <span data-ttu-id="e07c6-148">A hitelesítési szolgáltatást ezután az azt használó többi szolgáltatás módosítása nélkül is fejlesztheti, például új hitelesítési folyamat hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="e07c6-148">Then you could evolve the authentication service &mdash; for example, by adding a new authentication flow &mdash; without touching any of the services that use it.</span></span>

<span data-ttu-id="e07c6-149">**A szolgáltatások egymástól független üzembe helyezése**.</span><span class="sxs-lookup"><span data-stu-id="e07c6-149">**Deploy services independently**.</span></span> <span data-ttu-id="e07c6-150">Ha a fejlesztési és üzemeltetési csapat az alkalmazás többi szolgáltatásától függetlenül helyezhet üzembe egy adott szolgáltatást, a frissítéseket gyorsabban és biztonságosabban lehet végrehajtani.</span><span class="sxs-lookup"><span data-stu-id="e07c6-150">When the DevOps team can deploy a single service independently of other services in the application, updates can happen more quickly and safely.</span></span> <span data-ttu-id="e07c6-151">A hibajavításokra és az új funkciók bevezetésére gyorsabb ütemben kerülhet sor.</span><span class="sxs-lookup"><span data-stu-id="e07c6-151">Bug fixes and new features can be rolled out at a more regular cadence.</span></span> <span data-ttu-id="e07c6-152">Tervezéskor ügyeljen arra, hogy az alkalmazás és a kibocsátási folyamat egyaránt támogassa a független frissítéseket.</span><span class="sxs-lookup"><span data-stu-id="e07c6-152">Design both the application and the release process to support independent updates.</span></span>
