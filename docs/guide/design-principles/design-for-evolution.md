---
title: Tervezés a változás szolgálatában
description: A fejlődést szem előtt tartó tervezés kulcsfontosságú a folyamatos innováció szempontjából.
author: MikeWasson
ms.date: 08/30/2018
ms.openlocfilehash: bbd5699e257663514cf7bb8b856fe35f51799c73
ms.sourcegitcommit: ae8a1de6f4af7a89a66a8339879843d945201f85
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/31/2018
ms.locfileid: "43325706"
---
# <a name="design-for-evolution"></a><span data-ttu-id="93c2a-103">Tervezzen a fejlődést szem előtt tartva</span><span class="sxs-lookup"><span data-stu-id="93c2a-103">Design for evolution</span></span>

## <a name="an-evolutionary-design-is-key-for-continuous-innovation"></a><span data-ttu-id="93c2a-104">A fejlődést szem előtt tartó tervezés kulcsfontosságú a folyamatos innováció szempontjából</span><span class="sxs-lookup"><span data-stu-id="93c2a-104">An evolutionary design is key for continuous innovation</span></span>

<span data-ttu-id="93c2a-105">Idővel minden sikeres alkalmazás változásokon esik át, aminek például hibajavítás, funkcióbővítés, új technológiák bevezetése vagy a meglévő rendszerek méretezhetőbbé és rugalmasabbá tétele lehet az oka.</span><span class="sxs-lookup"><span data-stu-id="93c2a-105">All successful applications change over time, whether to fix bugs, add new features, bring in new technologies, or make existing systems more scalable and resilient.</span></span> <span data-ttu-id="93c2a-106">Ha egy alkalmazás minden része szoros kapcsolatban áll egymással, az nagyon nehézzé teszi a rendszer módosítását.</span><span class="sxs-lookup"><span data-stu-id="93c2a-106">If all the parts of an application are tightly coupled, it becomes very hard to introduce changes into the system.</span></span> <span data-ttu-id="93c2a-107">Az alkalmazás egyik részének a módosítása működésképtelenné tehet egy másik részt, vagy a teljes kódbázist érintő változásokkal járhat.</span><span class="sxs-lookup"><span data-stu-id="93c2a-107">A change in one part of the application may break another part, or cause changes to ripple through the entire codebase.</span></span>

<span data-ttu-id="93c2a-108">Ez a probléma nem korlátozódik a monolitikus alkalmazásokra.</span><span class="sxs-lookup"><span data-stu-id="93c2a-108">This problem is not limited to monolithic applications.</span></span> <span data-ttu-id="93c2a-109">Egy alkalmazás, hiába választható szét különböző szolgáltatásokra, továbbra is mutathatja azt a fajta szoros összekapcsolódást, ami merevvé és törékennyé teszi a rendszert.</span><span class="sxs-lookup"><span data-stu-id="93c2a-109">An application can be decomposed into services, but still exhibit the sort of tight coupling that leaves the system rigid and brittle.</span></span> <span data-ttu-id="93c2a-110">Ha azonban a szolgáltatásokat a fejlődés szem előtt tartásával tervezik, a csapatok előállhatnak innovatív megoldásokkal, és folyamatosan gondoskodhatnak az új funkciók bevezetéséről.</span><span class="sxs-lookup"><span data-stu-id="93c2a-110">But when services are designed to evolve, teams can innovate and continuously deliver new features.</span></span> 

<span data-ttu-id="93c2a-111">A mikroszolgáltatások a fejlődésközpontú tervezés megvalósításának egyre népszerűbb módjává válnak, mert választ nyújtanak az itt említett problémák többségére.</span><span class="sxs-lookup"><span data-stu-id="93c2a-111">Microservices are becoming a popular way to achieve an evolutonary design, because they address many of the considerations listed here.</span></span>

## <a name="recommendations"></a><span data-ttu-id="93c2a-112">Javaslatok</span><span class="sxs-lookup"><span data-stu-id="93c2a-112">Recommendations</span></span>

<span data-ttu-id="93c2a-113">**Törekvés a nagyfokú kohézióra és a laza kapcsolódásokra**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-113">**Enforce high cohesion and loose coupling**.</span></span> <span data-ttu-id="93c2a-114">A szolgáltatás akkor jellemezhető *kohézióval*, ha logikailag összetartozó funkciókat biztosít.</span><span class="sxs-lookup"><span data-stu-id="93c2a-114">A service is *cohesive* if it provides functionality that logically belongs together.</span></span> <span data-ttu-id="93c2a-115">A szolgáltatások akkor *kapcsolódnak lazán*, ha az egyik szolgáltatás módosítása nem jár együtt egy másik módosításával.</span><span class="sxs-lookup"><span data-stu-id="93c2a-115">Services are *loosely coupled* if you can change one service without changing the other.</span></span> <span data-ttu-id="93c2a-116">A nagyfokú kohézió általában azt eredményezi, hogy egy funkció változtatásai a többi kapcsolódó funkció módosítását is szükségessé teszik.</span><span class="sxs-lookup"><span data-stu-id="93c2a-116">High cohesion generally means that changes in one function will require changes in other related functions.</span></span> <span data-ttu-id="93c2a-117">Ha úgy látja, hogy egy szolgáltatás frissítése a többi szolgáltatás összehangolt frissítését kívánja meg, az annak a jele lehet, hogy nincs kohézió a szolgáltatások között.</span><span class="sxs-lookup"><span data-stu-id="93c2a-117">If you find that updating a service requires coordinated updates to other services, it may be a sign that your services are not cohesive.</span></span> <span data-ttu-id="93c2a-118">A célja a tartományvezérelt tervezési (DDD) egyik ezeken a határokon belül azonosításához.</span><span class="sxs-lookup"><span data-stu-id="93c2a-118">One of the goals of domain-driven design (DDD) is to identify those boundaries.</span></span>

<span data-ttu-id="93c2a-119">**Környezettel kapcsolatos ismeretek beépítése**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-119">**Encapsulate domain knowledge**.</span></span> <span data-ttu-id="93c2a-120">Amikor egy ügyfél egy szolgáltatást használ, az adott környezetre (tartományra, területre) vonatkozó üzleti szabályok érvényesítésének felelőssége nem hárulhat az ügyfélre.</span><span class="sxs-lookup"><span data-stu-id="93c2a-120">When a client consumes a service, the responsibility for enforcing the business rules of the domain should not fall on the client.</span></span> <span data-ttu-id="93c2a-121">Ehelyett a szolgáltatásnak kell magában foglalnia a környezettel kapcsolatos mindazon ismereteket, amelyek a felelősségi körébe tartoznak.</span><span class="sxs-lookup"><span data-stu-id="93c2a-121">Instead, the service should encapsulate all of the domain knowledge that falls under its responsibility.</span></span> <span data-ttu-id="93c2a-122">Ennek hiányában minden egyes ügyfélnek érvényesítenie kell az üzleti szabályokat, aminek az lesz az eredménye, hogy a környezettel kapcsolatos ismeretek szétoszlanak az alkalmazás különböző részei között.</span><span class="sxs-lookup"><span data-stu-id="93c2a-122">Otherwise, every client has to enforce the business rules, and you end up with domain knowledge spread across different parts of the application.</span></span> 

<span data-ttu-id="93c2a-123">**Aszinkron üzenetkezelés használata**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-123">**Use asynchronous messaging**.</span></span> <span data-ttu-id="93c2a-124">Az aszinkron üzenetkezelés lehetővé teszi az üzenet előállítójának elkülönítését az üzenet feldolgozójától.</span><span class="sxs-lookup"><span data-stu-id="93c2a-124">Asynchronous messaging is a way to decouple the message producer from the consumer.</span></span> <span data-ttu-id="93c2a-125">Az előállító nem függ az üzenetre válaszoló vagy adott műveletet végrehajtó feldolgozótól.</span><span class="sxs-lookup"><span data-stu-id="93c2a-125">The producer does not depend on the consumer responding to the message or taking any particular action.</span></span> <span data-ttu-id="93c2a-126">Közzétevői/előfizetői architektúra esetén az előállító adott esetben azt sem fogja tudni, hogy ki az üzenet felhasználója.</span><span class="sxs-lookup"><span data-stu-id="93c2a-126">With a pub/sub architecture, the producer may not even know who is consuming the message.</span></span> <span data-ttu-id="93c2a-127">Az új szolgáltatások egyszerűen használhatják fel az üzeneteket, az előállító bármiféle módosítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="93c2a-127">New services can easily consume the messages without any modifications to the producer.</span></span>

<span data-ttu-id="93c2a-128">**A környezettel kapcsolatos ismeretek átjáróba való beépítésének mellőzése**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-128">**Don't build domain knowledge into a gateway**.</span></span> <span data-ttu-id="93c2a-129">Az átjárók hasznosak lehetnek a mikroszolgáltatásokra épülő architektúrában, ha útválasztásról, protokollfordításról, terheléselosztásról vagy hitelesítésről van szó.</span><span class="sxs-lookup"><span data-stu-id="93c2a-129">Gateways can be useful in a microservices architecture, for things like request routing, protocol translation, load balancing, or authentication.</span></span> <span data-ttu-id="93c2a-130">Az átjárókat azonban korlátozni kell az ilyen jellegű infrastrukturális funkciók ellátására.</span><span class="sxs-lookup"><span data-stu-id="93c2a-130">However, the gateway should be restricted to this sort of infrastructure functionality.</span></span> <span data-ttu-id="93c2a-131">Nem foglalhatnak magukban a környezettel kapcsolatos ismereteket, ha el szeretnénk kerülni a túlzott függőséget.</span><span class="sxs-lookup"><span data-stu-id="93c2a-131">It should not implement any domain knowledge, to avoid becoming a heavy dependency.</span></span>

<span data-ttu-id="93c2a-132">**Nyílt felületek közzététele**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-132">**Expose open interfaces**.</span></span> <span data-ttu-id="93c2a-133">Kerülje a szolgáltatások között található egyéni fordítási rétegek létrehozását.</span><span class="sxs-lookup"><span data-stu-id="93c2a-133">Avoid creating custom translation layers that sit between services.</span></span> <span data-ttu-id="93c2a-134">A szolgáltatásoknak ehelyett egy jól meghatározott API-egyezménnyel rendelkező API-t kell közzétenniük.</span><span class="sxs-lookup"><span data-stu-id="93c2a-134">Instead, a service should expose an API with a well-defined API contract.</span></span> <span data-ttu-id="93c2a-135">Az API-nak rendelkeznie kell verziószámmal, hogy tovább lehessen fejleszteni a visszamenőleges kompatibilitás megtartása mellett.</span><span class="sxs-lookup"><span data-stu-id="93c2a-135">The API should be versioned, so that you can evolve the API while maintaining backward compatibility.</span></span> <span data-ttu-id="93c2a-136">Így a szolgáltatásokat a tőlük függő felsőbb szintű szolgáltatások összehangolt frissítése nélkül frissítheti.</span><span class="sxs-lookup"><span data-stu-id="93c2a-136">That way, you can update a service without coordinating updates to all of the upstream services that depend on it.</span></span> <span data-ttu-id="93c2a-137">A nyilvános szolgáltatásoknak egy RESTful API-t kell közzétenniük HTTP-n keresztül.</span><span class="sxs-lookup"><span data-stu-id="93c2a-137">Public facing services should expose a RESTful API over HTTP.</span></span> <span data-ttu-id="93c2a-138">Teljesítménybeli megfontolásokból a háttérszolgáltatások használhatnak RPC stílusú üzenetkezelési protokollt.</span><span class="sxs-lookup"><span data-stu-id="93c2a-138">Backend services might use an RPC-style messaging protocol for performance reasons.</span></span> 

<span data-ttu-id="93c2a-139">**Tervezés és tesztelés szolgáltatási szerződések alapján**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-139">**Design and test against service contracts**.</span></span> <span data-ttu-id="93c2a-140">Ha a szolgáltatások jól meghatározott API-kat tesznek közzé, azok a fejlesztés és tesztelés alapjául szolgálhatnak.</span><span class="sxs-lookup"><span data-stu-id="93c2a-140">When services expose well-defined APIs, you can develop and test against those APIs.</span></span> <span data-ttu-id="93c2a-141">Így egy adott szolgáltatás fejlesztéséhez és teszteléséhez a tőle függő szolgáltatásokat nem kell felpörgetnie.</span><span class="sxs-lookup"><span data-stu-id="93c2a-141">That way, you can develop and test an individual service without spinning up all of its dependent services.</span></span> <span data-ttu-id="93c2a-142">(Az integrálást és a terheléstesztelést természetesen továbbra is a tényleges szolgáltatásokon kell végrehajtani.)</span><span class="sxs-lookup"><span data-stu-id="93c2a-142">(Of course, you would still perform integration and load testing against the real services.)</span></span>

<span data-ttu-id="93c2a-143">**Infrastruktúra elválasztása az üzleti logikától**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-143">**Abstract infrastructure away from domain logic**.</span></span> <span data-ttu-id="93c2a-144">Nem ajánlott keverni az üzleti logikát az infrastruktúrához kapcsolódó funkciókkal, például az üzenetkezeléssel vagy az adatmegőrzéssel.</span><span class="sxs-lookup"><span data-stu-id="93c2a-144">Don't let domain logic get mixed up with infrastructure-related functionality, such as messaging or persistence.</span></span> <span data-ttu-id="93c2a-145">Ha ezeket nem különíti el, az üzleti logika módosításai az infrastruktúrarétegek frissítését is szükségessé teszik, és fordítva.</span><span class="sxs-lookup"><span data-stu-id="93c2a-145">Otherwise, changes in the domain logic will require updates to the infrastructure layers and vice versa.</span></span> 

<span data-ttu-id="93c2a-146">**Azonos szerepet betöltő funkciók külön szolgáltatásba foglalása**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-146">**Offload cross-cutting concerns to a separate service**.</span></span> <span data-ttu-id="93c2a-147">Ha például több szolgáltatásnak is kell kéréseket hitelesítenie, ezt a funkciót egy külön szolgáltatásba helyezheti át.</span><span class="sxs-lookup"><span data-stu-id="93c2a-147">For example, if several services need to authenticate requests, you could move this functionality into its own service.</span></span> <span data-ttu-id="93c2a-148">A hitelesítési szolgáltatást ezután az azt használó többi szolgáltatás módosítása nélkül is fejlesztheti, például új hitelesítési folyamat hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="93c2a-148">Then you could evolve the authentication service &mdash; for example, by adding a new authentication flow &mdash; without touching any of the services that use it.</span></span>

<span data-ttu-id="93c2a-149">**A szolgáltatások egymástól független üzembe helyezése**.</span><span class="sxs-lookup"><span data-stu-id="93c2a-149">**Deploy services independently**.</span></span> <span data-ttu-id="93c2a-150">Ha a fejlesztési és üzemeltetési csapat az alkalmazás többi szolgáltatásától függetlenül helyezhet üzembe egy adott szolgáltatást, a frissítéseket gyorsabban és biztonságosabban lehet végrehajtani.</span><span class="sxs-lookup"><span data-stu-id="93c2a-150">When the DevOps team can deploy a single service independently of other services in the application, updates can happen more quickly and safely.</span></span> <span data-ttu-id="93c2a-151">A hibajavításokra és az új funkciók bevezetésére gyorsabb ütemben kerülhet sor.</span><span class="sxs-lookup"><span data-stu-id="93c2a-151">Bug fixes and new features can be rolled out at a more regular cadence.</span></span> <span data-ttu-id="93c2a-152">Tervezéskor ügyeljen arra, hogy az alkalmazás és a kibocsátási folyamat egyaránt támogassa a független frissítéseket.</span><span class="sxs-lookup"><span data-stu-id="93c2a-152">Design both the application and the release process to support independent updates.</span></span>