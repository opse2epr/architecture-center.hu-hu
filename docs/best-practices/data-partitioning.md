---
title: Adatparticionálási útmutató
titleSuffix: Best practices for cloud applications
description: Útmutató a partíciók megfelelő elkülönítéséhez a független felügyelet és hozzáférés érdekében.
author: dragon119
ms.date: 11/04/2018
ms.topic: best-practice
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 561fe6e47a4cd64aa545349dde4c76260d76e78e
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58299555"
---
# <a name="horizontal-vertical-and-functional-data-partitioning"></a><span data-ttu-id="fe102-103">Vízszintes, vertikális és funkcionális adatparticionálás</span><span class="sxs-lookup"><span data-stu-id="fe102-103">Horizontal, vertical, and functional data partitioning</span></span>

<span data-ttu-id="fe102-104">Számos nagyobb léptékű megoldásban az adatok oszlik *partíciók* , kezelhető és külön elérhető.</span><span class="sxs-lookup"><span data-stu-id="fe102-104">In many large-scale solutions, data is divided into *partitions* that can be managed and accessed separately.</span></span> <span data-ttu-id="fe102-105">Particionálása javíthatja a skálázhatóságot, csökkenteni a versengést, és optimalizálhatja a teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="fe102-105">Partitioning can improve scalability, reduce contention, and optimize performance.</span></span> <span data-ttu-id="fe102-106">Azt is lehetővé teszi egy elválasztó adatok mechanizmust használati minta alapján.</span><span class="sxs-lookup"><span data-stu-id="fe102-106">It can also provide a mechanism for dividing data by usage pattern.</span></span> <span data-ttu-id="fe102-107">Például archiválhatja a régebbi adatokat az adatok olcsóbb tárhelyet.</span><span class="sxs-lookup"><span data-stu-id="fe102-107">For example, you can archive older data in cheaper data storage.</span></span>

<span data-ttu-id="fe102-108">Azonban a particionálási stratégiát gondosan kell megválasztani az előnyök maximalizálása a negatív hatások minimalizálása.</span><span class="sxs-lookup"><span data-stu-id="fe102-108">However, the partitioning strategy must be chosen carefully to maximize the benefits while minimizing adverse effects.</span></span>

> [!NOTE]
> <span data-ttu-id="fe102-109">Ebben a cikkben a *particionálás* kifejezés alatt az adatok külön adattárakba való fizikai felosztásának folyamatát értjük.</span><span class="sxs-lookup"><span data-stu-id="fe102-109">In this article, the term *partitioning* means the process of physically dividing data into separate data stores.</span></span> <span data-ttu-id="fe102-110">Ez nem ugyanaz, mint az SQL Server táblaparticionálása.</span><span class="sxs-lookup"><span data-stu-id="fe102-110">It is not the same as SQL Server table partitioning.</span></span>

<!-- markdownlint-disable MD026 -->

## <a name="why-partition-data"></a><span data-ttu-id="fe102-111">Miért kell particionálni az adatokat?</span><span class="sxs-lookup"><span data-stu-id="fe102-111">Why partition data?</span></span>

<!-- markdownlint-enable MD026 -->

- <span data-ttu-id="fe102-112">**A skálázhatóság javítása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-112">**Improve scalability**.</span></span> <span data-ttu-id="fe102-113">Az önálló adatbázisrendszerek vertikális felskálázásakor a rendszer végül eléri a fizikai hardver korlátait.</span><span class="sxs-lookup"><span data-stu-id="fe102-113">When you scale up a single database system, it will eventually reach a physical hardware limit.</span></span> <span data-ttu-id="fe102-114">Ha több, egy különálló kiszolgálón lévő egyes partíciók között megoszthatjuk az adatokat horizontális felskálázása történhet a rendszer szinte végtelenül felskálázható.</span><span class="sxs-lookup"><span data-stu-id="fe102-114">If you divide data across multiple partitions, each hosted on a separate server, you can scale out the system almost indefinitely.</span></span>

- <span data-ttu-id="fe102-115">**A teljesítmény javítása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-115">**Improve performance**.</span></span> <span data-ttu-id="fe102-116">Az egyes partíciókon az adatelérési műveletek kisebb mennyiségű adatot érintenek.</span><span class="sxs-lookup"><span data-stu-id="fe102-116">Data access operations on each partition take place over a smaller volume of data.</span></span> <span data-ttu-id="fe102-117">Megfelelően megtörtént, a particionálás is hatékonyabb a rendszer.</span><span class="sxs-lookup"><span data-stu-id="fe102-117">Correctly done, partitioning can make your system more efficient.</span></span> <span data-ttu-id="fe102-118">Az egyszerre több partíciót érintő műveletek párhuzamosan futtathatóak.</span><span class="sxs-lookup"><span data-stu-id="fe102-118">Operations that affect more than one partition can run in parallel.</span></span>

- <span data-ttu-id="fe102-119">**A biztonság javítása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-119">**Improve security**.</span></span> <span data-ttu-id="fe102-120">Bizonyos esetekben a különböző partíciók szét az érzékeny és a nem bizalmas adatok, és különböző biztonsági vezérlők alkalmazása a bizalmas adatok.</span><span class="sxs-lookup"><span data-stu-id="fe102-120">In some cases, you can separate sensitive and non-sensitive data into different partitions and apply different security controls to the sensitive data.</span></span>

- <span data-ttu-id="fe102-121">**A működési rugalmasság megteremtése**.</span><span class="sxs-lookup"><span data-stu-id="fe102-121">**Provide operational flexibility**.</span></span> <span data-ttu-id="fe102-122">A particionálás rengeteg lehetőséget kínál a működés finomhangolására, a felügyelet hatékonyságának maximalizálására és a költségek minimalizálására.</span><span class="sxs-lookup"><span data-stu-id="fe102-122">Partitioning offers many opportunities for fine tuning operations, maximizing administrative efficiency, and minimizing cost.</span></span> <span data-ttu-id="fe102-123">Például különböző stratégiák határozhatók meg a felügyelethez, a monitorozáshoz, a biztonsági mentéshez és helyreállításhoz, valamint egyéb felügyeleti tevékenységekhez az egyes partíciók adatainak fontossága alapján.</span><span class="sxs-lookup"><span data-stu-id="fe102-123">For example, you can define different strategies for management, monitoring, backup and restore, and other administrative tasks based on the importance of the data in each partition.</span></span>

- <span data-ttu-id="fe102-124">**A használati mintának megfelelő adattárak használata**.</span><span class="sxs-lookup"><span data-stu-id="fe102-124">**Match the data store to the pattern of use**.</span></span> <span data-ttu-id="fe102-125">A particionálás révén az egyes partíciók különböző típusú adattárakban futtathatóak az ilyen adattárak költségei és beépített szolgáltatásai alapján.</span><span class="sxs-lookup"><span data-stu-id="fe102-125">Partitioning allows each partition to be deployed on a different type of data store, based on cost and the built-in features that data store offers.</span></span> <span data-ttu-id="fe102-126">Például nagy mennyiségű bináris adatok tárolhatók a blob storage-ban, míg a strukturáltabb adatot dokumentum-adatbázis tárolhatja.</span><span class="sxs-lookup"><span data-stu-id="fe102-126">For example, large binary data can be stored in blob storage, while more structured data can be held in a document database.</span></span> <span data-ttu-id="fe102-127">Lásd: [a megfelelő adattároló kiválasztása](../guide/technology-choices/data-store-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fe102-127">See [Choose the right data store](../guide/technology-choices/data-store-overview.md).</span></span>

- <span data-ttu-id="fe102-128">**A rendelkezésre állás javítása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-128">**Improve availability**.</span></span> <span data-ttu-id="fe102-129">Az adatok több kiszolgálóra való leosztásával kiküszöbölhető az egypontos meghibásodás kockázata.</span><span class="sxs-lookup"><span data-stu-id="fe102-129">Separating data across multiple servers avoids a single point of failure.</span></span> <span data-ttu-id="fe102-130">Ha egy példány sikertelen, csak az adott partíció adatai nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="fe102-130">If one instance fails, only the data in that partition is unavailable.</span></span> <span data-ttu-id="fe102-131">A többi partíción folytatódhatnak a műveletek.</span><span class="sxs-lookup"><span data-stu-id="fe102-131">Operations on other partitions can continue.</span></span> <span data-ttu-id="fe102-132">A felügyelt PaaS-adattárak ezt figyelembe azért kevésbé lényeges, tervezték, hogy e szolgáltatások beépített redundanciával.</span><span class="sxs-lookup"><span data-stu-id="fe102-132">For managed PaaS data stores, this consideration is less relevant, because these services are designed with built-in redundancy.</span></span>

## <a name="designing-partitions"></a><span data-ttu-id="fe102-133">Partíciók tervezése</span><span class="sxs-lookup"><span data-stu-id="fe102-133">Designing partitions</span></span>

<span data-ttu-id="fe102-134">Nincsenek három tipikus adatparticionálási stratégia:</span><span class="sxs-lookup"><span data-stu-id="fe102-134">There are three typical strategies for partitioning data:</span></span>

- <span data-ttu-id="fe102-135">**Horizontális particionálás** (vagy más néven *horizontális skálázás*).</span><span class="sxs-lookup"><span data-stu-id="fe102-135">**Horizontal partitioning** (often called *sharding*).</span></span> <span data-ttu-id="fe102-136">Ebben a stratégiában mindegyik partíció egy különálló adattárral, de az összes partíció ugyanazzal a sémával rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="fe102-136">In this strategy, each partition is a separate data store, but all partitions have the same schema.</span></span> <span data-ttu-id="fe102-137">Mindegyik partíció az úgynevezett egy *szegmens* és az adatokat, például az ügyfelek adott halmazának megrendeléseit egy adott részhalmazát tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="fe102-137">Each partition is known as a *shard* and holds a specific subset of the data, such as all the orders for a specific set of customers.</span></span>

- <span data-ttu-id="fe102-138">**Vertikális particionálás**.</span><span class="sxs-lookup"><span data-stu-id="fe102-138">**Vertical partitioning**.</span></span> <span data-ttu-id="fe102-139">Ebben a stratégiában mindegyik partíció az adattárban tárolt elemek mezőinek egy alhalmazát tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="fe102-139">In this strategy, each partition holds a subset of the fields for items in the data store.</span></span> <span data-ttu-id="fe102-140">A mezők a használati mintáik alapján vannak felosztva.</span><span class="sxs-lookup"><span data-stu-id="fe102-140">The fields are divided according to their pattern of use.</span></span> <span data-ttu-id="fe102-141">Például a gyakran használt mezők az egyik, a kevésbé gyakran használtak egy másik partícióba kerülhetnek.</span><span class="sxs-lookup"><span data-stu-id="fe102-141">For example, frequently accessed fields might be placed in one vertical partition and less frequently accessed fields in another.</span></span>

- <span data-ttu-id="fe102-142">**Funkcionális particionálás**.</span><span class="sxs-lookup"><span data-stu-id="fe102-142">**Functional partitioning**.</span></span> <span data-ttu-id="fe102-143">Ebben a stratégiában az adatok összesítése az alapján történik, hogy a rendszer egyes körülhatárolt kontextusai hogyan használják őket.</span><span class="sxs-lookup"><span data-stu-id="fe102-143">In this strategy, data is aggregated according to how it is used by each bounded context in the system.</span></span> <span data-ttu-id="fe102-144">Például egy e-kereskedelmi rendszer számla adatok előfordulhat, hogy tárolása egy partícióban a termékleltárral kapcsolatos adatokat.</span><span class="sxs-lookup"><span data-stu-id="fe102-144">For example, an e-commerce system might store invoice data in one partition and product inventory data in another.</span></span>

<span data-ttu-id="fe102-145">Ezek a stratégiák kombinálható is, és azt javasoljuk, hogy érdemes mindhármat particionálási séma kialakításakor.</span><span class="sxs-lookup"><span data-stu-id="fe102-145">These strategies can be combined, and we recommend that you consider them all when you design a partitioning scheme.</span></span> <span data-ttu-id="fe102-146">Például az adatokat először feloszthatja szegmensekre, majd az egyes szegmensekben lévő adatokat vertikálisan tovább particionálhatja.</span><span class="sxs-lookup"><span data-stu-id="fe102-146">For example, you might divide data into shards and then use vertical partitioning to further subdivide the data in each shard.</span></span>

### <a name="horizontal-partitioning-sharding"></a><span data-ttu-id="fe102-147">Horizontális particionálás</span><span class="sxs-lookup"><span data-stu-id="fe102-147">Horizontal partitioning (sharding)</span></span>

<span data-ttu-id="fe102-148">1. ábra mutatja a horizontális particionálás.</span><span class="sxs-lookup"><span data-stu-id="fe102-148">Figure 1 shows horizontal partitioning or sharding.</span></span> <span data-ttu-id="fe102-149">Ebben a példában a készletadatok termékkulcs alapján vannak szegmensekre bontva.</span><span class="sxs-lookup"><span data-stu-id="fe102-149">In this example, product inventory data is divided into shards based on the product key.</span></span> <span data-ttu-id="fe102-150">Minden egyes szegmens a szegmenskulcsok betűrend szerint egybefüggő tartományát (A–G és H–Z) tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="fe102-150">Each shard holds the data for a contiguous range of shard keys (A-G and H-Z), organized alphabetically.</span></span> <span data-ttu-id="fe102-151">A horizontális skálázás a terhelés több számítógépre, amely csökkenti a versengést és javítja a teljesítményt osztja el.</span><span class="sxs-lookup"><span data-stu-id="fe102-151">Sharding spreads the load over more computers, which reduces contention and improves performance.</span></span>

![Adatok horizontális particionálása partíciókulcs alapján](./images/data-partitioning/DataPartitioning01.png)

<span data-ttu-id="fe102-153">*1. ábra Horizontális particionálása partíciókulcs alapján (sharding) adatokat.*</span><span class="sxs-lookup"><span data-stu-id="fe102-153">*Figure 1. Horizontally partitioning (sharding) data based on a partition key.*</span></span>

<span data-ttu-id="fe102-154">A legfontosabb tényező a szegmenskulcs megfelelő megválasztása a kiválasztott.</span><span class="sxs-lookup"><span data-stu-id="fe102-154">The most important factor is the choice of a sharding key.</span></span> <span data-ttu-id="fe102-155">A rendszer beüzemelését követően a kulcs nehezen módosítható.</span><span class="sxs-lookup"><span data-stu-id="fe102-155">It can be difficult to change the key after the system is in operation.</span></span> <span data-ttu-id="fe102-156">A kulcsnak biztosítania kell, hogy a számítási feladatok, a lehető egyenlően oszlik el a szegmensek között az adatok particionálása.</span><span class="sxs-lookup"><span data-stu-id="fe102-156">The key must ensure that data is partitioned to spread the workload as evenly as possible across the shards.</span></span>

<span data-ttu-id="fe102-157">A szegmensek nem kell az azonos méretű lehet.</span><span class="sxs-lookup"><span data-stu-id="fe102-157">The shards don't have to be the same size.</span></span> <span data-ttu-id="fe102-158">Több fontos, hogy a kérelmek számát egyensúlyba hozni.</span><span class="sxs-lookup"><span data-stu-id="fe102-158">It's more important to balance the number of requests.</span></span> <span data-ttu-id="fe102-159">Lehet, hogy egyes szegmensek nagy, de minden cikk rendelkezik adatelérési műveletek száma alacsony.</span><span class="sxs-lookup"><span data-stu-id="fe102-159">Some shards might be very large, but each item has a low number of access operations.</span></span> <span data-ttu-id="fe102-160">Más szegmensek esetleg kisebbek ugyan, de az egyes elemeket többször érik el.</span><span class="sxs-lookup"><span data-stu-id="fe102-160">Other shards might be smaller, but each item is accessed much more frequently.</span></span> <span data-ttu-id="fe102-161">Fontos továbbá győződjön meg arról, hogy egyetlen szegmens nem haladja meg a skálázási korlátait (kapacitás és feldolgozási erőforrások) tekintetében az adattár.</span><span class="sxs-lookup"><span data-stu-id="fe102-161">It's also important to ensure that a single shard does not exceed the scale limits (in terms of capacity and processing resources) of the data store.</span></span>

<span data-ttu-id="fe102-162">Ne hozzon létre, amely hatással lehet a teljesítmény és rendelkezésre állás "Forró" partíciókat.</span><span class="sxs-lookup"><span data-stu-id="fe102-162">Avoid creating "hot" partitions that can affect performance and availability.</span></span> <span data-ttu-id="fe102-163">Például a felhasználó nevének első betűje rendelkezik egy okozta egyenetlen eloszlást, mivel bizonyos betűk gyakori Instead, ügyfél-azonosító kivonata segítségével adatokat egyenletesebben osszák partíciók között.</span><span class="sxs-lookup"><span data-stu-id="fe102-163">For example, using the first letter of a customer’s name causes an unbalanced distribution, because some letters are more common Instead, use a hash of a customer identifier to distribute data more evenly across partitions.</span></span>

<span data-ttu-id="fe102-164">Válasszon olyan szegmenskulcsot, amely minimálisra csökkenti a nagy szegmenseket fel, a kisebbeket nagyobbakká egyesíteni, vagy a séma módosításához esetleges jövőbeli követelményeket.</span><span class="sxs-lookup"><span data-stu-id="fe102-164">Choose a sharding key that minimizes any future requirements to split large shards, coalesce small shards into larger partitions, or change the schema.</span></span> <span data-ttu-id="fe102-165">Az ilyen műveletek nagyon időigényesek lehetnek, és a végrehajtásuk során esetleg néhány szegmenst le is kell állítani.</span><span class="sxs-lookup"><span data-stu-id="fe102-165">These operations can be very time consuming, and might require taking one or more shards offline while they are performed.</span></span>

<span data-ttu-id="fe102-166">Ha a szegmensek replikálva vannak, a replikák némelyike esetleg online tartható, amíg a többi felosztása, egyesítése vagy átkonfigurálása folyik.</span><span class="sxs-lookup"><span data-stu-id="fe102-166">If shards are replicated, it might be possible to keep some of the replicas online while others are split, merged, or reconfigured.</span></span> <span data-ttu-id="fe102-167">A rendszer azonban szükség lehet az újrakonfigurálás alatt végrehajtható műveletek korlátozására.</span><span class="sxs-lookup"><span data-stu-id="fe102-167">However, the system might need to limit the operations that can be performed during the reconfiguration.</span></span> <span data-ttu-id="fe102-168">Ha például a replikákon lévő adatok jelöléssel csak olvasható adatok inconsistences elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe102-168">For example, the data in the replicas might be marked as read-only to prevent data inconsistences.</span></span>

<span data-ttu-id="fe102-169">További információ a horizontális particionálási, lásd: [horizontális skálázási minta].</span><span class="sxs-lookup"><span data-stu-id="fe102-169">For more information about horizontal partitioning, see [Sharding pattern].</span></span>

### <a name="vertical-partitioning"></a><span data-ttu-id="fe102-170">Vertikális particionálás</span><span class="sxs-lookup"><span data-stu-id="fe102-170">Vertical partitioning</span></span>

<span data-ttu-id="fe102-171">A vertikális particionálás tevékenység leggyakoribb felhasználási csökkenteni az i/o és gyakran használt elemek beolvasása, amely teljesítmény költségeket.</span><span class="sxs-lookup"><span data-stu-id="fe102-171">The most common use for vertical partitioning is to reduce the I/O and performance costs associated with fetching items that are frequently accessed.</span></span> <span data-ttu-id="fe102-172">A 2. ábrán a vertikális particionálás egy példája látható.</span><span class="sxs-lookup"><span data-stu-id="fe102-172">Figure 2 shows an example of vertical partitioning.</span></span> <span data-ttu-id="fe102-173">Ebben a példában egy elem különböző tulajdonságai különböző partíciókon vannak tárolva.</span><span class="sxs-lookup"><span data-stu-id="fe102-173">In this example, different properties of an item are stored in different partitions.</span></span> <span data-ttu-id="fe102-174">Egy partíció elért adatokat gyakrabban, beleértve a termék nevét, leírását és árát tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="fe102-174">One partition holds data that is accessed more frequently, including product name, description, and price.</span></span> <span data-ttu-id="fe102-175">Egy másik partíció tartalmazza a leltáradatok: a leltár és az utolsó rendezett dátum.</span><span class="sxs-lookup"><span data-stu-id="fe102-175">Another partition holds inventory data: the stock count and last-ordered date.</span></span>

![Adatok vertikális particionálása a használati minta alapján](./images/data-partitioning/DataPartitioning02.png)

<span data-ttu-id="fe102-177">*2. ábra Adatok vertikális particionálása a használati minta alapján.*</span><span class="sxs-lookup"><span data-stu-id="fe102-177">*Figure 2. Vertically partitioning data by its pattern of use.*</span></span>

<span data-ttu-id="fe102-178">Ebben a példában az alkalmazás rendszeresen lekérdezi a termékek nevét, leírását és árát, amikor megjeleníti a termékek részleteit az ügyfelek számára.</span><span class="sxs-lookup"><span data-stu-id="fe102-178">In this example, the application regularly queries the product name, description, and price when displaying the product details to customers.</span></span> <span data-ttu-id="fe102-179">Leltár és az utolsó – dátum rendezett egy külön partíciót, mert ezt a két elemet általában együtt használják tartanak.</span><span class="sxs-lookup"><span data-stu-id="fe102-179">Stock count and last- ordered date are held in a separate partition because these two items are commonly used together.</span></span>

<span data-ttu-id="fe102-180">A vertikális particionálás többi előnyei:</span><span class="sxs-lookup"><span data-stu-id="fe102-180">Other advantages of vertical partitioning:</span></span>

- <span data-ttu-id="fe102-181">Viszonylag adatokat (a termék nevét, leírását és árát) is el kell különíteni a dinamikus adatok (mennyiségektől és az utolsó megrendelések dátumától).</span><span class="sxs-lookup"><span data-stu-id="fe102-181">Relatively slow-moving data (product name, description, and price) can be separated from the more dynamic data (stock level and last ordered date).</span></span> <span data-ttu-id="fe102-182">Lassú helyez át adatokat egy jó jelölt az alkalmazás számára a memóriában lévő gyorsítótárhoz.</span><span class="sxs-lookup"><span data-stu-id="fe102-182">Slow moving data is a good candidate for an application to cache in memory.</span></span>

- <span data-ttu-id="fe102-183">Bizalmas adatok tárolhatók egy külön partíció a további biztonsági ellenőrzéseket.</span><span class="sxs-lookup"><span data-stu-id="fe102-183">Sensitive data can be stored in a separate partition with additional security controls.</span></span>

- <span data-ttu-id="fe102-184">A vertikális particionálás csökkentheti az egyidejű elérésének mennyisége.</span><span class="sxs-lookup"><span data-stu-id="fe102-184">Vertical partitioning can reduce the amount of concurrent access that's needed.</span></span>

<span data-ttu-id="fe102-185">A vertikális particionálás az entitások szintjén működik a tárolóban, részlegesen normalizálja az entitásokat, és *széles* elemekből *keskeny* elemekké bontja le azokat.</span><span class="sxs-lookup"><span data-stu-id="fe102-185">Vertical partitioning operates at the entity level within a data store, partially normalizing an entity to break it down from a *wide* item to a set of *narrow* items.</span></span> <span data-ttu-id="fe102-186">Kiválóan alkalmazható oszlopalapú, például HBase és Cassandra adattárakhoz.</span><span class="sxs-lookup"><span data-stu-id="fe102-186">It is ideally suited for column-oriented data stores such as HBase and Cassandra.</span></span> <span data-ttu-id="fe102-187">Ha az oszlopok egy gyűjteményében lévő adatok valószínűleg nem változnak majd, megpróbálhat oszloptárolókat is használni az SQL Serverben.</span><span class="sxs-lookup"><span data-stu-id="fe102-187">If the data in a collection of columns is unlikely to change, you can also consider using column stores in SQL Server.</span></span>

### <a name="functional-partitioning"></a><span data-ttu-id="fe102-188">Funkcionális particionálás</span><span class="sxs-lookup"><span data-stu-id="fe102-188">Functional partitioning</span></span>

<span data-ttu-id="fe102-189">Amikor azonosítható egy körülhatárolt kontextus az alkalmazások minden egyes külön üzleti területhez, funkcionális particionálást módja a elkülönítés és az adatelérési teljesítmény javításához.</span><span class="sxs-lookup"><span data-stu-id="fe102-189">When it's possible to identify a bounded context for each distinct business area in an application, functional partitioning is a way to improve isolation and data access performance.</span></span> <span data-ttu-id="fe102-190">A funkcionális particionálás egy másik gyakori alkalmazási az írható-olvasható adatok elkülönítése a csak olvasható adatok.</span><span class="sxs-lookup"><span data-stu-id="fe102-190">Another common use for functional partitioning is to separate read-write data from read-only data.</span></span> <span data-ttu-id="fe102-191">A 3. ábrán a funkcionális particionálás áttekintése látható egy példán, ahol a készletadatok elkülönülnek az ügyféladatoktól.</span><span class="sxs-lookup"><span data-stu-id="fe102-191">Figure 3 shows an overview of functional partitioning where inventory data is separated from customer data.</span></span>

![Adatok funkcionális particionálása körülhatárolt kontextus vagy részterület alapján](./images/data-partitioning/DataPartitioning03.png)

<span data-ttu-id="fe102-193">*3. ábra Funkcionális particionálása körülhatárolt kontextus vagy részterület alapján adatokat.*</span><span class="sxs-lookup"><span data-stu-id="fe102-193">*Figure 3. Functionally partitioning data by bounded context or subdomain.*</span></span>

<span data-ttu-id="fe102-194">Ez a particionálási stratégia csökkentheti az adatelérési versengést a rendszer egyes részei között.</span><span class="sxs-lookup"><span data-stu-id="fe102-194">This partitioning strategy can help reduce data access contention across different parts of a system.</span></span>

## <a name="designing-partitions-for-scalability"></a><span data-ttu-id="fe102-195">Partíciók tervezése skálázhatóságra</span><span class="sxs-lookup"><span data-stu-id="fe102-195">Designing partitions for scalability</span></span>

<span data-ttu-id="fe102-196">Elengedhetetlen az egyes partíciók méretének és munkaterhelésének mérlegelése és kiegyensúlyozása, hogy az adatok megfelelően legyenek elosztva a maximális skálázhatóság érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe102-196">It's vital to consider size and workload for each partition and balance them so that data is distributed to achieve maximum scalability.</span></span> <span data-ttu-id="fe102-197">Azonban az adatok particionálása során arra is figyelni kell, hogy ne haladják meg az egypartíciós tárolók skálázási korlátait.</span><span class="sxs-lookup"><span data-stu-id="fe102-197">However, you must also partition the data so that it does not exceed the scaling limits of a single partition store.</span></span>

<span data-ttu-id="fe102-198">A partíciók skálázhatóságra tervezése során kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="fe102-198">Follow these steps when designing partitions for scalability:</span></span>

1. <span data-ttu-id="fe102-199">Az alkalmazás elemzésével ismerje meg a hozzáférési mintákat, például az egyes lekérdezések által visszaadott eredményhalmazok méretét, az adatelérési gyakoriságot, az eredendő késést és a kiszolgálóoldali számítási feldolgozás követelményeit.</span><span class="sxs-lookup"><span data-stu-id="fe102-199">Analyze the application to understand the data access patterns, such as the size of the result set returned by each query, the frequency of access, the inherent latency, and the server-side compute processing requirements.</span></span> <span data-ttu-id="fe102-200">Sok esetben néhány nagyobb entitás igényli a szükséges erőforrások többségét.</span><span class="sxs-lookup"><span data-stu-id="fe102-200">In many cases, a few major entities will demand most of the processing resources.</span></span>
2. <span data-ttu-id="fe102-201">Az elemzés segítségével határozza meg az aktuális és a jövőbeli skálázhatósági célokat, például az adatok méretét és a munkaterhelést.</span><span class="sxs-lookup"><span data-stu-id="fe102-201">Use this analysis to determine the current and future scalability targets, such as data size and workload.</span></span> <span data-ttu-id="fe102-202">Ezután ossza el az adatokat a partíciók közt a skálázhatósági célok teljesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="fe102-202">Then distribute the data across the partitions to meet the scalability target.</span></span> <span data-ttu-id="fe102-203">A horizontális particionálás választja, a megfelelő szegmenskulcs fontos, hogy győződjön meg arról, hogy terjesztési páros.</span><span class="sxs-lookup"><span data-stu-id="fe102-203">For horizontal partitioning, choosing the right shard key is important to make sure distribution is even.</span></span> <span data-ttu-id="fe102-204">További információkért tekintse meg a [horizontális skálázási minta].</span><span class="sxs-lookup"><span data-stu-id="fe102-204">For more information, see the [Sharding pattern].</span></span>
3. <span data-ttu-id="fe102-205">Győződjön meg arról, hogy mindegyik partíció nem rendelkezik elegendő erőforrással adatméret és a teljesítmény, a skálázhatósági követelmények kezelésére.</span><span class="sxs-lookup"><span data-stu-id="fe102-205">Make sure each partition has enough resources to handle the scalability requirements, in terms of data size and throughput.</span></span> <span data-ttu-id="fe102-206">Az adattár függően előfordulhat tárolóhely feldolgozási teljesítményt vagy a hálózati sávszélesség partíciónként mennyisége korlátozva.</span><span class="sxs-lookup"><span data-stu-id="fe102-206">Depending on the data store, there might be a limit on the amount of storage space, processing power, or network bandwidth per partition.</span></span> <span data-ttu-id="fe102-207">Ha a követelmények valószínűleg meghaladják majd ezeket a korlátokat, szükség lehet a particionálási stratégia finomítására vagy az adatok további, felosztására valószínűleg a legalább két stratégia kombinálása.</span><span class="sxs-lookup"><span data-stu-id="fe102-207">If the requirements are likely to exceed these limits, you may need to refine your partitioning strategy or split data out further, possibly combining two or more strategies.</span></span>
4. <span data-ttu-id="fe102-208">Győződjön meg arról, hogy az adatok megfelelően vannak-e, és, hogy a partíciók képesek kezelni a terhelést a rendszer monitorozásával.</span><span class="sxs-lookup"><span data-stu-id="fe102-208">Monitor the system to verify that data is distributed as expected and that the partitions can handle the load.</span></span> <span data-ttu-id="fe102-209">Tényleges használat nem mindig egyezik az elemzés előrejelzi.</span><span class="sxs-lookup"><span data-stu-id="fe102-209">Actual usage does not always match what an analysis predicts.</span></span> <span data-ttu-id="fe102-210">Ebben az esetben újra kiegyensúlyozhatók a partíciók, vagy pedig újra kell terveznie a rendszert, hogy a szükséges egyensúly bizonyos részeit is lehet.</span><span class="sxs-lookup"><span data-stu-id="fe102-210">If so, it might be possible to rebalance the partitions, or else redesign some parts of the system to gain the required balance.</span></span>

<span data-ttu-id="fe102-211">Néhány foglalják le az erőforrásokat infrastruktúra határai tekintetében.</span><span class="sxs-lookup"><span data-stu-id="fe102-211">Some cloud environments allocate resources in terms of infrastructure boundaries.</span></span> <span data-ttu-id="fe102-212">Bizonyosodjon meg róla, hogy a kiválasztott határ korlátai elegendő teret biztosítanak az adatmennyiség várható növekedéséhez az adattárolás, a feldolgozási teljesítmény és a sávszélesség tekintetében.</span><span class="sxs-lookup"><span data-stu-id="fe102-212">Ensure that the limits of your selected boundary provide enough room for any anticipated growth in the volume of data, in terms of data storage, processing power, and bandwidth.</span></span>

<span data-ttu-id="fe102-213">Például ha az Azure table storage szolgáltatást használja, nincs egy partíció által egy adott időszakban feldolgozható kérelmek mennyisége korlátozva.</span><span class="sxs-lookup"><span data-stu-id="fe102-213">For example, if you use Azure table storage, there is a limit to the volume of requests that can be handled by a single partition in a particular period of time.</span></span> <span data-ttu-id="fe102-214">(Lásd: [Az Azure Storage skálázhatósági és teljesítménycéljai].) Foglalt szegmensek több erőforrást, mint egy partíció képes kezelni lehet szükség.</span><span class="sxs-lookup"><span data-stu-id="fe102-214">(See [Azure storage scalability and performance targets].) A busy shard might require more resources than a single partition can handle.</span></span> <span data-ttu-id="fe102-215">Ha igen, a szegmenst esetleg újra kell kell particionálni a terhelés elosztását.</span><span class="sxs-lookup"><span data-stu-id="fe102-215">If so, the shard might need to be repartitioned to spread the load.</span></span> <span data-ttu-id="fe102-216">Ha a teljes mérete vagy a táblák átviteli meghaladja a tárfiók kapacitását, szükség lehet további tárfiókokat létrehozni, és elosztani a táblákat a fiókok közt.</span><span class="sxs-lookup"><span data-stu-id="fe102-216">If the total size or throughput of these tables exceeds the capacity of a storage account, you might need to create additional storage accounts and spread the tables across these accounts.</span></span>

## <a name="designing-partitions-for-query-performance"></a><span data-ttu-id="fe102-217">Partíciók tervezése lekérdezési teljesítményre</span><span class="sxs-lookup"><span data-stu-id="fe102-217">Designing partitions for query performance</span></span>

<span data-ttu-id="fe102-218">A lekérdezési teljesítmény gyakran kisebb adatkészletek használatával és a lekérdezések párhuzamos futtatásával növelhető.</span><span class="sxs-lookup"><span data-stu-id="fe102-218">Query performance can often be boosted by using smaller data sets and by running parallel queries.</span></span> <span data-ttu-id="fe102-219">Mindegyik partíciónak a teljes adatkészlet egy kis részét kell tartalmaznia.</span><span class="sxs-lookup"><span data-stu-id="fe102-219">Each partition should contain a small proportion of the entire data set.</span></span> <span data-ttu-id="fe102-220">A mennyiség csökkenésével javulhat a lekérdezések teljesítménye.</span><span class="sxs-lookup"><span data-stu-id="fe102-220">This reduction in volume can improve the performance of queries.</span></span> <span data-ttu-id="fe102-221">A particionálás azonban nem váltja ki az adatbázis megfelelő kialakítását és konfigurálását.</span><span class="sxs-lookup"><span data-stu-id="fe102-221">However, partitioning is not an alternative for designing and configuring a database appropriately.</span></span> <span data-ttu-id="fe102-222">Például győződjön meg arról, hogy már működik-e a szükséges indexeket a.</span><span class="sxs-lookup"><span data-stu-id="fe102-222">For example, make sure that you have the necessary indexes in place.</span></span>

<span data-ttu-id="fe102-223">A partíciók lekérdezési teljesítményre tervezése során kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="fe102-223">Follow these steps when designing partitions for query performance:</span></span>

1. <span data-ttu-id="fe102-224">Vizsgálja meg az alkalmazás követelményeit és teljesítményét:</span><span class="sxs-lookup"><span data-stu-id="fe102-224">Examine the application requirements and performance:</span></span>

   - <span data-ttu-id="fe102-225">Üzleti követelmények segítségével határozhatja meg a kritikus lekérdezéseket, amelyek mindig gyorsan kell lefutnia.</span><span class="sxs-lookup"><span data-stu-id="fe102-225">Use business requirements to determine the critical queries that must always perform quickly.</span></span>
   - <span data-ttu-id="fe102-226">A rendszer monitorozásával azonosítsa a mindig lassan lefutó lekérdezéseket.</span><span class="sxs-lookup"><span data-stu-id="fe102-226">Monitor the system to identify any queries that perform slowly.</span></span>
   - <span data-ttu-id="fe102-227">Keresse meg, mely lekérdezések leggyakrabban történik.</span><span class="sxs-lookup"><span data-stu-id="fe102-227">Find which queries are performed most frequently.</span></span> <span data-ttu-id="fe102-228">Akkor is, ha egyetlen lekérdezést egy minimális költségű rendelkezik, akkor az összesített erőforrás-használat jelentős hatással lehet.</span><span class="sxs-lookup"><span data-stu-id="fe102-228">Even if a single query has a minimal cost, the cumulative resource consumption could be significant.</span></span>

2. <span data-ttu-id="fe102-229">Particionálja a teljesítményt csökkentő adatokat:</span><span class="sxs-lookup"><span data-stu-id="fe102-229">Partition the data that is causing slow performance:</span></span>
   - <span data-ttu-id="fe102-230">Korlátozza az egyes partíciók méretét, hogy a lekérdezések válaszideje a célon belül maradjon.</span><span class="sxs-lookup"><span data-stu-id="fe102-230">Limit the size of each partition so that the query response time is within target.</span></span>
   - <span data-ttu-id="fe102-231">Horizontális particionálás használatakor tervezze a szegmenskulcs úgy, hogy az alkalmazás egyszerűen kiválaszthatja a megfelelő partíció.</span><span class="sxs-lookup"><span data-stu-id="fe102-231">If you use horizontal partitioning, design the shard key so that the application can easily select the right partition.</span></span> <span data-ttu-id="fe102-232">Így a lekérdezésnek nem kell az összes partíciót átvizsgálnia.</span><span class="sxs-lookup"><span data-stu-id="fe102-232">This prevents the query from having to scan through every partition.</span></span>
   - <span data-ttu-id="fe102-233">Mérlegelje a partíciók elhelyezését.</span><span class="sxs-lookup"><span data-stu-id="fe102-233">Consider the location of a partition.</span></span> <span data-ttu-id="fe102-234">Ha lehetséges, próbálja az adatokat olyan partíciókban tárolni, amelyek földrajzilag közel helyezkednek el az adatokhoz hozzáférő alkalmazásokhoz és felhasználókhoz.</span><span class="sxs-lookup"><span data-stu-id="fe102-234">If possible, try to keep data in partitions that are geographically close to the applications and users that access it.</span></span>

3. <span data-ttu-id="fe102-235">Ha egy entitás a feldolgozási sebességre vagy lekérdezési teljesítményre vonatkozó követelményekkel rendelkezik, alkalmazzon funkcionális particionálást az adott entitás alapján.</span><span class="sxs-lookup"><span data-stu-id="fe102-235">If an entity has throughput and query performance requirements, use functional partitioning based on that entity.</span></span> <span data-ttu-id="fe102-236">Ha ez még mindig nem elégíti ki a követelményeket, alkalmazzon horizontális particionálást is.</span><span class="sxs-lookup"><span data-stu-id="fe102-236">If this still doesn't satisfy the requirements, apply horizontal partitioning as well.</span></span> <span data-ttu-id="fe102-237">A legtöbb esetben egyetlen particionálási stratégia elegendő lesz, egyes esetekben azonban a két stratégia kombinálása hatékonyabbnak bizonyul.</span><span class="sxs-lookup"><span data-stu-id="fe102-237">In most cases a single partitioning strategy will suffice, but in some cases it is more efficient to combine both strategies.</span></span>

4. <span data-ttu-id="fe102-238">Vegye figyelembe, hogy fut a lekérdezések párhuzamos partíciókon a teljesítmény javítása.</span><span class="sxs-lookup"><span data-stu-id="fe102-238">Consider running queries in parallel across partitions to improve performance.</span></span>

## <a name="designing-partitions-for-availability"></a><span data-ttu-id="fe102-239">Partíciók tervezése rendelkezésre állásra</span><span class="sxs-lookup"><span data-stu-id="fe102-239">Designing partitions for availability</span></span>

<span data-ttu-id="fe102-240">Az adatok particionálásával javítható az alkalmazások rendelkezésre állása, mivel így a teljes adatkészlet nem jelent egypontos meghibásodási helyet, és az adatkészlet egyes részhalmazai egymástól függetlenül kezelhetők.</span><span class="sxs-lookup"><span data-stu-id="fe102-240">Partitioning data can improve the availability of applications by ensuring that the entire dataset does not constitute a single point of failure and that individual subsets of the dataset can be managed independently.</span></span>

<span data-ttu-id="fe102-241">Vegye figyelembe a rendelkezésre állást befolyásoló alábbi tényezőket:</span><span class="sxs-lookup"><span data-stu-id="fe102-241">Consider the following factors that affect availability:</span></span>

<span data-ttu-id="fe102-242">**Mennyire kritikusak az adatok az üzleti tevékenységek szempontjából**.</span><span class="sxs-lookup"><span data-stu-id="fe102-242">**How critical the data is to business operations**.</span></span> <span data-ttu-id="fe102-243">Azonosítani, hogy mely adatok kritikus fontosságú üzleti adatokat, például tranzakciók, és mely adatok kevésbé fontos működési adatok, például a rendszernapló fájljaiban.</span><span class="sxs-lookup"><span data-stu-id="fe102-243">Identify which data is critical business information, such as transactions, and which data is less critical operational data, such as log files.</span></span>

- <span data-ttu-id="fe102-244">Vegye figyelembe, hogy kritikus fontosságú adatokat tárolja magas rendelkezésre állású partíciókon, megfelelő biztonsági mentési tervvel.</span><span class="sxs-lookup"><span data-stu-id="fe102-244">Consider storing critical data in highly-available partitions with an appropriate backup plan.</span></span>

- <span data-ttu-id="fe102-245">Külön felügyeleti és figyelési eljárások a különböző adatkészleteket hoz létre.</span><span class="sxs-lookup"><span data-stu-id="fe102-245">Establish separate management and monitoring procedures for the different datasets.</span></span>

- <span data-ttu-id="fe102-246">Az ugyanolyan kritikusságú adatokat helyezze ugyanabba a partícióba, hogy megfelelő gyakorisággal egyszerre készíthessen biztonsági másolatot róluk.</span><span class="sxs-lookup"><span data-stu-id="fe102-246">Place data that has the same level of criticality in the same partition so that it can be backed up together at an appropriate frequency.</span></span> <span data-ttu-id="fe102-247">Például tranzakciók adatait tároló igényelhet, mint a naplózási és nyomkövetési információkat tartalmazóakról gyakrabban kell készíteni.</span><span class="sxs-lookup"><span data-stu-id="fe102-247">For example, partitions that hold transaction data might need to be backed up more frequently than partitions that hold logging or trace information.</span></span>

<span data-ttu-id="fe102-248">**Hogyan felügyelhetőek az egyes partíciók**.</span><span class="sxs-lookup"><span data-stu-id="fe102-248">**How individual partitions can be managed**.</span></span> <span data-ttu-id="fe102-249">A partíciók a független felügyeletet és karbantartást biztosító kialakítása több előnnyel is jár.</span><span class="sxs-lookup"><span data-stu-id="fe102-249">Designing partitions to support independent management and maintenance provides several advantages.</span></span> <span data-ttu-id="fe102-250">Példa:</span><span class="sxs-lookup"><span data-stu-id="fe102-250">For example:</span></span>

- <span data-ttu-id="fe102-251">Ha valamelyik partíció leáll, önállóan helyreállítható, anélkül, hogy a többi partíció adatait használó alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="fe102-251">If a partition fails, it can be recovered independently without applications that access data in other partitions.</span></span>

- <span data-ttu-id="fe102-252">Az adatok földrajzi területek szerinti particionálásával az ütemezett karbantartás minden helyen a csúcsidőn kívül végezhető el.</span><span class="sxs-lookup"><span data-stu-id="fe102-252">Partitioning data by geographical area allows scheduled maintenance tasks to occur at off-peak hours for each location.</span></span> <span data-ttu-id="fe102-253">Gondoskodjon róla, hogy a partíciók ne legyenek túl nagyok a tervezett karbantartás adott időablakban való elvégzéséhez.</span><span class="sxs-lookup"><span data-stu-id="fe102-253">Ensure that partitions are not too big to prevent any planned maintenance from being completed during this period.</span></span>

<span data-ttu-id="fe102-254">**Érdemes-e a kritikus fontosságú adatokat a partíciók közt replikálni**.</span><span class="sxs-lookup"><span data-stu-id="fe102-254">**Whether to replicate critical data across partitions**.</span></span> <span data-ttu-id="fe102-255">Ez a stratégia javíthatja a rendelkezésre állást és teljesítményt, de adatkonzisztenciával kapcsolatos problémák is eredményezhet.</span><span class="sxs-lookup"><span data-stu-id="fe102-255">This strategy can improve availability and performance, but can also introduce consistency issues.</span></span> <span data-ttu-id="fe102-256">Szinkronizálni a módosításokat az összes replikára időt vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="fe102-256">It takes time to synchronize changes with every replica.</span></span> <span data-ttu-id="fe102-257">Ez alatt az idő alatt az adatértékek a különböző partíciókban különbözőek lesznek.</span><span class="sxs-lookup"><span data-stu-id="fe102-257">During this period, different partitions will contain different data values.</span></span>

## <a name="application-design-considerations"></a><span data-ttu-id="fe102-258">Alkalmazáskialakítási szempontok</span><span class="sxs-lookup"><span data-stu-id="fe102-258">Application design considerations</span></span>

<span data-ttu-id="fe102-259">A particionálás bonyolultabbá teszi tervezését és fejlesztését, a rendszer.</span><span class="sxs-lookup"><span data-stu-id="fe102-259">Partitioning adds complexity to the design and development of your system.</span></span> <span data-ttu-id="fe102-260">A particionálást a rendszer alapvető részeként kell tekinteni a tervezés során, még ha a rendszer eleinte csak egyetlen partícióval rendelkezik is.</span><span class="sxs-lookup"><span data-stu-id="fe102-260">Consider partitioning as a fundamental part of system design even if the system initially only contains a single partition.</span></span> <span data-ttu-id="fe102-261">Ha a particionálást csak utólag, nehéz lehet, mert már rendelkezik egy élő rendszert karban kell tartani lesz:</span><span class="sxs-lookup"><span data-stu-id="fe102-261">If you address partitioning as an afterthought, it will be more challenging because you already have a live system to maintain:</span></span>

- <span data-ttu-id="fe102-262">Adatelérési logikáját kell módosítani.</span><span class="sxs-lookup"><span data-stu-id="fe102-262">Data access logic will need to be modified.</span></span>
- <span data-ttu-id="fe102-263">Előfordulhat, hogy nagy mennyiségű meglévő adatot kell telepíthetők át, a partíciók közötti</span><span class="sxs-lookup"><span data-stu-id="fe102-263">Large quantities of existing data may need to be migrated, to distribute it across partitions</span></span>
- <span data-ttu-id="fe102-264">Felhasználók elvárják, hogy továbbra is használható a rendszer az áttelepítés során.</span><span class="sxs-lookup"><span data-stu-id="fe102-264">Users expect to be able to continue using the system during the migration.</span></span>

<span data-ttu-id="fe102-265">Esetenként a particionálást nem tekintik fontosnak, mivel kezdetben még kisméretű az adatkészlet, és egy kiszolgáló könnyen képes kezelni azt.</span><span class="sxs-lookup"><span data-stu-id="fe102-265">In some cases, partitioning is not considered important because the initial dataset is small and can be easily handled by a single server.</span></span> <span data-ttu-id="fe102-266">Ez lehet bizonyos számítási feladatokhoz igaz, de a felhasználók számának növekedésével növekednie kell számos kereskedelmi rendszer.</span><span class="sxs-lookup"><span data-stu-id="fe102-266">This might be true for some workloads, but many commercial systems need to expand as the number of users increases.</span></span>

<span data-ttu-id="fe102-267">Továbbá már nem csak a particionálás nagy mennyiségű adat tárolja.</span><span class="sxs-lookup"><span data-stu-id="fe102-267">Moreover, it's not only large data stores that benefit from partitioning.</span></span> <span data-ttu-id="fe102-268">Például egy kisméretű adattárnak is lehet intenzív forgalma több száz egyidejű ügyfél irányában.</span><span class="sxs-lookup"><span data-stu-id="fe102-268">For example, a small data store might be heavily accessed by hundreds of concurrent clients.</span></span> <span data-ttu-id="fe102-269">Ilyen esetben az adatok particionálása segíthet csökkenteni a versengést és növelni a teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="fe102-269">Partitioning the data in this situation can help to reduce contention and improve throughput.</span></span>

<span data-ttu-id="fe102-270">Az adatparticionálási sémák kialakításakor vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="fe102-270">Consider the following points when you design a data partitioning scheme:</span></span>

<span data-ttu-id="fe102-271">**Több partíciót érintő adatelérési műveletek minimalizálása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-271">**Minimize cross-partition data access operations**.</span></span> <span data-ttu-id="fe102-272">Ahol lehetséges, a leggyakrabban használt adatbázis-műveletek adatokat tartsa együtt az egyes partíciókban a több partíciót érintő adatelérési műveletek minimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe102-272">Where possible, keep data for the most common database operations together in each partition to minimize cross-partition data access operations.</span></span> <span data-ttu-id="fe102-273">Több partícióra kiterjedő lekérdezések több időt vesz igénybe, mint az ugyanazon a partíción belül is lehet, de a partíciók a lekérdezések optimalizálása kedvezőtlen hatással lehet más készletnyi lekérdezést.</span><span class="sxs-lookup"><span data-stu-id="fe102-273">Querying across partitions can be more time-consuming than querying within a single partition, but optimizing partitions for one set of queries might adversely affect other sets of queries.</span></span> <span data-ttu-id="fe102-274">Ha le kell kérdezni a partíciók közt, minimálisra csökkenthető a lekérdezési idő lekérdezések párhuzamos futtatásával, és összesíti az eredményeket az alkalmazáson belül.</span><span class="sxs-lookup"><span data-stu-id="fe102-274">If you must query across partitions, minimize query time by running parallel queries and aggregating the results within the application.</span></span> <span data-ttu-id="fe102-275">(Ez a módszer nem lehetséges, bizonyos esetekben, például ha egy lekérdezés eredménye a következő lekérdezés lesz használva.)</span><span class="sxs-lookup"><span data-stu-id="fe102-275">(This approach might not be possible in some cases, such as when the result from one query is used in the next query.)</span></span>

<span data-ttu-id="fe102-276">**Vegye figyelembe, statikus referenciaadatok replikálását.**</span><span class="sxs-lookup"><span data-stu-id="fe102-276">**Consider replicating static reference data.**</span></span> <span data-ttu-id="fe102-277">Ha a lekérdezések viszonylag statikus referenciaadatokra vonatkoznak, mint például az irányítószámok táblázatára vagy terméklistákra, használjon céltárfiókban ezeket az adatokat az összes partícióra külön keresési műveletet végezni a különböző partíciókban csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe102-277">If queries use relatively static reference data, such as postal code tables or product lists, consider replicating this data in all of the partitions to reduce separate lookup operations in different partitions.</span></span> <span data-ttu-id="fe102-278">Ez a megközelítés a referenciaadatok olyan "Forró" adatkészlet, a teljes rendszer között a nagy forgalmú váljon valószínűségét is csökkentheti.</span><span class="sxs-lookup"><span data-stu-id="fe102-278">This approach can also reduce the likelihood of the reference data becoming a "hot" dataset, with heavy traffic from across the entire system.</span></span> <span data-ttu-id="fe102-279">Van azonban egy esetleges szinkronizálása a referenciaadatok további költségekkel.</span><span class="sxs-lookup"><span data-stu-id="fe102-279">However, there is an additional cost associated with synchronizing any changes to the reference data.</span></span>

<span data-ttu-id="fe102-280">**A partíciók közti összekapcsolásokat minimalizálása érdekében.**</span><span class="sxs-lookup"><span data-stu-id="fe102-280">**Minimize cross-partition joins.**</span></span> <span data-ttu-id="fe102-281">Ahol lehetséges, minimalizálja a hivatkozásintegritás-vertikális és funkcionális partíciókban között.</span><span class="sxs-lookup"><span data-stu-id="fe102-281">Where possible, minimize requirements for referential integrity across vertical and functional partitions.</span></span> <span data-ttu-id="fe102-282">Ezekben a sémákban az alkalmazás feladata a hivatkozásintegritás fenntartása a partíciók között.</span><span class="sxs-lookup"><span data-stu-id="fe102-282">In these schemes, the application is responsible for maintaining referential integrity across partitions.</span></span> <span data-ttu-id="fe102-283">Adatok join több több partícióra kiterjedő lekérdezések nem hatékony, mert az alkalmazás általában egy kulcsot és egy külső kulcs alapján egymást követő lekérdezéseket kell.</span><span class="sxs-lookup"><span data-stu-id="fe102-283">Queries that join data across multiple partitions are inefficient because the application typically needs to perform consecutive queries based on a key and then a foreign key.</span></span> <span data-ttu-id="fe102-284">Ehelyett érdemes replikálni a vonatkozó adatokat vagy megszüntetni azok normalizáltságát.</span><span class="sxs-lookup"><span data-stu-id="fe102-284">Instead, consider replicating or de-normalizing the relevant data.</span></span> <span data-ttu-id="fe102-285">Ha a partíciók közti összekapcsolásokat szükség, futtassa párhuzamosan a lekérdezéseket a külön partíciókban, és az adatokat az alkalmazáson belül.</span><span class="sxs-lookup"><span data-stu-id="fe102-285">If cross-partition joins are necessary, run parallel queries over the partitions and join the data within the application.</span></span>

<span data-ttu-id="fe102-286">**Végső konzisztencia támogatása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-286">**Embrace eventual consistency**.</span></span> <span data-ttu-id="fe102-287">Mérje fel, hogy az erős konzisztencia valóban követelmény-e.</span><span class="sxs-lookup"><span data-stu-id="fe102-287">Evaluate whether strong consistency is actually a requirement.</span></span> <span data-ttu-id="fe102-288">Általánosan használt megközelítés elosztott rendszerek, hogy a végleges konzisztencia megvalósításával.</span><span class="sxs-lookup"><span data-stu-id="fe102-288">A common approach in distributed systems is to implement eventual consistency.</span></span> <span data-ttu-id="fe102-289">Az egyes partíciók adatainak frissítése külön történik, és az alkalmazáslogika biztosítja, hogy a frissítések mind sikeresen mennek végbe.</span><span class="sxs-lookup"><span data-stu-id="fe102-289">The data in each partition is updated separately, and the application logic ensures that the updates are all completed successfully.</span></span> <span data-ttu-id="fe102-290">A logika emellett a végül konzisztens műveletek keretében futtatott adatlekérdezésekből eredő esetleges inkonzisztenciákat is kezeli.</span><span class="sxs-lookup"><span data-stu-id="fe102-290">It also handles the inconsistencies that can arise from querying data while an eventually consistent operation is running.</span></span>

<span data-ttu-id="fe102-291">**Mérlegelje, hogyan találják meg a lekérdezések a megfelelő partíciót**.</span><span class="sxs-lookup"><span data-stu-id="fe102-291">**Consider how queries locate the correct partition**.</span></span> <span data-ttu-id="fe102-292">Ha egy lekérdezésnek az összes partíciót át kell vizsgálnia a szükséges adatok megtalálásához, az jelentős mértékben kihathat a teljesítményre, még akkor is, ha több párhuzamos lekérdezés fut.</span><span class="sxs-lookup"><span data-stu-id="fe102-292">If a query must scan all partitions to locate the required data, there is a significant impact on performance, even when multiple parallel queries are running.</span></span> <span data-ttu-id="fe102-293">A vertikális és funkcionális particionálás, a lekérdezések természetes módon képesek meghatározni a partíciót.</span><span class="sxs-lookup"><span data-stu-id="fe102-293">With vertical and functional partitioning, queries can naturally specify the partition.</span></span> <span data-ttu-id="fe102-294">Horizontális particionálás, másrészt teheti nehéz, elemek helyének megkeresése, mert minden szegmens ugyanazzal a sémával.</span><span class="sxs-lookup"><span data-stu-id="fe102-294">Horizontal partitioning, on the other hand, can make locating an item difficult, because every shard has the same schema.</span></span> <span data-ttu-id="fe102-295">Egy tipikus megoldás, amellyel keresse meg az egyes adatelemek helyét a szegmensek közt leképezést fenntartani.</span><span class="sxs-lookup"><span data-stu-id="fe102-295">A typical solution to maintain a map that is used to look up the shard location for specific items.</span></span> <span data-ttu-id="fe102-296">Ez a térkép az alkalmazás horizontális particionálási logikájában valósítható meg, vagy az adattár is karbantarthatja, ha támogatja a transzparens horizontális particionálást.</span><span class="sxs-lookup"><span data-stu-id="fe102-296">This map can be implemented in the sharding logic of the application, or maintained by the data store if it supports transparent sharding.</span></span>

<span data-ttu-id="fe102-297">**Vegye figyelembe, rendszeres időközönként a szegmensek újraegyensúlyozása**.</span><span class="sxs-lookup"><span data-stu-id="fe102-297">**Consider periodically rebalancing shards**.</span></span> <span data-ttu-id="fe102-298">Horizontális particionálás, a szegmensek újraegyensúlyozása segíthet az adatok egyenletes elosztását méret és minimalizálja a kritikus pontok, a lekérdezési teljesítmény maximalizálása és a fizikai megkerüléséhez.</span><span class="sxs-lookup"><span data-stu-id="fe102-298">With horizontal partitioning, rebalancing shards can help distribute the data evenly by size and by workload to minimize hotspots, maximize query performance, and work around physical storage limitations.</span></span> <span data-ttu-id="fe102-299">Ez azonban egy összetett feladat, amelyhez általában egy egyéni eszköz vagy folyamat használata szükséges.</span><span class="sxs-lookup"><span data-stu-id="fe102-299">However, this is a complex task that often requires the use of a custom tool or process.</span></span>

<span data-ttu-id="fe102-300">**A partíciók replikálása.**</span><span class="sxs-lookup"><span data-stu-id="fe102-300">**Replicate partitions.**</span></span> <span data-ttu-id="fe102-301">Ha mindegyik partíciót replikálja, ez meghibásodása elleni további védelmet biztosít.</span><span class="sxs-lookup"><span data-stu-id="fe102-301">If you replicate each partition, it provides additional protection against failure.</span></span> <span data-ttu-id="fe102-302">Ha valamelyik replika leáll, a lekérdezések egy másik, működő példányra irányíthatóak.</span><span class="sxs-lookup"><span data-stu-id="fe102-302">If a single replica fails, queries can be directed towards a working copy.</span></span>

<span data-ttu-id="fe102-303">**Ha eléri valamely particionálási stratégia fizikai korlátait, érdemes lehet a skálázhatóságot egy másik szintre kiterjeszteni**.</span><span class="sxs-lookup"><span data-stu-id="fe102-303">**If you reach the physical limits of a partitioning strategy, you might need to extend the scalability to a different level**.</span></span> <span data-ttu-id="fe102-304">Például ha a particionálás az adatbázis szintjén valósul meg, a partíciókat esetleg több adatbázisban szükséges elhelyezni vagy replikálni.</span><span class="sxs-lookup"><span data-stu-id="fe102-304">For example, if partitioning is at the database level, you might need to locate or replicate partitions in multiple databases.</span></span> <span data-ttu-id="fe102-305">Ha a particionálás már eleve az adatbázis szintjén van megvalósítva, és a fizikai korlátok problémát jelentenek, ez jelezheti azt, hogy a partíciókat esetleg több üzemeltetési fiókban szükséges elhelyezni vagy replikálni.</span><span class="sxs-lookup"><span data-stu-id="fe102-305">If partitioning is already at the database level, and physical limitations are an issue, it might mean that you need to locate or replicate partitions in multiple hosting accounts.</span></span>

<span data-ttu-id="fe102-306">**Kerülje a több partícióban lévő adatokat használó tranzakciókat**.</span><span class="sxs-lookup"><span data-stu-id="fe102-306">**Avoid transactions that access data in multiple partitions**.</span></span> <span data-ttu-id="fe102-307">Egyes adattárak tranzakció-konzisztenciát és integritást valósítanak meg az adatokat módosító műveletekre, de csak abban az esetben, ha az adatok egyetlen partíción találhatóak.</span><span class="sxs-lookup"><span data-stu-id="fe102-307">Some data stores implement transactional consistency and integrity for operations that modify data, but only when the data is located in a single partition.</span></span> <span data-ttu-id="fe102-308">Ha több partícióra kiterjedő tranzakciótámogatás szükséges, ezt valószínűleg az alkalmazáslogika részeként kell megvalósítania, mivel a legtöbb particionálási rendszer ezt natív módon nem támogatja.</span><span class="sxs-lookup"><span data-stu-id="fe102-308">If you need transactional support across multiple partitions, you will probably need to implement this as part of your application logic because most partitioning systems do not provide native support.</span></span>

<span data-ttu-id="fe102-309">Minden adattárhoz bizonyos üzemeltetési felügyeleti és monitorozási tevékenységeket is végezni kell.</span><span class="sxs-lookup"><span data-stu-id="fe102-309">All data stores require some operational management and monitoring activity.</span></span> <span data-ttu-id="fe102-310">Ilyen feladat lehet az adatok betöltése, az adatok biztonsági mentése és helyreállítása, az adatok átrendezése, valamint a rendszer megfelelő és hatékony működésének biztosítása.</span><span class="sxs-lookup"><span data-stu-id="fe102-310">The tasks can range from loading data, backing up and restoring data, reorganizing data, and ensuring that the system is performing correctly and efficiently.</span></span>

<span data-ttu-id="fe102-311">Mérlegelje az üzemeltetési felügyeletet befolyásoló alábbi tényezőket:</span><span class="sxs-lookup"><span data-stu-id="fe102-311">Consider the following factors that affect operational management:</span></span>

- <span data-ttu-id="fe102-312">**Hogyan valósíthatóak meg a megfelelő felügyeleti és üzemeltetési feladatok az adatok particionálása esetén**.</span><span class="sxs-lookup"><span data-stu-id="fe102-312">**How to implement appropriate management and operational tasks when the data is partitioned**.</span></span> <span data-ttu-id="fe102-313">Ilyen feladatok lehetnek a biztonsági mentés és visszaállítás, az adatok archiválása, a rendszer monitorozása, valamint egyéb felügyeleti feladatok.</span><span class="sxs-lookup"><span data-stu-id="fe102-313">These tasks might include backup and restore, archiving data, monitoring the system, and other administrative tasks.</span></span> <span data-ttu-id="fe102-314">Például a logikai konzisztencia fenntartása a biztonsági mentési és visszaállítási műveletek során kihívást jelenthet.</span><span class="sxs-lookup"><span data-stu-id="fe102-314">For example, maintaining logical consistency during backup and restore operations can be a challenge.</span></span>

- <span data-ttu-id="fe102-315">**Hogyan tölthetőek be az adatok több partícióba, és hogyan adhatók hozzá a külső forrásokból érkező új adatok**.</span><span class="sxs-lookup"><span data-stu-id="fe102-315">**How to load the data into multiple partitions and add new data that's arriving from other sources**.</span></span> <span data-ttu-id="fe102-316">Egyes eszközök és segédprogramok esetleg nem támogatják a horizontálisan particionált adatműveleteket, például az adatok a megfelelő partícióba való betöltését.</span><span class="sxs-lookup"><span data-stu-id="fe102-316">Some tools and utilities might not support sharded data operations such as loading data into the correct partition.</span></span>

- <span data-ttu-id="fe102-317">**Hogyan oldható meg az adatok rendszeres archiválása és törlése**.</span><span class="sxs-lookup"><span data-stu-id="fe102-317">**How to archive and delete the data on a regular basis**.</span></span> <span data-ttu-id="fe102-318">A partíciók méretének túlzott növekedését elkerülendő az adatokat rendszeresen (például havonta) archiválni és törölni kell.</span><span class="sxs-lookup"><span data-stu-id="fe102-318">To prevent the excessive growth of partitions, you need to archive and delete data on a regular basis (perhaps monthly).</span></span> <span data-ttu-id="fe102-319">Szükség lehet az adatok egy másik archiválási sémának megfelelő átalakítására.</span><span class="sxs-lookup"><span data-stu-id="fe102-319">It might be necessary to transform the data to match a different archive schema.</span></span>

- <span data-ttu-id="fe102-320">**Hogyan találhatók meg az adatintegritási problémák**.</span><span class="sxs-lookup"><span data-stu-id="fe102-320">**How to locate data integrity issues**.</span></span> <span data-ttu-id="fe102-321">Fontolja meg, keresse meg az adatintegritási problémák, például egy olyan partíciót, egy másik hiányzó adataira hivatkoznak az adatok egy rendszeres folyamat futtatását.</span><span class="sxs-lookup"><span data-stu-id="fe102-321">Consider running a periodic process to locate any data integrity issues, such as data in one partition that references missing information in another.</span></span> <span data-ttu-id="fe102-322">A folyamat megpróbálhatja automatikusan megoldhatja ezeket a problémákat, vagy egyszerűen csak a manuális ellenőrzést jelentés létrehozása.</span><span class="sxs-lookup"><span data-stu-id="fe102-322">The process can either attempt to fix these issues automatically or simply generate a report for manual review.</span></span>

## <a name="rebalancing-partitions"></a><span data-ttu-id="fe102-323">Partíciók kiegyenlítése</span><span class="sxs-lookup"><span data-stu-id="fe102-323">Rebalancing partitions</span></span>

<span data-ttu-id="fe102-324">A rendszer kiforrottá, előfordulhat, hogy kell particionálási sémát módosítani.</span><span class="sxs-lookup"><span data-stu-id="fe102-324">As a system matures, you might have to adjust the partitioning scheme.</span></span> <span data-ttu-id="fe102-325">Például előfordulhat, hogy az egyes partíciók indítson el egy aránytalanul nagy mennyiségű forgalmat és a válnak a gyakori elérésű, ami túlzott versengést okozhat.</span><span class="sxs-lookup"><span data-stu-id="fe102-325">For example, individual partitions might start get a disproportionate volume of traffic and become hot, leading to excessive contention.</span></span> <span data-ttu-id="fe102-326">Vagy, előfordulhat, hogy rendelkezik alábecsülte egyes partíciók adatmennyiség okozza az egyes partíciók kapacitáskorlátait megközelítést.</span><span class="sxs-lookup"><span data-stu-id="fe102-326">Or you might have underestimated the volume of data in some partitions, causing some partitions to approach capacity limits.</span></span>

<span data-ttu-id="fe102-327">Néhány adattár, például a Cosmos dB-ben is automatikusan egyensúlyozni a partíciókat.</span><span class="sxs-lookup"><span data-stu-id="fe102-327">Some data stores, such as Cosmos DB, can automatically rebalance partitions.</span></span> <span data-ttu-id="fe102-328">Más esetekben újraegyensúlyozása egy felügyeleti feladat, amely két szakaszból áll:</span><span class="sxs-lookup"><span data-stu-id="fe102-328">In other cases, rebalancing is an administrative task that consists of two stages:</span></span>

1. <span data-ttu-id="fe102-329">Egy új particionálási stratégia meghatározása.</span><span class="sxs-lookup"><span data-stu-id="fe102-329">Determine a new partitioning strategy.</span></span>

    - <span data-ttu-id="fe102-330">Felosztandó (vagy épp egyesítendő) partíciók kell?</span><span class="sxs-lookup"><span data-stu-id="fe102-330">Which partitions need to be split (or possibly combined)?</span></span>
    - <span data-ttu-id="fe102-331">Mi az az új partíciós kulcs?</span><span class="sxs-lookup"><span data-stu-id="fe102-331">What is the new partition key?</span></span>

2. <span data-ttu-id="fe102-332">Adatokat át a régi particionálási sémáról az újonnan létrehozott partícióhalmazra.</span><span class="sxs-lookup"><span data-stu-id="fe102-332">Migrate data from the old partitioning scheme to the new set of partitions.</span></span>

<span data-ttu-id="fe102-333">Az adattár függően előfordulhat, hogy kell adatok áttelepítése közben használatban vannak a partíciók között.</span><span class="sxs-lookup"><span data-stu-id="fe102-333">Depending on the data store, you might be able to migrate data between partitions while they are in use.</span></span> <span data-ttu-id="fe102-334">Ezt nevezzük *online migrálás*.</span><span class="sxs-lookup"><span data-stu-id="fe102-334">This is called *online migration*.</span></span> <span data-ttu-id="fe102-335">Ha ez nem lehetséges, szüksége lehet győződjön meg arról, partíciók nem érhető el, amíg az adatok áthelyezéséről van (*offline migrálás*).</span><span class="sxs-lookup"><span data-stu-id="fe102-335">If that's not possible, you might need to make partitions unavailable while the data is relocated (*offline migration*).</span></span>

### <a name="offline-migration"></a><span data-ttu-id="fe102-336">Offline migrálás</span><span class="sxs-lookup"><span data-stu-id="fe102-336">Offline migration</span></span>

<span data-ttu-id="fe102-337">Offline áttelepítés csökkenti a versengést előfordulásának esélyét oka általában egyszerűbb.</span><span class="sxs-lookup"><span data-stu-id="fe102-337">Offline migration is generally simpler, because it reduces the chances of contention occurring.</span></span> <span data-ttu-id="fe102-338">Elméleti szinten offline áttelepítés a következőképpen működik:</span><span class="sxs-lookup"><span data-stu-id="fe102-338">Conceptually, offline migration works as follows:</span></span>

1. <span data-ttu-id="fe102-339">A partíció offline megjelölni.</span><span class="sxs-lookup"><span data-stu-id="fe102-339">Mark the partition offline.</span></span>
2. <span data-ttu-id="fe102-340">Felosztási-egyesítési, és áthelyezi az adatokat az új partíciókat.</span><span class="sxs-lookup"><span data-stu-id="fe102-340">Split-merge and move the data to the new partitions.</span></span>
3. <span data-ttu-id="fe102-341">Az adatok ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="fe102-341">Verify the data.</span></span>
4. <span data-ttu-id="fe102-342">Az új adatpartícióinak online állapotba.</span><span class="sxs-lookup"><span data-stu-id="fe102-342">Bring the new partitions online.</span></span>
5. <span data-ttu-id="fe102-343">Távolítsa el a régi partíció.</span><span class="sxs-lookup"><span data-stu-id="fe102-343">Remove the old partition.</span></span>

<span data-ttu-id="fe102-344">Igény szerint jelölheti egy partíció 1. lépésben csak olvasásra, hogy az alkalmazások továbbra is képes olvasni az adatokat, közben is olvashatják.</span><span class="sxs-lookup"><span data-stu-id="fe102-344">Optionally, you can mark a partition as read-only in step 1, so that applications can still read the data while it is being moved.</span></span>

## <a name="online-migration"></a><span data-ttu-id="fe102-345">Online migrálás</span><span class="sxs-lookup"><span data-stu-id="fe102-345">Online migration</span></span>

<span data-ttu-id="fe102-346">Online migrálás nehezebben végrehajtható, de kevésbé zavaró.</span><span class="sxs-lookup"><span data-stu-id="fe102-346">Online migration is more complex to perform but less disruptive.</span></span> <span data-ttu-id="fe102-347">A folyamat hasonlít az offline migrálás, kivéve az eredeti partíció nincs megjelölve offline állapotban van.</span><span class="sxs-lookup"><span data-stu-id="fe102-347">The process is similar to offline migration, except the original partition is not marked offline.</span></span> <span data-ttu-id="fe102-348">(Például elem és a szegmens szegmens szerint) a migrálási folyamat részletességétől függően az adatelérési kód az ügyfélalkalmazások lehet olvasása és írása két helyen, az eredeti partíció, és az új a tárolt adatok kezelése a partíció.</span><span class="sxs-lookup"><span data-stu-id="fe102-348">Depending on the granularity of the migration process (for example, item by item versus shard by shard), the data access code in the client applications might have to handle reading and writing data that's held in two locations, the original partition and the new partition.</span></span>

## <a name="related-patterns"></a><span data-ttu-id="fe102-349">Kapcsolódó minták</span><span class="sxs-lookup"><span data-stu-id="fe102-349">Related patterns</span></span>

<span data-ttu-id="fe102-350">Az alábbi tervezési minták a forgatókönyvéhez hasznosak lehetnek:</span><span class="sxs-lookup"><span data-stu-id="fe102-350">The following design patterns might be relevant to your scenario:</span></span>

- <span data-ttu-id="fe102-351">A [horizontális skálázási minta](../patterns/sharding.md) az adatok horizontális néhány gyakori stratégiát ismerteti.</span><span class="sxs-lookup"><span data-stu-id="fe102-351">The [sharding pattern](../patterns/sharding.md) describes some common strategies for sharding data.</span></span>

- <span data-ttu-id="fe102-352">A [indextáblát alkalmazó minta](../patterns/index-table.md) adatokra vonatkozó másodlagos indexek létrehozását mutatja be.</span><span class="sxs-lookup"><span data-stu-id="fe102-352">The [index table pattern](../patterns/index-table.md) shows how to create secondary indexes over data.</span></span> <span data-ttu-id="fe102-353">Az alkalmazás ezzel a megközelítéssel gyorsan kérheti le az adatokat olyan lekérdezések használatával, amelyek nem hivatkoznak a gyűjtemények elsődleges kulcsára.</span><span class="sxs-lookup"><span data-stu-id="fe102-353">An application can quickly retrieve data with this approach, by using queries that do not reference the primary key of a collection.</span></span>

- <span data-ttu-id="fe102-354">A [materialized view minta](../patterns/materialized-view.md) ismerteti, hogyan hozhat létre, amely a gyors lekérdezési műveletek támogatása az adatok összegzéséhez adatokkal előre feltöltött nézetek.</span><span class="sxs-lookup"><span data-stu-id="fe102-354">The [materialized view pattern](../patterns/materialized-view.md) describes how to generate pre-populated views that summarize data to support fast query operations.</span></span> <span data-ttu-id="fe102-355">Ez a megközelítés akkor lehet hasznos a particionált tárolókban, ha az összegzendő adatokat tartalmazó partíciók több helyre vannak osztva.</span><span class="sxs-lookup"><span data-stu-id="fe102-355">This approach can be useful in a partitioned data store if the partitions that contain the data being summarized are distributed across multiple sites.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fe102-356">További lépések</span><span class="sxs-lookup"><span data-stu-id="fe102-356">Next steps</span></span>

- <span data-ttu-id="fe102-357">További információ a particionálási stratégiái az adott Azure-szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="fe102-357">Learn about partitioning strategies for specific Azure services.</span></span> <span data-ttu-id="fe102-358">Lásd: [adatok particionálási stratégiái](./data-partitioning-strategies.md)</span><span class="sxs-lookup"><span data-stu-id="fe102-358">See [Data partitioning strategies](./data-partitioning-strategies.md)</span></span>

[Az Azure Storage skálázhatósági és teljesítménycéljai]: /azure/storage/storage-scalability-targets
[Azure Storage Scalability and Performance Targets]: /azure/storage/storage-scalability-targets
