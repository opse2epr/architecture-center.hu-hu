---
title: Megfigyelési és diagnosztikai útmutató
description: Gyakorlati tanácsok a felhőben az elosztott alkalmazások figyeléséhez.
author: dragon119
ms.date: 07/13/2016
pnp.series.title: Best Practices
ms.openlocfilehash: 8dd3979233b03db800bd9514263d9c6fedefa074
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="monitoring-and-diagnostics"></a><span data-ttu-id="101b8-103">Megfigyelési és diagnosztikai</span><span class="sxs-lookup"><span data-stu-id="101b8-103">Monitoring and diagnostics</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="101b8-104">A felhőben futó elosztott alkalmazások és szolgáltatások természetükből, összetett kisebb szoftverek, sok áthelyezése részből áll.</span><span class="sxs-lookup"><span data-stu-id="101b8-104">Distributed applications and services running in the cloud are, by their nature, complex pieces of software that comprise many moving parts.</span></span> <span data-ttu-id="101b8-105">Éles környezetben fontos segítségével követheti nyomon, amelyben a felhasználók kihasználhassák a rendszer, az erőforrás-használat nyomkövetési módja, és általában a állapotának és a rendszer teljesítményének figyelése.</span><span class="sxs-lookup"><span data-stu-id="101b8-105">In a production environment, it's important to be able to track the way in which users utilize your system, trace resource utilization, and generally monitor the health and performance of your system.</span></span> <span data-ttu-id="101b8-106">Segítségével ezt az információt diagnosztikai segítségként ismeri fel és javítsa ki a problémákat, és is potenciális problémák segítségével, és megakadályozza, hogy azok lépett fel.</span><span class="sxs-lookup"><span data-stu-id="101b8-106">You can use this information as a diagnostic aid to detect and correct issues, and also to help spot potential problems and prevent them from occurring.</span></span>

## <a name="monitoring-and-diagnostics-scenarios"></a><span data-ttu-id="101b8-107">Megfigyelési és diagnosztikai forgatókönyvek</span><span class="sxs-lookup"><span data-stu-id="101b8-107">Monitoring and diagnostics scenarios</span></span>
<span data-ttu-id="101b8-108">Figyelés segítségével betekintést egy mennyire működik-e a rendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-108">You can use monitoring to gain an insight into how well a system is functioning.</span></span> <span data-ttu-id="101b8-109">A szolgáltatásminőség-tárolók karbantartásának döntő szerepet figyelési.</span><span class="sxs-lookup"><span data-stu-id="101b8-109">Monitoring is a crucial part of maintaining quality-of-service targets.</span></span> <span data-ttu-id="101b8-110">Általános példák a figyelési adatok gyűjtése a következők:</span><span class="sxs-lookup"><span data-stu-id="101b8-110">Common scenarios for collecting monitoring data include:</span></span>

* <span data-ttu-id="101b8-111">Győződjön meg arról, hogy a rendszer továbbra is működik megfelelően.</span><span class="sxs-lookup"><span data-stu-id="101b8-111">Ensuring that the system remains healthy.</span></span>
* <span data-ttu-id="101b8-112">Nyomon követi, a rendszer és az összetevő elemei.</span><span class="sxs-lookup"><span data-stu-id="101b8-112">Tracking the availability of the system and its component elements.</span></span>
* <span data-ttu-id="101b8-113">Teljesítményét, és győződjön meg arról, hogy az átviteli sebessége a rendszer nem csökkentheti a váratlanul munka növeli a kötetként karbantartása.</span><span class="sxs-lookup"><span data-stu-id="101b8-113">Maintaining performance to ensure that the throughput of the system does not degrade unexpectedly as the volume of work increases.</span></span>
* <span data-ttu-id="101b8-114">Amely garantálja, hogy a rendszer megfelel-e az ügyfelek létesített szolgáltatásiszint-szerződések (SLA).</span><span class="sxs-lookup"><span data-stu-id="101b8-114">Guaranteeing that the system meets any service-level agreements (SLAs) established with customers.</span></span>
* <span data-ttu-id="101b8-115">Az adatvédelmi és biztonsági a rendszer, a felhasználók és az adatok védelme.</span><span class="sxs-lookup"><span data-stu-id="101b8-115">Protecting the privacy and security of the system, users, and their data.</span></span>
* <span data-ttu-id="101b8-116">A naplózási és szabályozási céljából elvégzett műveletek nyomon követéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-116">Tracking the operations that are performed for auditing or regulatory purposes.</span></span>
* <span data-ttu-id="101b8-117">A rendszer és a trendeket, amely előfordulhat, hogy problémát okozhat, ha még nem érintett gyorsabban napi használat figyelését.</span><span class="sxs-lookup"><span data-stu-id="101b8-117">Monitoring the day-to-day usage of the system and spotting trends that might lead to problems if they're not addressed.</span></span>
* <span data-ttu-id="101b8-118">Nyomon követi a problémák, a lehetséges okok, kijavítása, ezt követő eldobására szoftverfrissítések és központi telepítés elemzésének keresztül kezdeti jelentést.</span><span class="sxs-lookup"><span data-stu-id="101b8-118">Tracking issues that occur, from initial report through to analysis of possible causes, rectification, consequent software updates, and deployment.</span></span>
* <span data-ttu-id="101b8-119">Műveletek nyomkövetéséhez és szoftverkiadások.</span><span class="sxs-lookup"><span data-stu-id="101b8-119">Tracing operations and debugging software releases.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-120">Ez a lista nem célja a átfogó.</span><span class="sxs-lookup"><span data-stu-id="101b8-120">This list is not intended to be comprehensive.</span></span> <span data-ttu-id="101b8-121">A dokumentum fő témáját forgatókönyvekben, a leggyakoribb esetekben a megfigyelési.</span><span class="sxs-lookup"><span data-stu-id="101b8-121">This document focuses on these scenarios as the most common situations for performing monitoring.</span></span> <span data-ttu-id="101b8-122">Előfordulhat, hogy az adott ritkább vagy adott környezetre.</span><span class="sxs-lookup"><span data-stu-id="101b8-122">There might be others that are less common or are specific to your environment.</span></span>
> 
> 

<span data-ttu-id="101b8-123">A következő szakaszok ismertetik részletesebben forgatókönyvekben.</span><span class="sxs-lookup"><span data-stu-id="101b8-123">The following sections describe these scenarios in more detail.</span></span> <span data-ttu-id="101b8-124">Az egyes forgatókönyvek esetében a információkat ismertet a következő formátumban:</span><span class="sxs-lookup"><span data-stu-id="101b8-124">The information for each scenario is discussed in the following format:</span></span>

1. <span data-ttu-id="101b8-125">A forgatókönyv rövid áttekintése</span><span class="sxs-lookup"><span data-stu-id="101b8-125">A brief overview of the scenario</span></span>
2. <span data-ttu-id="101b8-126">Ebben a forgatókönyvben jellemző követelményeinek</span><span class="sxs-lookup"><span data-stu-id="101b8-126">The typical requirements of this scenario</span></span>
3. <span data-ttu-id="101b8-127">A forgatókönyv és a lehetséges információforrásokat támogatásához szükséges nyers WMI-adatok</span><span class="sxs-lookup"><span data-stu-id="101b8-127">The raw instrumentation data that's required to support the scenario, and possible sources of this information</span></span>
4. <span data-ttu-id="101b8-128">Hogyan elemezheti és diagnosztikai információ létrehozásához kombinált a a nyers adatok</span><span class="sxs-lookup"><span data-stu-id="101b8-128">How this raw data can be analyzed and combined to generate meaningful diagnostic information</span></span>

## <a name="health-monitoring"></a><span data-ttu-id="101b8-129">Állapotfigyelés</span><span class="sxs-lookup"><span data-stu-id="101b8-129">Health monitoring</span></span>
<span data-ttu-id="101b8-130">A rendszer állapota kifogástalan, ha fut, és képes a kérelmek feldolgozásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-130">A system is healthy if it is running and capable of processing requests.</span></span> <span data-ttu-id="101b8-131">Állapotfigyelés célja a rendszer aktuális állapotáról pillanatképet létrehozni, így ellenőrizheti, hogy a rendszer minden összetevő várt módon működnek-e.</span><span class="sxs-lookup"><span data-stu-id="101b8-131">The purpose of health monitoring is to generate a snapshot of the current health of the system so that you can verify that all components of the system are functioning as expected.</span></span>

### <a name="requirements-for-health-monitoring"></a><span data-ttu-id="101b8-132">Állapotfigyelés követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-132">Requirements for health monitoring</span></span>
<span data-ttu-id="101b8-133">Operátor kell értesítést gyorsan (belül pár másodperc), ha valamely része szerint a rendszer a nem megfelelő kell tekinteni.</span><span class="sxs-lookup"><span data-stu-id="101b8-133">An operator should be alerted quickly (within a matter of seconds) if any part of the system is deemed to be unhealthy.</span></span> <span data-ttu-id="101b8-134">Az operátor megállapította, a rendszer mely részei megfelelően működnek, és problémákat tapasztal a részeket kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-134">The operator should be able to ascertain which parts of the system are functioning normally, and which parts are experiencing problems.</span></span> <span data-ttu-id="101b8-135">Rendszerállapot is kiemelten színe rendszeren keresztül:</span><span class="sxs-lookup"><span data-stu-id="101b8-135">System health can be highlighted through a traffic-light system:</span></span>

* <span data-ttu-id="101b8-136">A piros sérült (a rendszer leállította)</span><span class="sxs-lookup"><span data-stu-id="101b8-136">Red for unhealthy (the system has stopped)</span></span>
* <span data-ttu-id="101b8-137">A sárga részben megfelelő (a rendszer fut csökkentett)</span><span class="sxs-lookup"><span data-stu-id="101b8-137">Yellow for partially healthy (the system is running with reduced functionality)</span></span>
* <span data-ttu-id="101b8-138">A zöld teljesen kifogástalan</span><span class="sxs-lookup"><span data-stu-id="101b8-138">Green for completely healthy</span></span>

<span data-ttu-id="101b8-139">Egy átfogó állapotfigyelés rendszer lehetővé teszi, hogy a rendszer alrendszerek és az összetevők állapotának megtekintéséhez részletezés az operátor.</span><span class="sxs-lookup"><span data-stu-id="101b8-139">A comprehensive health-monitoring system enables an operator to drill down through the system to view the health status of subsystems and components.</span></span> <span data-ttu-id="101b8-140">Például ha a rendszer általános részben állapota kiváló írja le, az üzemeltető kell tudni nagyítás és annak megállapítása, mely a funkció jelenleg nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="101b8-140">For example, if the overall system is depicted as partially healthy, the operator should be able to zoom in and determine which functionality is currently unavailable.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-141">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-141">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-142">A nyers adatok, állapotfigyelés támogatásához szükséges következtében hozható létre:</span><span class="sxs-lookup"><span data-stu-id="101b8-142">The raw data that's required to support health monitoring can be generated as a result of:</span></span>

* <span data-ttu-id="101b8-143">Nyomkövetés felhasználói kérelmek teljesítése.</span><span class="sxs-lookup"><span data-stu-id="101b8-143">Tracing execution of user requests.</span></span> <span data-ttu-id="101b8-144">Ezek az információk segítségével határozza meg, mely kérelmek sikeres volt, amelyek nem, és minden kérelem mennyi ideig tart.</span><span class="sxs-lookup"><span data-stu-id="101b8-144">This information can be used to determine which requests have succeeded, which have failed, and how long each request takes.</span></span>
* <span data-ttu-id="101b8-145">Szintetikus felhasználói figyelése.</span><span class="sxs-lookup"><span data-stu-id="101b8-145">Synthetic user monitoring.</span></span> <span data-ttu-id="101b8-146">Ezt a folyamatot a felhasználó által végrehajtott lépések szimulál és a lépések egy előre meghatározott sorozatát követi.</span><span class="sxs-lookup"><span data-stu-id="101b8-146">This process simulates the steps performed by a user and follows a predefined series of steps.</span></span> <span data-ttu-id="101b8-147">Minden lépés rögzíteni kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-147">The results of each step should be captured.</span></span>
* <span data-ttu-id="101b8-148">Kivételek, hibák és figyelmeztetések naplózása.</span><span class="sxs-lookup"><span data-stu-id="101b8-148">Logging exceptions, faults, and warnings.</span></span> <span data-ttu-id="101b8-149">Ezek az információk miatt az alkalmazás kódjának beilleszthető, valamint az Eseménynapló szolgáltatás sem hivatkozik, a rendszer az adatok beolvasása nyomkövetési utasítások rögzíthetők.</span><span class="sxs-lookup"><span data-stu-id="101b8-149">This information can be captured as a result of trace statements embedded into the application code, as well as retrieving information from the event logs of any services that the system references.</span></span>
* <span data-ttu-id="101b8-150">A rendszer külső szolgáltatások állapotának figyelése.</span><span class="sxs-lookup"><span data-stu-id="101b8-150">Monitoring the health of any third-party services that the system uses.</span></span> <span data-ttu-id="101b8-151">Ez a figyelő akkor lehet szükség, beolvasása és elemzése az egészségügyi adatokat, amelyek ezeket a szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-151">This monitoring might require retrieving and parsing health data that these services supply.</span></span> <span data-ttu-id="101b8-152">Ez az információ többféle formátumúak is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-152">This information might take a variety of formats.</span></span>
* <span data-ttu-id="101b8-153">Végpontmonitoring kijelző.</span><span class="sxs-lookup"><span data-stu-id="101b8-153">Endpoint monitoring.</span></span> <span data-ttu-id="101b8-154">Ez az eljárás a "Rendelkezésre állásának figyelésére szolgáló" szakaszban részletesen ismertetett.</span><span class="sxs-lookup"><span data-stu-id="101b8-154">This mechanism is described in more detail in the "Availability monitoring" section.</span></span>
* <span data-ttu-id="101b8-155">Gyűjtése környezeti teljesítményadatok, például a háttér CPU-felhasználás vagy (beleértve a hálózati) i/o-tevékenységet.</span><span class="sxs-lookup"><span data-stu-id="101b8-155">Collecting ambient performance information, such as background CPU utilization or I/O (including network) activity.</span></span>

### <a name="analyzing-health-data"></a><span data-ttu-id="101b8-156">Rendszerállapot-adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-156">Analyzing health data</span></span>
<span data-ttu-id="101b8-157">Az állapotfigyelés elsősorban gyorsan jelzi, hogy fut-e a rendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-157">The primary focus of health monitoring is to quickly indicate whether the system is running.</span></span> <span data-ttu-id="101b8-158">A közvetlen gyors adatelemzési is megjelenik egy figyelmeztetés, ha kritikus összetevője észleli megfelelő.</span><span class="sxs-lookup"><span data-stu-id="101b8-158">Hot analysis of the immediate data can trigger an alert if a critical component is detected as unhealthy.</span></span> <span data-ttu-id="101b8-159">(Ez nem válaszol egy ping-üzenetek, egymást követő sorozata például.) Az operátor majd is elvégezheti a szükséges javítási műveleteket.</span><span class="sxs-lookup"><span data-stu-id="101b8-159">(It fails to respond to a consecutive series of pings, for example.) The operator can then take the appropriate corrective action.</span></span>

<span data-ttu-id="101b8-160">Egy összetettebb rendszer egy prediktív elem legutóbbi és a jelenlegi munkaterhelés keresztül hajtja végre a cold elemzés közé tartozik.</span><span class="sxs-lookup"><span data-stu-id="101b8-160">A more advanced system might include a predictive element that performs a cold analysis over recent and current workloads.</span></span> <span data-ttu-id="101b8-161">A cold elemzésre tendenciákat, és határozza meg, valószínűleg továbbra is működik megfelelően-e a rendszer, vagy hogy szükséges a rendszer további forrásokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-161">A cold analysis can spot trends and determine whether the system is likely to remain healthy or whether the system will need additional resources.</span></span> <span data-ttu-id="101b8-162">A prediktív elem alapján kritikus teljesítménymutatók, például:</span><span class="sxs-lookup"><span data-stu-id="101b8-162">This predictive element should be based on critical performance metrics, such as:</span></span>

* <span data-ttu-id="101b8-163">Minden szolgáltatás vagy az alrendszer irányuló kérelmek száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-163">The rate of requests directed at each service or subsystem.</span></span>
* <span data-ttu-id="101b8-164">Ezek a kérelmek válaszidejét.</span><span class="sxs-lookup"><span data-stu-id="101b8-164">The response times of these requests.</span></span>
* <span data-ttu-id="101b8-165">A bejövő és kimenő minden egyes szolgáltatás áramló adatok mennyiségét.</span><span class="sxs-lookup"><span data-stu-id="101b8-165">The volume of data flowing into and out of each service.</span></span>

<span data-ttu-id="101b8-166">Ha bármely metrika értéke meghaladja a megadott küszöbértéket, a rendszer is riasztást lehetővé teszi, hogy az operátor vagy az automatikus skálázást (ha elérhető) műveletek a megelőző rendszerállapot fenntartásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="101b8-166">If the value of any metric exceeds a defined threshold, the system can raise an alert to enable an operator or autoscaling (if available) to take the preventative actions necessary to maintain system health.</span></span> <span data-ttu-id="101b8-167">Ezek a műveletek vonatkozhat erőforrások sikertelenek lesznek, és sávszélesség-szabályozás alkalmazása alacsonyabb prioritású kérelmek egy vagy több szolgáltatás újraindítása.</span><span class="sxs-lookup"><span data-stu-id="101b8-167">These actions might involve adding resources, restarting one or more services that are failing, or applying throttling to lower-priority requests.</span></span>

## <a name="availability-monitoring"></a><span data-ttu-id="101b8-168">Rendelkezésre állás figyelése</span><span class="sxs-lookup"><span data-stu-id="101b8-168">Availability monitoring</span></span>
<span data-ttu-id="101b8-169">Egy valóban kifogástalan rendszer igényel, hogy az összetevők és a rendszer alkotó alrendszereket érhetők el.</span><span class="sxs-lookup"><span data-stu-id="101b8-169">A truly healthy system requires that the components and subsystems that compose the system are available.</span></span> <span data-ttu-id="101b8-170">Rendelkezésre állásának figyelésére szolgáló szorosan kapcsolódnak a állapotfigyelés.</span><span class="sxs-lookup"><span data-stu-id="101b8-170">Availability monitoring is closely related to health monitoring.</span></span> <span data-ttu-id="101b8-171">De állapotfigyelés jeleníti meg egy azonnali a rendszer aktuális állapotát, mivel rendelkezésre állásának figyelésére szolgáló aggasztanak nyomon követése, a rendszer és az összetevőinek a rendszer a megadott hasznos üzemideje statisztikája létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-171">But whereas health monitoring provides an immediate view of the current health of the system, availability monitoring is concerned with tracking the availability of the system and its components to generate statistics about the uptime of the system.</span></span>

<span data-ttu-id="101b8-172">Számos rendszer egyes összetevőket (például egy adatbázis) vannak konfigurálva a beépített redundanciát, így lehetővé teszik a gyors feladatátvétel súlyos hibát vagy a kapcsolat megszakadása esetén.</span><span class="sxs-lookup"><span data-stu-id="101b8-172">In many systems, some components (such as a database) are configured with built-in redundancy to permit rapid failover in the event of a serious fault or loss of connectivity.</span></span> <span data-ttu-id="101b8-173">Felhasználók ideális esetben nem kell ügyelnie, hogy az ilyen hiba történt.</span><span class="sxs-lookup"><span data-stu-id="101b8-173">Ideally, users should not be aware that such a failure has occurred.</span></span> <span data-ttu-id="101b8-174">De figyelési perspektíva rendelkezésre állási, a szükséges legtöbb információt gyűjteni a lehető ilyen a hiba okának megállapításához, és megakadályozhatja, hogy a ismétlődő korrekciós műveletek végrehajtása sikertelen.</span><span class="sxs-lookup"><span data-stu-id="101b8-174">But from an availability monitoring perspective, it's necessary to gather as much information as possible about such failures to determine the cause and take corrective actions to prevent them from recurring.</span></span>

<span data-ttu-id="101b8-175">Az adatok rendelkezésre állásának nyomon követéséhez szükséges alacsonyabb szintű tényező lehet, hogy függ.</span><span class="sxs-lookup"><span data-stu-id="101b8-175">The data that's required to track availability might depend on a number of lower-level factors.</span></span> <span data-ttu-id="101b8-176">Előfordulhat, hogy ezek a tényezők számos adott, az alkalmazás, a rendszer és a környezetben.</span><span class="sxs-lookup"><span data-stu-id="101b8-176">Many of these factors might be specific to the application, system, and environment.</span></span> <span data-ttu-id="101b8-177">Hatékony megfigyelési rendszer rögzíti a rendelkezésre állási adatok a alacsony szintű tényezők megfelel-e, majd összesíti őket a rendszer átfogó képet.</span><span class="sxs-lookup"><span data-stu-id="101b8-177">An effective monitoring system captures the availability data that corresponds to these low-level factors and then aggregates them to give an overall picture of the system.</span></span> <span data-ttu-id="101b8-178">Például egy e-kereskedelmi rendszerben az üzleti funkció, amely lehetővé teszi az ügyfél rendelések helyezendő előfordulhat, hogy a rendelés részleteit tároló tárház és függ a fizetési rendszer, amely kezeli a pénzügyi tranzakciók ezek rendelések fizet.</span><span class="sxs-lookup"><span data-stu-id="101b8-178">For example, in an e-commerce system, the business functionality that enables a customer to place orders might depend on the repository where order details are stored and the payment system that handles the monetary transactions for paying for these orders.</span></span> <span data-ttu-id="101b8-179">A rendszer sorrendben-elhelyezés része rendelkezésre állását éppen ezért a tárház és a fizetési alrendszer rendelkezésre állásának függvényében.</span><span class="sxs-lookup"><span data-stu-id="101b8-179">The availability of the order-placement part of the system is therefore a function of the availability of the repository and the payment subsystem.</span></span>

### <a name="requirements-for-availability-monitoring"></a><span data-ttu-id="101b8-180">Rendelkezésre állásának figyelésére szolgáló követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-180">Requirements for availability monitoring</span></span>
<span data-ttu-id="101b8-181">Operátor is kell minden egyes rendszer és a alrendszer korábbi rendelkezésre állását, és ezen információk használatával bármely tendenciákat, amely egy vagy több alrendszereket rendszeresen sikertelenségét okozhatja.</span><span class="sxs-lookup"><span data-stu-id="101b8-181">An operator should also be able to view the historical availability of each system and subsystem, and use this information to spot any trends that might cause one or more subsystems to periodically fail.</span></span> <span data-ttu-id="101b8-182">(Tegye szolgáltatások indítása sikertelen lesz, amely megfelelne a csúcsidőszakon feldolgozási nap adott időpontban?)</span><span class="sxs-lookup"><span data-stu-id="101b8-182">(Do services start to fail at a particular time of day that corresponds to peak processing hours?)</span></span>

<span data-ttu-id="101b8-183">Figyelési megoldás az azonnali és korábbi nézetben a rendelkezésre állási vagy minden egyes alrendszer elérhetetlensége kell biztosítania.</span><span class="sxs-lookup"><span data-stu-id="101b8-183">A monitoring solution should provide an immediate and historical view of the availability or unavailability of each subsystem.</span></span> <span data-ttu-id="101b8-184">Is képes gyorsan riasztási operátort, amikor egy vagy több szolgáltatási sikertelen lesz, vagy ha a felhasználók nem tudnak csatlakozni a szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="101b8-184">It should also be capable of quickly alerting an operator when one or more services fail or when users can't connect to services.</span></span> <span data-ttu-id="101b8-185">Ez a kérdés nemcsak egyes szolgáltatás figyelése, de is vizsgálata folyamatban van a végrehajtandó műveleteket, minden felhasználó hajt végre, ha ezek a műveletek sikertelenek, amikor azok megkísérlik a szolgáltatással való kommunikációra.</span><span class="sxs-lookup"><span data-stu-id="101b8-185">This is a matter of not only monitoring each service, but also examining the actions that each user performs if these actions fail when they attempt to communicate with a service.</span></span> <span data-ttu-id="101b8-186">Bizonyos mértékig csatlakozási hiba fokú normális, és átmeneti hibák okozták lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-186">To some extent, a degree of connectivity failure is normal and might be due to transient errors.</span></span> <span data-ttu-id="101b8-187">De a rendszer riasztást kapcsolathibái megadott alrendszerhez egy adott időszakban fellépő számának hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-187">But it might be useful to allow the system to raise an alert for the number of connectivity failures to a specified subsystem that occur during a specific period.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-188">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-188">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-189">Csakúgy, mint a állapotfigyelés, a nyers adatok rendelkezésre állásának figyelésére szolgáló támogatásához szükséges figyelés és naplózás, bármilyen kivételek, hibák és figyelmeztetések, amely akkor jelentkezhet szintetikus felhasználói miatt hozhatók létre.</span><span class="sxs-lookup"><span data-stu-id="101b8-189">As with health monitoring, the raw data that's required to support availability monitoring can be generated as a result of synthetic user monitoring and logging any exceptions, faults, and warnings that might occur.</span></span> <span data-ttu-id="101b8-190">Emellett a rendelkezésre állási adatok szerezhető be végpont megfigyelési.</span><span class="sxs-lookup"><span data-stu-id="101b8-190">In addition, availability data can be obtained from performing endpoint monitoring.</span></span> <span data-ttu-id="101b8-191">Az alkalmazás is elérhetővé teheti, egy vagy több állapotfigyelő végpontot, egy funkcionális területen belül a rendszer minden egyes tesztelési eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-191">The application can expose one or more health endpoints, each testing access to a functional area within the system.</span></span> <span data-ttu-id="101b8-192">A felügyeleti rendszer minden egyes végpont ping meghatározott ütemezés szerint, és az eredmények (sikeres vagy sikertelen) gyűjtése.</span><span class="sxs-lookup"><span data-stu-id="101b8-192">The monitoring system can ping each endpoint by following a defined schedule and collect the results (success or fail).</span></span>

<span data-ttu-id="101b8-193">Az összes időtúllépések, hálózati kapcsolathibái és kapcsolódási próbálkozást rögzíteni kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-193">All timeouts, network connectivity failures, and connection retry attempts must be recorded.</span></span> <span data-ttu-id="101b8-194">Minden adat időbélyeggel ellátott kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-194">All data should be time-stamped.</span></span>

<a name="analyzing-availability-data"></a>

### <a name="analyzing-availability-data"></a><span data-ttu-id="101b8-195">Rendelkezésre állási adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-195">Analyzing availability data</span></span>
<span data-ttu-id="101b8-196">A WMI-adatok kell összesíteni és korrelált elemzés a következő típusú támogatásához:</span><span class="sxs-lookup"><span data-stu-id="101b8-196">The instrumentation data must be aggregated and correlated to support the following types of analysis:</span></span>

* <span data-ttu-id="101b8-197">A közvetlen rendelkezésre állását, valamint a rendszer alrendszereket.</span><span class="sxs-lookup"><span data-stu-id="101b8-197">The immediate availability of the system and subsystems.</span></span>
* <span data-ttu-id="101b8-198">A rendelkezésre állási hiba sebességét, a rendszer és alrendszereket.</span><span class="sxs-lookup"><span data-stu-id="101b8-198">The availability failure rates of the system and subsystems.</span></span> <span data-ttu-id="101b8-199">Ideális esetben operátor hibák okozták az adott tevékenységek képesnek kell lennie: Mi zajlik, amikor a rendszer nem tudta?</span><span class="sxs-lookup"><span data-stu-id="101b8-199">Ideally, an operator should be able to correlate failures with specific activities: what was happening when the system failed?</span></span>
* <span data-ttu-id="101b8-200">Hiba sebességű a rendszer vagy bármely alrendszerek közötti bármely ügyfélállapotainak megadott időszak, és a terhelés a rendszeren (például a felhasználói kérelmek száma) Ha a hiba történt.</span><span class="sxs-lookup"><span data-stu-id="101b8-200">A historical view of failure rates of the system or any subsystems across any specified period, and the load on the system (number of user requests, for example) when a failure occurred.</span></span>
* <span data-ttu-id="101b8-201">A rendszer vagy bármely alrendszereket elérhetetlensége okait.</span><span class="sxs-lookup"><span data-stu-id="101b8-201">The reasons for unavailability of the system or any subsystems.</span></span> <span data-ttu-id="101b8-202">Például lehet, hogy a okok szolgáltatás nem fut, a kapcsolat megszakadt, de időtúllépés és a csatlakoztatott, de az adatszolgáltató hibák csatlakoztatva.</span><span class="sxs-lookup"><span data-stu-id="101b8-202">For example, the reasons might be service not running, connectivity lost, connected but timing out, and connected but returning errors.</span></span>

<span data-ttu-id="101b8-203">Egy meghatározott időtartamra vonatkozóan szolgáltatás százalékos rendelkezésre állását a következő képlettel számolhatja ki:</span><span class="sxs-lookup"><span data-stu-id="101b8-203">You can calculate the percentage availability of a service over a period of time by using the following formula:</span></span>

```
%Availability =  ((Total Time – Total Downtime) / Total Time ) * 100
```

<span data-ttu-id="101b8-204">Ez akkor hasznos, SLA célokra.</span><span class="sxs-lookup"><span data-stu-id="101b8-204">This is useful for SLA purposes.</span></span> <span data-ttu-id="101b8-205">([SLA figyelési](#SLA-monitoring) Ez az útmutató későbbi részében részletesebben leírt.) Definíciója *állásidő* a szolgáltatástól függ.</span><span class="sxs-lookup"><span data-stu-id="101b8-205">([SLA monitoring](#SLA-monitoring) is described in more detail later in this guidance.) The definition of *downtime* depends on the service.</span></span> <span data-ttu-id="101b8-206">Például a Visual Studio Team Services Build szolgáltatás állásidő meghatározása szerint az időszak (halmozott percek) számlálási időintervalluma Build szolgáltatás nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="101b8-206">For example, Visual Studio Team Services Build Service defines downtime as the period (total accumulated minutes) during which Build Service is unavailable.</span></span> <span data-ttu-id="101b8-207">Egy percet akkor tekinthető nem érhető el, ha a folyamatos HTTP-kérelmek szolgáltatás létrehozása során a percet ügyfél által kezdeményezett műveletek végrehajtásához egy hibakódot eredményezhet, vagy nem válaszol.</span><span class="sxs-lookup"><span data-stu-id="101b8-207">A minute is considered unavailable if all continuous HTTP requests to Build Service to perform customer-initiated operations throughout the minute either result in an error code or do not return a response.</span></span>

## <a name="performance-monitoring"></a><span data-ttu-id="101b8-208">Teljesítményfigyelés</span><span class="sxs-lookup"><span data-stu-id="101b8-208">Performance monitoring</span></span>
<span data-ttu-id="101b8-209">A rendszer helyezkedik el, egyre több magas terhelés alatt (a felhasználók a kötet növelésével), ezek a felhasználók hozzáférést növekedésének adathalmaz méretének és a lehetőségét, amely egy vagy több összetevő hibája válik nagy valószínűséggel.</span><span class="sxs-lookup"><span data-stu-id="101b8-209">As the system is placed under more and more stress (by increasing the volume of users), the size of the datasets that these users access grows and the possibility of failure of one or more components becomes more likely.</span></span> <span data-ttu-id="101b8-210">Gyakran összetevő meghibásodása esetén a teljesítmény csökkenését előzi meg.</span><span class="sxs-lookup"><span data-stu-id="101b8-210">Frequently, component failure is preceded by a decrease in performance.</span></span> <span data-ttu-id="101b8-211">Ha elvégezheti észleli a csökkenést, elvégezhető a helyzet orvoslásához proaktív lépéseket.</span><span class="sxs-lookup"><span data-stu-id="101b8-211">If you're able detect such a decrease, you can take proactive steps to remedy the situation.</span></span>

<span data-ttu-id="101b8-212">A rendszer teljesítménye számos tényezőtől függ.</span><span class="sxs-lookup"><span data-stu-id="101b8-212">System performance depends on a number of factors.</span></span> <span data-ttu-id="101b8-213">Minden egyes tényező általában mérik fő teljesítménymutatók (KPI), például adatbázis-tranzakciók másodpercenkénti számát vagy a kötet hálózati kérelmek, amelyet sikeresen egy megadott időkereten belül.</span><span class="sxs-lookup"><span data-stu-id="101b8-213">Each factor is typically measured through key performance indicators (KPIs), such as the number of database transactions per second or the volume of network requests that are successfully serviced in a specified time frame.</span></span> <span data-ttu-id="101b8-214">Ezen KPI-k némelyike előfordulhat, hogy használhatók az adott intézkedéseket, mivel előfordulhat, hogy a metrikák kombinációja származtatni mások számára.</span><span class="sxs-lookup"><span data-stu-id="101b8-214">Some of these KPIs might be available as specific performance measures, whereas others might be derived from a combination of metrics.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-215">Gyenge vagy a jó teljesítmény meghatározásához szükséges, hogy tudomásul veszi a szintű teljesítmény, ahol a rendszer fut képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-215">Determining poor or good performance requires that you understand the level of performance at which the system should be capable of running.</span></span> <span data-ttu-id="101b8-216">Ehhez a megfigyelő a rendszer, míg az átlagos terhelés mellett működik, és az adatok rögzítésével az egyes KPI-KET egy meghatározott időtartamra vonatkozóan.</span><span class="sxs-lookup"><span data-stu-id="101b8-216">This requires observing the system while it's functioning under a typical load and capturing the data for each KPI over a period of time.</span></span> <span data-ttu-id="101b8-217">Ez lehet, hogy magában, a rendszer egy szimulált terhelés alatt fut egy tesztkörnyezetben, és a megfelelő adatokat gyűjt a rendszer egy éles környezetbe történő telepítése előtt.</span><span class="sxs-lookup"><span data-stu-id="101b8-217">This might involve running the system under a simulated load in a test environment and gathering the appropriate data before deploying the system to a production environment.</span></span>
> 
> <span data-ttu-id="101b8-218">Gondoskodnia kell arról, hogy a teljesítmény célokra figyelés nem lesz terhet a rendszeren.</span><span class="sxs-lookup"><span data-stu-id="101b8-218">You should also ensure that monitoring for performance purposes does not become a burden on the system.</span></span> <span data-ttu-id="101b8-219">Előfordulhat, hogy dinamikusan úgy, hogy a Teljesítményfigyelő folyamat összegyűjti az adatok részletességi szintje.</span><span class="sxs-lookup"><span data-stu-id="101b8-219">You might be able to dynamically adjust the level of detail for the data that the performance monitoring process gathers.</span></span>
> 
> 

### <a name="requirements-for-performance-monitoring"></a><span data-ttu-id="101b8-220">Teljesítményfigyelés követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-220">Requirements for performance monitoring</span></span>
<span data-ttu-id="101b8-221">Vizsgálja meg a rendszer teljesítményét, operátor általában kell megfelelnie is információkat lásd:</span><span class="sxs-lookup"><span data-stu-id="101b8-221">To examine system performance, an operator typically needs to see information that includes:</span></span>

* <span data-ttu-id="101b8-222">A felhasználói kérelmek adott válasz sebességet.</span><span class="sxs-lookup"><span data-stu-id="101b8-222">The response rates for user requests.</span></span>
* <span data-ttu-id="101b8-223">Az egyidejű felhasználói kérelmek száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-223">The number of concurrent user requests.</span></span>
* <span data-ttu-id="101b8-224">A hálózati forgalom mennyisége.</span><span class="sxs-lookup"><span data-stu-id="101b8-224">The volume of network traffic.</span></span>
* <span data-ttu-id="101b8-225">A sebesség, mely üzleti tranzakciók vannak befejezését.</span><span class="sxs-lookup"><span data-stu-id="101b8-225">The rates at which business transactions are being completed.</span></span>
* <span data-ttu-id="101b8-226">Az átlagos feldolgozási ideje a kéréseket.</span><span class="sxs-lookup"><span data-stu-id="101b8-226">The average processing time for requests.</span></span>

<span data-ttu-id="101b8-227">Azt is hasznos lehet a adja meg az eszközök, amelyek lehetővé teszik a helyszíni korrelációk segítségével operátor:</span><span class="sxs-lookup"><span data-stu-id="101b8-227">It can also be helpful to provide tools that enable an operator to help spot correlations, such as:</span></span>

* <span data-ttu-id="101b8-228">A kérés várakozási ideje időpontokban (mennyi ideig tart egy kérelem feldolgozása után a felhasználó rendelkezik az indításához) és az egyidejű felhasználók száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-228">The number of concurrent users versus request latency times (how long it takes to start processing a request after the user has sent it).</span></span>
* <span data-ttu-id="101b8-229">Az átlagos válaszidő (mennyi ideig tart a kérelem végrehajtása után feldolgozása megkezdődött) és az egyidejű felhasználók száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-229">The number of concurrent users versus the average response time (how long it takes to complete a request after it has started processing).</span></span>
* <span data-ttu-id="101b8-230">A mennyiségű kérést, és a feldolgozási hibák száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-230">The volume of requests versus the number of processing errors.</span></span>

<span data-ttu-id="101b8-231">A magas szintű működési információk mellett egy olyan operátort kell tudni teljesítménye az egyes összetevők részletes képet kaphat a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="101b8-231">Along with this high-level functional information, an operator should be able to obtain a detailed view of the performance for each component in the system.</span></span> <span data-ttu-id="101b8-232">Ezeket az adatokat általában nyomon követheti, mint az alsó szintű teljesítményszámlálók keresztül elérhető:</span><span class="sxs-lookup"><span data-stu-id="101b8-232">This data is typically provided through low-level performance counters that track information such as:</span></span>

* <span data-ttu-id="101b8-233">Memóriafelhasználás.</span><span class="sxs-lookup"><span data-stu-id="101b8-233">Memory utilization.</span></span>
* <span data-ttu-id="101b8-234">Szálak száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-234">Number of threads.</span></span>
* <span data-ttu-id="101b8-235">Processzor feldolgozási ideje.</span><span class="sxs-lookup"><span data-stu-id="101b8-235">CPU processing time.</span></span>
* <span data-ttu-id="101b8-236">Kérelmek várólistájának hossza.</span><span class="sxs-lookup"><span data-stu-id="101b8-236">Request queue length.</span></span>
* <span data-ttu-id="101b8-237">Lemez- vagy i/o-sebességét és hibákat.</span><span class="sxs-lookup"><span data-stu-id="101b8-237">Disk or network I/O rates and errors.</span></span>
* <span data-ttu-id="101b8-238">Ennyi bájtot írt, vagy olvassa el.</span><span class="sxs-lookup"><span data-stu-id="101b8-238">Number of bytes written or read.</span></span>
* <span data-ttu-id="101b8-239">Köztes mutatókat, például a várólista hossza.</span><span class="sxs-lookup"><span data-stu-id="101b8-239">Middleware indicators, such as queue length.</span></span>

<span data-ttu-id="101b8-240">Minden képi megjelenítés lehetővé kell tennie az üzemeltető számára adjon meg egy időszakot.</span><span class="sxs-lookup"><span data-stu-id="101b8-240">All visualizations should allow an operator to specify a time period.</span></span> <span data-ttu-id="101b8-241">A megjelenített adatok a jelenlegi szituáció pillanatképe és/vagy a teljesítmény ügyfélállapotainak lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-241">The displayed data might be a snapshot of the current situation and/or a historical view of the performance.</span></span>

<span data-ttu-id="101b8-242">Egy olyan operátort kell tudni hoz létre riasztást, a megadott időintervallumon bármely teljesítménymérték azok számát a megadott érték alapján.</span><span class="sxs-lookup"><span data-stu-id="101b8-242">An operator should be able to raise an alert based on any performance measure for any specified value during any specified time interval.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-243">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-243">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-244">A felhasználói kérelmek állapotának figyelésével, még az ügyfélszámítógépekre érkeznek, és továbbítja a rendszer gyűjthet magas szintű teljesítményadatok (átviteli, egyidejű felhasználók száma, az üzleti tranzakciók, hiba díjszabás és így tovább).</span><span class="sxs-lookup"><span data-stu-id="101b8-244">You can gather high-level performance data (throughput, number of concurrent users, number of business transactions, error rates, and so on) by monitoring the progress of users' requests as they arrive and pass through the system.</span></span> <span data-ttu-id="101b8-245">Ez magában foglalja a nyomkövetési adatokkal időzítése együtt az alkalmazáskódban található kapcsolatos legfontosabb utasításokat tartalmazó.</span><span class="sxs-lookup"><span data-stu-id="101b8-245">This involves incorporating tracing statements at key points in the application code, together with timing information.</span></span> <span data-ttu-id="101b8-246">Minden hibák, kivételek és figyelmeztetések használatával történik, azokat a kérelmeket, ami miatt azokat a megfelelő adatokkal lesznek rögzítve.</span><span class="sxs-lookup"><span data-stu-id="101b8-246">All faults, exceptions, and warnings should be captured with sufficient data for correlating them with the requests that caused them.</span></span> <span data-ttu-id="101b8-247">Az Internet Information Services (IIS) napló egy másik hasznos forrásaként szolgál.</span><span class="sxs-lookup"><span data-stu-id="101b8-247">The Internet Information Services (IIS) log is another useful source.</span></span>

<span data-ttu-id="101b8-248">Ha lehetséges a külső rendszerekkel, az alkalmazás által használt teljesítményadatokat is rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-248">If possible, you should also capture performance data for any external systems that the application uses.</span></span> <span data-ttu-id="101b8-249">A külső rendszerekből előfordulhat, hogy adja meg a saját teljesítményszámlálók és egyéb szolgáltatások ügynökteljesítmény-adatokat kér.</span><span class="sxs-lookup"><span data-stu-id="101b8-249">These external systems might provide their own performance counters or other features for requesting performance data.</span></span> <span data-ttu-id="101b8-250">Ha ez nem lehetséges, rekord információkat, például a kezdési és befejezési időpontja, a művelet állapotát (sikeres, sikertelen vagy figyelmeztetés) együtt a külső rendszerek minden kérelmet.</span><span class="sxs-lookup"><span data-stu-id="101b8-250">If this is not possible, record information such as the start time and end time of each request made to an external system, together with the status (success, fail, or warning) of the operation.</span></span> <span data-ttu-id="101b8-251">Például használhatja a stoppert megközelítés ideje kérésekre: indításakor időzítő a kérelmet, és állíthatja le a időzítőt, ha a kérelem végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="101b8-251">For example, you can use a stopwatch approach to time requests: start a timer when the request starts and then stop the timer when the request finishes.</span></span>

<span data-ttu-id="101b8-252">Lehet, hogy a rendszer az egyes összetevők alacsony szintű teljesítményadatokat funkciókat és szolgáltatásokat, például Windows-teljesítményszámlálók és az Azure Diagnostics elérhető.</span><span class="sxs-lookup"><span data-stu-id="101b8-252">Low-level performance data for individual components in a system might be available through features and services such as Windows performance counters and Azure Diagnostics.</span></span>

### <a name="analyzing-performance-data"></a><span data-ttu-id="101b8-253">A teljesítményadatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-253">Analyzing performance data</span></span>
<span data-ttu-id="101b8-254">Munka nagy része a elemzés áll összesítése a felhasználói kérelem típusa és/vagy az alrendszer vagy a minden kérelmet küldenek szolgáltatás teljesítményadatait.</span><span class="sxs-lookup"><span data-stu-id="101b8-254">Much of the analysis work consists of aggregating performance data by user request type and/or the subsystem or service to which each request is sent.</span></span> <span data-ttu-id="101b8-255">A felhasználó kérésére például cikk hozzáadása egy kosár vagy a kivételt folyamat végrehajtása egy e-kereskedelmi rendszerben.</span><span class="sxs-lookup"><span data-stu-id="101b8-255">An example of a user request is adding an item to a shopping cart or performing the checkout process in an e-commerce system.</span></span>

<span data-ttu-id="101b8-256">Egy másik közös követelmény kijelölt százalékos érték teljesítményadatok kivonatolását végzi.</span><span class="sxs-lookup"><span data-stu-id="101b8-256">Another common requirement is summarizing performance data in selected percentiles.</span></span> <span data-ttu-id="101b8-257">Operátor például előfordulhat, hogy meghatározzák a válaszidők kérelmek százalékos 99, a kérelmek 95 %-os és a kérelmek 70 százalékos.</span><span class="sxs-lookup"><span data-stu-id="101b8-257">For example, an operator might determine the response times for 99 percent of requests, 95 percent of requests, and 70 percent of requests.</span></span> <span data-ttu-id="101b8-258">Előfordulhat, hogy SLA célokat, vagy minden érték más célok állítani.</span><span class="sxs-lookup"><span data-stu-id="101b8-258">There might be SLA targets or other goals set for each percentile.</span></span> <span data-ttu-id="101b8-259">A folyamatban lévő eredményeit azokat a problémák azonnali közel valós idejű kell megadni.</span><span class="sxs-lookup"><span data-stu-id="101b8-259">The ongoing results should be reported in near real time to help detect immediate issues.</span></span> <span data-ttu-id="101b8-260">Az eredmények is statisztikai célokra hosszabb idő lehet összesíteni.</span><span class="sxs-lookup"><span data-stu-id="101b8-260">The results should also be aggregated over the longer time for statistical purposes.</span></span>

<span data-ttu-id="101b8-261">Esetén késési problémák teljesítményét operátor gyorsan azonosíthatja a szűk keresztmetszetek okát a várakozási minden egyes lépést minden kérést végrehajtó megvizsgálásával kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-261">In the case of latency issues affecting performance, an operator should be able to quickly identify the cause of the bottleneck by examining the latency of each step that each request performs.</span></span> <span data-ttu-id="101b8-262">A teljesítményadatok ezért biztosítania kell a teljesítmény mérőszámai egy adott kérelem az kelljen egyes lépéseihez szükséges adatok módszert.</span><span class="sxs-lookup"><span data-stu-id="101b8-262">The performance data must therefore provide a means of correlating performance measures for each step to tie them to a specific request.</span></span>

<span data-ttu-id="101b8-263">A képi megjelenítés követelményeitől függően lehet hasznos, ha szeretné létrehozni és tárolni egy adatkockát, amely a nyers adatok nézeteinek tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="101b8-263">Depending on the visualization requirements, it might be useful to generate and store a data cube that contains views of the raw data.</span></span> <span data-ttu-id="101b8-264">Az adatkocka lehetővé tehetik a összetett alkalmi kérdez le, és a teljesítményadatok elemzése.</span><span class="sxs-lookup"><span data-stu-id="101b8-264">This data cube can allow complex ad hoc querying and analysis of the performance information.</span></span>

## <a name="security-monitoring"></a><span data-ttu-id="101b8-265">A biztonság ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="101b8-265">Security monitoring</span></span>
<span data-ttu-id="101b8-266">Bizalmas adatokat tartalmazó összes kereskedelmi rendszereket meg kell valósítania egy biztonsági struktúra.</span><span class="sxs-lookup"><span data-stu-id="101b8-266">All commercial systems that include sensitive data must implement a security structure.</span></span> <span data-ttu-id="101b8-267">A biztonsági mechanizmust összetettsége az általában az adatok érzékenységének függvényében.</span><span class="sxs-lookup"><span data-stu-id="101b8-267">The complexity of the security mechanism is usually a function of the sensitivity of the data.</span></span> <span data-ttu-id="101b8-268">A felhasználók hitelesítését igénylő rendszer rögzíteni kell:</span><span class="sxs-lookup"><span data-stu-id="101b8-268">In a system that requires users to be authenticated, you should record:</span></span>

* <span data-ttu-id="101b8-269">Az összes kísérlet, hogy azok sikertelen vagy sikeres.</span><span class="sxs-lookup"><span data-stu-id="101b8-269">All sign-in attempts, whether they fail or succeed.</span></span>
* <span data-ttu-id="101b8-270">Minden műveletet végzi--, és által--hitelesített felhasználók elért összes erőforrás részleteit.</span><span class="sxs-lookup"><span data-stu-id="101b8-270">All operations performed by--and the details of all resources accessed by--an authenticated user.</span></span>
* <span data-ttu-id="101b8-271">Ha a felhasználó a munkamenet véget ér, és kijelentkezésekor lép érvénybe.</span><span class="sxs-lookup"><span data-stu-id="101b8-271">When a user ends a session and signs out.</span></span>

<span data-ttu-id="101b8-272">Figyelési lehet segítségével észlelheti a a rendszeren.</span><span class="sxs-lookup"><span data-stu-id="101b8-272">Monitoring might be able to help detect attacks on the system.</span></span> <span data-ttu-id="101b8-273">Például a nagy számú sikertelen bejelentkezési kísérletek találgatásos támadásra utalhat.</span><span class="sxs-lookup"><span data-stu-id="101b8-273">For example, a large number of failed sign-in attempts might indicate a brute-force attack.</span></span> <span data-ttu-id="101b8-274">Egy váratlan megugrását kérésekben okozhatja egy elosztott-szolgáltatásmegtagadásos (DDoS-) támadások.</span><span class="sxs-lookup"><span data-stu-id="101b8-274">An unexpected surge in requests might be the result of a distributed denial-of-service (DDoS) attack.</span></span> <span data-ttu-id="101b8-275">Fel kell készülni figyelheti az összes kérelmet, függetlenül attól, ezek a kérelmek forrását összes erőforrást.</span><span class="sxs-lookup"><span data-stu-id="101b8-275">You must be prepared to monitor all requests to all resources regardless of the source of these requests.</span></span> <span data-ttu-id="101b8-276">A rendszer, amely rendelkezik a bejelentkezési biztonsági rés véletlenül esetleg felfedi a külvilág erőforrásokat anélkül, hogy a felhasználót, hogy ténylegesen jelentkezzen be.</span><span class="sxs-lookup"><span data-stu-id="101b8-276">A system that has a sign-in vulnerability might accidentally expose resources to the outside world without requiring a user to actually sign in.</span></span>

### <a name="requirements-for-security-monitoring"></a><span data-ttu-id="101b8-277">Biztonsági figyelés követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-277">Requirements for security monitoring</span></span>
<span data-ttu-id="101b8-278">A legfontosabb szempontok a biztonsági figyelés gyorsan engedélyezze az operátor:</span><span class="sxs-lookup"><span data-stu-id="101b8-278">The most critical aspects of security monitoring should enable an operator to quickly:</span></span>

* <span data-ttu-id="101b8-279">Megkísérelt behatolások észleléséhez egy nem hitelesített entitás.</span><span class="sxs-lookup"><span data-stu-id="101b8-279">Detect attempted intrusions by an unauthenticated entity.</span></span>
* <span data-ttu-id="101b8-280">Kísérletek azonosíthatja az adatokat, amelyekre nem lett hozzáféréssel rendelkeznek a műveletek végrehajtásához entitásokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-280">Identify attempts by entities to perform operations on data for which they have not been granted access.</span></span>
* <span data-ttu-id="101b8-281">Megállapításához, hogy a rendszer, vagy a rendszer, egyes részei kívül vagy belül a támadás alatt áll.</span><span class="sxs-lookup"><span data-stu-id="101b8-281">Determine whether the system, or some part of the system, is under attack from outside or inside.</span></span> <span data-ttu-id="101b8-282">(Például egy rosszindulatú hitelesített felhasználó előfordulhat, hogy próbál leállíthatja a rendszer.)</span><span class="sxs-lookup"><span data-stu-id="101b8-282">(For example, a malicious authenticated user might be attempting to bring the system down.)</span></span>

<span data-ttu-id="101b8-283">Ezek a követelmények támogatása érdekében értesíteni kell, operátor:</span><span class="sxs-lookup"><span data-stu-id="101b8-283">To support these requirements, an operator should be notified:</span></span>

* <span data-ttu-id="101b8-284">Ha egy fiók ismételt sikertelen bejelentkezési kísérletek egy adott időszakon belül.</span><span class="sxs-lookup"><span data-stu-id="101b8-284">If one account makes repeated failed sign-in attempts within a specified period.</span></span>
* <span data-ttu-id="101b8-285">Ha egy hitelesített fiók ismételten megpróbál tiltott erőforrások eléréséhez a meghatározott időszakon belül.</span><span class="sxs-lookup"><span data-stu-id="101b8-285">If one authenticated account repeatedly tries to access a prohibited resource during a specified period.</span></span>
* <span data-ttu-id="101b8-286">Ha a nem hitelesített vagy jogosulatlan kérelmek nagy számú meghatározott időszakon belül történik.</span><span class="sxs-lookup"><span data-stu-id="101b8-286">If a large number of unauthenticated or unauthorized requests occur during a specified period.</span></span>

<span data-ttu-id="101b8-287">A kezelőként megadott információkat kell tartalmaznia a gazdagép címe a forrás-az egyes kérelmek.</span><span class="sxs-lookup"><span data-stu-id="101b8-287">The information that's provided to an operator should include the host address of the source for each request.</span></span> <span data-ttu-id="101b8-288">Ha biztonsági problémát rendszeresen egy adott címtartományból merülnek fel, ezek a gazdagépek blokkolhatja.</span><span class="sxs-lookup"><span data-stu-id="101b8-288">If security violations regularly arise from a particular range of addresses, these hosts might be blocked.</span></span>

<span data-ttu-id="101b8-289">A rendszer biztonságának fenntartásában kulcs része gyorsan észleli, amelyek eltérnek a szokásos mintát műveletek alatt.</span><span class="sxs-lookup"><span data-stu-id="101b8-289">A key part in maintaining the security of a system is being able to quickly detect actions that deviate from the usual pattern.</span></span> <span data-ttu-id="101b8-290">Például a sikertelen vagy sikeres bejelentkezési kérelmek száma észleli, ha van egy csúcs tevékenységben szokatlan időpontban segítségével vizuálisan megjeleníthető.</span><span class="sxs-lookup"><span data-stu-id="101b8-290">Information such as the number of failed and/or successful sign-in requests can be displayed visually to help detect whether there is a spike in activity at an unusual time.</span></span> <span data-ttu-id="101b8-291">(Ez a tevékenység példa: 3:00 órakor bejelentkezés, és számos műveletek elvégzésére, 9:00 órakor a munkanapot indításakor felhasználók).</span><span class="sxs-lookup"><span data-stu-id="101b8-291">(An example of this activity is users signing in at 3:00 AM and performing a large number of operations when their working day starts at 9:00 AM).</span></span> <span data-ttu-id="101b8-292">Ez az információ is használható időalapú automatikus skálázás konfigurálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="101b8-292">This information can also be used to help configure time-based autoscaling.</span></span> <span data-ttu-id="101b8-293">Például ha egy olyan operátort figyelembe veszi, hogy a felhasználók sok rendszeresen jelentkezzen be a nap adott időpontban, az üzemeltető rendezheti elindítani a további hitelesítési szolgáltatásokat, és a munka mennyiségét kezelésére, majd állítsa le a további szolgáltatások esetén a maximális a rendszer megfelelt.</span><span class="sxs-lookup"><span data-stu-id="101b8-293">For example, if an operator observes that a large number of users regularly sign in at a particular time of day, the operator can arrange to start additional authentication services to handle the volume of work, and then shut down these additional services when the peak has passed.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-294">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-294">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-295">A biztonság az legtöbb elosztott rendszerek minden felölelő szempontját.</span><span class="sxs-lookup"><span data-stu-id="101b8-295">Security is an all-encompassing aspect of most distributed systems.</span></span> <span data-ttu-id="101b8-296">A lényeges adat valószínű, hogy a rendszer több pontokon hozható létre.</span><span class="sxs-lookup"><span data-stu-id="101b8-296">The pertinent data is likely to be generated at multiple points throughout a system.</span></span> <span data-ttu-id="101b8-297">Érdemes lehet összegyűjteni a biztonsági események emelt az alkalmazás, a hálózati berendezések, a kiszolgálók, a tűzfalak, a víruskereső szoftver, és más által a biztonsági adatai és az esemény felügyeleti SIEM-megközelítés bevezetése behatolás-megelőzési elemek.</span><span class="sxs-lookup"><span data-stu-id="101b8-297">You should consider adopting a Security Information and Event Management (SIEM) approach to gather the security-related information that results from events raised by the application, network equipment, servers, firewalls, antivirus software, and other intrusion-prevention elements.</span></span>

<span data-ttu-id="101b8-298">Biztonsági figyelési eszközök, amelyek nem szerepelnek az alkalmazás adatait építhessék be.</span><span class="sxs-lookup"><span data-stu-id="101b8-298">Security monitoring can incorporate data from tools that are not part of your application.</span></span> <span data-ttu-id="101b8-299">Ezek az eszközök segédprogramok, amely azonosítja a külső szervezetek, vagy az alkalmazás és az adatok nem hitelesített hozzáférést irányuló kísérletek hálózati szűrők port vizsgálatát tevékenységeket tartalmazhatnak.</span><span class="sxs-lookup"><span data-stu-id="101b8-299">These tools can include utilities that identify port-scanning activities by external agencies, or network filters that detect attempts to gain unauthenticated access to your application and data.</span></span>

<span data-ttu-id="101b8-300">Minden esetben az összegyűjtött adatokat a rendszergazda határozza meg a támadás természetét és tegye meg a megfelelő ellenintézkedések engedélyeznie kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-300">In all cases, the gathered data must enable an administrator to determine the nature of any attack and take the appropriate countermeasures.</span></span>

### <a name="analyzing-security-data"></a><span data-ttu-id="101b8-301">Biztonsági adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-301">Analyzing security data</span></span>
<span data-ttu-id="101b8-302">A biztonsági figyelés jellemzője, a különböző forrásokból, amelyből az adat keletkezik.</span><span class="sxs-lookup"><span data-stu-id="101b8-302">A feature of security monitoring is the variety of sources from which the data arises.</span></span> <span data-ttu-id="101b8-303">A különböző formátumokban és részletességi szintje gyakran megkövetelik a összetett elemzésének alkalmazássá be adatok egy összefüggő szál rögzített adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-303">The different formats and level of detail often require complex analysis of the captured data to tie it together into a coherent thread of information.</span></span> <span data-ttu-id="101b8-304">Mellett a legegyszerűbb esetekben (például nagyszámú sikertelen bejelentkezések, vagy a kritikus fontosságú erőforrásokhoz való jogosulatlan hozzáférést ismételt kísérletek észlelése) hogy előfordulhat, hogy nem lehet végrehajtani a biztonsági adatok bármely összetett az automatikus feldolgozása.</span><span class="sxs-lookup"><span data-stu-id="101b8-304">Apart from the simplest of cases (such as detecting a large number of failed sign-ins, or repeated attempts to gain unauthorized access to critical resources), it might not be possible to perform any complex automated processing of security data.</span></span> <span data-ttu-id="101b8-305">Ehelyett lehet érdemes időbélyeggel ellátott egyéb szakértői manuális elemzéshez engedélyezéséhez biztonságos tárházba eredeti formájukban, de ezek az adatok írása.</span><span class="sxs-lookup"><span data-stu-id="101b8-305">Instead, it might be preferable to write this data, time-stamped but otherwise in its original form, to a secure repository to allow for expert manual analysis.</span></span>

<a name="SLA-monitoring"></a>

## <a name="sla-monitoring"></a><span data-ttu-id="101b8-306">SLA-figyelés</span><span class="sxs-lookup"><span data-stu-id="101b8-306">SLA monitoring</span></span>
<span data-ttu-id="101b8-307">Fizető vevők támogató sok kereskedelmi rendszerek garanciák kapcsolatban a rendszer teljesítményét ellenőrizze SLA-k formájában.</span><span class="sxs-lookup"><span data-stu-id="101b8-307">Many commercial systems that support paying customers make guarantees about the performance of the system in the form of SLAs.</span></span> <span data-ttu-id="101b8-308">Alapvetően SLA-k állapotban, hogy a rendszer kezelni tud a meghatározott mennyiségű munka az egyeztetett időkereten belül, és a kritikus adatok elvesztése nélkül.</span><span class="sxs-lookup"><span data-stu-id="101b8-308">Essentially, SLAs state that the system can handle a defined volume of work within an agreed time frame and without losing critical information.</span></span> <span data-ttu-id="101b8-309">Győződjön meg arról, hogy a rendszer megfelel mérhető SLA SLA figyelési érintett.</span><span class="sxs-lookup"><span data-stu-id="101b8-309">SLA monitoring is concerned with ensuring that the system can meet measurable SLAs.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-310">SLA-figyelési szorosan kapcsolódnak a teljesítmény figyelése.</span><span class="sxs-lookup"><span data-stu-id="101b8-310">SLA monitoring is closely related to performance monitoring.</span></span> <span data-ttu-id="101b8-311">De mivel teljesítményfigyelés van biztosítva, hogy a rendszer működését *optimális*, SLA figyelési szabályozza, amely meghatározza, milyen szerződéses kötelezettség *optimális* ténylegesen azt jelenti, hogy.</span><span class="sxs-lookup"><span data-stu-id="101b8-311">But whereas performance monitoring is concerned with ensuring that the system functions *optimally*, SLA monitoring is governed by a contractual obligation that defines what *optimally* actually means.</span></span>
> 
> 

<span data-ttu-id="101b8-312">SLA-k a definiálja:</span><span class="sxs-lookup"><span data-stu-id="101b8-312">SLAs are often defined in terms of:</span></span>

* <span data-ttu-id="101b8-313">Általános rendelkezésre állására.</span><span class="sxs-lookup"><span data-stu-id="101b8-313">Overall system availability.</span></span> <span data-ttu-id="101b8-314">Például egy szervezet előfordulhat, hogy garantálja, hogy a rendszer 99,9 %-ában elérhető lesz-e.</span><span class="sxs-lookup"><span data-stu-id="101b8-314">For example, an organization might guarantee that the system will be available for 99.9 percent of the time.</span></span> <span data-ttu-id="101b8-315">Ez megfelel a legfeljebb 9 óra állásidő évente, vagy a hét körülbelül 10 perc.</span><span class="sxs-lookup"><span data-stu-id="101b8-315">This equates to no more than 9 hours of downtime per year, or approximately 10 minutes a week.</span></span>
* <span data-ttu-id="101b8-316">Működési átviteli sebességet.</span><span class="sxs-lookup"><span data-stu-id="101b8-316">Operational throughput.</span></span> <span data-ttu-id="101b8-317">Egy vagy több magas vízjeleket, amely garantálja, hogy a rendszer legfeljebb 100 000 egyidejű felhasználói kérelmek támogatásához, vagy 10 000 egyidejű üzleti tranzakciók kezelése például gyakran kifejezése ezen tulajdonsága.</span><span class="sxs-lookup"><span data-stu-id="101b8-317">This aspect is often expressed as one or more high-water marks, such as guaranteeing that the system can support up to 100,000 concurrent user requests or handle 10,000 concurrent business transactions.</span></span>
* <span data-ttu-id="101b8-318">Működési válaszidő.</span><span class="sxs-lookup"><span data-stu-id="101b8-318">Operational response time.</span></span> <span data-ttu-id="101b8-319">A rendszer is tehetik a kérelmek feldolgozásának sebessége garanciát.</span><span class="sxs-lookup"><span data-stu-id="101b8-319">The system might also make guarantees for the rate at which requests are processed.</span></span> <span data-ttu-id="101b8-320">Például, hogy minden üzleti tranzakciók 99 százalékának befejezi 2 másodpercen belül, de nincs egyetlen tranzakció 10 másodpercnél hosszabb ideig tart.</span><span class="sxs-lookup"><span data-stu-id="101b8-320">An example is that 99 percent of all business transactions will finish within 2 seconds, and no single transaction will take longer than 10 seconds.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-321">Néhány szerződések kereskedelmi rendszerekhez kiterjedhetnek SLA-k az ügyfél-támogatási szolgálatához.</span><span class="sxs-lookup"><span data-stu-id="101b8-321">Some contracts for commercial systems might also include SLAs for customer support.</span></span> <span data-ttu-id="101b8-322">Például, hogy minden segélyszolgálat kérelmeket 5 percen belül fog kér választ, és hogy az összes probléma 99 %-át teljes kiiktatása 1 munkanapon belül.</span><span class="sxs-lookup"><span data-stu-id="101b8-322">An example is that all help-desk requests will elicit a response within 5 minutes, and that 99 percent of all problems will be fully addressed within 1 working day.</span></span> <span data-ttu-id="101b8-323">Hatékony [problémák nyomon követése](#issue-tracking) (később ebben a szakaszban leírt) van szolgáltatásiszint-szerződéseknek ehhez hasonló helyzeteknek billentyűt.</span><span class="sxs-lookup"><span data-stu-id="101b8-323">Effective [issue tracking](#issue-tracking) (described later in this section) is key to meeting SLAs such as these.</span></span>
> 
> 

### <a name="requirements-for-sla-monitoring"></a><span data-ttu-id="101b8-324">SLA-figyelés követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-324">Requirements for SLA monitoring</span></span>
<span data-ttu-id="101b8-325">A legmagasabb szintjén az üzemeltető meg tudja határozni egy pillanat alatt, hogy a rendszer megfelel-e a megállapodás szerinti SLA-k vagy nem kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-325">At the highest level, an operator should be able to determine at a glance whether the system is meeting the agreed SLAs or not.</span></span> <span data-ttu-id="101b8-326">Ha nem, a következő operátor kell tudni részletezéshez és le, és megvizsgálja a mögöttes tényezők állapítsa meg, hogy a követelményeket teljesítmény.</span><span class="sxs-lookup"><span data-stu-id="101b8-326">And if not, the operator should be able to drill down and examine the underlying factors to determine the reasons for substandard performance.</span></span>

<span data-ttu-id="101b8-327">Tipikus magas szintű mutatók vizuálisan kitaláltak a következők:</span><span class="sxs-lookup"><span data-stu-id="101b8-327">Typical high-level indicators that can be depicted visually include:</span></span>

* <span data-ttu-id="101b8-328">Hasznos üzemidő százalékát.</span><span class="sxs-lookup"><span data-stu-id="101b8-328">The percentage of service uptime.</span></span>
* <span data-ttu-id="101b8-329">Az alkalmazás az átviteli sebesség (sikeres tranzakciók és/vagy a műveletek másodpercenkénti száma).</span><span class="sxs-lookup"><span data-stu-id="101b8-329">The application throughput (measured in terms of successful transactions and/or operations per second).</span></span>
* <span data-ttu-id="101b8-330">Sikeres/sikertelen alkalmazás kérések száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-330">The number of successful/failing application requests.</span></span>
* <span data-ttu-id="101b8-331">Az alkalmazás- és hibák, kivételek és figyelmeztetések száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-331">The number of application and system faults, exceptions, and warnings.</span></span>

<span data-ttu-id="101b8-332">Ezek a mutatók mindegyikét a megadott időtartam szűri képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-332">All of these indicators should be capable of being filtered by a specified period of time.</span></span>

<span data-ttu-id="101b8-333">A felhőalapú alkalmazások valószínűleg magában foglalja a több alrendszerek és összetevőket.</span><span class="sxs-lookup"><span data-stu-id="101b8-333">A cloud application will likely comprise a number of subsystems and components.</span></span> <span data-ttu-id="101b8-334">Operátor válassza ki a magas szintű kijelzőt, és tekintse meg, hogyan össze az alapul szolgáló elemek tartozó képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-334">An operator should be able to select a high-level indicator and see how it's composed from the health of the underlying elements.</span></span> <span data-ttu-id="101b8-335">Például ha a teljes rendszer üzemideje elfogadható érték alá csökken, egy olyan operátort kell tudni nagyítás, és döntse el, melyik elemet biztosítanak a hiba.</span><span class="sxs-lookup"><span data-stu-id="101b8-335">For example, if the uptime of the overall system falls below an acceptable value, an operator should be able to zoom in and determine which elements are contributing to this failure.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-336">Rendszer hasznos üzemidő kell gondosan definiálni.</span><span class="sxs-lookup"><span data-stu-id="101b8-336">System uptime needs to be defined carefully.</span></span> <span data-ttu-id="101b8-337">A maximális rendelkezésre állásának biztosításához redundancia használó rendszer elemek egyes példányai sikertelen lehet, de maradhat, hogy a rendszer működési.</span><span class="sxs-lookup"><span data-stu-id="101b8-337">In a system that uses redundancy to ensure maximum availability, individual instances of elements might fail, but the system can remain functional.</span></span> <span data-ttu-id="101b8-338">Állapotfigyelés által bemutatott rendszer üzemideje fel kell tüntetni az egyes elemek összesített üzemideje és nem feltétlenül e a rendszer ténylegesen leállt.</span><span class="sxs-lookup"><span data-stu-id="101b8-338">System uptime as presented by health monitoring should indicate the aggregate uptime of each element and not necessarily whether the system has actually halted.</span></span> <span data-ttu-id="101b8-339">Emellett előfordulhat, hogy lehet elkülönített hibák.</span><span class="sxs-lookup"><span data-stu-id="101b8-339">Additionally, failures might be isolated.</span></span> <span data-ttu-id="101b8-340">Így akkor is, ha egy megadott rendszer nem érhető el, a rendszer további része lehet, hogy elérhetők maradnak, bár a csökkent funkcionalitással.</span><span class="sxs-lookup"><span data-stu-id="101b8-340">So even if a specific system is unavailable, the remainder of the system might remain available, although with decreased functionality.</span></span> <span data-ttu-id="101b8-341">(Egy e-kereskedelmi rendszerben hibája miatt a rendszer az ügyfél esetleg nem rendelések helyezi el, de előfordulhat, hogy a az ügyfél továbbra is el tud jutni a termékkatalógus.)</span><span class="sxs-lookup"><span data-stu-id="101b8-341">(In an e-commerce system, a failure in the system might prevent a customer from placing orders, but the customer might still be able to browse the product catalog.)</span></span>
> 
> 

<span data-ttu-id="101b8-342">Riasztások céljából, a rendszer kell tudni indítson eseményt, ha a magas szintű mutatók bármelyikét haladja meg a megadott küszöbértéket.</span><span class="sxs-lookup"><span data-stu-id="101b8-342">For alerting purposes, the system should be able to raise an event if any of the high-level indicators exceed a specified threshold.</span></span> <span data-ttu-id="101b8-343">A számos tényező befolyásolja, a magas szintű kijelző alkotó alacsonyabb szintű részleteit a riasztási rendszer környezetfüggő adatként elérhetőnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-343">The lower-level details of the various factors that compose the high-level indicator should be available as contextual data to the alerting system.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-344">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-344">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-345">A nyers adatok SLA figyelési támogatásához szükséges hasonlít a nyers adatok teljesítményfigyelési, állapotának és rendelkezésre állásának figyelésére szolgáló bizonyos aspektusainak együtt van szükség.</span><span class="sxs-lookup"><span data-stu-id="101b8-345">The raw data that's required to support SLA monitoring is similar to the raw data that's required for performance monitoring, together with some aspects of health and availability monitoring.</span></span> <span data-ttu-id="101b8-346">(Ezek a szakaszok további részletekért tekintse meg.) Ezek az adatok által rögzítése:</span><span class="sxs-lookup"><span data-stu-id="101b8-346">(See those sections for more details.) You can capture this data by:</span></span>

* <span data-ttu-id="101b8-347">Végez a végpontmonitoring kijelző.</span><span class="sxs-lookup"><span data-stu-id="101b8-347">Performing endpoint monitoring.</span></span>
* <span data-ttu-id="101b8-348">Kivételek, hibák és figyelmeztetések naplózása.</span><span class="sxs-lookup"><span data-stu-id="101b8-348">Logging exceptions, faults, and warnings.</span></span>
* <span data-ttu-id="101b8-349">A felhasználói kérelmek teljesítése nyomkövetés.</span><span class="sxs-lookup"><span data-stu-id="101b8-349">Tracing the execution of user requests.</span></span>
* <span data-ttu-id="101b8-350">A rendszer által használt külső szolgáltatások rendelkezésre állásának figyelése.</span><span class="sxs-lookup"><span data-stu-id="101b8-350">Monitoring the availability of any third-party services that the system uses.</span></span>
* <span data-ttu-id="101b8-351">Metrikák és számlálók használatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-351">Using performance metrics and counters.</span></span>

<span data-ttu-id="101b8-352">Minden adat legyen túllépte az időkorlátot és időbélyeggel ellátott.</span><span class="sxs-lookup"><span data-stu-id="101b8-352">All data must be timed and time-stamped.</span></span>

### <a name="analyzing-sla-data"></a><span data-ttu-id="101b8-353">SLA-adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-353">Analyzing SLA data</span></span>
<span data-ttu-id="101b8-354">A WMI-adatok létrehozására, a rendszer általános teljesítménye képe kell összesíteni.</span><span class="sxs-lookup"><span data-stu-id="101b8-354">The instrumentation data must be aggregated to generate a picture of the overall performance of the system.</span></span> <span data-ttu-id="101b8-355">Összesített adatokat is támogatnia kell a Részletezés engedélyezése az alapul szolgáló alrendszerek teljesítmény vizsgálata.</span><span class="sxs-lookup"><span data-stu-id="101b8-355">Aggregated data must also support drill-down to enable examination of the performance of the underlying subsystems.</span></span> <span data-ttu-id="101b8-356">Például meg kell tudni:</span><span class="sxs-lookup"><span data-stu-id="101b8-356">For example, you should be able to:</span></span>

* <span data-ttu-id="101b8-357">A felhasználói kérelmek teljes száma kiszámítása a meghatározott időszakon belül, és ezeket a kéréseket a sikeres és sikertelen arányát határozza meg.</span><span class="sxs-lookup"><span data-stu-id="101b8-357">Calculate the total number of user requests during a specified period and determine the success and failure rate of these requests.</span></span>
* <span data-ttu-id="101b8-358">Összevonja a felhasználói kérelmek rendszer válaszidejének átfogó képet létrehozásához a válaszidők.</span><span class="sxs-lookup"><span data-stu-id="101b8-358">Combine the response times of user requests to generate an overall view of system response times.</span></span>
* <span data-ttu-id="101b8-359">Vizsgálja meg a felhasználói kérelmek szeretné bontani a kérelemben található egyedi munkaelemeket válaszidő kérelem teljes válaszidő előrehaladását.</span><span class="sxs-lookup"><span data-stu-id="101b8-359">Analyze the progress of user requests to break down the overall response time of a request into the response times of the individual work items in that request.</span></span>  
* <span data-ttu-id="101b8-360">Hasznos üzemidő százalékban a rendszer általános rendelkezésre állására meghatározása egy adott időszakban.</span><span class="sxs-lookup"><span data-stu-id="101b8-360">Determine the overall availability of the system as a percentage of uptime for any specific period.</span></span>
* <span data-ttu-id="101b8-361">A százalékos idő rendelkezésre állását az egyes összetevőkkel és szolgáltatásokkal elemzése a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="101b8-361">Analyze the percentage time availability of the individual components and services in the system.</span></span> <span data-ttu-id="101b8-362">Ez lehet, hogy tartalmaz, amely harmadik féltől származó szolgáltatással létrehozott naplók elemzése.</span><span class="sxs-lookup"><span data-stu-id="101b8-362">This might involve parsing logs that third-party services have generated.</span></span>

<span data-ttu-id="101b8-363">Számos kereskedelmi rendszer valós teljesítmény ábra elleni egyeztetett SLA jelentés egy megadott időtartamig, általában egy hónap szükségesek.</span><span class="sxs-lookup"><span data-stu-id="101b8-363">Many commercial systems are required to report real performance figures against agreed SLAs for a specified period, typically a month.</span></span> <span data-ttu-id="101b8-364">Ezek az információk segítségével kiszámítani kreditek vagy egyéb visszafizetések az ügyfelek Ha adott időszakban nem felel meg az SLA-k.</span><span class="sxs-lookup"><span data-stu-id="101b8-364">This information can be used to calculate credits or other forms of repayments for customers if the SLAs are not met during that period.</span></span> <span data-ttu-id="101b8-365">A szolgáltatás rendelkezésre állásának kiszámíthatja a szakaszban bemutatott módszerrel [rendelkezésre állási adatok elemzése](#analyzing-availability-data).</span><span class="sxs-lookup"><span data-stu-id="101b8-365">You can calculate availability for a service by using the technique described in the section [Analyzing availability data](#analyzing-availability-data).</span></span>

<span data-ttu-id="101b8-366">Belső célra egy szervezet előfordulhat, hogy is nyomon követheti az a szám és a szolgáltatások nem fognak kiváltó incidensek jellege.</span><span class="sxs-lookup"><span data-stu-id="101b8-366">For internal purposes, an organization might also track the number and nature of incidents that caused services to fail.</span></span> <span data-ttu-id="101b8-367">A problémák megoldásához gyorsan, vagy kiküszöbölheti a teljesen, hogyan csökkentheti az állásidőt, és megfelelnek a szolgáltatásiszint-szerződések segítségével.</span><span class="sxs-lookup"><span data-stu-id="101b8-367">Learning how to resolve these issues quickly, or eliminate them completely, will help to reduce downtime and meet SLAs.</span></span>

## <a name="auditing"></a><span data-ttu-id="101b8-368">Naplózás</span><span class="sxs-lookup"><span data-stu-id="101b8-368">Auditing</span></span>
<span data-ttu-id="101b8-369">Az alkalmazás természetétől függően előfordulhat, kötelező vagy egyéb jogszabályok által megadott felhasználói műveletek naplózása és az összes adatelérési rögzítése követelményei.</span><span class="sxs-lookup"><span data-stu-id="101b8-369">Depending on the nature of the application, there might be statutory or other legal regulations that specify requirements for auditing users' operations and recording all data access.</span></span> <span data-ttu-id="101b8-370">Naplózás is bizonyító, hogy hivatkozásokat a felhasználók bizonyos kérésekre.</span><span class="sxs-lookup"><span data-stu-id="101b8-370">Auditing can provide evidence that links customers to specific requests.</span></span> <span data-ttu-id="101b8-371">A nem megtagadás számos üzleti e rendszer megbízhatósági fenntartása érdekében fontos tényezőt kell az ügyfél és a szervezet, amely felelős az alkalmazás vagy szolgáltatás között.</span><span class="sxs-lookup"><span data-stu-id="101b8-371">Non-repudiation is an important factor in many e-business systems to help maintain trust be between a customer and the organization that's responsible for the application or service.</span></span>

### <a name="requirements-for-auditing"></a><span data-ttu-id="101b8-372">Naplózásának követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-372">Requirements for auditing</span></span>
<span data-ttu-id="101b8-373">Valamelyik elemzőnek, hogy a felhasználók így is újbóli összeállítása a felhasználói műveleteket hajt végre üzleti műveletek sorrendjének követéséhez képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-373">An analyst must be able to trace the sequence of business operations that users are performing so that you can reconstruct users' actions.</span></span> <span data-ttu-id="101b8-374">Erre akkor lehet szükség, egyszerűen alkot rekordot, vagy a törvényszéki nyomozások részeként.</span><span class="sxs-lookup"><span data-stu-id="101b8-374">This might be necessary simply as a matter of record, or as part of a forensic investigation.</span></span>

<span data-ttu-id="101b8-375">A naplóinformációkat szigorúan bizalmas.</span><span class="sxs-lookup"><span data-stu-id="101b8-375">Audit information is highly sensitive.</span></span> <span data-ttu-id="101b8-376">Ez valószínűleg magában foglalja, amely azonosítja a felhasználókat a rendszer a feladatokat helyreállítást hajt végre, és adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-376">It will likely include data that identifies the users of the system, together with the tasks that they're performing.</span></span> <span data-ttu-id="101b8-377">Emiatt a naplóinformációkat valószínűleg a következőkben csak megbízható elemzők rendelkezésre álló jelentések helyett egy interaktív rendszert, amely támogatja a grafikus műveletek részletes.</span><span class="sxs-lookup"><span data-stu-id="101b8-377">For this reason, audit information will most likely take the form of reports that are available only to trusted analysts rather than as an interactive system that supports drill-down of graphical operations.</span></span> <span data-ttu-id="101b8-378">Valamelyik elemzőnek számos különböző jelentések létrehozásához képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-378">An analyst should be able to generate a range of reports.</span></span> <span data-ttu-id="101b8-379">Például jelentések előfordulhat, hogy minden felhasználó tevékenységek egy adott időtartományban listában, a tevékenység egyetlen felhasználóhoz időrendje részletességi vagy listában egy vagy több erőforrásokon végrehajtott műveletek sorozata.</span><span class="sxs-lookup"><span data-stu-id="101b8-379">For example, reports might list all users' activities occurring during a specified time frame, detail the chronology of activity for a single user, or list the sequence of operations performed against one or more resources.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-380">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-380">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-381">Az elsődleges információforrások a naplózáshoz az alábbiakból állhat:</span><span class="sxs-lookup"><span data-stu-id="101b8-381">The primary sources of information for auditing can include:</span></span>

* <span data-ttu-id="101b8-382">A biztonsági rendszer, amely kezeli a felhasználó hitelesítése.</span><span class="sxs-lookup"><span data-stu-id="101b8-382">The security system that manages user authentication.</span></span>
* <span data-ttu-id="101b8-383">Nyomkövetési naplók, amely a felhasználó tevékenységét rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-383">Trace logs that record user activity.</span></span>
* <span data-ttu-id="101b8-384">Minden azonosítható és azonosítatlan hálózati kérelmeket nyomon biztonsági naplókat.</span><span class="sxs-lookup"><span data-stu-id="101b8-384">Security logs that track all identifiable and unidentifiable network requests.</span></span>

<span data-ttu-id="101b8-385">A formátum, amely tárolja a naplózási adatok és szabályozási követelmények alapján előfordulhat, hogy vezeti.</span><span class="sxs-lookup"><span data-stu-id="101b8-385">The format of the audit data and the way in which it's stored might be driven by regulatory requirements.</span></span> <span data-ttu-id="101b8-386">Például akkor lehet, hogy nem lehet bármely olyan módon adatot.</span><span class="sxs-lookup"><span data-stu-id="101b8-386">For example, it might not be possible to clean the data in any way.</span></span> <span data-ttu-id="101b8-387">(Ez rögzíteni kell az eredeti formátumában.) A tárház tárolási helye a hozzáférést az illetéktelen kell védeni.</span><span class="sxs-lookup"><span data-stu-id="101b8-387">(It must be recorded in its original format.) Access to the repository where it's held must be protected to prevent tampering.</span></span>

### <a name="analyzing-audit-data"></a><span data-ttu-id="101b8-388">Naplózási adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-388">Analyzing audit data</span></span>
<span data-ttu-id="101b8-389">Lehet, hogy valamelyik elemzőnek érhessék el az eredeti formájukban egészében nyers adatok.</span><span class="sxs-lookup"><span data-stu-id="101b8-389">An analyst must be able to access the raw data in its entirety, in its original form.</span></span> <span data-ttu-id="101b8-390">A követelmény a gyakori naplózási jelentések készítéséhez, vezérelt ezek az adatok elemzésére szolgáló eszközöket valószínűleg kifejezetten és a rendszer a külső tartani.</span><span class="sxs-lookup"><span data-stu-id="101b8-390">Aside from the requirement to generate common audit reports, the tools for analyzing this data are likely to be specialized and kept external to the system.</span></span>

## <a name="usage-monitoring"></a><span data-ttu-id="101b8-391">Használat figyelését</span><span class="sxs-lookup"><span data-stu-id="101b8-391">Usage monitoring</span></span>
<span data-ttu-id="101b8-392">Használat figyelését nyomon követi a szolgáltatásai és összetevői az alkalmazások használatának módját.</span><span class="sxs-lookup"><span data-stu-id="101b8-392">Usage monitoring tracks how the features and components of an application are used.</span></span> <span data-ttu-id="101b8-393">Operátor használhatja az összegyűjtött adatokat:</span><span class="sxs-lookup"><span data-stu-id="101b8-393">An operator can use the gathered data to:</span></span>

* <span data-ttu-id="101b8-394">Határozza meg, mely funkciókat fokozottan használatosak, és a rendszer minden lehetséges elérési pontokhoz történő meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-394">Determine which features are heavily used and determine any potential hotspots in the system.</span></span> <span data-ttu-id="101b8-395">Nagy forgalmú elemek előnye származhat működési particionálás és a terhelés több egyenletesen még akkor is, replikációt.</span><span class="sxs-lookup"><span data-stu-id="101b8-395">High-traffic elements might benefit from functional partitioning or even replication to spread the load more evenly.</span></span> <span data-ttu-id="101b8-396">Operátor is használhatja ezt az információt megállapítani, mely funkciókat ritkán használja, és lehetséges alternatívák vagy cserélni a rendszer egy jövőbeli verziójában.</span><span class="sxs-lookup"><span data-stu-id="101b8-396">An operator can also use this information to ascertain which features are infrequently used and are possible candidates for retirement or replacement in a future version of the system.</span></span>
* <span data-ttu-id="101b8-397">A rendszer normál használják a működési események információhoz juthat.</span><span class="sxs-lookup"><span data-stu-id="101b8-397">Obtain information about the operational events of the system under normal use.</span></span> <span data-ttu-id="101b8-398">Például az elektronikus kereskedelmi webhely, rögzítheti a tranzakciók száma és az ügyfelek, akik felelős a kötet statisztikai adatait.</span><span class="sxs-lookup"><span data-stu-id="101b8-398">For example, in an e-commerce site, you can record the statistical information about the number of transactions and the volume of customers that are responsible for them.</span></span> <span data-ttu-id="101b8-399">Ezt az információt a kapacitástervezés ügyfelek számának növekedésével használható.</span><span class="sxs-lookup"><span data-stu-id="101b8-399">This information can be used for capacity planning as the number of customers grows.</span></span>
* <span data-ttu-id="101b8-400">Észleli az (esetleg közvetetten) felhasználói számára a teljesítmény vagy a rendszer működését.</span><span class="sxs-lookup"><span data-stu-id="101b8-400">Detect (possibly indirectly) user satisfaction with the performance or functionality of the system.</span></span> <span data-ttu-id="101b8-401">Például ha az ügyfelek egy e-kereskedelmi rendszerben nagy számú rendszeresen abandon a vásárlási kártyák, ennek oka lehet a vegye ki funkciójú probléma.</span><span class="sxs-lookup"><span data-stu-id="101b8-401">For example, if a large number of customers in an e-commerce system regularly abandon their shopping carts, this might be due to a problem with the checkout functionality.</span></span>
* <span data-ttu-id="101b8-402">Készítése a számlázási adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-402">Generate billing information.</span></span> <span data-ttu-id="101b8-403">Egy kereskedelmi alkalmazás vagy a több-bérlős szolgáltatást a előfordulhat, hogy az ügyfelek az általuk használt erőforrások díjat számítanak.</span><span class="sxs-lookup"><span data-stu-id="101b8-403">A commercial application or multitenant service might charge customers for the resources that they use.</span></span>
* <span data-ttu-id="101b8-404">Kvóták kényszerítéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-404">Enforce quotas.</span></span> <span data-ttu-id="101b8-405">Ha egy felhasználó egy több-bérlős rendszerben meghaladja a feldolgozási idő vagy az erőforrás-használat egy meghatározott időtartam alatt a fizetős kvótát, a hozzáférés korlátozható vagy feldolgozási is szabályozva.</span><span class="sxs-lookup"><span data-stu-id="101b8-405">If a user in a multitenant system exceeds their paid quota of processing time or resource usage during a specified period, their access can be limited or processing can be throttled.</span></span>

### <a name="requirements-for-usage-monitoring"></a><span data-ttu-id="101b8-406">Használat figyelését követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-406">Requirements for usage monitoring</span></span>
<span data-ttu-id="101b8-407">Vizsgálja meg a rendszer használati, operátor általában kell megfelelnie is információkat lásd:</span><span class="sxs-lookup"><span data-stu-id="101b8-407">To examine system usage, an operator typically needs to see information that includes:</span></span>

* <span data-ttu-id="101b8-408">Minden egyes alrendszer által feldolgozott, és az egyes erőforrások felé irányuló kérelmek száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-408">The number of requests that are processed by each subsystem and directed to each resource.</span></span>
* <span data-ttu-id="101b8-409">A munkát végző minden felhasználóhoz.</span><span class="sxs-lookup"><span data-stu-id="101b8-409">The work that each user is performing.</span></span>
* <span data-ttu-id="101b8-410">A kötet, amely minden felhasználó által elfoglalt adattárolási.</span><span class="sxs-lookup"><span data-stu-id="101b8-410">The volume of data storage that each user occupies.</span></span>
* <span data-ttu-id="101b8-411">Az erőforrások minden felhasználó hozzáférhet.</span><span class="sxs-lookup"><span data-stu-id="101b8-411">The resources that each user is accessing.</span></span>

<span data-ttu-id="101b8-412">Operátor hozhat létre diagramokat kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-412">An operator should also be able to generate graphs.</span></span> <span data-ttu-id="101b8-413">Például egy grafikonon megjelenítheti a legtöbb erőforrást belekóstol felhasználókat, vagy a leggyakrabban elért erőforrások vagy -funkciókat.</span><span class="sxs-lookup"><span data-stu-id="101b8-413">For example, a graph might display the most resource-hungry users, or the most frequently accessed resources or system features.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-414">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-414">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-415">Használat nyomon követése viszonylag magas szinten hajtható végre.</span><span class="sxs-lookup"><span data-stu-id="101b8-415">Usage tracking can be performed at a relatively high level.</span></span> <span data-ttu-id="101b8-416">Azt is vegye figyelembe, az egyes kérelmek indításának és befejezésének idejét és a kérés (olvasási, írási és így tovább, attól függően, hogy az adott erőforrás) jellegét.</span><span class="sxs-lookup"><span data-stu-id="101b8-416">It can note the start and end times of each request and the nature of the request (read, write, and so on, depending on the resource in question).</span></span> <span data-ttu-id="101b8-417">Ezt úgy szerezheti be ezeket az információkat:</span><span class="sxs-lookup"><span data-stu-id="101b8-417">You can obtain this information by:</span></span>

* <span data-ttu-id="101b8-418">Felhasználói tevékenység nyomkövetés.</span><span class="sxs-lookup"><span data-stu-id="101b8-418">Tracing user activity.</span></span>
* <span data-ttu-id="101b8-419">A rögzítés teljesítményszámlálók találhatók, amelyek mérik az egyes erőforrások kihasználtsága.</span><span class="sxs-lookup"><span data-stu-id="101b8-419">Capturing performance counters that measure the utilization for each resource.</span></span>
* <span data-ttu-id="101b8-420">Az erőforrás-felhasználás, mely felhasználó figyelése.</span><span class="sxs-lookup"><span data-stu-id="101b8-420">Monitoring the resource consumption by each user.</span></span>

<span data-ttu-id="101b8-421">Mérés céljából, is kell lennie lehet azonosítani, hogy mely felhasználók felelőssége milyen műveleteket, és az erőforrásokat, amelyek használják ezeket a műveleteket hajt végre.</span><span class="sxs-lookup"><span data-stu-id="101b8-421">For metering purposes, you also need to be able to identify which users are responsible for performing which operations, and the resources that these operations utilize.</span></span> <span data-ttu-id="101b8-422">Az összegyűjtött információk kell lennie ahhoz, hogy pontos számlázási részletes.</span><span class="sxs-lookup"><span data-stu-id="101b8-422">The gathered information should be detailed enough to enable accurate billing.</span></span>

<a name="issue-tracking"></a>

## <a name="issue-tracking"></a><span data-ttu-id="101b8-423">A problémák nyomon követése</span><span class="sxs-lookup"><span data-stu-id="101b8-423">Issue tracking</span></span>
<span data-ttu-id="101b8-424">Az ügyfelek és más felhasználók előfordulhat, hogy jelenti problémák esetén nem várt események vagy viselkedés a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="101b8-424">Customers and other users might report issues if unexpected events or behavior occurs in the system.</span></span> <span data-ttu-id="101b8-425">Problémák nyomon követése a problémák kezelése, való azon törekvéseit, hogy a rendszer minden alapul szolgáló problémák megoldásához és a lehetséges megoldások a felhasználók tájékoztatása tekintetében.</span><span class="sxs-lookup"><span data-stu-id="101b8-425">Issue tracking is concerned with managing these issues, associating them with efforts to resolve any underlying problems in the system, and informing customers of possible resolutions.</span></span>

### <a name="requirements-for-issue-tracking"></a><span data-ttu-id="101b8-426">A problémák nyomon követése követelményei</span><span class="sxs-lookup"><span data-stu-id="101b8-426">Requirements for issue tracking</span></span>
<span data-ttu-id="101b8-427">Operátorok gyakran hajtsa végre a problémák nyomon követése külön rendszer-, amely lehetővé teszi, hogy rekord és a jelentés a problémák részleteit, amelyek felhasználók jelentést készítenek.</span><span class="sxs-lookup"><span data-stu-id="101b8-427">Operators often perform issue tracking by using a separate system that enables them to record and report the details of problems that users report.</span></span> <span data-ttu-id="101b8-428">Ezek az adatok tartalmazhatnak a feladatokat, a felhasználó próbál végrehajtani, a problémát, eseménysorozatát, és semmilyen hiba vagy kiadott figyelmeztető üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="101b8-428">These details can include the tasks that the user was trying to perform, symptoms of the problem, the sequence of events, and any error or warning messages that were issued.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-429">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-429">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-430">Probléma-nyomon követési adatok kezdeti adatforrását az a felhasználó, aki a problémát az elsőként jelentett.</span><span class="sxs-lookup"><span data-stu-id="101b8-430">The initial data source for issue-tracking data is the user who reported the issue in the first place.</span></span> <span data-ttu-id="101b8-431">Lehet, hogy a felhasználó további adatokat nyújt, mint:</span><span class="sxs-lookup"><span data-stu-id="101b8-431">The user might be able to provide additional data such as:</span></span>

* <span data-ttu-id="101b8-432">Összeomlási memóriaképet (ha az alkalmazás a felhasználói asztali környezetben futtató összetevőt tartalmazza).</span><span class="sxs-lookup"><span data-stu-id="101b8-432">A crash dump (if the application includes a component that runs on the user's desktop).</span></span>
* <span data-ttu-id="101b8-433">Képernyő pillanatképet.</span><span class="sxs-lookup"><span data-stu-id="101b8-433">A screen snapshot.</span></span>
* <span data-ttu-id="101b8-434">A dátum és idő, amikor a hiba történt, például a felhasználó földrajzi helye más környezeti adatokkal együtt.</span><span class="sxs-lookup"><span data-stu-id="101b8-434">The date and time when the error occurred, together with any other environmental information such as the user's location.</span></span>

<span data-ttu-id="101b8-435">Ez az információ használható a hibakeresési elérhető, és a későbbi kiadásokban a szoftverfrissítés Hátralék összeállításához.</span><span class="sxs-lookup"><span data-stu-id="101b8-435">This information can be used to help the debugging effort and help construct a backlog for future releases of the software.</span></span>

### <a name="analyzing-issue-tracking-data"></a><span data-ttu-id="101b8-436">Probléma-nyomkövetési adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="101b8-436">Analyzing issue-tracking data</span></span>
<span data-ttu-id="101b8-437">Különböző felhasználók előfordulhat, hogy a probléma jelenti.</span><span class="sxs-lookup"><span data-stu-id="101b8-437">Different users might report the same problem.</span></span> <span data-ttu-id="101b8-438">A probléma követőrendszerrel közös jelentések kell társítani.</span><span class="sxs-lookup"><span data-stu-id="101b8-438">The issue-tracking system should associate common reports.</span></span>

<span data-ttu-id="101b8-439">A hibakeresési elérhető előrehaladását feljegyzik minden probléma jelentés ellen.</span><span class="sxs-lookup"><span data-stu-id="101b8-439">The progress of the debugging effort should be recorded against each issue report.</span></span> <span data-ttu-id="101b8-440">Ha a probléma megoldódott, az ügyfél is tájékoztatni a megoldás.</span><span class="sxs-lookup"><span data-stu-id="101b8-440">When the problem is resolved, the customer can be informed of the solution.</span></span>

<span data-ttu-id="101b8-441">Ha a felhasználó azt jelenti, amely rendelkezik egy ismert megoldás a probléma követőrendszerrel problémát, a következő operátor kell tudni azonnal tájékoztatja a felhasználót, a megoldás.</span><span class="sxs-lookup"><span data-stu-id="101b8-441">If a user reports an issue that has a known solution in the issue-tracking system, the operator should be able to inform the user of the solution immediately.</span></span>

## <a name="tracing-operations-and-debugging-software-releases"></a><span data-ttu-id="101b8-442">Műveletek szoftver verziókban nyomkövetéséhez és</span><span class="sxs-lookup"><span data-stu-id="101b8-442">Tracing operations and debugging software releases</span></span>
<span data-ttu-id="101b8-443">A felhasználó problémát jelent, ha a felhasználó gyakran csak tisztában a közvetlen hatással lehet, hogy azok a műveletek az.</span><span class="sxs-lookup"><span data-stu-id="101b8-443">When a user reports an issue, the user is often only aware of the immediate impact that it has on their operations.</span></span> <span data-ttu-id="101b8-444">A felhasználó is csak jelentik az eredményeket a saját felhasználói felület vissza egy olyan operátort, aki felelős a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="101b8-444">The user can only report the results of their own experience back to an operator who is responsible for maintaining the system.</span></span> <span data-ttu-id="101b8-445">Ezek a tapasztalatok rendszerint látható tünete egy vagy több alapvető problémák.</span><span class="sxs-lookup"><span data-stu-id="101b8-445">These experiences are usually just a visible symptom of one or more fundamental problems.</span></span> <span data-ttu-id="101b8-446">Sok esetben egy elemző kell átrágniuk a időrendje az alapul szolgáló műveletek a probléma okának meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-446">In many cases, an analyst will need to dig through the chronology of the underlying operations to establish the root cause of the problem.</span></span> <span data-ttu-id="101b8-447">Ez a folyamat *kiváltó okot*.</span><span class="sxs-lookup"><span data-stu-id="101b8-447">This process is called *root cause analysis*.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-448">Legfelső szintű okát előfordulhat, hogy fedik le a hatékonyság hiánya az alkalmazások kialakításában.</span><span class="sxs-lookup"><span data-stu-id="101b8-448">Root cause analysis might uncover inefficiencies in the design of an application.</span></span> <span data-ttu-id="101b8-449">Ezekben a helyzetekben esetleg az érintett elemek átdolgozási, és központi telepítésére egy későbbi kiadásában.</span><span class="sxs-lookup"><span data-stu-id="101b8-449">In these situations, it might be possible to rework the affected elements and deploy them as part of a subsequent release.</span></span> <span data-ttu-id="101b8-450">Ez a folyamat gondos hozzáférésre van szüksége, és a frissített összetevők szorosan kell figyelni.</span><span class="sxs-lookup"><span data-stu-id="101b8-450">This process requires careful control, and the updated components should be monitored closely.</span></span>
> 
> 

### <a name="requirements-for-tracing-and-debugging"></a><span data-ttu-id="101b8-451">Nyomkövetés és hibakeresés vonatkozó követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-451">Requirements for tracing and debugging</span></span>
<span data-ttu-id="101b8-452">A nyomkövetés nem várt események és egyéb problémák, létfontosságú, hogy a figyelési adatokat biztosít-e elegendő információt egy elemző nyomkövetéshez vissza ezeknek a problémáknak a források az engedélyezése, és hozza létre újból az események, sorozatát.</span><span class="sxs-lookup"><span data-stu-id="101b8-452">For tracing unexpected events and other problems, it's vital that the monitoring data provides enough information to enable an analyst to trace back to the origins of these issues and reconstruct the sequence of events that occurred.</span></span> <span data-ttu-id="101b8-453">Ez az információ ahhoz, hogy valamelyik elemzőnek oka az esetleges problémák diagnosztizálásához elegendőnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-453">This information must be sufficient to enable an analyst to diagnose the root cause of any problems.</span></span> <span data-ttu-id="101b8-454">A fejlesztők is végezze el a szükséges módosításokat, megakadályozhatja, hogy a ismétlődő.</span><span class="sxs-lookup"><span data-stu-id="101b8-454">A developer can then make the necessary modifications to prevent them from recurring.</span></span>

### <a name="data-sources-instrumentation-and-data-collection-requirements"></a><span data-ttu-id="101b8-455">Az adatforrások, instrumentation és adatgyűjtés követelmények</span><span class="sxs-lookup"><span data-stu-id="101b8-455">Data sources, instrumentation, and data-collection requirements</span></span>
<span data-ttu-id="101b8-456">Hibakeresési nyomkövetés összes módszert (és a paraméterek) meghívni, amely a rendszeren keresztül tételéig ábrázol, amikor egy ügyfél egy adott kérelmet fát kialakításához művelet részeként magába foglaló.</span><span class="sxs-lookup"><span data-stu-id="101b8-456">Troubleshooting can involve tracing all the methods (and their parameters) invoked as part of an operation to build up a tree that depicts the logical flow through the system when a customer makes a specific request.</span></span> <span data-ttu-id="101b8-457">Rögzített és naplózott kell kivételeket és a figyelmeztetéseket, mivel ez a folyamat során a rendszer létrehozza.</span><span class="sxs-lookup"><span data-stu-id="101b8-457">Exceptions and warnings that the system generates as a result of this flow need to be captured and logged.</span></span>

<span data-ttu-id="101b8-458">Támogatja a hibakeresés, a rendszer képes hurkok, amelyek lehetővé teszik a rendszer kritikus fontosságú pontokon állapotadatokat rögzítéséhez operátor.</span><span class="sxs-lookup"><span data-stu-id="101b8-458">To support debugging, the system can provide hooks that enable an operator to capture state information at crucial points in the system.</span></span> <span data-ttu-id="101b8-459">Vagy a rendszer által biztosított kijelölt műveletek állapotát részletes lépéseit.</span><span class="sxs-lookup"><span data-stu-id="101b8-459">Or, the system can deliver detailed step-by-step information as selected operations progress.</span></span> <span data-ttu-id="101b8-460">Ezen a szinten részletességi rögzítésével adatok adhat meg a rendszer további terhelést, és egy ideiglenes folyamat kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-460">Capturing data at this level of detail can impose an additional load on the system and should be a temporary process.</span></span> <span data-ttu-id="101b8-461">Operátort használja ezt a folyamatot, elsősorban akkor, ha nagyon szokatlan számos esemény következik be, és nehéz replikálni, vagy ha egy új a egy vagy több eleme rendszerben verzióhoz gondos figyelése annak érdekében, hogy a várt módon elemek függvény.</span><span class="sxs-lookup"><span data-stu-id="101b8-461">An operator uses this process mainly when a highly unusual series of events occurs and is difficult to replicate, or when a new release of one or more elements into a system requires careful monitoring to ensure that the elements function as expected.</span></span>

## <a name="the-monitoring-and-diagnostics-pipeline"></a><span data-ttu-id="101b8-462">A figyelés és diagnosztika-feldolgozási folyamat</span><span class="sxs-lookup"><span data-stu-id="101b8-462">The monitoring and diagnostics pipeline</span></span>
<span data-ttu-id="101b8-463">Nagy méretű elosztott a figyelést jelentős kihívást jelent.</span><span class="sxs-lookup"><span data-stu-id="101b8-463">Monitoring a large-scale distributed system poses a significant challenge.</span></span> <span data-ttu-id="101b8-464">Minden az előző szakaszban leírt forgatókönyv nem feltétlenül tekintendő elkülönítve.</span><span class="sxs-lookup"><span data-stu-id="101b8-464">Each of the scenarios described in the previous section should not necessarily be considered in isolation.</span></span> <span data-ttu-id="101b8-465">Nincs feltehetőleg egy jelentős átfedésben lévő, amely az egyes esetekben szükséges megfigyelési és diagnosztikai adatokat, de ezek az adatok feldolgozása és jelenik meg a különböző módokon lehet, hogy kell-e.</span><span class="sxs-lookup"><span data-stu-id="101b8-465">There is likely to be a significant overlap in the monitoring and diagnostic data that's required for each situation, although this data might need to be processed and presented in different ways.</span></span> <span data-ttu-id="101b8-466">Ezen okok miatt kell venni a figyelési és diagnosztika átfogó képet.</span><span class="sxs-lookup"><span data-stu-id="101b8-466">For these reasons, you should take a holistic view of monitoring and diagnostics.</span></span>

<span data-ttu-id="101b8-467">A teljes figyelése és diagnosztika folyamat is előirányozni, egy folyamatot, amely magában foglalja a szakaszt, 1. ábrán látható.</span><span class="sxs-lookup"><span data-stu-id="101b8-467">You can envisage the entire monitoring and diagnostics process as a pipeline that comprises the stages shown in Figure 1.</span></span>

![A figyelés és diagnosztika feldolgozási szakaszból](./images/monitoring/Pipeline.png)

<span data-ttu-id="101b8-469">*1. ábra. A figyelés és diagnosztika feldolgozási szakaszból*</span><span class="sxs-lookup"><span data-stu-id="101b8-469">*Figure 1. The stages in the monitoring and diagnostics pipeline*</span></span>

<span data-ttu-id="101b8-470">1. ábra mutatja be, hogyan figyelési és diagnosztikai adatokat az adatforrások különböző származhatnak.</span><span class="sxs-lookup"><span data-stu-id="101b8-470">Figure 1 highlights how the data for monitoring and diagnostics can come from a variety of data sources.</span></span> <span data-ttu-id="101b8-471">A rendszerállapot és a gyűjtemény szakaszában, amikor az adatok kell-e rögzíteni kell, hogy az adatforrások azonosító van szó, mely adatok rögzítéséhez, azt rögzítése és formázása ezeket az adatokat, így könnyen vizsgálni meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-471">The instrumentation and collection stages are concerned with identifying the sources from where the data needs to be captured, determining which data to capture, how to capture it, and how to format this data so that it can be easily examined.</span></span> <span data-ttu-id="101b8-472">Az elemzés/diagnosztikai szakasza a nyers adatokat fogad, és lekérdezhetik a fontos információkat, amelyek operátor használatával határozhatják meg, a rendszer állapotának létrehozásához használja.</span><span class="sxs-lookup"><span data-stu-id="101b8-472">The analysis/diagnosis stage takes the raw data and uses it to generate meaningful information that an operator can use to determine the state of the system.</span></span> <span data-ttu-id="101b8-473">Az üzemeltető lehetséges műveletek kapcsolatos döntések érvénybe ezen információk használatával, és majd hírcsatorna újra üzembe a rendszerállapot és a gyűjtemény szakaszában az eredményeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-473">The operator can use this information to make decisions about possible actions to take, and then feed the results back into the instrumentation and collection stages.</span></span> <span data-ttu-id="101b8-474">A képi megjelenítés/riasztások szakaszban fázis a rendszerállapot fogyasztható nézetét mutatja be.</span><span class="sxs-lookup"><span data-stu-id="101b8-474">The visualization/alerting stage phase presents a consumable view of the system state.</span></span> <span data-ttu-id="101b8-475">Azt is megjelenítheti közel valós idejű irányítópultokat sorozatának használatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-475">It can display information in near real time by using a series of dashboards.</span></span> <span data-ttu-id="101b8-476">És az hozhat létre jelentéseket, a diagramok és a diagram az adatok, amelyek segítségével azonosíthatja a hosszú távú előzményadatok áttekintése.</span><span class="sxs-lookup"><span data-stu-id="101b8-476">And it can generate reports, graphs, and charts to provide a historical view of the data that can help identify long-term trends.</span></span> <span data-ttu-id="101b8-477">Ha információt azt jelzi, hogy KPI valószínűleg hosszabb legyen, mint a elfogadható határai, ebben a szakaszban is elindítható operátor riasztást.</span><span class="sxs-lookup"><span data-stu-id="101b8-477">If information indicates that a KPI is likely to exceed acceptable bounds, this stage can also trigger an alert to an operator.</span></span> <span data-ttu-id="101b8-478">Bizonyos esetekben egy riasztás is is indításához használható egy automatikus folyamat, amely megpróbálja korrekciós műveletek, például az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="101b8-478">In some cases, an alert can also be used to trigger an automated process that attempts to take corrective actions, such as autoscaling.</span></span>

<span data-ttu-id="101b8-479">Vegye figyelembe, hogy ezeket a lépéseket egy folyamatos üzenetkezelési folyamat, amelyben párhuzamosan a szakaszok történik hoz létre.</span><span class="sxs-lookup"><span data-stu-id="101b8-479">Note that these steps constitute a continuous-flow process where the stages are happening in parallel.</span></span> <span data-ttu-id="101b8-480">Ideális esetben a fázisok dinamikusan konfigurálható legyen.</span><span class="sxs-lookup"><span data-stu-id="101b8-480">Ideally, all the phases should be dynamically configurable.</span></span> <span data-ttu-id="101b8-481">Bizonyos időpontokban különösen akkor, ha a rendszer újonnan telepítve van, vagy problémákba ütközött, szükség lehet gyakrabban a kiterjesztett adatok gyűjtéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-481">At some points, especially when a system has been newly deployed or is experiencing problems, it might be necessary to gather extended data on a more frequent basis.</span></span> <span data-ttu-id="101b8-482">A többi időszakban állítható vissza egy alap szint, győződjön meg arról, hogy a rendszer megfelelően működik-e a lényeges információk rögzítése lehetővé kell tenni.</span><span class="sxs-lookup"><span data-stu-id="101b8-482">At other times, it should be possible to revert to capturing a base level of essential information to verify that the system is functioning properly.</span></span>

<span data-ttu-id="101b8-483">Ezenfelül a teljes felügyeleti folyamatot figyelembe kell venni egy élő, folyamatosan megoldás, amely pontosabb beállításra és visszajelzés miatt fejlesztései.</span><span class="sxs-lookup"><span data-stu-id="101b8-483">Additionally, the entire monitoring process should be considered a live, ongoing solution that's subject to fine-tuning and improvements as a result of feedback.</span></span> <span data-ttu-id="101b8-484">Például előfordulhat, hogy a kiindulási pont rendszer állapotának számos tényező méri.</span><span class="sxs-lookup"><span data-stu-id="101b8-484">For example, you might start with measuring many factors to determine system health.</span></span> <span data-ttu-id="101b8-485">Időbeli Analysis vezethet a pontosítás elvetése intézkedéseket, amelyek nem releváns, így már pontosabban az adatokat, amelyekre szüksége van a fókusz, ugyanakkor minimalizálja a háttérzaj.</span><span class="sxs-lookup"><span data-stu-id="101b8-485">Analysis over time might lead to a refinement as you discard measures that aren't relevant, enabling you to more precisely focus on the data that you need while minimizing background noise.</span></span>

## <a name="sources-of-monitoring-and-diagnostic-data"></a><span data-ttu-id="101b8-486">Megfigyelési és diagnosztikai adatforrások</span><span class="sxs-lookup"><span data-stu-id="101b8-486">Sources of monitoring and diagnostic data</span></span>
<span data-ttu-id="101b8-487">Az információk a megfigyelési folyamat által használt származhatnak forrásokból, 1. ábrán látható módon.</span><span class="sxs-lookup"><span data-stu-id="101b8-487">The information that the monitoring process uses can come from several sources, as illustrated in Figure 1.</span></span> <span data-ttu-id="101b8-488">Az alkalmazás szintjén információk szóló a kódot a rendszer a nyomkövetési naplók származik.</span><span class="sxs-lookup"><span data-stu-id="101b8-488">At the application level, information comes from trace logs incorporated into the code of the system.</span></span> <span data-ttu-id="101b8-489">A fejlesztők kódjukat keresztül áramló nyomon követése a szabványos megközelítést kell követnie.</span><span class="sxs-lookup"><span data-stu-id="101b8-489">Developers should follow a standard approach for tracking the flow of control through their code.</span></span> <span data-ttu-id="101b8-490">Például egy metódus bejegyzést el tudná küldeni egy nyomkövetési üzenet, amely megadja a metódus, a jelenlegi időpontnál, mindegyik paraméterhez, és minden egyéb kapcsolódó információt értékének nevét.</span><span class="sxs-lookup"><span data-stu-id="101b8-490">For example, an entry to a method can emit a trace message that specifies the name of the method, the current time, the value of each parameter, and any other pertinent information.</span></span> <span data-ttu-id="101b8-491">A be- és kilépés idő rögzítése akkor is lehet hasznos.</span><span class="sxs-lookup"><span data-stu-id="101b8-491">Recording the entry and exit times can also prove useful.</span></span>

<span data-ttu-id="101b8-492">Jelentkezzen be a kivételeket, és a figyelmeztetéseket, és győződjön meg arról, hogy megőrizze-e a beágyazott kivételek és figyelmeztetések teljes nyomkövetési.</span><span class="sxs-lookup"><span data-stu-id="101b8-492">You should log all exceptions and warnings, and ensure that you retain a full trace of any nested exceptions and warnings.</span></span> <span data-ttu-id="101b8-493">Ideális esetben a tevékenység korrelációs adatokkal (a kérelmek nyomon követése, mert haladnak át a rendszer) együtt, a kódot futtató felhasználó azonosító információkat is rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-493">Ideally, you should also capture information that identifies the user who is running the code, together with activity correlation information (to track requests as they pass through the system).</span></span> <span data-ttu-id="101b8-494">És próbálja meg elérni az összes erőforrást, például az üzenetsorok, adatbázisok, fájlok és más függő szolgáltatások naplózni kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-494">And you should log attempts to access all resources such as message queues, databases, files, and other dependent services.</span></span> <span data-ttu-id="101b8-495">Ez az információ a szoftverhasználat-mérő és naplózási célokra használható.</span><span class="sxs-lookup"><span data-stu-id="101b8-495">This information can be used for metering and auditing purposes.</span></span>

<span data-ttu-id="101b8-496">Számos alkalmazás ellenőrizze a kódtárai és keretrendszerei segítségével végrehajthat olyan gyakori feladatokat, például egy-adattároló elérése vagy a hálózaton keresztül kommunikál.</span><span class="sxs-lookup"><span data-stu-id="101b8-496">Many applications make use of libraries and frameworks to perform common tasks such as accessing a data store or communicating over a network.</span></span> <span data-ttu-id="101b8-497">Előfordulhat, hogy ezen keretrendszerek konfigurálható a saját nyomkövetési üzenetek és a nyers diagnosztikai információkat, például a tranzakciós díjakat biztosítanak és adatok továbbítása sikeres és sikertelen műveletek.</span><span class="sxs-lookup"><span data-stu-id="101b8-497">These frameworks might be configurable to provide their own trace messages and raw diagnostic information, such as transaction rates and data transmission successes and failures.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-498">Számos modern keretrendszerek automatikus teljesítmény és a nyomkövetési események közzététele.</span><span class="sxs-lookup"><span data-stu-id="101b8-498">Many modern frameworks automatically publish performance and trace events.</span></span> <span data-ttu-id="101b8-499">Ezek az információk rögzítése egyszerűen és tároljuk, ahol feldolgozásra és elemzése segítségével biztosít.</span><span class="sxs-lookup"><span data-stu-id="101b8-499">Capturing this information is simply a matter of providing a means to retrieve and store it where it can be processed and analyzed.</span></span>
> 
> 

<span data-ttu-id="101b8-500">Az operációs rendszer, ahol az alkalmazás futása lehet egy rendszerszintű alacsony szintű információkat, például az i/o-sebességét, a memóriahasználat és a CPU-használat jelző teljesítményszámlálók forrását.</span><span class="sxs-lookup"><span data-stu-id="101b8-500">The operating system where the application is running can be a source of low-level system-wide information, such as performance counters that indicate I/O rates, memory utilization, and CPU usage.</span></span> <span data-ttu-id="101b8-501">Operációs rendszer hibái (például a meg nem nyílik meg megfelelően fájl) is lehet, hogy jelenteni.</span><span class="sxs-lookup"><span data-stu-id="101b8-501">Operating system errors (such as the failure to open a file correctly) might also be reported.</span></span>

<span data-ttu-id="101b8-502">Is figyelembe kell venni az alapul szolgáló infrastruktúra és az összetevők, amelyeken a rendszer futtatja.</span><span class="sxs-lookup"><span data-stu-id="101b8-502">You should also consider the underlying infrastructure and components on which your system runs.</span></span> <span data-ttu-id="101b8-503">Virtuális gépek, virtuális hálózatok és tárolási szolgáltatások lehetnek források fontos infrastruktúra szintű a teljesítményszámlálók és más diagnosztikai adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-503">Virtual machines, virtual networks, and storage services can all be sources of important infrastructure-level performance counters and other diagnostic data.</span></span>

<span data-ttu-id="101b8-504">Ha az alkalmazás más külső szolgáltatások, például a webkiszolgáló vagy az adatbázis-kezelő rendszer, ezeket a szolgáltatásokat saját nyomkövetési adatokat, a naplókat, és a teljesítményszámlálók előfordulhat, hogy tegye közzé.</span><span class="sxs-lookup"><span data-stu-id="101b8-504">If your application uses other external services, such as a web server or database management system, these services might publish their own trace information, logs, and performance counters.</span></span> <span data-ttu-id="101b8-505">Ilyen például az SQL Server dinamikus felügyeleti nézetek nyomon követési műveleteket hajt végre egy SQL Server-adatbázist, és IIS nyomkövetési napló rögzítéséhez a webkiszolgálónak intézett kérelmeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-505">Examples include SQL Server Dynamic Management Views for tracking operations performed against a SQL Server database, and IIS trace logs for recording requests made to a web server.</span></span>

<span data-ttu-id="101b8-506">A rendszer összetevőinek módosítva lett, és új verziók telepítve vannak, fontos attribútum problémák, események és metrikák minden verzióra.</span><span class="sxs-lookup"><span data-stu-id="101b8-506">As the components of a system are modified and new versions are deployed, it's important to be able to attribute issues, events, and metrics to each version.</span></span> <span data-ttu-id="101b8-507">Ezt az információt kell kötni vissza a kiadási folyamatot, hogy egy összetevő egy adott verziójához problémákat gyorsan követni, és javítása.</span><span class="sxs-lookup"><span data-stu-id="101b8-507">This information should be tied back to the release pipeline so that problems with a specific version of a component can be tracked quickly and rectified.</span></span>

<span data-ttu-id="101b8-508">A rendszer biztonsági problémák bármikor fordulhatnak elő.</span><span class="sxs-lookup"><span data-stu-id="101b8-508">Security issues might occur at any point in the system.</span></span> <span data-ttu-id="101b8-509">Például egy felhasználó megkísérelhetik jelentkezzen be egy érvénytelen felhasználói azonosító vagy jelszó.</span><span class="sxs-lookup"><span data-stu-id="101b8-509">For example, a user might attempt to sign in with an invalid user ID or password.</span></span> <span data-ttu-id="101b8-510">Hitelesített felhasználó megpróbálja erőforrás jogosulatlan hozzáférést szerezni.</span><span class="sxs-lookup"><span data-stu-id="101b8-510">An authenticated user might try to obtain unauthorized access to a resource.</span></span> <span data-ttu-id="101b8-511">Vagy a felhasználó előfordulhat, hogy adjon meg egy érvénytelen vagy elavult kulccsal a titkosított adatok eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-511">Or a user might provide an invalid or outdated key to access encrypted information.</span></span> <span data-ttu-id="101b8-512">Mindig legyenek naplózva a sikeres és a meghibásodott kéréseket, biztonsággal kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="101b8-512">Security-related information for successful and failing requests should always be logged.</span></span>

<span data-ttu-id="101b8-513">A szakasz [alkalmazás tagolása](#instrumenting-an-application) további útmutatást nyújt az irányítsa információkat.</span><span class="sxs-lookup"><span data-stu-id="101b8-513">The section [Instrumenting an application](#instrumenting-an-application) contains more guidance on the information that you should capture.</span></span> <span data-ttu-id="101b8-514">De stratégiák számos segítségével gyűjtheti össze ezeket az információkat:</span><span class="sxs-lookup"><span data-stu-id="101b8-514">But you can use a variety of strategies to gather this information:</span></span>

* <span data-ttu-id="101b8-515">**A rendszer vagy alkalmazás figyelési**.</span><span class="sxs-lookup"><span data-stu-id="101b8-515">**Application/system monitoring**.</span></span> <span data-ttu-id="101b8-516">Ezt a stratégiát belső források az alkalmazás, az alkalmazás-keretrendszerek számára, az operációs rendszer és az infrastruktúra belül használja.</span><span class="sxs-lookup"><span data-stu-id="101b8-516">This strategy uses internal sources within the application, application frameworks, operating system, and infrastructure.</span></span> <span data-ttu-id="101b8-517">Az alkalmazás kódjának hozhat létre a saját figyelési adatok figyelmet a jelentősebb pontokat az egyik ügyfélkérelemben-életciklus során.</span><span class="sxs-lookup"><span data-stu-id="101b8-517">The application code can generate its own monitoring data at notable points during the lifecycle of a client request.</span></span> <span data-ttu-id="101b8-518">Az alkalmazás nyomkövetési utasítások, előfordulhat, hogy szelektív engedélyezhetők és letilthatók, körülmények tartalmazhatnak.</span><span class="sxs-lookup"><span data-stu-id="101b8-518">The application can include tracing statements that might be selectively enabled or disabled as circumstances dictate.</span></span> <span data-ttu-id="101b8-519">Is esetleg diagnosztika dinamikusan szúrjon egy diagnosztikai keretrendszer használatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-519">It might also be possible to inject diagnostics dynamically by using a diagnostics framework.</span></span> <span data-ttu-id="101b8-520">Ezen keretrendszerek általában adja meg a beépülő modulok nem lehet a kódban a különböző instrumentation pontok csatolja, és ezeket a pontokat nyomkövetési adatok rögzítéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-520">These frameworks typically provide plug-ins that can attach to various instrumentation points in your code and capture trace data at these points.</span></span>
  
    <span data-ttu-id="101b8-521">Emellett a kód és/vagy az alkalmazás mögötti infrastruktúra előfordulhat, hogy indíthat eseményeket a kritikus pontokon.</span><span class="sxs-lookup"><span data-stu-id="101b8-521">Additionally, your code and/or the underlying infrastructure might raise events at critical points.</span></span> <span data-ttu-id="101b8-522">Figyelő, amely a ezeket az eseményeket figyelő ügynökök rögzítheti az eseményadatok.</span><span class="sxs-lookup"><span data-stu-id="101b8-522">Monitoring agents that are configured to listen for these events can record the event information.</span></span>
* <span data-ttu-id="101b8-523">**Felhasználó figyelési**.</span><span class="sxs-lookup"><span data-stu-id="101b8-523">**Real user monitoring**.</span></span> <span data-ttu-id="101b8-524">Ez a megközelítés rögzíti a felhasználó és az alkalmazás közötti interakció, és minden kérés és válasz áramló betartja.</span><span class="sxs-lookup"><span data-stu-id="101b8-524">This approach records the interactions between a user and the application and observes the flow of each request and response.</span></span> <span data-ttu-id="101b8-525">Ez az információ rendelkezhet egy kettős célja: használat mérési az összes felhasználó, és annak meghatározásához, hogy a felhasználók kapnak egy megfelelő szolgáltatásminőség (például a gyors válaszidők, az alacsony késleltetés és a minimális hibák) használható.</span><span class="sxs-lookup"><span data-stu-id="101b8-525">This information can have a two-fold purpose: it can be used for metering usage by each user, and it can be used to determine whether users are receiving a suitable quality of service (for example, fast response times, low latency, and minimal errors).</span></span> <span data-ttu-id="101b8-526">A rögzített adatok segítségével azonosíthatja a problémás területeket. Ha hiba történik a leggyakrabban.</span><span class="sxs-lookup"><span data-stu-id="101b8-526">You can use the captured data to identify areas of concern where failures occur most often.</span></span> <span data-ttu-id="101b8-527">Is használhatja az adatok azonosítására elemek ahol a rendszer lelassul, esetleg csatlakozási pontokhoz, az alkalmazás vagy a szűk keresztmetszetek más fürtözéstípussal miatt.</span><span class="sxs-lookup"><span data-stu-id="101b8-527">You can also use the data to identify elements where the system slows down, possibly due to hotspots in the application or some other form of bottleneck.</span></span> <span data-ttu-id="101b8-528">Gondosan alkalmazza ezt a módszert használja, ha esetleg a felhasználói forgalom Hibakeresés és tesztelési célú alkalmazáson keresztül helyreállítására.</span><span class="sxs-lookup"><span data-stu-id="101b8-528">If you implement this approach carefully, it might be possible to reconstruct users' flows through the application for debugging and testing purposes.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="101b8-529">Érdemes lehet az adatok rögzített valós figyelés kell szigorúan bizalmas, mert a bizalmas adatokat tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="101b8-529">You should consider the data that's captured by monitoring real users to be highly sensitive because it might include confidential material.</span></span> <span data-ttu-id="101b8-530">Ha a rögzített adatok menti, tárolja biztonságos helyen.</span><span class="sxs-lookup"><span data-stu-id="101b8-530">If you save captured data, store it securely.</span></span> <span data-ttu-id="101b8-531">Ha szeretné használni az adatok a teljesítmény figyelése, vagy a hibakeresési célra, sáv minden személyes azonosításra alkalmas adatok először.</span><span class="sxs-lookup"><span data-stu-id="101b8-531">If you want to use the data for performance monitoring or debugging purposes, strip out all personally identifiable information first.</span></span>
  > 
  > 
* <span data-ttu-id="101b8-532">**Szintetikus felhasználói figyelése**.</span><span class="sxs-lookup"><span data-stu-id="101b8-532">**Synthetic user monitoring**.</span></span> <span data-ttu-id="101b8-533">Ez a megközelítés a saját teszt ügyfél, amely a felhasználó szimulál és a hajtja végre műveletek konfigurálható, de általában több írható.</span><span class="sxs-lookup"><span data-stu-id="101b8-533">In this approach, you write your own test client that simulates a user and performs a configurable but typical series of operations.</span></span> <span data-ttu-id="101b8-534">A teljesítmény a teszt ügyfél annak meghatározásához, a rendszer állapotának nyomon követheti.</span><span class="sxs-lookup"><span data-stu-id="101b8-534">You can track the performance of the test client to help determine the state of the system.</span></span> <span data-ttu-id="101b8-535">Hogyan reagál a rendszer a magas terhelés alatt, és milyen rendezési kimeneti figyelést akkor jön létre, ilyen körülmények létrehozásához egy terhelés-tesztelési művelet részeként is használhatók a teszt ügyfél több példányát.</span><span class="sxs-lookup"><span data-stu-id="101b8-535">You can also use multiple instances of the test client as part of a load-testing operation to establish how the system responds under stress, and what sort of monitoring output is generated under these conditions.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="101b8-536">A figyelés valós és szintetikus felhasználói beleértve, követi, és időpontokat metódushívások és más kritikus kérelem végrehajtása is létrehozható.</span><span class="sxs-lookup"><span data-stu-id="101b8-536">You can implement real and synthetic user monitoring by including code that traces and times the execution of method calls and other critical parts of an application.</span></span>
  > 
  > 
* <span data-ttu-id="101b8-537">**Profilkészítési**.</span><span class="sxs-lookup"><span data-stu-id="101b8-537">**Profiling**.</span></span> <span data-ttu-id="101b8-538">Ez a megközelítés elsősorban azoknak a figyelési és az alkalmazások teljesítményének javítása.</span><span class="sxs-lookup"><span data-stu-id="101b8-538">This approach is primarily targeted at monitoring and improving application performance.</span></span> <span data-ttu-id="101b8-539">Ahelyett, hogy valós és szintetikus felhasználói figyelési működési szinten működik, az alkalmazás fut alacsonyabb szintű információkat rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-539">Rather than operating at the functional level of real and synthetic user monitoring, it captures lower-level information as the application runs.</span></span> <span data-ttu-id="101b8-540">Profilkészítési rendszeres mintavételi a végrehajtási állapot egy alkalmazás (mely kódrészletek, amelyek az alkalmazás fut egy időben meghatározására) használatával is létrehozható.</span><span class="sxs-lookup"><span data-stu-id="101b8-540">You can implement profiling by using periodic sampling of the execution state of an application (determining which piece of code that the application is running at a given point in time).</span></span> <span data-ttu-id="101b8-541">Is használhatja a instrumentation mintavételt szúr be a kódot fontos junctures (például a kezdő és záró metódushívások), és milyen módszerek indították, milyen időpontban, és mennyi ideig tartott minden hívás rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-541">You can also use instrumentation that inserts probes into the code at important junctures (such as the start and end of a method call) and records which methods were invoked, at what time, and how long each call took.</span></span> <span data-ttu-id="101b8-542">Ezek az adatok meghatározásához az alkalmazás mely részei teljesítményproblémákat okozhat majd elemezheti.</span><span class="sxs-lookup"><span data-stu-id="101b8-542">You can then analyze this data to determine which parts of the application might cause performance problems.</span></span>
* <span data-ttu-id="101b8-543">**Végpontmonitoring kijelző**.</span><span class="sxs-lookup"><span data-stu-id="101b8-543">**Endpoint monitoring**.</span></span> <span data-ttu-id="101b8-544">Ez a módszer egy vagy több diagnosztikai végpontot, amely kifejezetten a figyelés bekapcsolható az mutatja az alkalmazás használja.</span><span class="sxs-lookup"><span data-stu-id="101b8-544">This technique uses one or more diagnostic endpoints that the application exposes specifically to enable monitoring.</span></span> <span data-ttu-id="101b8-545">A végpont végzett információküldéshez biztosít az alkalmazás kódjának a, és visszatérhet a rendszer állapotával kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="101b8-545">An endpoint provides a pathway into the application code and can return information about the health of the system.</span></span> <span data-ttu-id="101b8-546">Különböző végpontok különböző szempontjairól a funkciók összpontosíthat.</span><span class="sxs-lookup"><span data-stu-id="101b8-546">Different endpoints can focus on various aspects of the functionality.</span></span> <span data-ttu-id="101b8-547">A saját diagnosztika ügyfél által küldött kérések végpontokkal való írása, és a válaszok beolvaszt.</span><span class="sxs-lookup"><span data-stu-id="101b8-547">You can write your own diagnostics client that sends periodic requests to these endpoints and assimilate the responses.</span></span> <span data-ttu-id="101b8-548">További információkért lásd: a [állapotfigyelő végpont figyelési mintát](../patterns/health-endpoint-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="101b8-548">For more information, see the [Health Endpoint Monitoring Pattern](../patterns/health-endpoint-monitoring.md).</span></span>

<span data-ttu-id="101b8-549">Maximális érvényességének ezek a technológiák kombinációját kell használnia.</span><span class="sxs-lookup"><span data-stu-id="101b8-549">For maximum coverage, you should use a combination of these techniques.</span></span>

<a name="instrumenting-an-application"></a>

## <a name="instrumenting-an-application"></a><span data-ttu-id="101b8-550">Egy alkalmazás tagolása</span><span class="sxs-lookup"><span data-stu-id="101b8-550">Instrumenting an application</span></span>
<span data-ttu-id="101b8-551">Instrumentation egy a megfigyelési folyamat kritikus részét képezi.</span><span class="sxs-lookup"><span data-stu-id="101b8-551">Instrumentation is a critical part of the monitoring process.</span></span> <span data-ttu-id="101b8-552">Döntéseket lehet jelentéssel bíró teljesítményéről és a rendszer állapotát, csak akkor, ha először rögzíteni az adatokat, amely lehetővé teszi, hogy ezek a döntések.</span><span class="sxs-lookup"><span data-stu-id="101b8-552">You can make meaningful decisions about the performance and health of a system only if you first capture the data that enables you to make these decisions.</span></span> <span data-ttu-id="101b8-553">Gyűjtse össze a instrumentation használatával információkat elegendő ahhoz, hogy a teljesítmény értékeléséhez, problémák diagnosztizálásához és anélkül, hogy jelentkezzen be egy távoli az üzemi kiszolgáló nyomkövetési (és a hibakereséshez) végrehajtásához döntéseket kell manuálisan.</span><span class="sxs-lookup"><span data-stu-id="101b8-553">The information that you gather by using instrumentation should be sufficient to enable you to assess performance, diagnose problems, and make decisions without requiring you to sign in to a remote production server to perform tracing (and debugging) manually.</span></span> <span data-ttu-id="101b8-554">WMI-adatok általában a metrikák és a nyomkövetési naplók írt információkat tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="101b8-554">Instrumentation data typically comprises metrics and information that's written to trace logs.</span></span>

<span data-ttu-id="101b8-555">A nyomkövetési napló tartalmát lehet az alkalmazás által írt adatok szöveges vagy bináris adatok jön létre egy nyomkövetési esemény eredményét (ha az alkalmazás által használt Windows esemény-nyomkövetése--ETW) eredményét.</span><span class="sxs-lookup"><span data-stu-id="101b8-555">The contents of a trace log can be the result of textual data that's written by the application or binary data that's created as the result of a trace event (if the application is using Event Tracing for Windows--ETW).</span></span> <span data-ttu-id="101b8-556">Akkor is létrehozhatók, a rendszer naplóit, amely az infrastruktúra, például webkiszolgálót részeibe származó események.</span><span class="sxs-lookup"><span data-stu-id="101b8-556">They can also be generated from system logs that record events arising from parts of the infrastructure, such as a web server.</span></span> <span data-ttu-id="101b8-557">Szöveges napló üzenetek gyakran kell emberek számára olvasható, de a azok is, amely lehetővé teszi az automatikus rendszer könnyen értelmezhető őket formátumban kell írni.</span><span class="sxs-lookup"><span data-stu-id="101b8-557">Textual log messages are often designed to be human-readable, but they should also be written in a format that enables an automated system to parse them easily.</span></span>

<span data-ttu-id="101b8-558">Naplók kategorizálja meg.</span><span class="sxs-lookup"><span data-stu-id="101b8-558">You should also categorize logs.</span></span> <span data-ttu-id="101b8-559">Nem minden nyomkövetési adatok írása az egyetlen naplót, de külön naplók segítségével jegyezze fel a rendszer különböző működési szempontjait nyomkövetési kimenetét.</span><span class="sxs-lookup"><span data-stu-id="101b8-559">Don't write all trace data to a single log, but use separate logs to record the trace output from different operational aspects of the system.</span></span> <span data-ttu-id="101b8-560">Majd gyorsan naplóüzenetek szerint szűrheti a megfelelő naplót olvasásakor ahelyett, hogy egyetlen hosszadalmas fájlba feldolgozásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-560">You can then quickly filter log messages by reading from the appropriate log rather than having to process a single lengthy file.</span></span> <span data-ttu-id="101b8-561">Soha nem írási információt, amely különböző biztonsági követelményeket (például naplózási információk és adatok hibakeresés) rendelkezik, a naplóhoz.</span><span class="sxs-lookup"><span data-stu-id="101b8-561">Never write information that has different security requirements (such as audit information and debugging data) to the same log.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-562">A napló is elegendő lehet a fájlrendszerben fájlként, vagy előfordulhat, hogy tárolható néhány más formátumban, például blob Storage tárolóban lévő blob.</span><span class="sxs-lookup"><span data-stu-id="101b8-562">A log might be implemented as a file on the file system, or it might be held in some other format, such as a blob in blob storage.</span></span> <span data-ttu-id="101b8-563">Naplóadatok is tárolható előfordulhat, hogy több strukturált tárhelyen, például egy tábla sorainak.</span><span class="sxs-lookup"><span data-stu-id="101b8-563">Log information might also be held in more structured storage, such as rows in a table.</span></span>
> 
> 

<span data-ttu-id="101b8-564">Metrikák általában lesz mérték vagy száma néhány szempontja vagy az erőforrás a rendszerben meghatározott időben, egy vagy több hozzárendelt címkék vagy a dimenziók (más néven a *minta*).</span><span class="sxs-lookup"><span data-stu-id="101b8-564">Metrics will generally be a measure or count of some aspect or resource in the system at a specific time, with one or more associated tags or dimensions (sometimes called a *sample*).</span></span> <span data-ttu-id="101b8-565">Egyetlen példány futhat egy metrika nem általában akkor hasznos, elkülönítve.</span><span class="sxs-lookup"><span data-stu-id="101b8-565">A single instance of a metric is usually not useful in isolation.</span></span> <span data-ttu-id="101b8-566">Ehelyett a metrikák van időbeli rögzíthetők.</span><span class="sxs-lookup"><span data-stu-id="101b8-566">Instead, metrics have to be captured over time.</span></span> <span data-ttu-id="101b8-567">Figyelembe kell venni a kulccsal kapcsolatos probléma, mely metrikák rögzíteni kell, és hogy milyen gyakran.</span><span class="sxs-lookup"><span data-stu-id="101b8-567">The key issue to consider is which metrics you should record and how frequently.</span></span> <span data-ttu-id="101b8-568">Adatok metrikáihoz túl gyakran létrehozása adhat a rendszer jelentős további terhelése, mivel rögzítésével metrikák ritkán okozza, amelyeken a esetekben jelentős esemény történt, hogy vezethet.</span><span class="sxs-lookup"><span data-stu-id="101b8-568">Generating data for metrics too often can impose a significant additional load on the system, whereas capturing metrics infrequently might cause you to miss the circumstances that lead to a significant event.</span></span> <span data-ttu-id="101b8-569">A szempontok metrika metrika függ.</span><span class="sxs-lookup"><span data-stu-id="101b8-569">The considerations will vary from metric to metric.</span></span> <span data-ttu-id="101b8-570">Például egy kiszolgálón CPU-felhasználás előfordulhat, hogy jelentős eltérések lehetnek a másodikból másik, de magas kihasználtsága válik a problémát, csak ha hosszú élettartamú a perc alatt.</span><span class="sxs-lookup"><span data-stu-id="101b8-570">For example, CPU utilization on a server might vary significantly from second to second, but high utilization becomes an issue only if it's long-lived over a number of minutes.</span></span>

<a name="information-for-correlating-data"></a>

### <a name="information-for-correlating-data"></a><span data-ttu-id="101b8-571">Információk adatok használatával történik</span><span class="sxs-lookup"><span data-stu-id="101b8-571">Information for correlating data</span></span>
<span data-ttu-id="101b8-572">Könnyen egyes rendszerszintű teljesítményszámlálók figyelése, metrikák erőforrások rögzítése és alkalmazás nyomkövetési adatok lekérését a különböző naplófájlokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-572">You can easily monitor individual system-level performance counters, capture metrics for resources, and obtain application trace information from various log files.</span></span> <span data-ttu-id="101b8-573">De bizonyos űrlapok figyelési igényelnek a figyelési folyamat összefüggéseket a több forrásból beolvasott adatok elemzése és diagnosztikai szakasza.</span><span class="sxs-lookup"><span data-stu-id="101b8-573">But some forms of monitoring require the analysis and diagnostics stage in the monitoring pipeline to correlate the data that's retrieved from several sources.</span></span> <span data-ttu-id="101b8-574">Ezeket az adatokat több űrlap tarthat a nyers adatok, és a folyamat biztosítani kell tennie képezi le különböző űrlapok megfelelő WMI-adatok.</span><span class="sxs-lookup"><span data-stu-id="101b8-574">This data might take several forms in the raw data, and the analysis process must be provided with sufficient instrumentation data to be able to map these different forms.</span></span> <span data-ttu-id="101b8-575">Például az alkalmazás-keretrendszer szintjén feladat lehet, hogy azonosítható, ha egy szálat.</span><span class="sxs-lookup"><span data-stu-id="101b8-575">For example, at the application framework level, a task might be identified by a thread ID.</span></span> <span data-ttu-id="101b8-576">Az alkalmazáson belül ugyanaz a munkahelyi hozzárendelve a felhasználóhoz, aki ezt a feladatot hajt végre a felhasználói azonosító lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-576">Within an application, the same work might be associated with the user ID for the user who is performing that task.</span></span>

<span data-ttu-id="101b8-577">Is hogy nem valószínű, hogy lehet, hogy egy 1:1 leképezési szálak és a felhasználói kérelmek közötti aszinkron műveletek előfordulhat, hogy ismét felhasználni, az azonos szálak egynél több felhasználó nevében műveletek végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-577">Also, there's unlikely to be a 1:1 mapping between threads and user requests, because asynchronous operations might reuse the same threads to perform operations on behalf of more than one user.</span></span> <span data-ttu-id="101b8-578">A fontos információk nehezíti további, egyetlen kérelem előfordulhat, hogy kell kezelnie egynél több szál rendszeren keresztül végrehajtási flow-ként.</span><span class="sxs-lookup"><span data-stu-id="101b8-578">To complicate matters further, a single request might be handled by more than one thread as execution flows through the system.</span></span> <span data-ttu-id="101b8-579">Ha lehetséges egyes kérelmek társítani egy egyedi tevékenység azonosítója, amely segítségével a rendszer a kérés környezete részeként propagálja.</span><span class="sxs-lookup"><span data-stu-id="101b8-579">If possible, associate each request with a unique activity ID that's propagated through the system as part of the request context.</span></span> <span data-ttu-id="101b8-580">(A technika, és a nyomkövetési adatokat is beleértve tevékenység azonosítók függ a nyomkövetési adatok rögzítésére szolgáló technológia.)</span><span class="sxs-lookup"><span data-stu-id="101b8-580">(The technique for generating and including activity IDs in trace information depends on the technology that's used to capture the trace data.)</span></span>

<span data-ttu-id="101b8-581">Összes figyelési adatot időbélyeggel ellátott ugyanúgy kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-581">All monitoring data should be time-stamped in the same way.</span></span> <span data-ttu-id="101b8-582">Konzisztencia jegyezze fel a összes dátum és idő egyezményes világidő használatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-582">For consistency, record all dates and times by using Coordinated Universal Time.</span></span> <span data-ttu-id="101b8-583">Ez segítséget nyújt könnyebben nyomkövetési események sorozatát.</span><span class="sxs-lookup"><span data-stu-id="101b8-583">This will help you more easily trace sequences of events.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-584">Előfordulhat, hogy a különböző időzónák és hálózatok működő számítógépek nem lesznek szinkronizálva.</span><span class="sxs-lookup"><span data-stu-id="101b8-584">Computers operating in different time zones and networks might not be synchronized.</span></span> <span data-ttu-id="101b8-585">Nem attól függ, hogy kizárólag időbélyegeket használja több számítógép is WMI-adatok használatával történik.</span><span class="sxs-lookup"><span data-stu-id="101b8-585">Don't depend on using time stamps alone for correlating instrumentation data that spans multiple machines.</span></span>
> 
> 

### <a name="information-to-include-in-the-instrumentation-data"></a><span data-ttu-id="101b8-586">A WMI-adatok foglalandó adatok</span><span class="sxs-lookup"><span data-stu-id="101b8-586">Information to include in the instrumentation data</span></span>
<span data-ttu-id="101b8-587">Amikor eldönti, hogy mely WMI-adatok gyűjtésére, vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="101b8-587">Consider the following points when you're deciding which instrumentation data you need to collect:</span></span>

* <span data-ttu-id="101b8-588">Ellenőrizze, hogy a nyomkövetési események által rögzített adatokat gép és a HR-részleg olvasható.</span><span class="sxs-lookup"><span data-stu-id="101b8-588">Make sure that information captured by trace events is machine and human readable.</span></span> <span data-ttu-id="101b8-589">Ezeket az adatokat, lehetővé teszi a naplóadatok automatizált feldolgozási rendszerek között, és a műveletek és a naplók beolvasásakor személyzet mérnöki konzisztencia biztosításához jól meghatározott sémák fogad el.</span><span class="sxs-lookup"><span data-stu-id="101b8-589">Adopt well-defined schemas for this information to facilitate automated processing of log data across systems, and to provide consistency to operations and engineering staff reading the logs.</span></span> <span data-ttu-id="101b8-590">Környezeti adatokat tartalmaznak, például a telepítési környezet, a gép, amelyen a folyamat fut, a folyamat, és a hívási verem részleteit.</span><span class="sxs-lookup"><span data-stu-id="101b8-590">Include environmental information, such as the deployment environment, the machine on which the process is running, the details of the process, and the call stack.</span></span>  
* <span data-ttu-id="101b8-591">Adatgyűjtés csak szükség esetén, mert akkor adhat meg a rendszer jelentős terhelésének engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="101b8-591">Enable profiling only when necessary because it can impose a significant overhead on the system.</span></span> <span data-ttu-id="101b8-592">Profilkészítési instrumentation használatával rögzíti (például egy metódushívás) esemény minden alkalommal következik be, mivel mintavételi rekordok csak a kijelölt eseményeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-592">Profiling by using instrumentation records an event (such as a method call) every time it occurs, whereas sampling records only selected events.</span></span> <span data-ttu-id="101b8-593">A kijelölés időalapú lehet (miután minden  *n*  másodperc), vagy gyakoriság-alapú (után minden  *n*  kérelmek).</span><span class="sxs-lookup"><span data-stu-id="101b8-593">The selection can be time-based (once every *n* seconds), or frequency-based (once every *n* requests).</span></span> <span data-ttu-id="101b8-594">Események nagyon gyakran fordul elő, ha által instrumentation profilkészítési előfordulhat, hogy túl sok terhet és okozhat maga általános teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="101b8-594">If events occur very frequently, profiling by instrumentation might cause too much of a burden and itself affect overall performance.</span></span> <span data-ttu-id="101b8-595">Ebben az esetben a mintavétel módszer előnyösebb lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-595">In this case, the sampling approach might be preferable.</span></span> <span data-ttu-id="101b8-596">Azonban ha az események gyakorisága alacsony, mintavételi előfordulhat, hogy teljesíti az őket.</span><span class="sxs-lookup"><span data-stu-id="101b8-596">However, if the frequency of events is low, sampling might miss them.</span></span> <span data-ttu-id="101b8-597">Ebben az esetben a instrumentation jobb megközelítés lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-597">In this case, instrumentation might be the better approach.</span></span>
* <span data-ttu-id="101b8-598">Adjon meg egy fejlesztői vagy a rendszergazda az összes kérelem forrásának megfelelő környezet.</span><span class="sxs-lookup"><span data-stu-id="101b8-598">Provide sufficient context to enable a developer or administrator to determine the source of each request.</span></span> <span data-ttu-id="101b8-599">Ebbe beletartozhatnak valamilyen tevékenység azonosítója, amely azonosítja a kérelmet egy adott példányához.</span><span class="sxs-lookup"><span data-stu-id="101b8-599">This might include some form of activity ID that identifies a specific instance of a request.</span></span> <span data-ttu-id="101b8-600">Ezt a tevékenységet a számítási végzett munka, és a használt erőforrások összefüggéseket használható információkat is tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="101b8-600">It might also include information that can be used to correlate this activity with the computational work performed and the resources used.</span></span> <span data-ttu-id="101b8-601">Vegye figyelembe, hogy előfordulhat, hogy ez a munkahelyi kereszt-folyamat, illetve a számítógép határokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-601">Note that this work might cross process and machine boundaries.</span></span> <span data-ttu-id="101b8-602">Mérés, a környezet is tartalmaznia kell (közvetlenül vagy közvetve keresztül más korrelált információk) ügyfél számára, hogy a kérelem elvégzendő mutató hivatkozás.</span><span class="sxs-lookup"><span data-stu-id="101b8-602">For metering, the context should also include (either directly or indirectly via other correlated information) a reference to the customer who caused the request to be made.</span></span> <span data-ttu-id="101b8-603">Ebben a kontextusban az alkalmazás állapotára vonatkozó figyelési adatokat rögzítésének időben értékes információkat biztosít.</span><span class="sxs-lookup"><span data-stu-id="101b8-603">This context provides valuable information about the application state at the time that the monitoring data was captured.</span></span>
* <span data-ttu-id="101b8-604">Rögzítse az összes kérelmet, és a helyek vagy régiókban, amelyből a kérések száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-604">Record all requests, and the locations or regions from which these requests are made.</span></span> <span data-ttu-id="101b8-605">Ez az információ segít a meghatározása, hogy vannak-e bármilyen helyspecifikus csatlakozási pontokhoz.</span><span class="sxs-lookup"><span data-stu-id="101b8-605">This information can assist in determining whether there are any location-specific hotspots.</span></span> <span data-ttu-id="101b8-606">Ez az információ is hasznos lehet meghatározni, hogy e particionálni egy alkalmazás vagy az azt használó adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-606">This information can also be useful in determining whether to repartition an application or the data that it uses.</span></span>
* <span data-ttu-id="101b8-607">Jegyezze fel, és gondosan rögzítése a kivételek részletei.</span><span class="sxs-lookup"><span data-stu-id="101b8-607">Record and capture the details of exceptions carefully.</span></span> <span data-ttu-id="101b8-608">Gyakran kritikus hibakeresési információ elvész gyenge kivétel miatt.</span><span class="sxs-lookup"><span data-stu-id="101b8-608">Often, critical debug information is lost as a result of poor exception handling.</span></span> <span data-ttu-id="101b8-609">A kivételek fellépése, amelyek az alkalmazás jelez, beleértve a belső kivételek és más környezeti teljes körű információkat rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-609">Capture the full details of exceptions that the application throws, including any inner exceptions and other context information.</span></span> <span data-ttu-id="101b8-610">Ha lehetséges közé tartozik a hívási verem.</span><span class="sxs-lookup"><span data-stu-id="101b8-610">Include the call stack if possible.</span></span>
* <span data-ttu-id="101b8-611">Lehet, az adatok, amelyek mérik a különböző elemekhez, az alkalmazás, egységes Ez segít a események elemzésével, és azokat a felhasználói kérelmek adatok.</span><span class="sxs-lookup"><span data-stu-id="101b8-611">Be consistent in the data that the different elements of your application capture, because this can assist in analyzing events and correlating them with user requests.</span></span> <span data-ttu-id="101b8-612">Fontolja meg egy átfogó és konfigurálható naplózása csomag használata összegyűjteni ahelyett, hogy a fejlesztők számára, hogy elfogadják a megközelítési valósítják meg a rendszer különböző részei függően.</span><span class="sxs-lookup"><span data-stu-id="101b8-612">Consider using a comprehensive and configurable logging package to gather information, rather than depending on developers to adopt the same approach as they implement different parts of the system.</span></span> <span data-ttu-id="101b8-613">Adatokat gyűjt a kulcsfontosságú teljesítményszámlálókról, például a kötet i/o végrehajtás alatt álló hálózathasználat, kéréseket, a memória használata, és a CPU-felhasználás száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-613">Gather data from key performance counters, such as the volume of I/O being performed, network utilization, number of requests, memory use, and CPU utilization.</span></span> <span data-ttu-id="101b8-614">Néhány infrastruktúra-szolgáltatásokat nyújthatnak a saját specifikus számlálókat, például az adatbázis, a sebesség, amellyel tranzakciók történik, és sikeres vagy sikertelen tranzakciók száma kapcsolatok száma.</span><span class="sxs-lookup"><span data-stu-id="101b8-614">Some infrastructure services might provide their own specific performance counters, such as the number of connections to a database, the rate at which transactions are being performed, and the number of transactions that succeed or fail.</span></span> <span data-ttu-id="101b8-615">Alkalmazások is definiálhat a saját egyes teljesítményszámlálókat.</span><span class="sxs-lookup"><span data-stu-id="101b8-615">Applications might also define their own specific performance counters.</span></span>
* <span data-ttu-id="101b8-616">Külső szolgáltatások, például az adatbázis-rendszerek, webszolgáltatások vagy egyéb rendszerszintű szolgáltatások, az infrastruktúra részét képező összes hívások naplózása.</span><span class="sxs-lookup"><span data-stu-id="101b8-616">Log all calls made to external services, such as database systems, web services, or other system-level services that are part of the infrastructure.</span></span> <span data-ttu-id="101b8-617">Jegyezze fel minden hívás végrehajtásához szükséges idő kapcsolatos információkat és a sikeres, vagy a a hívás sikertelen.</span><span class="sxs-lookup"><span data-stu-id="101b8-617">Record information about the time taken to perform each call, and the success or failure of the call.</span></span> <span data-ttu-id="101b8-618">Ha lehetséges az összes alkalmazás adatai rögzítési újrapróbálkozások és bármely átmeneti hibák esetén fellépő hibák.</span><span class="sxs-lookup"><span data-stu-id="101b8-618">If possible, capture information about all retry attempts and failures for any transient errors that occur.</span></span>

### <a name="ensuring-compatibility-with-telemetry-systems"></a><span data-ttu-id="101b8-619">Telemetria rendszerekkel való kompatibilitás biztosítása</span><span class="sxs-lookup"><span data-stu-id="101b8-619">Ensuring compatibility with telemetry systems</span></span>
<span data-ttu-id="101b8-620">Sok esetben az információt, amely instrumentation generált események sorozataként és elemzések egy külön telemetriai rendszerre átadva.</span><span class="sxs-lookup"><span data-stu-id="101b8-620">In many cases, the information that instrumentation produces is generated as a series of events and passed to a separate telemetry system for processing and analysis.</span></span> <span data-ttu-id="101b8-621">A telemetriai adatok rendszer általában független bármely adott alkalmazás vagy topológia, de azt várja, amely általában egy séma határozza meg az adott formátumú adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-621">A telemetry system is typically independent of any specific application or technology, but it expects information to follow a specific format that's usually defined by a schema.</span></span> <span data-ttu-id="101b8-622">A hatékony sémában, amely meghatározza az adatok és a típusokat, amelyek a telemetriai adatok rendszer fogadására képes szerződés.</span><span class="sxs-lookup"><span data-stu-id="101b8-622">The schema effectively specifies a contract that defines the data fields and types that the telemetry system can ingest.</span></span> <span data-ttu-id="101b8-623">A séma platformokon és eszközökön számos érkező adatok lehetővé kell általánosítva.</span><span class="sxs-lookup"><span data-stu-id="101b8-623">The schema should be generalized to allow for data arriving from a range of platforms and devices.</span></span>

<span data-ttu-id="101b8-624">A közös séma tartalmaznia kell mezőket vonatkozó összes instrumentation esemény, például az esemény nevét, az esemény időpontja, a küldő és a részletek szükséges adatok (például a felhasználói azonosító Eszközazonosítót az eseményeket az IP-címe és az Alkalmazásazonosító).</span><span class="sxs-lookup"><span data-stu-id="101b8-624">A common schema should include fields that are common to all instrumentation events, such as the event name, the event time, the IP address of the sender, and the details that are required for correlating with other events (such as a user ID, a device ID, and an application ID).</span></span> <span data-ttu-id="101b8-625">Ne feledje, hogy lévő eszközök események, előfordulhat, hogy ablakába, ezért a séma nem kell az eszköz-típustól függnek.</span><span class="sxs-lookup"><span data-stu-id="101b8-625">Remember that any number of devices might raise events, so the schema should not depend on the device type.</span></span> <span data-ttu-id="101b8-626">Emellett a különböző eszközök előfordulhat, hogy előléptetése események ugyanahhoz az alkalmazáshoz; az alkalmazása által támogatott központi vagy egyéb formája kereszt-eszköz.</span><span class="sxs-lookup"><span data-stu-id="101b8-626">Additionally, various devices might raise events for the same application; the application might support roaming or some other form of cross-device distribution.</span></span>

<span data-ttu-id="101b8-627">A séma, amely kapcsolódik a különböző alkalmazások által közösen használt adott célra tartomány mezők is tartalmazhatja.</span><span class="sxs-lookup"><span data-stu-id="101b8-627">The schema might also include domain fields that are relevant to a particular scenario that's common across different applications.</span></span> <span data-ttu-id="101b8-628">Ez az információ a kivételek, alkalmazás kezdő és záró eseményeket, és a sikeres és/vagy webszolgáltatás API-hívás sikertelen lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-628">This might be information about exceptions, application start and end events, and success and/or failure of web service API calls.</span></span> <span data-ttu-id="101b8-629">Minden alkalmazás, amely ugyanazokat a tartomány mezők használni kell hozható létre olyan események, közös jelentések és elemzés kialakítani engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="101b8-629">All applications that use the same set of domain fields should emit the same set of events, enabling a set of common reports and analytics to be built.</span></span>

<span data-ttu-id="101b8-630">Végül a séma tartalmazhat egyéni mezők rögzítésének alkalmazásspecifikus események részletes adatait.</span><span class="sxs-lookup"><span data-stu-id="101b8-630">Finally, a schema might contain custom fields for capturing the details of application-specific events.</span></span>

### <a name="best-practices-for-instrumenting-applications"></a><span data-ttu-id="101b8-631">Alkalmazások tagolása ajánlott eljárásai</span><span class="sxs-lookup"><span data-stu-id="101b8-631">Best practices for instrumenting applications</span></span>
<span data-ttu-id="101b8-632">Az alábbi lista a felhőben futó elosztott alkalmazások tagolása ajánlott eljárásai foglalja össze.</span><span class="sxs-lookup"><span data-stu-id="101b8-632">The following list summarizes best practices for instrumenting a distributed application running in the cloud.</span></span>

* <span data-ttu-id="101b8-633">Ne naplók könnyen olvasható és könnyen értelmezhető.</span><span class="sxs-lookup"><span data-stu-id="101b8-633">Make logs easy to read and easy to parse.</span></span> <span data-ttu-id="101b8-634">Használjon strukturált naplózás, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="101b8-634">Use structured logging where possible.</span></span> <span data-ttu-id="101b8-635">Rövid és informatív üzeneteket a lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-635">Be concise and descriptive in log messages.</span></span>
* <span data-ttu-id="101b8-636">Összes napló a forrás azonosítása, és adja meg és az információk, mivel a rendszer minden naplóbejegyzés ír.</span><span class="sxs-lookup"><span data-stu-id="101b8-636">In all logs, identify the source and provide context and timing information as each log record is written.</span></span>
* <span data-ttu-id="101b8-637">Időzóna és a formátum használata minden időbélyegeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-637">Use the same time zone and format for all time stamps.</span></span> <span data-ttu-id="101b8-638">Ez segít a hardver és a különböző földrajzi régióban futó szolgáltatások műveletek események összefüggéseket.</span><span class="sxs-lookup"><span data-stu-id="101b8-638">This will help to correlate events for operations that span hardware and services running in different geographic regions.</span></span>
* <span data-ttu-id="101b8-639">A megfelelő naplófájlba írásakor és kategorizálása a naplók.</span><span class="sxs-lookup"><span data-stu-id="101b8-639">Categorize logs and write messages to the appropriate log file.</span></span>
* <span data-ttu-id="101b8-640">Nem fedjük fel a rendszer bizalmas adatait vagy a felhasználók személyes információt.</span><span class="sxs-lookup"><span data-stu-id="101b8-640">Do not disclose sensitive information about the system or personal information about users.</span></span> <span data-ttu-id="101b8-641">Megtisztítás ezt az információt, mielőtt jelentkezett, de győződjön meg arról, hogy megőrzi a vonatkozó adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-641">Scrub this information before it's logged, but ensure that the relevant details are retained.</span></span> <span data-ttu-id="101b8-642">Például az azonosító és jelszó eltávolítása minden adatbázis-kapcsolati karakterláncok, de a naplóba bejegyezni további adatait, hogy valamelyik elemzőnek megállapíthatja, hogy a rendszer fér hozzá a megfelelő adatbázishoz.</span><span class="sxs-lookup"><span data-stu-id="101b8-642">For example, remove the ID and password from any database connection strings, but write the remaining information to the log so that an analyst can determine that the system is accessing the correct database.</span></span> <span data-ttu-id="101b8-643">Minden kritikus kivételeket, de a rendszergazdája számára, kapcsolja be a naplózást be- és kikapcsolását kivételeket és figyelmeztetések alacsonyabb szinteken.</span><span class="sxs-lookup"><span data-stu-id="101b8-643">Log all critical exceptions, but enable the administrator to turn logging on and off for lower levels of exceptions and warnings.</span></span> <span data-ttu-id="101b8-644">Emellett rögzítheti és újrapróbálkozási logika kapcsolatos összes információ.</span><span class="sxs-lookup"><span data-stu-id="101b8-644">Also, capture and log all retry logic information.</span></span> <span data-ttu-id="101b8-645">Ezeket az adatokat a rendszer átmeneti állapotának figyelése a hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-645">This data can be useful in monitoring the transient health of the system.</span></span>
* <span data-ttu-id="101b8-646">Nyomkövetés kívüli folyamat indított, például külső webszolgáltatások és adatbázisok kérelmek.</span><span class="sxs-lookup"><span data-stu-id="101b8-646">Trace out of process calls, such as requests to external web services or databases.</span></span>
* <span data-ttu-id="101b8-647">Naplóüzenetek ne keverje különböző biztonsági követelmények a azonos naplófájlban.</span><span class="sxs-lookup"><span data-stu-id="101b8-647">Don't mix log messages with different security requirements in the same log file.</span></span> <span data-ttu-id="101b8-648">Például nem írható hibakeresési és naplózási azonos naplózandó információk.</span><span class="sxs-lookup"><span data-stu-id="101b8-648">For example, don't write debug and audit information to the same log.</span></span>
* <span data-ttu-id="101b8-649">Kivételével kapcsolatos naplózási eseményeket, ellenőrizze, hogy az összes naplózási hívás tűz-és-elfelejti műveleteket, amelyek nem blokkolják az üzleti tevékenységre előrehaladását.</span><span class="sxs-lookup"><span data-stu-id="101b8-649">With the exception of auditing events, make sure that all logging calls are fire-and-forget operations that do not block the progress of business operations.</span></span> <span data-ttu-id="101b8-650">Naplózási eseményeket olyan kivételes, mivel az üzleti szempontból kulcsfontosságúként, illetve az üzleti tevékenységre alapvető részeként besorolhatók.</span><span class="sxs-lookup"><span data-stu-id="101b8-650">Auditing events are exceptional because they are critical to the business and can be classified as a fundamental part of business operations.</span></span>
* <span data-ttu-id="101b8-651">Győződjön meg arról, hogy naplózási bővíthető, és nem rendelkezik konkrét, meghatározott cél bármely közvetlen függőség tartozhat.</span><span class="sxs-lookup"><span data-stu-id="101b8-651">Make sure that logging is extensible and does not have any direct dependencies on a concrete target.</span></span> <span data-ttu-id="101b8-652">Például ahelyett, hogy adatok írásakor használatával *System.Diagnostics.Trace*, absztrakt illesztőfelület határozza meg (például *ILogger*), amely elérhetővé teszi a naplózási módszerek és, amelyek segítségével kell végrehajtani megfelelő módon.</span><span class="sxs-lookup"><span data-stu-id="101b8-652">For example, rather than writing information by using *System.Diagnostics.Trace*, define an abstract interface (such as *ILogger*) that exposes logging methods and that can be implemented through any appropriate means.</span></span>
* <span data-ttu-id="101b8-653">Győződjön meg arról, hogy az összes naplózási hibamentes-e, és soha nem elindítja az egymásra épülő hibáit.</span><span class="sxs-lookup"><span data-stu-id="101b8-653">Make sure that all logging is fail-safe and never triggers any cascading errors.</span></span> <span data-ttu-id="101b8-654">Naplózás nem kell throw kivételek.</span><span class="sxs-lookup"><span data-stu-id="101b8-654">Logging must not throw any exceptions.</span></span>
* <span data-ttu-id="101b8-655">Folyamatban lévő iteratív folyamat instrumentation tekinti, és nem csak akkor, ha a probléma rendszeresen, ellenőrizze a naplókat.</span><span class="sxs-lookup"><span data-stu-id="101b8-655">Treat instrumentation as an ongoing iterative process and review logs regularly, not just when there is a problem.</span></span>

## <a name="collecting-and-storing-data"></a><span data-ttu-id="101b8-656">Összegyűjtése és adatok tárolása</span><span class="sxs-lookup"><span data-stu-id="101b8-656">Collecting and storing data</span></span>
<span data-ttu-id="101b8-657">A megfigyelési folyamat gyűjtemény szakasza foglalkozik, amely instrumentation hoz létre, a könnyebb felhasználásához az elemzés/elemzés céljából. szakaszra vonatkozóan, és az átalakított adatok mentése megbízható tárolt adatok formázása adatainak lekérése során.</span><span class="sxs-lookup"><span data-stu-id="101b8-657">The collection stage of the monitoring process is concerned with retrieving the information that instrumentation generates, formatting this data to make it easier for the analysis/diagnosis stage to consume, and saving the transformed data in reliable storage.</span></span> <span data-ttu-id="101b8-658">A WMI-adatok, amelyek gyűjtse össze egy elosztott rendszer különböző részei a különböző helyek és a különböző formátumokban is tárolható.</span><span class="sxs-lookup"><span data-stu-id="101b8-658">The instrumentation data that you gather from different parts of a distributed system can be held in a variety of locations and with varying formats.</span></span> <span data-ttu-id="101b8-659">Például az alkalmazás kódjában előfordulhat, hogy nyomkövetési naplófájlok készítése és készítése alkalmazás eseménynapló-adatokat, mivel más technológiák útján rögzíthetők teljesítményszámlálót mutat be, figyelheti a kulcsfontosságú elemeit annak az infrastruktúra, amely az alkalmazás használja.</span><span class="sxs-lookup"><span data-stu-id="101b8-659">For example, your application code might generate trace log files and generate application event log data, whereas performance counters that monitor key aspects of the infrastructure that your application uses can be captured through other technologies.</span></span> <span data-ttu-id="101b8-660">Bármely külső összetevőkkel és szolgáltatásokkal, hogy az alkalmazás által használt nyújthatnak rendszerállapottal kapcsolatos információkat a különböző formátumokban külön nyomkövetési fájlok, a blob-tároló, vagy még akkor is egyéni adattárat.</span><span class="sxs-lookup"><span data-stu-id="101b8-660">Any third-party components and services that your application uses might provide instrumentation information in different formats, by using separate trace files, blob storage, or even a custom data store.</span></span>

<span data-ttu-id="101b8-661">Adatgyűjtés gyakran önállóan futtatható az alkalmazás, amely hoz létre a WMI-adatok gyűjtése szolgáltatáson keresztül történik.</span><span class="sxs-lookup"><span data-stu-id="101b8-661">Data collection is often performed through a collection service that can run autonomously from the application that generates the instrumentation data.</span></span> <span data-ttu-id="101b8-662">2. ábra ebbe az architektúrába, a rendszerállapot-adatgyűjtés alrendszer kiemelés mutatja be.</span><span class="sxs-lookup"><span data-stu-id="101b8-662">Figure 2 illustrates an example of this architecture, highlighting the instrumentation data-collection subsystem.</span></span>

![Példa WMI-adatok gyűjtése](./images/monitoring/TelemetryService.png)

<span data-ttu-id="101b8-664">*2. ábra. WMI-adatok gyűjtése*</span><span class="sxs-lookup"><span data-stu-id="101b8-664">*Figure 2. Collecting instrumentation data*</span></span>

<span data-ttu-id="101b8-665">Vegye figyelembe, hogy ez egy egyszerűsített nézete.</span><span class="sxs-lookup"><span data-stu-id="101b8-665">Note that this is a simplified view.</span></span> <span data-ttu-id="101b8-666">A szolgáltatás nem feltétlenül egyetlen folyamat, és előfordulhat, hogy a különböző gépeken futó sok része alkotják, a következő szakaszokban ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="101b8-666">The collection service is not necessarily a single process and might comprise many constituent parts running on different machines, as described in the following sections.</span></span> <span data-ttu-id="101b8-667">Továbbá ha néhány telemetriai adatok elemzését gyorsan kell elvégezni (közbeni elemzés, a szakaszban leírt módon [támogató működés közbeni, gyakran és ritkán használt analysis](#supporting-hot-warm-and-cold-analysis) a jelen dokumentum későbbi), helyi összetevők működését a szolgáltatás előfordulhat, hogy feladatokat elemzés azonnal.</span><span class="sxs-lookup"><span data-stu-id="101b8-667">Additionally, if the analysis of some telemetry data must be performed quickly (hot analysis, as described in the section [Supporting hot, warm, and cold analysis](#supporting-hot-warm-and-cold-analysis) later in this document), local components that operate outside the collection service might perform the analysis tasks immediately.</span></span> <span data-ttu-id="101b8-668">2. ábra az ebben a helyzetben a kijelölt eseményeket ábrázol.</span><span class="sxs-lookup"><span data-stu-id="101b8-668">Figure 2 depicts this situation for selected events.</span></span> <span data-ttu-id="101b8-669">Analitikus feldolgozás után, az eredmények küldhető közvetlenül a képi megjelenítés és a riasztási alrendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-669">After analytical processing, the results can be sent directly to the visualization and alerting subsystem.</span></span> <span data-ttu-id="101b8-670">Van kitéve a meleg vagy a cold elemzési adatokat van tárolt várja feldolgozása közben.</span><span class="sxs-lookup"><span data-stu-id="101b8-670">Data that's subjected to warm or cold analysis is held in storage while it awaits processing.</span></span>

<span data-ttu-id="101b8-671">Az Azure-alkalmazások és szolgáltatások, Azure Diagnostics egy lehetséges megoldást nyújt adatok rögzítéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-671">For Azure applications and services, Azure Diagnostics provides one possible solution for capturing data.</span></span> <span data-ttu-id="101b8-672">Az Azure Diagnostics adatait gyűjti össze az egyes számítási csomópontok az alábbi forrásokból összesíti az és majd feltölti az Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="101b8-672">Azure Diagnostics gathers data from the following sources for each compute node, aggregates it, and then uploads it to Azure Storage:</span></span>

* <span data-ttu-id="101b8-673">IIS-naplók</span><span class="sxs-lookup"><span data-stu-id="101b8-673">IIS logs</span></span>
* <span data-ttu-id="101b8-674">Az IIS Kérelemszűrése sikertelen naplók</span><span class="sxs-lookup"><span data-stu-id="101b8-674">IIS Failed Request logs</span></span>
* <span data-ttu-id="101b8-675">Windows-Eseménynapló</span><span class="sxs-lookup"><span data-stu-id="101b8-675">Windows event logs</span></span>
* <span data-ttu-id="101b8-676">Teljesítményszámlálók</span><span class="sxs-lookup"><span data-stu-id="101b8-676">Performance counters</span></span>
* <span data-ttu-id="101b8-677">Összeomlási memóriaképek</span><span class="sxs-lookup"><span data-stu-id="101b8-677">Crash dumps</span></span>
* <span data-ttu-id="101b8-678">Az Azure Diagnostics infrastruktúra naplók</span><span class="sxs-lookup"><span data-stu-id="101b8-678">Azure Diagnostics infrastructure logs</span></span>  
* <span data-ttu-id="101b8-679">Egyéni hibanaplókat</span><span class="sxs-lookup"><span data-stu-id="101b8-679">Custom error logs</span></span>
* <span data-ttu-id="101b8-680">.NET EventSource</span><span class="sxs-lookup"><span data-stu-id="101b8-680">.NET EventSource</span></span>
* <span data-ttu-id="101b8-681">Jegyzékfájl-alapú ETW</span><span class="sxs-lookup"><span data-stu-id="101b8-681">Manifest-based ETW</span></span>

<span data-ttu-id="101b8-682">További információkért lásd: a cikk [Azure: Telemetriai alapjait és hibaelhárítás](http://social.technet.microsoft.com/wiki/contents/articles/18146.windows-azure-telemetry-basics-and-troubleshooting.aspx).</span><span class="sxs-lookup"><span data-stu-id="101b8-682">For more information, see the article [Azure: Telemetry Basics and Troubleshooting](http://social.technet.microsoft.com/wiki/contents/articles/18146.windows-azure-telemetry-basics-and-troubleshooting.aspx).</span></span>

### <a name="strategies-for-collecting-instrumentation-data"></a><span data-ttu-id="101b8-683">Stratégiák a WMI-adatok gyűjtése</span><span class="sxs-lookup"><span data-stu-id="101b8-683">Strategies for collecting instrumentation data</span></span>
<span data-ttu-id="101b8-684">A rugalmas jellegét a felhőben, és ne legyen szükség a manuálisan lekérése telemetriai adatokat minden csomópont a rendszerben, figyelembe véve gondoskodik az adatok átvitele egy központi helyen, és konszolidált.</span><span class="sxs-lookup"><span data-stu-id="101b8-684">Considering the elastic nature of the cloud, and to avoid the necessity of manually retrieving telemetry data from every node in the system, you should arrange for the data to be transferred to a central location and consolidated.</span></span> <span data-ttu-id="101b8-685">A rendszer több adatközpontot is lehet hasznos, ha először begyűjtése, összevonása akkor történjen meg, és adatok régiónként-alapon tárolja, és majd összesítése a regionális adatok egyetlen központi rendszerben szeretné.</span><span class="sxs-lookup"><span data-stu-id="101b8-685">In a system that spans multiple datacenters, it might be useful to first collect, consolidate, and store data on a region-by-region basis, and then aggregate the regional data into a single central system.</span></span>

<span data-ttu-id="101b8-686">Sávszélesség-optimalizálásához választhatja adattömböket, mint a kötegek üzenetfejléceket adatok átvitele.</span><span class="sxs-lookup"><span data-stu-id="101b8-686">To optimize the use of bandwidth, you can elect to transfer less urgent data in chunks, as batches.</span></span> <span data-ttu-id="101b8-687">Azonban az adatokat kell nem később határozatlan ideig, különösen akkor, ha időérzékeny információkat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="101b8-687">However, the data must not be delayed indefinitely, especially if it contains time-sensitive information.</span></span>

#### <a name="pulling-and-pushing-instrumentation-data"></a><span data-ttu-id="101b8-688">*Húzza és WMI-adatok küldését*</span><span class="sxs-lookup"><span data-stu-id="101b8-688">*Pulling and pushing instrumentation data*</span></span>
<span data-ttu-id="101b8-689">A rendszerállapot-adatgyűjtés alrendszer aktívan beolvasható WMI-adatok a különböző naplókat, valamint a más forrásokból, az alkalmazás egyes példányainak (a *lekéréses modell*).</span><span class="sxs-lookup"><span data-stu-id="101b8-689">The instrumentation data-collection subsystem can actively retrieve instrumentation data from the various logs and other sources for each instance of the application (the *pull model*).</span></span> <span data-ttu-id="101b8-690">Vagy a passzív fogadó, amely megvárja-e az adatok küldését a az alkalmazás minden példánya alkotó összetevők működhet (a *leküldési modelljével*).</span><span class="sxs-lookup"><span data-stu-id="101b8-690">Or, it can act as a passive receiver that waits for the data to be sent from the components that constitute each instance of the application (the *push model*).</span></span>

<span data-ttu-id="101b8-691">A lekéréses modell végrehajtási egyik módszer, hogy figyelőügynökök futtató helyi az alkalmazás minden példányát használja.</span><span class="sxs-lookup"><span data-stu-id="101b8-691">One approach to implementing the pull model is to use monitoring agents that run locally with each instance of the application.</span></span> <span data-ttu-id="101b8-692">Figyelési ügynök külön folyamat, amely rendszeres időközönként beolvassa (ponttá) telemetriai adatokat a helyi csomópont be, és írja közvetlenül ezeket az információkat, amelyek az alkalmazás összes példányát központi tárolása.</span><span class="sxs-lookup"><span data-stu-id="101b8-692">A monitoring agent is a separate process that periodically retrieves (pulls) telemetry data collected at the local node and writes this information directly to centralized storage that all instances of the application share.</span></span> <span data-ttu-id="101b8-693">Azt a mechanizmust, amely megvalósítja az Azure Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="101b8-693">This is the mechanism that Azure Diagnostics implements.</span></span> <span data-ttu-id="101b8-694">Egy Azure webes vagy feldolgozói szerepkör minden egyes példánya beállítható úgy, hogy a rögzítési diagnosztikai és egyéb nyomkövetési adatok helyben tárolt.</span><span class="sxs-lookup"><span data-stu-id="101b8-694">Each instance of an Azure web or worker role can be configured to capture diagnostic and other trace information that's stored locally.</span></span> <span data-ttu-id="101b8-695">A figyelési ügynök, amely minden példány együtt fut az Azure Storage másolja át a megadott adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-695">The monitoring agent that runs alongside each instance copies the specified data to Azure Storage.</span></span> <span data-ttu-id="101b8-696">A cikk [diagnosztika engedélyezésével az Azure Cloud Services és a virtuális gépek](/azure/cloud-services/cloud-services-dotnet-diagnostics) részletesen ismerteti a folyamatot.</span><span class="sxs-lookup"><span data-stu-id="101b8-696">The article [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](/azure/cloud-services/cloud-services-dotnet-diagnostics) provides more details on this process.</span></span> <span data-ttu-id="101b8-697">Bizonyos elemek, például az IIS naplóit, összeomlási memóriaképek és egyéni hibanaplókat, a blob-tároló kerülnek.</span><span class="sxs-lookup"><span data-stu-id="101b8-697">Some elements, such as IIS logs, crash dumps, and custom error logs, are written to blob storage.</span></span> <span data-ttu-id="101b8-698">A table storage a Windows Eseménynapló ETW-események és teljesítményszámlálók adatait rögzíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-698">Data from the Windows event log, ETW events, and performance counters is recorded in table storage.</span></span> <span data-ttu-id="101b8-699">3. ábra szemlélteti a mechanizmus.</span><span class="sxs-lookup"><span data-stu-id="101b8-699">Figure 3 illustrates this mechanism.</span></span>

![A figyelési ügynök használatával információkat le, és írja a megosztott tárolóba ábrája](./images/monitoring/PullModel.png)

<span data-ttu-id="101b8-701">*3. ábra. A figyelési ügynök használatával információkat le, és írja a megosztott tárolóba*</span><span class="sxs-lookup"><span data-stu-id="101b8-701">*Figure 3. Using a monitoring agent to pull information and write to shared storage*</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-702">A figyelési ügynök használatával kiválóan alkalmas a WMI-adatok természetes lekért adatforrás rögzítése.</span><span class="sxs-lookup"><span data-stu-id="101b8-702">Using a monitoring agent is ideally suited to capturing instrumentation data that's naturally pulled from a data source.</span></span> <span data-ttu-id="101b8-703">Egy példa az SQL Server dinamikus felügyeleti nézetek vagy egy Azure Service Bus-várólista hossza információt.</span><span class="sxs-lookup"><span data-stu-id="101b8-703">An example is information from SQL Server Dynamic Management Views or the length of an Azure Service Bus queue.</span></span>
> 
> 

<span data-ttu-id="101b8-704">Legyen megvalósítható a csak korlátozott számú csomópontok egyetlen helyen futó csak kevés számítógépet érintő alkalmazások telemetriai adatainak tárolásához leírt módon.</span><span class="sxs-lookup"><span data-stu-id="101b8-704">It's feasible to use the approach just described to store telemetry data for a small-scale application running on a limited number of nodes in a single location.</span></span> <span data-ttu-id="101b8-705">Azonban egy összetett, skálázható, globális felhő alkalmazás hatalmas mennyiségű adatot előfordulhat, hogy generálása több száz webes és feldolgozói szerepkörök, adatbázis szilánkok és egyéb szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-705">However, a complex, highly scalable, global cloud application might generate huge volumes of data from hundreds of web and worker roles, database shards, and other services.</span></span> <span data-ttu-id="101b8-706">Az adatok foglalkozók is könnyen ne terhelje, tovább a i/o-sávszélesség egyetlen központi helyen érhető el.</span><span class="sxs-lookup"><span data-stu-id="101b8-706">This flood of data can easily overwhelm the I/O bandwidth available with a single, central location.</span></span> <span data-ttu-id="101b8-707">Ezért a telemetriai adatok megoldásának méretezhető, ezáltal megakadályozhatja, hogy a rendszer kiterjeszti a szűk forráscsoportként kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-707">Therefore, your telemetry solution must be scalable to prevent it from acting as a bottleneck as the system expands.</span></span> <span data-ttu-id="101b8-708">Ideális esetben a megoldás (például naplózási vagy számlázási adatok) fontos figyelési adatok elvesztése, ha a rendszer nem sikerül a kockázatok csökkentése redundancia fokú kell tartalmaznia.</span><span class="sxs-lookup"><span data-stu-id="101b8-708">Ideally, your solution should incorporate a degree of redundancy to reduce the risks of losing important monitoring information (such as auditing or billing data) if part of the system fails.</span></span>

<span data-ttu-id="101b8-709">A következő problémák is létrehozható queuing, a 4. ábrán látható módon.</span><span class="sxs-lookup"><span data-stu-id="101b8-709">To address these issues, you can implement queuing, as shown in Figure 4.</span></span> <span data-ttu-id="101b8-710">Az ebbe az architektúrába, a helyi figyelési ügynök (ha megfelelően konfigurálható) vagy egyéni adatgyűjtés-szolgáltatás (Ha nem) POST-adatokat annak a várólistára.</span><span class="sxs-lookup"><span data-stu-id="101b8-710">In this architecture, the local monitoring agent (if it can be configured appropriately) or custom data-collection service (if not) posts data to a queue.</span></span> <span data-ttu-id="101b8-711">(A tárolás szolgáltatás írása a 4. ábra) aszinkron módon fut külön folyamatban lekéri az adatokat a várólistán szereplő, és írja a megosztott tárhelyhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-711">A separate process running asynchronously (the storage writing service in Figure 4) takes the data in this queue and writes it to shared storage.</span></span> <span data-ttu-id="101b8-712">Az üzenet-várólista nem megfelelő-e ebben a forgatókönyvben, mert a "legalább egyszeri" biztosít, amelyek segítenek, győződjön meg arról, hogy várólistán lévő adatok nem vesznek után feladás szemantikáját.</span><span class="sxs-lookup"><span data-stu-id="101b8-712">A message queue is suitable for this scenario because it provides "at least once" semantics that help ensure that queued data will not be lost after it's posted.</span></span> <span data-ttu-id="101b8-713">A storage szolgáltatás írása egy külön feldolgozói szerepkör használatával is létrehozható.</span><span class="sxs-lookup"><span data-stu-id="101b8-713">You can implement the storage writing service by using a separate worker role.</span></span>

![A várólisták puffer WMI-adatok használatával ábrája](./images/monitoring/BufferedQueue.png)

<span data-ttu-id="101b8-715">*4. ábra. A várólisták puffer WMI-adatok használatával*</span><span class="sxs-lookup"><span data-stu-id="101b8-715">*Figure 4. Using a queue to buffer instrumentation data*</span></span>

<span data-ttu-id="101b8-716">A helyi adatgyűjtés szolgáltatás adatokat adhat egy várólista átvétel után azonnal.</span><span class="sxs-lookup"><span data-stu-id="101b8-716">The local data-collection service can add data to a queue immediately after it's received.</span></span> <span data-ttu-id="101b8-717">A várólista pufferként, és a tárolás szolgáltatás írása beolvashatja és a saját tempójában írni.</span><span class="sxs-lookup"><span data-stu-id="101b8-717">The queue acts as a buffer, and the storage writing service can retrieve and write the data at its own pace.</span></span> <span data-ttu-id="101b8-718">Alapértelmezés szerint egy várólista érkezési sorrendben történő kiküldési szinten működik.</span><span class="sxs-lookup"><span data-stu-id="101b8-718">By default, a queue operates on a first-in, first-out basis.</span></span> <span data-ttu-id="101b8-719">De rangsorolhatja üzenetek keresztül a várólista gyorsító őket, ha gyorsabban kell kezelni álló adatokat tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="101b8-719">But you can prioritize messages to accelerate them through the queue if they contain data that must be handled more quickly.</span></span> <span data-ttu-id="101b8-720">További információkért lásd: a [prioritású várólistára](https://msdn.microsoft.com/library/dn589794.aspx) mintát.</span><span class="sxs-lookup"><span data-stu-id="101b8-720">For more information, see the [Priority Queue](https://msdn.microsoft.com/library/dn589794.aspx) pattern.</span></span> <span data-ttu-id="101b8-721">A különböző csatornákon (például a Service Bus-üzenettémakörök) segítségével azt is megteheti, attól függően, hogy az űrlap elemzésfeldolgozási, amely szükséges a különböző helyekre adatok közvetlen.</span><span class="sxs-lookup"><span data-stu-id="101b8-721">Alternatively, you can use different channels (such as Service Bus topics) to direct data to different destinations depending on the form of analytical processing that's required.</span></span>

<span data-ttu-id="101b8-722">A méretezhetőség a tárolás szolgáltatás írása több példányát is futtathatja.</span><span class="sxs-lookup"><span data-stu-id="101b8-722">For scalability, you can run multiple instances of the storage writing service.</span></span> <span data-ttu-id="101b8-723">Ha nagy mennyiségű esemény, használhatja az eseményközpontok a különböző számítási erőforrásokat, az adatfeldolgozás és -tárolás adatokat átirányítani.</span><span class="sxs-lookup"><span data-stu-id="101b8-723">If there is a high volume of events, you can use an event hub to dispatch the data to different compute resources for processing and storage.</span></span>

<a name="consolidating-instrumentation-data"></a>

#### <a name="consolidating-instrumentation-data"></a><span data-ttu-id="101b8-724">*Összevonja a WMI-adatok*</span><span class="sxs-lookup"><span data-stu-id="101b8-724">*Consolidating instrumentation data*</span></span>
<span data-ttu-id="101b8-725">A WMI-adatok az adatgyűjtés szolgáltatás egy alkalmazás egyetlen példányát kiolvassa lehetőséget nyújt az honosított rálátást enged és annak a példánynak teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="101b8-725">The instrumentation data that the data-collection service retrieves from a single instance of an application gives a localized view of the health and performance of that instance.</span></span> <span data-ttu-id="101b8-726">A rendszer általános állapotának felmérésére fontos vonják össze a helyi nézetében lévő adatok az egyes funkcióit.</span><span class="sxs-lookup"><span data-stu-id="101b8-726">To assess the overall health of the system, it's necessary to consolidate some aspects of the data in the local views.</span></span> <span data-ttu-id="101b8-727">Ezt követően az adatokat a tárolja, de egyes esetekben is érhet el, az adatgyűjtés a következők szerint hajthat végre.</span><span class="sxs-lookup"><span data-stu-id="101b8-727">You can perform this after the data has been stored, but in some cases, you can also achieve it as the data is collected.</span></span> <span data-ttu-id="101b8-728">Ahelyett, hogy közvetlenül a megosztott tárolóba írása, a WMI-adatok egy különálló összevonási szolgáltatás, amely egyesíti az adatokat, és úgy működik, mint egy szűrő és törlési folyamat is továbbítása.</span><span class="sxs-lookup"><span data-stu-id="101b8-728">Rather than being written directly to shared storage, the instrumentation data can pass through a separate data consolidation service that combines data and acts as a filter and cleanup process.</span></span> <span data-ttu-id="101b8-729">Például a azonos korrelációs adatok, például Tevékenységazonosítót WMI-adatok által is.</span><span class="sxs-lookup"><span data-stu-id="101b8-729">For example, instrumentation data that includes the same correlation information such as an activity ID can be amalgamated.</span></span> <span data-ttu-id="101b8-730">(Ez akkor lehet, hogy egy felhasználó elindítja az egyik csomópont üzleti műveletet, és ezután lekérdezi egy másik csomópontjára továbbítja csomópont meghibásodik, vagy attól függően, hogy a terheléselosztás konfigurálását.) Ez a folyamat is észleli, és távolítsa el az ismétlődő adatokat (mindig annak a lehetősége, ha a telemetriai adatok szolgáltatás használ a leküldéses WMI-adatok kimenő Storage üzenetsorokat).</span><span class="sxs-lookup"><span data-stu-id="101b8-730">(It's possible that a user starts performing a business operation on one node and then gets transferred to another node in the event of node failure, or depending on how load balancing is configured.) This process can also detect and remove any duplicated data (always a possibility if the telemetry service uses message queues to push instrumentation data out to storage).</span></span> <span data-ttu-id="101b8-731">5. ábra mutatja be: Ez a struktúra.</span><span class="sxs-lookup"><span data-stu-id="101b8-731">Figure 5 illustrates an example of this structure.</span></span>

![A szolgáltatás használatával vonják össze a WMI-adatok – példa](./images/monitoring/Consolidation.png)

<span data-ttu-id="101b8-733">*5. ábra. Külön szolgáltatással összefogása és WMI-adatok törlése*</span><span class="sxs-lookup"><span data-stu-id="101b8-733">*Figure 5. Using a separate service to consolidate and clean up instrumentation data*</span></span>

### <a name="storing-instrumentation-data"></a><span data-ttu-id="101b8-734">WMI-adatok tárolása</span><span class="sxs-lookup"><span data-stu-id="101b8-734">Storing instrumentation data</span></span>
<span data-ttu-id="101b8-735">Az előző beszélgetéseket, amely WMI-adatok tárolja módja ahelyett, hogy simplistic nézetét rendelkezik ábrázolva.</span><span class="sxs-lookup"><span data-stu-id="101b8-735">The previous discussions have depicted a rather simplistic view of the way in which instrumentation data is stored.</span></span> <span data-ttu-id="101b8-736">A valóságban azt is célszerű a különböző típusú adatok tárolására, amelyben minden várhatóan használt módszer a legmegfelelőbb technológiák használatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-736">In reality, it can make sense to store the different types of information by using technologies that are most appropriate to the way in which each type is likely to be used.</span></span>

<span data-ttu-id="101b8-737">Például az Azure-blob és table storage rendelkezik néhány Hasonlóságok elért most módon.</span><span class="sxs-lookup"><span data-stu-id="101b8-737">For example, Azure blob and table storage have some similarities in the way in which they're accessed.</span></span> <span data-ttu-id="101b8-738">Azonban lehetnek korlátozások a hajthat végre őket a műveletekben, és az adatokat azok vonatkozik, amelyek granularitása Igen különbözőek.</span><span class="sxs-lookup"><span data-stu-id="101b8-738">But they have limitations in the operations that you can perform by using them, and the granularity of the data that they hold is quite different.</span></span> <span data-ttu-id="101b8-739">Ha további analitikai műveleteket végezhet, vagy az adatok teljes szöveges keresésre van szüksége, több megfelelő optimalizált képességeket biztosító lekérdezések és adatelérési bizonyos típusú adatok tárolási használandó lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-739">If you need to perform more analytical operations or require full-text search capabilities on the data, it might be more appropriate to use data storage that provides capabilities that are optimized for specific types of queries and data access.</span></span> <span data-ttu-id="101b8-740">Példa:</span><span class="sxs-lookup"><span data-stu-id="101b8-740">For example:</span></span>

* <span data-ttu-id="101b8-741">Teljesítmény számlálóadatok alkalmi elemzés engedélyezése SQL-adatbázisban tárolható.</span><span class="sxs-lookup"><span data-stu-id="101b8-741">Performance counter data can be stored in a SQL database to enable ad hoc analysis.</span></span>
* <span data-ttu-id="101b8-742">Nyomkövetési naplók jobban tárolódhat Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="101b8-742">Trace logs might be better stored in Azure Cosmos DB.</span></span>
* <span data-ttu-id="101b8-743">Biztonsági adatokat HDFS csak írható.</span><span class="sxs-lookup"><span data-stu-id="101b8-743">Security information can be written to HDFS.</span></span>
* <span data-ttu-id="101b8-744">Teljes szöveges keresés által kért információ (amely a gazdag indexelési keresések is sebessége) Elasticsearch keresztül is tárolhatók.</span><span class="sxs-lookup"><span data-stu-id="101b8-744">Information that requires full-text search can be stored through Elasticsearch (which can also speed searches by using rich indexing).</span></span>

<span data-ttu-id="101b8-745">Egy másik szolgáltatást, amely rendszeres időközönként lekéri az adatokat a megosztott tároló, a partíciók és a szűrők célja az adatok, és ezután ír egy megfelelő összességének adattárolókhoz 6. ábrán látható módon valósíthatja meg.</span><span class="sxs-lookup"><span data-stu-id="101b8-745">You can implement an additional service that periodically retrieves the data from shared storage, partitions and filters the data according to its purpose, and then writes it to an appropriate set of data stores as shown in Figure 6.</span></span> <span data-ttu-id="101b8-746">Egy másik módszert is, hogy tartalmazza ezt a szolgáltatást a konszolidáció és törlési folyamat és az adatok írása közvetlenül ezekkel az áruházakkal mivel azt rendelkezik beolvasott ahelyett, a közbenső mentése megosztott tárterület.</span><span class="sxs-lookup"><span data-stu-id="101b8-746">An alternative approach is to include this functionality in the consolidation and cleanup process and write the data directly to these stores as it's retrieved rather than saving it in an intermediate shared storage area.</span></span> <span data-ttu-id="101b8-747">Minden módszer van annak előnyeit és hátrányait.</span><span class="sxs-lookup"><span data-stu-id="101b8-747">Each approach has its advantages and disadvantages.</span></span> <span data-ttu-id="101b8-748">Egy külön particionálási szolgáltatás üzembe csökkenti annak az Összevonás és karbantartása szolgáltatás terhelését, és lehetővé teszi, hogy legalább (attól függően, hogy mennyi adatot őrzi meg a megosztott tároló) szükség esetén újra létrejön a particionált adatok egy részét.</span><span class="sxs-lookup"><span data-stu-id="101b8-748">Implementing a separate partitioning service lessens the load on the consolidation and cleanup service, and it enables at least some of the partitioned data to be regenerated if necessary (depending on how much data is retained in shared storage).</span></span> <span data-ttu-id="101b8-749">Azonban ez további-erőforrásokat használ fel.</span><span class="sxs-lookup"><span data-stu-id="101b8-749">However, it consumes additional resources.</span></span> <span data-ttu-id="101b8-750">Is valószínűleg késleltetés az alkalmazás feltünteti a WMI-adatok fogadását, és ezeket az adatokat átváltását végrehajthatóként információk között.</span><span class="sxs-lookup"><span data-stu-id="101b8-750">Also, there might be a delay between the receipt of instrumentation data from each application instance and the conversion of this data into actionable information.</span></span>

![Particionálás és az adatok tárolása](./images/monitoring/DataStorage.png)

<span data-ttu-id="101b8-752">*6. ábra. Particionálás analitikai adatok és a tárhellyel kapcsolatos követelmények*</span><span class="sxs-lookup"><span data-stu-id="101b8-752">*Figure 6. Partitioning data according to analytical and storage requirements*</span></span>

<span data-ttu-id="101b8-753">Az azonos WMI-adatok több célra lehet szükség.</span><span class="sxs-lookup"><span data-stu-id="101b8-753">The same instrumentation data might be required for more than one purpose.</span></span> <span data-ttu-id="101b8-754">Például teljesítményszámlálók segítségével adja meg a rendszer teljesítményét az idő múlásával ügyfélállapotainak.</span><span class="sxs-lookup"><span data-stu-id="101b8-754">For example, performance counters can be used to provide a historical view of system performance over time.</span></span> <span data-ttu-id="101b8-755">Ezeket az információkat az ügyfél számlázási generálhassák egyéb használati adatok lehet kombinálni.</span><span class="sxs-lookup"><span data-stu-id="101b8-755">This information might be combined with other usage data to generate customer billing information.</span></span> <span data-ttu-id="101b8-756">Ezekben a helyzetekben ugyanazokat az adatokat több célra, például egy dokumentum-adatbázis, amely működhet, és a hosszú távú tárolási a számlázási adatokat tároló és a többdimenziós áruházból kezelése bonyolult teljesítmény analytics lehet küldeni.</span><span class="sxs-lookup"><span data-stu-id="101b8-756">In these situations, the same data might be sent to more than one destination, such as a document database that can act as a long-term store for holding billing information, and a multidimensional store for handling complex performance analytics.</span></span>

<span data-ttu-id="101b8-757">Azt is figyelembe kell venni, hogyan sürgősen a adatokra szükség.</span><span class="sxs-lookup"><span data-stu-id="101b8-757">You should also consider how urgently the data is required.</span></span> <span data-ttu-id="101b8-758">Bemutatja, hogy a riasztási adatok használatával kell elérni gyorsan, ezért érdemes lehet tárolt adatok gyors és indexelt vagy felépítve, hogy a riasztási rendszer hajt végre a lekérdezések optimalizálását.</span><span class="sxs-lookup"><span data-stu-id="101b8-758">Data that provides information for alerting must be accessed quickly, so it should be held in fast data storage and indexed or structured to optimize the queries that the alerting system performs.</span></span> <span data-ttu-id="101b8-759">Egyes esetekben szükség lehet a telemetriai adatok szolgáltatás, amely összegyűjti a minden egyes csomóponton formázása és a helyileg menteni az adatokat, hogy a riasztási rendszer helyi példányának gyorsan értesítheti, az esetleges problémákat.</span><span class="sxs-lookup"><span data-stu-id="101b8-759">In some cases, it might be necessary for the telemetry service that gathers the data on each node to format and save data locally so that a local instance of the alerting system can quickly notify you of any issues.</span></span> <span data-ttu-id="101b8-760">A storage szolgáltatás az előző ábrán is látható, és központilag tárolja, ha más célokra is szükséges írása ugyanazokat az adatokat képes továbbítani.</span><span class="sxs-lookup"><span data-stu-id="101b8-760">The same data can be dispatched to the storage writing service shown in the previous diagrams and stored centrally if it's also required for other purposes.</span></span>

<span data-ttu-id="101b8-761">További használható információkat figyelembe veendő analysis jelentéskészítéshez, valamint a múltbeli trendek gyorsabban üzenetfejléceket, amely olyan módon, amely támogatja az adatbányászat és az ad hoc lekérdezéseket is tárolhatók.</span><span class="sxs-lookup"><span data-stu-id="101b8-761">Information that's used for more considered analysis, for reporting, and for spotting historical trends is less urgent and can be stored in a manner that supports data mining and ad hoc queries.</span></span> <span data-ttu-id="101b8-762">További információkért tekintse meg a szakasz [működés közbeni, gyakran és ritkán használt elemzési támogató](#supporting-hot-warm-and-cold-analysis) újabb ebben a dokumentumban.</span><span class="sxs-lookup"><span data-stu-id="101b8-762">For more information, see the section [Supporting hot, warm, and cold analysis](#supporting-hot-warm-and-cold-analysis) later in this document.</span></span>

#### <a name="log-rotation-and-data-retention"></a><span data-ttu-id="101b8-763">*Naplóváltás és az adatok megőrzése*</span><span class="sxs-lookup"><span data-stu-id="101b8-763">*Log rotation and data retention*</span></span>
<span data-ttu-id="101b8-764">Instrumentation hozhat létre a jelentős mennyiségű adatot.</span><span class="sxs-lookup"><span data-stu-id="101b8-764">Instrumentation can generate considerable volumes of data.</span></span> <span data-ttu-id="101b8-765">Ezeket az adatokat több helyen, a nyers naplófájlok nyomkövetési fájlok kezdve lehessen vonni és egyéb információkat a konszolidált minden csomópont rögzített tisztítani és particionált nézet a tárolt megosztott adatokról.</span><span class="sxs-lookup"><span data-stu-id="101b8-765">This data can be held in several places, starting with the raw log files, trace files, and other information captured at each node to the consolidated, cleaned, and partitioned view of this data held in shared storage.</span></span> <span data-ttu-id="101b8-766">Néhány esetben az adatok feldolgozott és továbbított, után az eredeti forrás nyers adatok távolíthatók el minden csomópont.</span><span class="sxs-lookup"><span data-stu-id="101b8-766">In some cases, after the data has been processed and transferred, the original raw source data can be removed from each node.</span></span> <span data-ttu-id="101b8-767">Más esetben egyszerűen hasznos a nyers adatok mentéséhez vagy szükséges lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-767">In other cases, it might be necessary or simply useful to save the raw information.</span></span> <span data-ttu-id="101b8-768">Hibakeresési célra generált adatok például előfordulhat, hogy legjobban hagyható nyers formájában érhető el, de tudja majd elveti gyorsan hibáit rendelkezik lett javítása után.</span><span class="sxs-lookup"><span data-stu-id="101b8-768">For example, data that's generated for debugging purposes might be best left available in its raw form but can then be discarded quickly after any bugs have been rectified.</span></span>

<span data-ttu-id="101b8-769">Teljesítményadatok gyakran van hosszabb élettartamát, így gyorsabban teljesítménytrendek és a kapacitástervezés is használható.</span><span class="sxs-lookup"><span data-stu-id="101b8-769">Performance data often has a longer life so that it can be used for spotting performance trends and for capacity planning.</span></span> <span data-ttu-id="101b8-770">Az összevont nézetet ezen adatok általában tartják online véges időtartamra és a gyors hozzáférés engedélyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-770">The consolidated view of this data is usually kept online for a finite period to enable fast access.</span></span> <span data-ttu-id="101b8-771">Ezt követően az archiválható vagy elvetett.</span><span class="sxs-lookup"><span data-stu-id="101b8-771">After that, it can be archived or discarded.</span></span> <span data-ttu-id="101b8-772">Adatgyűjtés-mérés és számlázási ügyfelek előfordulhat, hogy határozatlan ideig menteni kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-772">Data gathered for metering and billing customers might need to be saved indefinitely.</span></span> <span data-ttu-id="101b8-773">Emellett szabályozó igények miatt előfordulhat, hogy naplózási és biztonsági okokból gyűjtött információkat is archivált és menteni kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-773">Additionally, regulatory requirements might dictate that information collected for auditing and security purposes also needs to be archived and saved.</span></span> <span data-ttu-id="101b8-774">Ezeket az adatokat is bizalmas, és előfordulhat, hogy a titkosított vagy más módon védett az illetéktelen kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-774">This data is also sensitive and might need to be encrypted or otherwise protected to prevent tampering.</span></span> <span data-ttu-id="101b8-775">A felhasználói jelszavakat és egyéb adatait, amelyik alkalmas lehet véglegesíteni identitás csalás rögzíteni soha nem kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-775">You should never record users' passwords or other information that might be used to commit identity fraud.</span></span> <span data-ttu-id="101b8-776">Ezeket az adatokat az adatokból kell törlődik, mielőtt a rendszer tárolja.</span><span class="sxs-lookup"><span data-stu-id="101b8-776">Such details should be scrubbed from the data before it's stored.</span></span>

#### <a name="down-sampling"></a><span data-ttu-id="101b8-777">*Lefelé-mintavétel*</span><span class="sxs-lookup"><span data-stu-id="101b8-777">*Down-sampling*</span></span>
<span data-ttu-id="101b8-778">Akkor célszerű múltbeli adatok tárolására, hosszú távú trendek ismerhető.</span><span class="sxs-lookup"><span data-stu-id="101b8-778">It's useful to store historical data so you can spot long-term trends.</span></span> <span data-ttu-id="101b8-779">Ahelyett, hogy a régi adatok mentése egészében, esetleg le-minta csökkentése a probléma megoldásához és a tárolási költségek csökkentése az adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-779">Rather than saving old data in its entirety, it might be possible to down-sample the data to reduce its resolution and save storage costs.</span></span> <span data-ttu-id="101b8-780">Tegyük fel helyett mentése perc által percenként teljesítménymutatók, akkor összevonhatja adatokat, amelyek több mint egy hónappal régi ahhoz, hogy az űrlap egy óra órán keresztül nézetben.</span><span class="sxs-lookup"><span data-stu-id="101b8-780">As an example, rather than saving minute-by-minute performance indicators, you can consolidate data that's more than a month old to form an hour-by-hour view.</span></span>

### <a name="best-practices-for-collecting-and-storing-logging-information"></a><span data-ttu-id="101b8-781">Ajánlott eljárások az összegyűjtése és naplózási információk tárolása</span><span class="sxs-lookup"><span data-stu-id="101b8-781">Best practices for collecting and storing logging information</span></span>
<span data-ttu-id="101b8-782">Az alábbi lista a gyakorlati tanácsok a rögzítése és tárolása naplózási információk foglalja össze:</span><span class="sxs-lookup"><span data-stu-id="101b8-782">The following list summarizes best practices for capturing and storing logging information:</span></span>

* <span data-ttu-id="101b8-783">A figyelési ügynök vagy adatgyűjtési szolgáltatás folyamaton-szolgáltatásnak futnia kell, és egyszerű telepítendő kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-783">The monitoring agent or data-collection service should run as an out-of-process service and should be simple to deploy.</span></span>
* <span data-ttu-id="101b8-784">Az összes kimenetét a figyelési ügynök, vagy adatgyűjtés szolgáltatás kell lennie egy független formátum, amely független a gép, az operációs rendszer vagy a hálózati protokoll.</span><span class="sxs-lookup"><span data-stu-id="101b8-784">All output from the monitoring agent or data-collection service should be an agnostic format that's independent of the machine, operating system, or network protocol.</span></span> <span data-ttu-id="101b8-785">Például az adatok egy önálló leíró formátumban, például a JSON-NÁ, MessagePack, vagy Protobuf helyett ETL/ETW létrehozása.</span><span class="sxs-lookup"><span data-stu-id="101b8-785">For example, emit information in a self-describing format such as JSON, MessagePack, or Protobuf rather than ETL/ETW.</span></span> <span data-ttu-id="101b8-786">Egy szabványos formátumban lehetővé teszi, hogy a rendszer feldolgozási folyamatok; összeállításához olvassa el, -átalakítási és -adatokat küldeni a egyeztetett formában összetevőket könnyen integrálható.</span><span class="sxs-lookup"><span data-stu-id="101b8-786">Using a standard format enables the system to construct processing pipelines; components that read, transform, and send data in the agreed format can be easily integrated.</span></span>
* <span data-ttu-id="101b8-787">A figyelés és az adatgyűjtési folyamat hibamentes kell lennie, és nem kell elindítani a kaszkádolt hiba feltételeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-787">The monitoring and data-collection process must be fail-safe and must not trigger any cascading error conditions.</span></span>
* <span data-ttu-id="101b8-788">Az adatokat küld egy adatokat fogadó átmeneti hiba esetén a figyelési ügynök vagy az adatgyűjtés szolgáltatás kell készíteni, hogy a legújabb információk elküldése először a telemetriai adatok sorrendjének módosításához.</span><span class="sxs-lookup"><span data-stu-id="101b8-788">In the event of a transient failure in sending information to a data sink, the monitoring agent or data-collection service should be prepared to reorder telemetry data so that the newest information is sent first.</span></span> <span data-ttu-id="101b8-789">(A figyelési ügynök/adatgyűjtési szolgáltatás előfordulhat, hogy dönthetnek úgy, hogy dobja el a régebbi adatokat, vagy később való szinkronizálásához, saját belátása szerint részére és helyileg menteni.)</span><span class="sxs-lookup"><span data-stu-id="101b8-789">(The monitoring agent/data-collection service might elect to drop the older data, or save it locally and transmit it later to catch up, at its own discretion.)</span></span>

## <a name="analyzing-data-and-diagnosing-issues"></a><span data-ttu-id="101b8-790">Adatok elemzése és a problémák diagnosztizálása</span><span class="sxs-lookup"><span data-stu-id="101b8-790">Analyzing data and diagnosing issues</span></span>
<span data-ttu-id="101b8-791">A figyelés és diagnosztika folyamat fontos részét elemzi az összegyűjtött adatokat a teljes jól lesznek a rendszer kép beszerzése.</span><span class="sxs-lookup"><span data-stu-id="101b8-791">An important part of the monitoring and diagnostics process is analyzing the gathered data to obtain a picture of the overall well-being of the system.</span></span> <span data-ttu-id="101b8-792">A saját KPI-ket és a metrikák kell meghatározta, és fontos, hogy az elemző követelményeknek gyűjtött adatok felépítésének ismertetése.</span><span class="sxs-lookup"><span data-stu-id="101b8-792">You should have defined your own KPIs and performance metrics, and it's important to understand how you can structure the data that has been gathered to meet your analysis requirements.</span></span> <span data-ttu-id="101b8-793">Is fontos tudni, hogyan különböző metrikák és napló-fájlt rögzített az adatok visszamenőleges korrelációban állnak, mert ezek az információk kulcs nyomkövetési események sorozatát kell, és a felmerülő problémák diagnosztizálásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-793">It's also important to understand how the data that's captured in different metrics and log files is correlated, because this information can be key to tracking a sequence of events and help diagnose problems that arise.</span></span>

<span data-ttu-id="101b8-794">A szakaszban leírt módon [WMI-adatok konszolidálása](#consolidating-instrumentation-data), a rendszer részét képező összes adatok általában helyileg rögzített, de általában kell használható együtt más helyeken, amely részt vesz a létrehozott adatok a a rendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-794">As described in the section [Consolidating instrumentation data](#consolidating-instrumentation-data), the data for each part of the system is typically captured locally, but it generally needs to be combined with data generated at other sites that participate in the system.</span></span> <span data-ttu-id="101b8-795">Ezt az információt igényel annak érdekében, hogy pontosan adatok egyesítése gondos korrelációs.</span><span class="sxs-lookup"><span data-stu-id="101b8-795">This information requires careful correlation to ensure that data is combined accurately.</span></span> <span data-ttu-id="101b8-796">A használati adatok művelet például előfordulhat, hogy span a csomópontot, amelyen a webhely, amelyhez a felhasználó csatlakozik, a csomópont egy külön szolgáltatás érhető el ezt a műveletet, és egy másik csomópontjára tárolt adatok tárolási részeként futó.</span><span class="sxs-lookup"><span data-stu-id="101b8-796">For example, the usage data for an operation might span a node that hosts a website to which a user connects, a node that runs a separate service accessed as part of this operation, and data storage held on another node.</span></span> <span data-ttu-id="101b8-797">Ezt az információt kell kötni segítségével adja meg a műveletet az erőforrás- és feldolgozási használati átfogó képet.</span><span class="sxs-lookup"><span data-stu-id="101b8-797">This information needs to be tied together to provide an overall view of the resource and processing usage for the operation.</span></span> <span data-ttu-id="101b8-798">Néhány előzetes feldolgozás és az adatok szűrése akkor fordulhat elő, a csomóponton, amelyen az adatok rögzített, mivel összesítési és formázás fordul központi csomóponton.</span><span class="sxs-lookup"><span data-stu-id="101b8-798">Some pre-processing and filtering of data might occur on the node on which the data is captured, whereas aggregation and formatting are more likely to occur on a central node.</span></span>

<a name="supporting-hot-warm-and-cold-analysis"></a>

### <a name="supporting-hot-warm-and-cold-analysis"></a><span data-ttu-id="101b8-799">Működés közbeni, gyakran és ritkán használt elemzési támogatása</span><span class="sxs-lookup"><span data-stu-id="101b8-799">Supporting hot, warm, and cold analysis</span></span>
<span data-ttu-id="101b8-800">Elemzése és újraformázása a képi megjelenítéshez tartozó adatokat, jelentések és riasztási céljából összetett folyamat lehet, amely a saját erőforrások készletét akkor.</span><span class="sxs-lookup"><span data-stu-id="101b8-800">Analyzing and reformatting data for visualization, reporting, and alerting purposes can be a complex process that consumes its own set of resources.</span></span> <span data-ttu-id="101b8-801">Néhány űrlapok figyelési sürgős és hatékony azonnali adatelemzési igényel.</span><span class="sxs-lookup"><span data-stu-id="101b8-801">Some forms of monitoring are time-critical and require immediate analysis of data to be effective.</span></span> <span data-ttu-id="101b8-802">Ez más néven *elemzés közbeni*.</span><span class="sxs-lookup"><span data-stu-id="101b8-802">This is known as *hot analysis*.</span></span> <span data-ttu-id="101b8-803">Például az elemzések, amelyek szükségesek a riasztás és a biztonsági figyelést (például a rendszer a támadás észlelése) egyes funkcióit.</span><span class="sxs-lookup"><span data-stu-id="101b8-803">Examples include the analyses that are required for alerting and some aspects of security monitoring (such as detecting an attack on the system).</span></span> <span data-ttu-id="101b8-804">Ezekből a célokból szükséges adatok gyors elérhető és a hatékony feldolgozás strukturált kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-804">Data that's required for these purposes must be quickly available and structured for efficient processing.</span></span> <span data-ttu-id="101b8-805">Egyes esetekben szükség lehet áthelyezni az elemzés feldolgozását az egyes csomópontokon, az adatok tárolási helye.</span><span class="sxs-lookup"><span data-stu-id="101b8-805">In some cases, it might be necessary to move the analysis processing to the individual nodes where the data is held.</span></span>

<span data-ttu-id="101b8-806">Elemzés más formáinak kevesebb idő kritikus, és szükség lehet néhány számítási és összesítési után a nyers adatok érkezett.</span><span class="sxs-lookup"><span data-stu-id="101b8-806">Other forms of analysis are less time-critical and might require some computation and aggregation after the raw data has been received.</span></span> <span data-ttu-id="101b8-807">Ez a lehetőség *elemzés mozog*.</span><span class="sxs-lookup"><span data-stu-id="101b8-807">This is called *warm analysis*.</span></span> <span data-ttu-id="101b8-808">Teljesítményelemzés gyakran ebbe a kategóriába tartozik.</span><span class="sxs-lookup"><span data-stu-id="101b8-808">Performance analysis often falls into this category.</span></span> <span data-ttu-id="101b8-809">Ebben az esetben egy elkülönített, egyetlen teljesítményesemény valószínű statisztikailag jelentős.</span><span class="sxs-lookup"><span data-stu-id="101b8-809">In this case, an isolated, single performance event is unlikely to be statistically significant.</span></span> <span data-ttu-id="101b8-810">(Ez oka lehet egy hirtelen csúcs vagy probléma merült.) Az események sorozatát adatait a rendszer alapteljesítményét a megbízhatóbb kép kell biztosítania.</span><span class="sxs-lookup"><span data-stu-id="101b8-810">(It might be caused by a sudden spike or glitch.) The data from a series of events should provide a more reliable picture of system performance.</span></span>

<span data-ttu-id="101b8-811">Meleg analysis is egészségügyi problémák diagnosztizálásához használható.</span><span class="sxs-lookup"><span data-stu-id="101b8-811">Warm analysis can also be used to help diagnose health issues.</span></span> <span data-ttu-id="101b8-812">Olyan állapotesemény általában a gyors elemzés feldolgozása, és azonnal is hoz létre riasztást.</span><span class="sxs-lookup"><span data-stu-id="101b8-812">A health event is typically processed through hot analysis and can raise an alert immediately.</span></span> <span data-ttu-id="101b8-813">Egy olyan operátort kell tudni elemezze mélyebben a állapotesemény okait meleg elérési úton található adatok vizsgálatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-813">An operator should be able to drill into the reasons for the health event by examining the data from the warm path.</span></span> <span data-ttu-id="101b8-814">Ezek az adatok tartalmaznia kell a állapotesemény kiváltó vezettek eseményekkel kapcsolatos információk.</span><span class="sxs-lookup"><span data-stu-id="101b8-814">This data should contain information about the events leading up to the issue that caused the health event.</span></span>

<span data-ttu-id="101b8-815">Néhány felügyeleti típus hozhat létre a hosszabb távú adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-815">Some types of monitoring generate more long-term data.</span></span> <span data-ttu-id="101b8-816">Az elemzés hajtható végre egy későbbi időpontban, valószínűleg egy előre meghatározott ütemezés szerint.</span><span class="sxs-lookup"><span data-stu-id="101b8-816">This analysis can be performed at a later date, possibly according to a predefined schedule.</span></span> <span data-ttu-id="101b8-817">Bizonyos esetekben az elemzés előfordulhat, hogy kell elvégeznie a nagy mennyiségű adat egy meghatározott időtartamra vonatkozóan rögzített összetett szűrést.</span><span class="sxs-lookup"><span data-stu-id="101b8-817">In some cases, the analysis might need to perform complex filtering of large volumes of data captured over a period of time.</span></span> <span data-ttu-id="101b8-818">Ez a lehetőség *cold analysis*.</span><span class="sxs-lookup"><span data-stu-id="101b8-818">This is called *cold analysis*.</span></span> <span data-ttu-id="101b8-819">A kulcs mérete, hogy az adatok tárolási biztonságosan után már megtörtént.</span><span class="sxs-lookup"><span data-stu-id="101b8-819">The key requirement is that the data is stored safely after it has been captured.</span></span> <span data-ttu-id="101b8-820">Például használat, figyelés és naplózás szüksége van a rendszer rendszeres pontokon állapotának pontos képet idő, de az állapotadatokat nem feltétlenül szükséges összegyűjtött lett után azonnal feldolgozásra.</span><span class="sxs-lookup"><span data-stu-id="101b8-820">For example, usage monitoring and auditing require an accurate picture of the state of the system at regular points in time, but this state information does not have to be available for processing immediately after it has been gathered.</span></span>

<span data-ttu-id="101b8-821">Operátor is cold elemzés segítségével adja meg az adatok prediktív állapotelemzésre.</span><span class="sxs-lookup"><span data-stu-id="101b8-821">An operator can also use cold analysis to provide the data for predictive health analysis.</span></span> <span data-ttu-id="101b8-822">Az operátor korábbi összegyűjteni adott időszakon belül, és együtt használja az aktuális egészségügyi adatok (beolvasva a gyakran használt adatok elérési útja) követni a trendeket, amely hamarosan egészségügyi problémákat okozhat.</span><span class="sxs-lookup"><span data-stu-id="101b8-822">The operator can gather historical information over a specified period and use it in conjunction with the current health data (retrieved from the hot path) to spot trends that might soon cause health issues.</span></span> <span data-ttu-id="101b8-823">Ezekben az esetekben szükség lehet a riasztást, hogy a javítási műveletek is lehet képernyőfelvételt készíteni.</span><span class="sxs-lookup"><span data-stu-id="101b8-823">In these cases, it might be necessary to raise an alert so that corrective action can be taken.</span></span>

### <a name="correlating-data"></a><span data-ttu-id="101b8-824">Adatok használatával történik</span><span class="sxs-lookup"><span data-stu-id="101b8-824">Correlating data</span></span>
<span data-ttu-id="101b8-825">Instrumentation rögzíti az adatokat a rendszer állapotáról pillanatképet tud biztosítani, de elemzés célja, hogy az adatok hajtható végre.</span><span class="sxs-lookup"><span data-stu-id="101b8-825">The data that instrumentation captures can provide a snapshot of the system state, but the purpose of analysis is to make this data actionable.</span></span> <span data-ttu-id="101b8-826">Példa:</span><span class="sxs-lookup"><span data-stu-id="101b8-826">For example:</span></span>

* <span data-ttu-id="101b8-827">Mi okozta egy adott időpontban a rendszer szintjén betöltése intenzív i/o?</span><span class="sxs-lookup"><span data-stu-id="101b8-827">What has caused an intense I/O loading at the system level at a specific time?</span></span>
* <span data-ttu-id="101b8-828">Ennyi az adatbázis-műveletek nagy számú eredményét?</span><span class="sxs-lookup"><span data-stu-id="101b8-828">Is it the result of a large number of database operations?</span></span>
* <span data-ttu-id="101b8-829">Ez az adatbázis válaszidőt, a tranzakciók másodpercenkénti száma, és fordítva válaszidőn alkalmazás, az azonos ettõl a pillanattól?</span><span class="sxs-lookup"><span data-stu-id="101b8-829">Is this reflected in the database response times, the number of transactions per second, and application response times at the same juncture?</span></span>

<span data-ttu-id="101b8-830">Ha igen, egy javító műveleteket, lehet, hogy csökkentse a terhelés lehet shard az adatok több kiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="101b8-830">If so, one remedial action that might reduce the load might be to shard the data over more servers.</span></span> <span data-ttu-id="101b8-831">Ezenkívül kivételek felmerülő bármilyen szinten, a rendszer egy hiba miatt.</span><span class="sxs-lookup"><span data-stu-id="101b8-831">In addition, exceptions can arise as a result of a fault in any level of the system.</span></span> <span data-ttu-id="101b8-832">Egy szint a gyakran kivétel a fenti szinten egy másik hibát váltja ki.</span><span class="sxs-lookup"><span data-stu-id="101b8-832">An exception in one level often triggers another fault in the level above.</span></span>

<span data-ttu-id="101b8-833">Ezen okok miatt kell tennie a figyelési adatok, a rendszer és a rajta futó alkalmazások állapotát átfogó képet létrehozásához minden szinten különböző típusú összefüggéseket.</span><span class="sxs-lookup"><span data-stu-id="101b8-833">For these reasons, you need to be able to correlate the different types of monitoring data at each level to produce an overall view of the state of the system and the applications that are running on it.</span></span> <span data-ttu-id="101b8-834">Ezután ezek az információk segítségével döntéseket hozzanak arról, hogy a rendszer akadálytalanul vagy nem működik, és határozza meg, mi a rendszer minőségének végezhető.</span><span class="sxs-lookup"><span data-stu-id="101b8-834">You can then use this information to make decisions about whether the system is functioning acceptably or not, and determine what can be done to improve the quality of the system.</span></span>

<span data-ttu-id="101b8-835">A szakaszban leírt módon [információk használatával történik az adatok](#information-for-correlating-data), győződjön meg arról, hogy a nyers WMI-adatok megfelelő környezet és a tevékenység azonosítója segítő információkat tartalmaz a szükséges összesítések események használatával történik.</span><span class="sxs-lookup"><span data-stu-id="101b8-835">As described in the section [Information for correlating data](#information-for-correlating-data), you must ensure that the raw instrumentation data includes sufficient context and activity ID information to support the required aggregations for correlating events.</span></span> <span data-ttu-id="101b8-836">Ezenkívül ezek az adatok különböző formátumokban lehet tartani, és ezeket az adatokat átalakíthatja elemzéshez szabványos formában elemzése szükség lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-836">Additionally, this data might be held in different formats, and it might be necessary to parse this information to convert it into a standardized format for analysis.</span></span>

### <a name="troubleshooting-and-diagnosing-issues"></a><span data-ttu-id="101b8-837">Hibaelhárítás és a problémák diagnosztizálása</span><span class="sxs-lookup"><span data-stu-id="101b8-837">Troubleshooting and diagnosing issues</span></span>
<span data-ttu-id="101b8-838">A diagnózisához képes hibáit, vagy váratlan viselkedést, beleértve a legfelső szintű OK elemzések végrehajtását okának megállapításához.</span><span class="sxs-lookup"><span data-stu-id="101b8-838">Diagnosis requires the ability to determine the cause of faults or unexpected behavior, including performing root cause analysis.</span></span> <span data-ttu-id="101b8-839">Az információk szükséges általában a következők:</span><span class="sxs-lookup"><span data-stu-id="101b8-839">The information that's required typically includes:</span></span>

* <span data-ttu-id="101b8-840">Részletes információk az eseménynaplóban és nyomkövetésben, vagy a teljes rendszerben, vagy egy megadott időszakban egy adott alrendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-840">Detailed information from event logs and traces, either for the entire system or for a specified subsystem during a specified time window.</span></span>
* <span data-ttu-id="101b8-841">Fejezze be a kivételeket és egy meghatározott időtartamon belül a rendszer vagy egy megadott alrendszer előforduló hibák bármely megadott szint eredő híváslánc megjelenik.</span><span class="sxs-lookup"><span data-stu-id="101b8-841">Complete stack traces resulting from exceptions and faults of any specified level that occur within the system or a specified subsystem during a specified period.</span></span>
* <span data-ttu-id="101b8-842">Összeomlási memóriaképek bármely sikertelen folyamatok bárhol a rendszerben vagy egy megadott alrendszer a megadott időszak alatt történjen.</span><span class="sxs-lookup"><span data-stu-id="101b8-842">Crash dumps for any failed processes either anywhere in the system or for a specified subsystem during a specified time window.</span></span>
* <span data-ttu-id="101b8-843">Tevékenység naplózza a meghatározott időszakon belül minden felhasználó vagy a kijelölt felhasználók elvégzett műveletek rögzítése.</span><span class="sxs-lookup"><span data-stu-id="101b8-843">Activity logs recording the operations that are performed either by all users or for selected users during a specified period.</span></span>

<span data-ttu-id="101b8-844">A rendszer-architektúra és a különböző összetevők állítható össze a megoldás részletes műszaki ismeretének gyakran hibaelhárítási célból adatok elemzése szükséges.</span><span class="sxs-lookup"><span data-stu-id="101b8-844">Analyzing data for troubleshooting purposes often requires a deep technical understanding of the system architecture and the various components that compose the solution.</span></span> <span data-ttu-id="101b8-845">Nagy mértékben a kézi beavatkozás következtében gyakran szükséges értelmezheti az adatokat, az problémák okait, és javítsa ki azokat a megfelelő stratégiát javasoljuk.</span><span class="sxs-lookup"><span data-stu-id="101b8-845">As a result, a large degree of manual intervention is often required to interpret the data, establish the cause of problems, and recommend an appropriate strategy to correct them.</span></span> <span data-ttu-id="101b8-846">Akkor célszerű csupán be ezeket az információkat egy példányát tárolja az eredeti formátumában, és lehetővé teszi egy szakértő cold elemzés céljából.</span><span class="sxs-lookup"><span data-stu-id="101b8-846">It might be appropriate simply to store a copy of this information in its original format and make it available for cold analysis by an expert.</span></span>

## <a name="visualizing-data-and-raising-alerts"></a><span data-ttu-id="101b8-847">Adatok megjelenítése és a riasztás kiadását okozó</span><span class="sxs-lookup"><span data-stu-id="101b8-847">Visualizing data and raising alerts</span></span>
<span data-ttu-id="101b8-848">A felügyeleti rendszer fontos eleme azt a képességet jelent-e az adatok úgy, hogy egy olyan operátort gyorsan ismerhető problémák és a trendeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-848">An important aspect of any monitoring system is the ability to present the data in such a way that an operator can quickly spot any trends or problems.</span></span> <span data-ttu-id="101b8-849">Fontos is gyorsan értesítsen operátor, ha egy jelentős esemény történt, amely képes lehet szükség a figyelmet.</span><span class="sxs-lookup"><span data-stu-id="101b8-849">Also important is the ability to quickly inform an operator if a significant event has occurred that might require attention.</span></span>

<span data-ttu-id="101b8-850">Adatok megjelenítési is igénybe vehet néhány űrlapokat, beleértve a képi megjelenítés irányítópultok, használatával, és jelentéskészítési lehetőségei.</span><span class="sxs-lookup"><span data-stu-id="101b8-850">Data presentation can take several forms, including visualization by using dashboards, alerting, and reporting.</span></span>

### <a name="visualization-by-using-dashboards"></a><span data-ttu-id="101b8-851">Irányítópultok a képi megjelenítés</span><span class="sxs-lookup"><span data-stu-id="101b8-851">Visualization by using dashboards</span></span>
<span data-ttu-id="101b8-852">A leggyakoribb adato módja, így diagramokat, diagramokat vagy valamilyen más ábra sorozataként irányítópulton.</span><span class="sxs-lookup"><span data-stu-id="101b8-852">The most common way to visualize data is to use dashboards that can display information as a series of charts, graphs, or some other illustration.</span></span> <span data-ttu-id="101b8-853">Ezek a tételek is paraméteres, és valamelyik elemzőnek válassza ki a fontos paraméterek (például az adott időszakban) bármely adott helyzetnek képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-853">These items can be parameterized, and an analyst should be able to select the important parameters (such as the time period) for any specific situation.</span></span>

<span data-ttu-id="101b8-854">Irányítópultok is hierarchikusan.</span><span class="sxs-lookup"><span data-stu-id="101b8-854">Dashboards can be organized hierarchically.</span></span> <span data-ttu-id="101b8-855">Legfelső szintű irányítópultok egy átfogó betekintést nyújt a rendszer minden szempontját, de az üzemeltető számára a részletek lebontva.</span><span class="sxs-lookup"><span data-stu-id="101b8-855">Top-level dashboards can give an overall view of each aspect of the system but enable an operator to drill down to the details.</span></span> <span data-ttu-id="101b8-856">Például egy irányítópultot, amely a rendszer a teljes lemez i/o ábrázol lehetővé kell tennie, hogy valamelyik elemzőnek annak megállapítása, hogy egy minden egyes lemez i/o sebességeit megtekintéséhez, vagy pontosabb eszközök fiókja le aránytalanul nagy mennyiségű forgalom.</span><span class="sxs-lookup"><span data-stu-id="101b8-856">For example, a dashboard that depicts the overall disk I/O for the system should allow an analyst to view the I/O rates for each individual disk to ascertain whether one or more specific devices account for a disproportionate volume of traffic.</span></span> <span data-ttu-id="101b8-857">Ideális esetben az irányítópulton is megjelenjen-e kapcsolódó információkat, például az összes kérelem (a felhasználó vagy a tevékenység), hogy az i/o forrása.</span><span class="sxs-lookup"><span data-stu-id="101b8-857">Ideally, the dashboard should also display related information, such as the source of each request (the user or activity) that's generating this I/O.</span></span> <span data-ttu-id="101b8-858">Ez az információ felhasználható annak meghatározásához, hogy (és hogyan) való egyenletesen a terhelés több eszközön, és hogy a rendszer hajtaná végre jobban Ha több eszköz sem lett felvéve.</span><span class="sxs-lookup"><span data-stu-id="101b8-858">This information can then be used to determine whether (and how) to spread the load more evenly across devices, and whether the system would perform better if more devices were added.</span></span>

<span data-ttu-id="101b8-859">Egy irányítópultot is használható a színkódolás vagy valamilyen más vizuális jelek jelzésére értékek rendellenes megjelenő vagy a várt tartományon kívül.</span><span class="sxs-lookup"><span data-stu-id="101b8-859">A dashboard might also use color-coding or some other visual cues to indicate values that appear anomalous or that are outside an expected range.</span></span> <span data-ttu-id="101b8-860">Az előző példa:</span><span class="sxs-lookup"><span data-stu-id="101b8-860">Using the previous example:</span></span>

* <span data-ttu-id="101b8-861">A lemez i/o sebesség mellett, amely hamarosan eléri a maximális kapacitásához hosszabb ideig (gyakran használt adatok lemez) is kiemelten piros.</span><span class="sxs-lookup"><span data-stu-id="101b8-861">A disk with an I/O rate that's approaching its maximum capacity over an extended period (a hot disk) can be highlighted in red.</span></span>
* <span data-ttu-id="101b8-862">A lemez i/o sebesség mellett, amely a rendszeresen rövid időszakokra a maximális korlátját (meleg lemez) sárga színnel is lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-862">A disk with an I/O rate that periodically runs at its maximum limit over short periods (a warm disk) can be highlighted in yellow.</span></span>
* <span data-ttu-id="101b8-863">Olyan lemezzel, amelyet a normál használati tapasztal zöld meg lehet jeleníteni.</span><span class="sxs-lookup"><span data-stu-id="101b8-863">A disk that's exhibiting normal usage can be displayed in green.</span></span>

<span data-ttu-id="101b8-864">Vegye figyelembe, hogy egy irányítópult rendszer hatékonyan működjön, a nyers adatok kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="101b8-864">Note that for a dashboard system to work effectively, it must have the raw data to work with.</span></span> <span data-ttu-id="101b8-865">Ha a saját irányítópult rendszer fejleszt, vagy egy másik szervezet által fejlesztett az irányítópulton, ismernie kell a mely WMI-adatok gyűjtésére, milyen szintű részletességű, és hogyan azt formátumban kell lennie az irányítópult felhasználását.</span><span class="sxs-lookup"><span data-stu-id="101b8-865">If you are building your own dashboard system, or using a dashboard developed by another organization, you must understand which instrumentation data you need to collect, at what levels of granularity, and how it should be formatted for the dashboard to consume.</span></span>

<span data-ttu-id="101b8-866">Egy jó irányítópult nem csak információk jelennek meg, emellett lehetővé teszi egy elemző jelentenek ezt az információt ad hoc kérdésekre.</span><span class="sxs-lookup"><span data-stu-id="101b8-866">A good dashboard does not only display information, it also enables an analyst to pose ad hoc questions about that information.</span></span> <span data-ttu-id="101b8-867">Egyes rendszerek adja meg a felügyeleti eszközök, amelyek operátor ezeket a műveleteket, és áttekintheti az alapul szolgáló adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-867">Some systems provide management tools that an operator can use to perform these tasks and explore the underlying data.</span></span> <span data-ttu-id="101b8-868">Azt is megteheti attól függően, hogy a tárházban, amellyel az adatokat, esetleg adatait közvetlenül, vagy importálnia kell azt eszközök például a Microsoft Excel további elemzéshez és jelentéskészítéshez.</span><span class="sxs-lookup"><span data-stu-id="101b8-868">Alternatively, depending on the repository that's used to hold this information, it might be possible to query this data directly, or import it into tools such as Microsoft Excel for further analysis and reporting.</span></span>

> [!NOTE]
> <span data-ttu-id="101b8-869">Az arra jogosult személyek irányítópultok hozzáférés korlátozására, mivel előfordulhat, hogy üzleti szempontból érzékeny ezt az információt.</span><span class="sxs-lookup"><span data-stu-id="101b8-869">You should restrict access to dashboards to authorized personnel, because this information might be commercially sensitive.</span></span> <span data-ttu-id="101b8-870">Irányítópultok, hogy a felhasználók nem módosíthatják az adatok védelme is kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-870">You should also protect the underlying data for dashboards to prevent users from changing it.</span></span>
> 
> 

### <a name="raising-alerts"></a><span data-ttu-id="101b8-871">Riasztás kiváltása</span><span class="sxs-lookup"><span data-stu-id="101b8-871">Raising alerts</span></span>
<span data-ttu-id="101b8-872">Riasztások a figyelés és a rendszerállapot-adatok elemzése és igénylő jelentős esemény történt észlelésekor értesítés létrehozása során a rendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-872">Alerting is the process of analyzing the monitoring and instrumentation data and generating a notification if a significant event is detected.</span></span>

<span data-ttu-id="101b8-873">Riasztási biztosíthatja, hogy a rendszer továbbra is működik megfelelően, rugalmas és biztonságos.</span><span class="sxs-lookup"><span data-stu-id="101b8-873">Alerting helps ensure that the system remains healthy, responsive, and secure.</span></span> <span data-ttu-id="101b8-874">A rendszer, amely a teljesítményt, rendelkezésre állási és adatvédelmi garanciák teszi a felhasználók számára, ahol módosítania kell az adatokat a azonnal intézkedni fontos része legyen.</span><span class="sxs-lookup"><span data-stu-id="101b8-874">It's an important part of any system that makes performance, availability, and privacy guarantees to the users where the data might need to be acted on immediately.</span></span> <span data-ttu-id="101b8-875">Operátor módosítania kell a riasztást kiváltó esemény értesíti.</span><span class="sxs-lookup"><span data-stu-id="101b8-875">An operator might need to be notified of the event that triggered the alert.</span></span> <span data-ttu-id="101b8-876">Riasztási is használható meghívni a rendszer funkciók, például az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="101b8-876">Alerting can also be used to invoke system functions such as autoscaling.</span></span>

<span data-ttu-id="101b8-877">Riasztási általában attól függ, hogy a következő WMI-adatok:</span><span class="sxs-lookup"><span data-stu-id="101b8-877">Alerting usually depends on the following instrumentation data:</span></span>

* <span data-ttu-id="101b8-878">Biztonsági események.</span><span class="sxs-lookup"><span data-stu-id="101b8-878">Security events.</span></span> <span data-ttu-id="101b8-879">Az eseménynaplók jelzik, amely ismételt hitelesítés és/vagy hitelesítési hibák történnek, a rendszer lehet támadás alatt áll, és operátor tájékoztatni kell.</span><span class="sxs-lookup"><span data-stu-id="101b8-879">If the event logs indicate that repeated authentication and/or authorization failures are occurring, the system might be under attack and an operator should be informed.</span></span>
* <span data-ttu-id="101b8-880">Teljesítménymértékeket.</span><span class="sxs-lookup"><span data-stu-id="101b8-880">Performance metrics.</span></span> <span data-ttu-id="101b8-881">A rendszer gyorsan kell válaszolnia, ha egy adott teljesítmény metrika meghaladja a megadott küszöbértéket.</span><span class="sxs-lookup"><span data-stu-id="101b8-881">The system must quickly respond if a particular performance metric exceeds a specified threshold.</span></span>
* <span data-ttu-id="101b8-882">Rendelkezésre állási adatait.</span><span class="sxs-lookup"><span data-stu-id="101b8-882">Availability information.</span></span> <span data-ttu-id="101b8-883">Ha hibát észlel, gyorsan egy vagy több alrendszereket, vagy egy biztonsági mentési erőforrás feladatátvételt szükség lehet.</span><span class="sxs-lookup"><span data-stu-id="101b8-883">If a fault is detected, it might be necessary to quickly restart one or more subsystems, or fail over to a backup resource.</span></span> <span data-ttu-id="101b8-884">Ismétlődő hibák alrendszernek komoly aggályokat utalhat.</span><span class="sxs-lookup"><span data-stu-id="101b8-884">Repeated faults in a subsystem might indicate more serious concerns.</span></span>

<span data-ttu-id="101b8-885">Operátorok riasztási információkat fordulhat elő, például az e-mailek, személyhívó eszköz, vagy SMS szöveg számos kézbesítési csatornák használatával.</span><span class="sxs-lookup"><span data-stu-id="101b8-885">Operators might receive alert information by using many delivery channels such as email, a pager device, or an SMS text message.</span></span> <span data-ttu-id="101b8-886">Előfordulhat, hogy egy riasztás is utalhat, hogy hogyan kritikus olyan helyzet van.</span><span class="sxs-lookup"><span data-stu-id="101b8-886">An alert might also include an indication of how critical a situation is.</span></span> <span data-ttu-id="101b8-887">Sok riasztási rendszer támogatja az előfizető csoportok, és ugyanabban a csoportban lévő összes operátorok kaphat olyan riasztásokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-887">Many alerting systems support subscriber groups, and all operators who are members of the same group can receive the same set of alerts.</span></span>

<span data-ttu-id="101b8-888">Egy riasztási rendszer testreszabható legyen, és az alapul szolgáló WMI-adatok a megfelelő értéket paraméterként megadható.</span><span class="sxs-lookup"><span data-stu-id="101b8-888">An alerting system should be customizable, and the appropriate values from the underlying instrumentation data can be provided as parameters.</span></span> <span data-ttu-id="101b8-889">Ez a megközelítés lehetővé teszi, hogy az adatok szűrése, és arra utalnak, ezeket a küszöbértékeket vagy érdeklődésére számot tartó értékek kombinációi operátor.</span><span class="sxs-lookup"><span data-stu-id="101b8-889">This approach enables an operator to filter data and focus on those thresholds or combinations of values that are of interest.</span></span> <span data-ttu-id="101b8-890">Vegye figyelembe, hogy bizonyos esetekben a nyers WMI-adatok adható meg a riasztási rendszer.</span><span class="sxs-lookup"><span data-stu-id="101b8-890">Note that in some cases, the raw instrumentation data can be provided to the alerting system.</span></span> <span data-ttu-id="101b8-891">Más helyzetekben akkor célszerű több összesített adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-891">In other situations, it might be more appropriate to supply aggregated data.</span></span> <span data-ttu-id="101b8-892">(Például is kell figyelmeztet, ha egy csomópont a CPU-felhasználást 90 százalékára túllépte az elmúlt 10 perc).</span><span class="sxs-lookup"><span data-stu-id="101b8-892">(For example, an alert can be triggered if the CPU utilization for a node has exceeded 90 percent over the last 10 minutes).</span></span> <span data-ttu-id="101b8-893">A riasztási rendszer megadott adatok is tartalmaznia kell a megfelelő összegzése és a helyi adatokat.</span><span class="sxs-lookup"><span data-stu-id="101b8-893">The details provided to the alerting system should also include any appropriate summary and context information.</span></span> <span data-ttu-id="101b8-894">Ezek az adatok segítségével az esélye, hogy vakriasztások események trip-e a riasztást.</span><span class="sxs-lookup"><span data-stu-id="101b8-894">This data can help reduce the possibility that false-positive events will trip an alert.</span></span>

### <a name="reporting"></a><span data-ttu-id="101b8-895">Jelentéskészítés</span><span class="sxs-lookup"><span data-stu-id="101b8-895">Reporting</span></span>
<span data-ttu-id="101b8-896">Jelentéskészítési használja a rendszer általános áttekintést készítéséhez.</span><span class="sxs-lookup"><span data-stu-id="101b8-896">Reporting is used to generate an overall view of the system.</span></span> <span data-ttu-id="101b8-897">Akkor lehet, hogy tartalmaznia előzményadatokat aktuális információk mellett.</span><span class="sxs-lookup"><span data-stu-id="101b8-897">It might incorporate historical data in addition to current information.</span></span> <span data-ttu-id="101b8-898">Jelentéskészítési követelmények maguk két nagyobb kategóriába tartoznak: működési jelentése és a biztonsági jelentés.</span><span class="sxs-lookup"><span data-stu-id="101b8-898">Reporting requirements themselves fall into two broad categories: operational reporting and security reporting.</span></span>

<span data-ttu-id="101b8-899">Működési jelentése többek között a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="101b8-899">Operational reporting typically includes the following aspects:</span></span>

* <span data-ttu-id="101b8-900">Statisztikai adatokat tartalmaz, használatával megérthetik, hogy a megadott időszak alatt a rendszer általános vagy megadott alrendszereket erőforrás-használat összesítése</span><span class="sxs-lookup"><span data-stu-id="101b8-900">Aggregating statistics that you can use to understand resource utilization of the overall system or specified subsystems during a specified time window</span></span>
* <span data-ttu-id="101b8-901">Az erőforrás-felhasználás a rendszer általános vagy megadott alrendszereket trendek azonosításához egy megadott időszakban</span><span class="sxs-lookup"><span data-stu-id="101b8-901">Identifying trends in resource usage for the overall system or specified subsystems during a specified period</span></span>
* <span data-ttu-id="101b8-902">A kivétel történt a rendszerben vagy a megadott alrendszereket meghatározott időszakon belül figyelése</span><span class="sxs-lookup"><span data-stu-id="101b8-902">Monitoring the exceptions that have occurred throughout the system or in specified subsystems during a specified period</span></span>
* <span data-ttu-id="101b8-903">Az alkalmazás szempontjából a telepített erőforrások hatékonyságának meghatározása, és az ismertetése, hogy erőforrások mennyisége (és azok kapcsolódó költségét) anélkül, hogy befolyásolná a teljesítmény feleslegesen csökkenthető</span><span class="sxs-lookup"><span data-stu-id="101b8-903">Determining the efficiency of the application in terms of the deployed resources, and understanding whether the volume of resources (and their associated cost) can be reduced without affecting performance unnecessarily</span></span>

<span data-ttu-id="101b8-904">Biztonsági reporting aggasztanak nyomon követése az ügyfelek használatára.</span><span class="sxs-lookup"><span data-stu-id="101b8-904">Security reporting is concerned with tracking customers' use of the system.</span></span> <span data-ttu-id="101b8-905">Ez az alábbiakból állhat:</span><span class="sxs-lookup"><span data-stu-id="101b8-905">It can include:</span></span>

* <span data-ttu-id="101b8-906">A naplózás felhasználói műveletek.</span><span class="sxs-lookup"><span data-stu-id="101b8-906">Auditing user operations.</span></span> <span data-ttu-id="101b8-907">Ehhez az egyes kérelmeket a minden felhasználó hajtja végre, és a dátum és idő rögzítése.</span><span class="sxs-lookup"><span data-stu-id="101b8-907">This requires recording the individual requests that each user performs, together with dates and times.</span></span> <span data-ttu-id="101b8-908">A adatszerkezet ahhoz, hogy a rendszergazda gyorsan hozza létre újból a felhasználó végző adott időszakon belül műveletek sorrendjét.</span><span class="sxs-lookup"><span data-stu-id="101b8-908">The data should be structured to enable an administrator to quickly reconstruct the sequence of operations that a user performs over a specified period.</span></span>
* <span data-ttu-id="101b8-909">Felhasználó követési erőforrás használja.</span><span class="sxs-lookup"><span data-stu-id="101b8-909">Tracking resource use by user.</span></span> <span data-ttu-id="101b8-910">Ehhez a rögzítés hogyan kér egy felhasználó hozzáfér a különböző erőforrások, a rendszer alkotó, valamint arról, hogyan hosszú.</span><span class="sxs-lookup"><span data-stu-id="101b8-910">This requires recording how each request for a user accesses the various resources that compose the system, and for how long.</span></span> <span data-ttu-id="101b8-911">A rendszergazda felhasználó kihasználtsági jelentés készítése egy adott időszakban, valószínűleg számlázási okokból használhatja ezeket az adatokat kell lennie.</span><span class="sxs-lookup"><span data-stu-id="101b8-911">An administrator must be able to use this data to generate a utilization report by user over a specified period, possibly for billing purposes.</span></span>

<span data-ttu-id="101b8-912">Sok esetben kötegelt folyamatok jelentéskészítés meghatározott ütemezés szerint.</span><span class="sxs-lookup"><span data-stu-id="101b8-912">In many cases, batch processes can generate reports according to a defined schedule.</span></span> <span data-ttu-id="101b8-913">(Késés általában nem kapcsolatos problémát.) De ezek is elérhetőnek kell lenniük generációs eseti alapon szükség esetén.</span><span class="sxs-lookup"><span data-stu-id="101b8-913">(Latency is not normally an issue.) But they should also be available for generation on an ad hoc basis if needed.</span></span> <span data-ttu-id="101b8-914">Tegyük fel Ha egy relációs adatbázisban, például az Azure SQL Database adatokat tároló segítségével olyan eszköz, például az SQL Server Reporting Services kinyerése és adatok formázása és jelenthet, mint a jelentések.</span><span class="sxs-lookup"><span data-stu-id="101b8-914">As an example, if you are storing data in a relational database such as Azure SQL Database, you can use a tool such as SQL Server Reporting Services to extract and format data and present it as a set of reports.</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="101b8-915">Útmutató és a kapcsolódó minták</span><span class="sxs-lookup"><span data-stu-id="101b8-915">Related patterns and guidance</span></span>
* <span data-ttu-id="101b8-916">[Automatikus skálázás útmutatást](../best-practices/auto-scaling.md) ismerteti, hogyan lehet felügyeleti terhelés csökkentése így a folyamatosan figyelje a rendszer teljesítményét és megalapozott döntéseket hozzáadásával vagy eltávolításával erőforrások az operátor.</span><span class="sxs-lookup"><span data-stu-id="101b8-916">[Autoscaling guidance](../best-practices/auto-scaling.md) describes how to decrease management overhead by reducing the need for an operator to continually monitor the performance of a system and make decisions about adding or removing resources.</span></span>
* <span data-ttu-id="101b8-917">[Állapotfigyelő végpont figyelési mintát](https://msdn.microsoft.com/library/dn589789.aspx) ismerteti, hogyan lehet olyan alkalmazás, amely a külső eszközök rendszeres időközönként kitett végpontok keresztül elérhető funkcionális ellenőrzés végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="101b8-917">[Health Endpoint Monitoring Pattern](https://msdn.microsoft.com/library/dn589789.aspx) describes how to implement functional checks within an application that external tools can access through exposed endpoints at regular intervals.</span></span>
* <span data-ttu-id="101b8-918">[Prioritás várólista mintát](https://msdn.microsoft.com/library/dn589794.aspx) bemutatja, hogyan várólistára helyezett üzenetek rangsorolására, hogy a sürgős kérelmek fogadásának és feldolgozhatók üzenetfejléceket üzenetek előtt.</span><span class="sxs-lookup"><span data-stu-id="101b8-918">[Priority Queue Pattern](https://msdn.microsoft.com/library/dn589794.aspx) shows how to prioritize queued messages so that urgent requests are received and can be processed before less urgent messages.</span></span>

## <a name="more-information"></a><span data-ttu-id="101b8-919">További információ</span><span class="sxs-lookup"><span data-stu-id="101b8-919">More information</span></span>
* [<span data-ttu-id="101b8-920">Figyelése, diagnosztizálása és elhárítása a Microsoft Azure tárolás</span><span class="sxs-lookup"><span data-stu-id="101b8-920">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](/azure/storage/storage-monitoring-diagnosing-troubleshooting)
* [<span data-ttu-id="101b8-921">Azure: Telemetriai alapjai és hibaelhárítás</span><span class="sxs-lookup"><span data-stu-id="101b8-921">Azure: Telemetry Basics and Troubleshooting</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/18146.windows-azure-telemetry-basics-and-troubleshooting.aspx)
* [<span data-ttu-id="101b8-922">Azure Cloud Services és a virtuális gépek diagnosztika engedélyezése</span><span class="sxs-lookup"><span data-stu-id="101b8-922">Enabling Diagnostics in Azure Cloud Services and Virtual Machines</span></span>](/azure/cloud-services/cloud-services-dotnet-diagnostics)
* <span data-ttu-id="101b8-923">[Azure Redis gyorsítótár](https://azure.microsoft.com/services/cache/), [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/), és [HDInsight](https://azure.microsoft.com/services/hdinsight/)</span><span class="sxs-lookup"><span data-stu-id="101b8-923">[Azure Redis Cache](https://azure.microsoft.com/services/cache/), [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/), and [HDInsight](https://azure.microsoft.com/services/hdinsight/)</span></span>
* [<span data-ttu-id="101b8-924">A Service Bus-üzenetsorok használata</span><span class="sxs-lookup"><span data-stu-id="101b8-924">How to use Service Bus queues</span></span>](/azure/service-bus-messaging/service-bus-dotnet-get-started-with-queues)
* [<span data-ttu-id="101b8-925">SQL Server üzleti intelligencia Azure virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="101b8-925">SQL Server business intelligence in Azure Virtual Machines</span></span>](/azure/virtual-machines/windows/sqlclassic/virtual-machines-windows-classic-ps-sql-bi)
* <span data-ttu-id="101b8-926">[Riasztási értesítéseket](/azure/monitoring-and-diagnostics/insights-receive-alert-notifications) és [nyomon követése szolgáltatásának állapota](/azure/monitoring-and-diagnostics/insights-service-health)</span><span class="sxs-lookup"><span data-stu-id="101b8-926">[Receive alert notifications](/azure/monitoring-and-diagnostics/insights-receive-alert-notifications) and [Track service health](/azure/monitoring-and-diagnostics/insights-service-health)</span></span>
* [<span data-ttu-id="101b8-927">Application Insights</span><span class="sxs-lookup"><span data-stu-id="101b8-927">Application Insights</span></span>](/azure/application-insights/app-insights-overview)

