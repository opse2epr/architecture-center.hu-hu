---
title: "Content Delivery Network útmutató"
description: "Útmutatás a Content Delivery Network (CDN) Azure-ban üzemeltetett nagy sávszélesség-tartalom."
author: dragon119
ms.date: 09/30/2016
pnp.series.title: Best Practices
ms.openlocfilehash: 94036c803552d5e7061f99e6dd0ca9e563a32690
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 11/14/2017
---
# <a name="content-delivery-network"></a><span data-ttu-id="76c8e-103">Content Delivery Network</span><span class="sxs-lookup"><span data-stu-id="76c8e-103">Content Delivery Network</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="76c8e-104">A Microsoft Azure tartalom Delivery Network (CDN) az Azure vagy bármely más helyen tárolt tartalmak nagy sávszélességű kézbesítéséhez globális megoldást kínál a fejlesztők.</span><span class="sxs-lookup"><span data-stu-id="76c8e-104">The Microsoft Azure Content Delivery Network (CDN) offers developers a global solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="76c8e-105">CDN használatával gyorsítótárazhatja a nyilvánosan elérhető objektumok betöltődnek az Azure blob Storage tárolóban, webalkalmazás, virtuális gép, alkalmazásmappa vagy más HTTP/HTTPS-hely.</span><span class="sxs-lookup"><span data-stu-id="76c8e-105">Using the CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, application folder, or other HTTP/HTTPS location.</span></span> <span data-ttu-id="76c8e-106">A CDN-gyorsítótár stratégiai helyét adja meg a maximális sávszélesség kézbesíteni a tartalmakat a felhasználók is kell tartani.</span><span class="sxs-lookup"><span data-stu-id="76c8e-106">The CDN cache can be held at strategic locations to provide maximum bandwidth for delivering content to users.</span></span> <span data-ttu-id="76c8e-107">A CDN tipikus felhasználási területe a statikus tartalmak, képek, stíluslapok, dokumentumok, fájlok, az ügyféloldali parancsprogramok és HTML-lapok például kézbesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="76c8e-107">The CDN is typically used for delivering static content such as images, style sheets, documents, files, client-side scripts, and HTML pages.</span></span>

<span data-ttu-id="76c8e-108">Akkor is használható a CDN a gyorsítótár a dinamikus tartalom, például a PDF-jelentés vagy a diagramon a megadott bemeneti adatok; alapján Ha a különböző felhasználók által biztosított az ugyanazon bemeneti értékeket az eredmény a azonosnak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="76c8e-108">You can also use the CDN as a cache for serving dynamic content, such as a PDF report or graph based on specified inputs; if the same input values are provided by different users the result should be the same.</span></span>

<span data-ttu-id="76c8e-109">A CDN használatával főbb előnyei a következők: kisebb késést biztosít, és a felhasználók számára, függetlenül a földrajzi hely viszonyítva az adatközpontban Ha az alkalmazás üzemel tartalom gyorsabb kézbesítését.</span><span class="sxs-lookup"><span data-stu-id="76c8e-109">The major advantages of using the CDN are lower latency and faster delivery of content to users irrespective of their geographical location in relation to the datacenter where the application is hosted.</span></span>  

![CDN-diagramja](./images/cdn/CDN.png)

<span data-ttu-id="76c8e-111">A CDN-t használó alkalmazás terhelésének csökkentésére, mert szükséges eléréséhez, és a tartalom feldolgozása mentesített is segítségül szolgálhat.</span><span class="sxs-lookup"><span data-stu-id="76c8e-111">Using the CDN should also help to reduce the load on application because it is relieved of the processing required to access and deliver the content.</span></span> <span data-ttu-id="76c8e-112">A terhelés csökkenése segítségével növelése teljesítményét és méretezhetőségét, az alkalmazás, valamint csökkenti a teljesítményt és rendelkezésre állást valamilyen konkrét szintje eléréséhez szükséges egyéb feldolgozási erőforrás üzemeltetési költségek minimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="76c8e-112">This reduction in load can help to increase the performance and scalability of the application, as well as minimizing hosting costs by reducing the processing resources required to achieve a specific level of performance and availability.</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="76c8e-113">Miért és hogyan lehet a CDN használata</span><span class="sxs-lookup"><span data-stu-id="76c8e-113">How and why a CDN is used</span></span>
<span data-ttu-id="76c8e-114">A CDN a jellemző használati többek között:</span><span class="sxs-lookup"><span data-stu-id="76c8e-114">Typical uses for a CDN include:</span></span>  

* <span data-ttu-id="76c8e-115">Az ügyfélalkalmazások, gyakran egy webhelyről statikus erőforrások kézbesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="76c8e-115">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="76c8e-116">Ezeket az erőforrásokat lehet képek, stíluslapok, dokumentumok, fájlok, ügyféloldali parancsfájlokat, HTML-oldalaihoz, HTML-töredék vagy bármely más, a kiszolgáló nem kell módosítani az egyes kérelmek tartalmat.</span><span class="sxs-lookup"><span data-stu-id="76c8e-116">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="76c8e-117">Az alkalmazás létrehozása az elemek futási időben, és elérhetővé teszi azokat a CDN (például a jelenlegi híreket egy Alkalmazáslista létrehozásával), de azt nem az egyes kérelmek.</span><span class="sxs-lookup"><span data-stu-id="76c8e-117">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>
* <span data-ttu-id="76c8e-118">Az eszközök, például mobiltelefon és táblagép nyilvános statikus és megosztott tartalom továbbítása.</span><span class="sxs-lookup"><span data-stu-id="76c8e-118">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="76c8e-119">Magának az alkalmazásnak egy webszolgáltatás, amelyet az API-k kínál az ügyfelek számára a különböző eszközökön futó.</span><span class="sxs-lookup"><span data-stu-id="76c8e-119">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="76c8e-120">A CDN-t is biztosíthat statikus adatkészletek (webszolgáltatás) keresztül az ügyfelek számára, lehet, hogy az ügyfél felhasználói felületének létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="76c8e-120">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="76c8e-121">Például a CDN használatával terjesztheti a JSON- vagy XML-dokumentumot.</span><span class="sxs-lookup"><span data-stu-id="76c8e-121">For example, the CDN could be used to distribute JSON or XML documents.</span></span>
* <span data-ttu-id="76c8e-122">A számítási erőforrásokat szolgál teljes webhelyeket, amelyeket csak nyilvános statikus tartalom az ügyfelek számára, anélkül, hogy a dedikált állnak.</span><span class="sxs-lookup"><span data-stu-id="76c8e-122">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>
* <span data-ttu-id="76c8e-123">Adatfolyam-továbbítási videofájlok az ügyfélnek az igény szerinti.</span><span class="sxs-lookup"><span data-stu-id="76c8e-123">Streaming video files to the client on demand.</span></span> <span data-ttu-id="76c8e-124">Videó számos előnyt biztosít az alacsony késéssel és elérhető az globálisan található adatközpontokban, amelyek CDN kapcsolatot létesíteni a megbízható kapcsolatot.</span><span class="sxs-lookup"><span data-stu-id="76c8e-124">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="76c8e-125">A Microsoft Azure Media Services (AMS) továbbítanak tartalmat a CDN későbbi terjesztés közvetlenül az Azure CDN integrálható.</span><span class="sxs-lookup"><span data-stu-id="76c8e-125">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="76c8e-126">További információkért lásd: [Streaming végpontok áttekintése](/azure/media-services/media-services-streaming-endpoints-overview).</span><span class="sxs-lookup"><span data-stu-id="76c8e-126">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>
* <span data-ttu-id="76c8e-127">A felhasználói élmény a felhasználók számára, különösen az adatközpontban, az alkalmazást futtató távol található általában javítása.</span><span class="sxs-lookup"><span data-stu-id="76c8e-127">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="76c8e-128">Ezek a felhasználók más módon csökkenhet, nagyobb késleltetéssel járhat.</span><span class="sxs-lookup"><span data-stu-id="76c8e-128">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="76c8e-129">Egy webes alkalmazás a tartalom teljes mérete nagy részét gyakran statikus, és a CDN használata segíthet fenntartásához, teljesítmény és általános felhasználói élmény, így kiküszöböli a követelmény több adatközpontokban az alkalmazás központi telepítése során.</span><span class="sxs-lookup"><span data-stu-id="76c8e-129">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span>
* <span data-ttu-id="76c8e-130">(Az eszközök internetes hálózatát) az IoT-megoldások támogató alkalmazások a növekvő terhelés kezelésére.</span><span class="sxs-lookup"><span data-stu-id="76c8e-130">Handling the growing load on applications that support IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="76c8e-131">Az ilyen eszközök és az érintett készülékek hatalmas mennyiségű sikerült könnyen ne terhelje tovább az alkalmazás Ha kellett szórási üzenetek feldolgozásához, és a belső vezérlőprogram frissítési terjesztési közvetlenül az egyes eszközök kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="76c8e-131">The huge numbers of such devices and appliances involved could easily overwhelm an application if it was required to process broadcast messages and manage firmware update distribution directly to each device.</span></span>
* <span data-ttu-id="76c8e-132">Másolás csúcsait és emelkedéseit anélkül, hogy a skálázandó alkalmazás igény, elkerülve a csatlakozása következtében nőtt fenntartási költségeihez.</span><span class="sxs-lookup"><span data-stu-id="76c8e-132">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="76c8e-133">Például amikor az operációs rendszer frissítése a hardveres eszköz, például egy adott modell útválasztó, vagy a felhasználói eszköz, például egy intelligens TV megjelenik, lesz hatalmas csúcs igény szerint a felhasználók és eszközök millióira által rövid idő alatt letöltés.</span><span class="sxs-lookup"><span data-stu-id="76c8e-133">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

<span data-ttu-id="76c8e-134">Az alábbi listában láthatók példák a Közepes idő az első bájtig eltelt különböző földrajzi helyekről.</span><span class="sxs-lookup"><span data-stu-id="76c8e-134">The following list shows examples of the median time to first byte from various geographic locations.</span></span> <span data-ttu-id="76c8e-135">A cél webes szerepkör a rendszer Azure nyugati Velünk.</span><span class="sxs-lookup"><span data-stu-id="76c8e-135">The target web role is deployed to Azure West US.</span></span> <span data-ttu-id="76c8e-136">Egy erős korrelációs nagyobb program miatt a CDN és a CDN csomóponthoz közelségi kapcsolat között van.</span><span class="sxs-lookup"><span data-stu-id="76c8e-136">There is a strong correlation between greater boost due to the CDN and proximity to a CDN node.</span></span> <span data-ttu-id="76c8e-137">Azure CDN-csomóponti helyek teljes listája megtalálható [Azure Content Delivery Network (CDN) csomóponti helyek](/azure/cdn/cdn-pop-locations/).</span><span class="sxs-lookup"><span data-stu-id="76c8e-137">A complete list of Azure CDN node locations is available at [Azure Content Delivery Network (CDN) Node Locations](/azure/cdn/cdn-pop-locations/).</span></span>

|  | <span data-ttu-id="76c8e-138">(Forrás) első bájtig eltelt ideje (ms)</span><span class="sxs-lookup"><span data-stu-id="76c8e-138">Time (ms) to First Byte (Origin)</span></span> | <span data-ttu-id="76c8e-139">Idő (ms), első (CDN)</span><span class="sxs-lookup"><span data-stu-id="76c8e-139">Time (ms) to First (CDN)</span></span> | <span data-ttu-id="76c8e-140">% CDN idő fokozása</span><span class="sxs-lookup"><span data-stu-id="76c8e-140">%CDN time improvement</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="76c8e-141">\*San Jose, CA</span><span class="sxs-lookup"><span data-stu-id="76c8e-141">\*San Jose, CA</span></span> |<span data-ttu-id="76c8e-142">47.5</span><span class="sxs-lookup"><span data-stu-id="76c8e-142">47.5</span></span> |<span data-ttu-id="76c8e-143">46.5</span><span class="sxs-lookup"><span data-stu-id="76c8e-143">46.5</span></span> |<span data-ttu-id="76c8e-144">2%</span><span class="sxs-lookup"><span data-stu-id="76c8e-144">2%</span></span> |
| <span data-ttu-id="76c8e-145">\*\*Dulles, VA</span><span class="sxs-lookup"><span data-stu-id="76c8e-145">\*\*Dulles, VA</span></span> |<span data-ttu-id="76c8e-146">109</span><span class="sxs-lookup"><span data-stu-id="76c8e-146">109</span></span> |<span data-ttu-id="76c8e-147">40.5</span><span class="sxs-lookup"><span data-stu-id="76c8e-147">40.5</span></span> |<span data-ttu-id="76c8e-148">169%</span><span class="sxs-lookup"><span data-stu-id="76c8e-148">169%</span></span> |
| <span data-ttu-id="76c8e-149">Buenos Aires, AR</span><span class="sxs-lookup"><span data-stu-id="76c8e-149">Buenos Aires, AR</span></span> |<span data-ttu-id="76c8e-150">210</span><span class="sxs-lookup"><span data-stu-id="76c8e-150">210</span></span> |<span data-ttu-id="76c8e-151">151</span><span class="sxs-lookup"><span data-stu-id="76c8e-151">151</span></span> |<span data-ttu-id="76c8e-152">39%</span><span class="sxs-lookup"><span data-stu-id="76c8e-152">39%</span></span> |
| <span data-ttu-id="76c8e-153">\*Londoni, UK</span><span class="sxs-lookup"><span data-stu-id="76c8e-153">\*London, UK</span></span> |<span data-ttu-id="76c8e-154">195</span><span class="sxs-lookup"><span data-stu-id="76c8e-154">195</span></span> |<span data-ttu-id="76c8e-155">44</span><span class="sxs-lookup"><span data-stu-id="76c8e-155">44</span></span> |<span data-ttu-id="76c8e-156">343%</span><span class="sxs-lookup"><span data-stu-id="76c8e-156">343%</span></span> |
| <span data-ttu-id="76c8e-157">Shanghai, CN</span><span class="sxs-lookup"><span data-stu-id="76c8e-157">Shanghai, CN</span></span> |<span data-ttu-id="76c8e-158">242</span><span class="sxs-lookup"><span data-stu-id="76c8e-158">242</span></span> |<span data-ttu-id="76c8e-159">206</span><span class="sxs-lookup"><span data-stu-id="76c8e-159">206</span></span> |<span data-ttu-id="76c8e-160">17%</span><span class="sxs-lookup"><span data-stu-id="76c8e-160">17%</span></span> |
| <span data-ttu-id="76c8e-161">\*Szingapúr</span><span class="sxs-lookup"><span data-stu-id="76c8e-161">\*Singapore</span></span> |<span data-ttu-id="76c8e-162">214</span><span class="sxs-lookup"><span data-stu-id="76c8e-162">214</span></span> |<span data-ttu-id="76c8e-163">74</span><span class="sxs-lookup"><span data-stu-id="76c8e-163">74</span></span> |<span data-ttu-id="76c8e-164">189%</span><span class="sxs-lookup"><span data-stu-id="76c8e-164">189%</span></span> |
| <span data-ttu-id="76c8e-165">\*Tokió, JP</span><span class="sxs-lookup"><span data-stu-id="76c8e-165">\*Tokyo, JP</span></span> |<span data-ttu-id="76c8e-166">163</span><span class="sxs-lookup"><span data-stu-id="76c8e-166">163</span></span> |<span data-ttu-id="76c8e-167">48</span><span class="sxs-lookup"><span data-stu-id="76c8e-167">48</span></span> |<span data-ttu-id="76c8e-168">204%</span><span class="sxs-lookup"><span data-stu-id="76c8e-168">204%</span></span> |
| <span data-ttu-id="76c8e-169">Szöul, KR</span><span class="sxs-lookup"><span data-stu-id="76c8e-169">Seoul, KR</span></span> |<span data-ttu-id="76c8e-170">190</span><span class="sxs-lookup"><span data-stu-id="76c8e-170">190</span></span> |<span data-ttu-id="76c8e-171">190</span><span class="sxs-lookup"><span data-stu-id="76c8e-171">190</span></span> |<span data-ttu-id="76c8e-172">0%</span><span class="sxs-lookup"><span data-stu-id="76c8e-172">0%</span></span> |

<span data-ttu-id="76c8e-173">\*Az Azure CDN csomóponttal rendelkező ugyanabban a városban.</span><span class="sxs-lookup"><span data-stu-id="76c8e-173">\* Has an Azure CDN node in the same city.</span></span>  
<span data-ttu-id="76c8e-174">\*\*Az Azure CDN csomóponttal rendelkező szomszédos városban.</span><span class="sxs-lookup"><span data-stu-id="76c8e-174">\*\* Has an Azure CDN node in a neighboring city.</span></span>  

## <a name="challenges"></a><span data-ttu-id="76c8e-175">Kihívásai</span><span class="sxs-lookup"><span data-stu-id="76c8e-175">Challenges</span></span>
<span data-ttu-id="76c8e-176">Figyelembe kell venni a CDN használata tervezése során több akadályok merülnek fel:</span><span class="sxs-lookup"><span data-stu-id="76c8e-176">There are several challenges to take into account when planning to use the CDN:</span></span>  

* <span data-ttu-id="76c8e-177">**Központi telepítési**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-177">**Deployment**.</span></span> <span data-ttu-id="76c8e-178">Döntse el, a forrás, ahol a CDN lekéri a tartalmat, és hogy mikor szükséges központi telepítése a tartalom több tároló rendszerrel (például a CDN és a másik helyet).</span><span class="sxs-lookup"><span data-stu-id="76c8e-178">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system (such as in the CDN and an alternative location).</span></span>

  <span data-ttu-id="76c8e-179">Az alkalmazástelepítési mechanizmussal statikus tartalomra és az erőforrások telepítése, valamint a központi telepítése az alkalmazásfájlok, például a ASPX lapok folyamat során figyelembe kell venni.</span><span class="sxs-lookup"><span data-stu-id="76c8e-179">Your application deployment mechanism must take into account the process for deploying static content and resources as well as deploying the application files, such as ASPX pages.</span></span> <span data-ttu-id="76c8e-180">Szükség lehet például egy külön megoldás a tartalom betöltése az Azure blob Storage tárolóban.</span><span class="sxs-lookup"><span data-stu-id="76c8e-180">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>
* <span data-ttu-id="76c8e-181">**Verziókövetés és a cache-control**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-181">**Versioning and cache-control**.</span></span> <span data-ttu-id="76c8e-182">Vegye figyelembe, hogyan fogja frissíteni a statikus tartalom, és új verziók helyezhetők üzembe.</span><span class="sxs-lookup"><span data-stu-id="76c8e-182">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="76c8e-183">Lehet, hogy a CDN-tartalom [kiürítve](/azure/cdn/cdn-purge-endpoint/) az Azure portál használatával, ha az eszközök új verziói érhetők el.</span><span class="sxs-lookup"><span data-stu-id="76c8e-183">The CDN content may be [purged](/azure/cdn/cdn-purge-endpoint/) using the Azure portal when new versions of your assets are available.</span></span> <span data-ttu-id="76c8e-184">Ez hasonló bizonyulhat kezelésének ügyféloldali gyorsítótárazás, például, amely egy webböngészőben következik be.</span><span class="sxs-lookup"><span data-stu-id="76c8e-184">This is a similar challenge to managing client-side caching, such as that which occurs in a web browser.</span></span>
* <span data-ttu-id="76c8e-185">**Tesztelési**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-185">**Testing**.</span></span> <span data-ttu-id="76c8e-186">A CDN-beállításokat, ha a fejlesztés és tesztelés az alkalmazás helyileg vagy tesztelési környezetben helyi teszteléséhez nehézkes lehet.</span><span class="sxs-lookup"><span data-stu-id="76c8e-186">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>
* <span data-ttu-id="76c8e-187">**Keresés motor optimalizálási (keresőmotor-Optimalizáláshoz)**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-187">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="76c8e-188">Tartalom, például a képeket és a dokumentumok szolgáltatott más tartományokból a CDN használatakor.</span><span class="sxs-lookup"><span data-stu-id="76c8e-188">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="76c8e-189">Ez lehet hatással a keresőmotor-Optimalizáláshoz ehhez a tartalomhoz.</span><span class="sxs-lookup"><span data-stu-id="76c8e-189">This can have an effect on SEO for this content.</span></span>
* <span data-ttu-id="76c8e-190">**Tartalom biztonsági**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-190">**Content security**.</span></span> <span data-ttu-id="76c8e-191">Például az Azure CDN számos CDN szolgáltatás jelenleg nem képes bármilyen típusú hozzáférés-vezérlés a tartalomhoz.</span><span class="sxs-lookup"><span data-stu-id="76c8e-191">Many CDN services such as Azure CDN do not currently offer any type of access control for the content.</span></span>
* <span data-ttu-id="76c8e-192">**Ügyfél biztonsági**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-192">**Client security**.</span></span> <span data-ttu-id="76c8e-193">Az ügyfelek kapcsolódását az olyan környezetben, amely nem teszi lehetővé az erőforrásokhoz való hozzáférést a CDN a.</span><span class="sxs-lookup"><span data-stu-id="76c8e-193">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="76c8e-194">Ennek oka lehet egy korlátozott biztonsági környezetben, amely korlátozza a hozzáférést csak ismert források, vagy egy, az erőforrások lapon eredeti csakis a betöltését.</span><span class="sxs-lookup"><span data-stu-id="76c8e-194">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="76c8e-195">A tartalék megvalósításához szükség van kezelik az ilyen eseteket.</span><span class="sxs-lookup"><span data-stu-id="76c8e-195">A fallback implementation is required to handle these cases.</span></span>
* <span data-ttu-id="76c8e-196">**Rugalmasság**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-196">**Resilience**.</span></span> <span data-ttu-id="76c8e-197">A CDN egy potenciális hibaérzékeny pontot az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="76c8e-197">The CDN is a potential single point of failure for an application.</span></span> <span data-ttu-id="76c8e-198">Egy alacsonyabb rendelkezésre állási SLA-t, mint a blob-tároló (amely használható a tartalmat közvetlenül továbbít) úgy van szükség lehet egy tartalék mechanizmus kritikus tartalom vegye fontolóra.</span><span class="sxs-lookup"><span data-stu-id="76c8e-198">It has a lower availability SLA than blob storage (which can be used to deliver content directly) so you may need to consider implementing a fallback mechanism for critical content.</span></span>

  <span data-ttu-id="76c8e-199">Figyelheti a CDN-tartalom hozzáférhetőségét, a sávszélesség, az átvitt adatok, a találatok, a gyorsítótár találati arány és gyorsítótár metrikák az Azure-portálról [valós idejű](/azure/cdn/cdn-real-time-stats/) és [összesítő jelentések](/azure/cdn/cdn-analyze-usage-patterns/).</span><span class="sxs-lookup"><span data-stu-id="76c8e-199">You can monitor your CDN content availability, bandwidth, data transferred, hits, cache hit ratio, and cache metrics from the Azure portal in [real-time](/azure/cdn/cdn-real-time-stats/) and [aggregate reports](/azure/cdn/cdn-analyze-usage-patterns/).</span></span>

<span data-ttu-id="76c8e-200">Olyan esetekben, ahol CDN lehet, hogy kevesebb hasznos belefoglalása:</span><span class="sxs-lookup"><span data-stu-id="76c8e-200">Scenarios where CDN may be less useful include:</span></span>  

* <span data-ttu-id="76c8e-201">Ha a tartalom egy alacsony találati aránya, az elérhető lehet csak néhány alkalommal állapotában érvényes (határozza meg a live idő beállítása).</span><span class="sxs-lookup"><span data-stu-id="76c8e-201">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span> <span data-ttu-id="76c8e-202">Egy elem letöltődik először az Ön tudomásával két tranzakciós költségek és a CDN a forrásból, majd a CDN és az ügyfél.</span><span class="sxs-lookup"><span data-stu-id="76c8e-202">The first time an item is downloaded you incur two transaction charges from the origin to the CDN, and then from the CDN to the customer.</span></span>
* <span data-ttu-id="76c8e-203">Ha az adatok személyes, többek között a nagyobb vállalatok vagy ellátási lánc ökoszisztéma.</span><span class="sxs-lookup"><span data-stu-id="76c8e-203">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="76c8e-204">Általános irányelvek és bevált gyakorlatok</span><span class="sxs-lookup"><span data-stu-id="76c8e-204">General guidelines and good practices</span></span>
<span data-ttu-id="76c8e-205">A CDN használata minimálisra csökkentése az alkalmazás terhelését, és rendelkezésre állás és teljesítmény maximalizálása érdekében egy jó módszer.</span><span class="sxs-lookup"><span data-stu-id="76c8e-205">Using the CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="76c8e-206">Vegye figyelembe, hogy ezt a stratégiát, az összes a megfelelő tartalom és az alkalmazás által használt erőforrások bevezetése.</span><span class="sxs-lookup"><span data-stu-id="76c8e-206">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="76c8e-207">A CDN használata a stratégia tervezésekor, vegye figyelembe a következő szakaszokban pontok:</span><span class="sxs-lookup"><span data-stu-id="76c8e-207">Consider the points in the following sections when designing your strategy to use the CDN:</span></span>  

### <a name="origin"></a><span data-ttu-id="76c8e-208">Forrás</span><span class="sxs-lookup"><span data-stu-id="76c8e-208">Origin</span></span>
<span data-ttu-id="76c8e-209">A CDN a tartalom központi telepítése egyszerűen csak adja meg, hogy a CDN szolgáltatás használni fog eléréséhez, és a tartalom gyorsítótárazása HTTP vagy HTTPS végpont.</span><span class="sxs-lookup"><span data-stu-id="76c8e-209">Deploying content through the CDN simply requires you to specify an HTTP and/or HTTPS endpoint that the CDN service will use to access and cache the content.</span></span>

<span data-ttu-id="76c8e-210">A végpont adhatja meg az Azure blob storage tárolót, amely tárolja a CDN keresztül szállítani szeretné a statikus tartalmat.</span><span class="sxs-lookup"><span data-stu-id="76c8e-210">The endpoint can specify an Azure blob storage container that holds the static content you want to deliver through the CDN.</span></span> <span data-ttu-id="76c8e-211">A tároló nyilvánosként kell megjelölni.</span><span class="sxs-lookup"><span data-stu-id="76c8e-211">The container must be marked as public.</span></span> <span data-ttu-id="76c8e-212">Nyilvános tárolókban lévő csak a nyilvános olvasási hozzáféréssel rendelkező blobot a CDN keresztül érhetők el.</span><span class="sxs-lookup"><span data-stu-id="76c8e-212">Only blobs in a public container that have public read access are available through the CDN.</span></span>

<span data-ttu-id="76c8e-213">A végpont adhat meg egy nevű mappát **cdn** gyökérkönyvtárában található egyik alkalmazás számítási rétegek (például egy webes szerepkör vagy egy virtuális gép).</span><span class="sxs-lookup"><span data-stu-id="76c8e-213">The endpoint can specify a folder named **cdn** in the root of one of application’s compute layers (such as a web role or a virtual machine).</span></span> <span data-ttu-id="76c8e-214">Az eredmények a kérelmek az erőforrások dinamikus erőforrások, például a ASPX lapok, beleértve a gyorsítótárban tartja a CDN-t.</span><span class="sxs-lookup"><span data-stu-id="76c8e-214">The results from requests for resources, including dynamic resources such as ASPX pages, will be cached on the CDN.</span></span> <span data-ttu-id="76c8e-215">A minimális gyorsítótár időszak: 300 másodperc.</span><span class="sxs-lookup"><span data-stu-id="76c8e-215">The minimum cache period is 300 seconds.</span></span> <span data-ttu-id="76c8e-216">Bármely rövidebb időszak megakadályozza, hogy a tartalom a CDN telepített (további információkért tekintse meg a következő fejléc *vezérlő gyorsítótár* alatt).</span><span class="sxs-lookup"><span data-stu-id="76c8e-216">Any shorter period prevents the content from being deployed to the CDN (for more information, see the following heading *Cache control* below).</span></span>

<span data-ttu-id="76c8e-217">Ha Azure Web Apps használ, a végpont értéke a gyökérmappában található azon a helyen a hely kiválasztásával a CDN példányának létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="76c8e-217">If you are using Azure Web Apps, the endpoint is set to the root folder of the site by selecting the site when creating the CDN instance.</span></span> <span data-ttu-id="76c8e-218">A hely tartalmát mindegyikét a CDN érhető el.</span><span class="sxs-lookup"><span data-stu-id="76c8e-218">All of the content for the site will be available through the CDN.</span></span>

<span data-ttu-id="76c8e-219">A legtöbb esetben az egyik számítási az alkalmazás egy mappában a CDN-végpont mutat kínál nagyobb rugalmasságot és vezérlő.</span><span class="sxs-lookup"><span data-stu-id="76c8e-219">In most cases, pointing your CDN endpoint at a folder within one of the compute layers of your application offers more flexibility and control.</span></span> <span data-ttu-id="76c8e-220">Például egyszerűbb jelenlegi és jövőbeli útválasztási követelmények kezeléséhez, és dinamikusan generálni a statikus tartalom, például a lemezkép miniatűrökön.</span><span class="sxs-lookup"><span data-stu-id="76c8e-220">For instance, it makes it easier to manage current and future routing requirements, and dynamically generate static content such as image thumbnails.</span></span>

<span data-ttu-id="76c8e-221">Használhat [lekérdezési karakterláncok](/azure/cdn/cdn-query-string/) megkülönböztetni azokat a gyorsítótárban objektumok, ha a tartalom kézbesítésével dinamikus forrásokból, például a ASPX lapok.</span><span class="sxs-lookup"><span data-stu-id="76c8e-221">You can use [query strings](/azure/cdn/cdn-query-string/) to differentiate objects in the cache when content is delivered from dynamic sources, such as ASPX pages.</span></span> <span data-ttu-id="76c8e-222">Azonban ez a viselkedés letiltható beállítása az Azure portálon, ha megadja a CDN-végpontot.</span><span class="sxs-lookup"><span data-stu-id="76c8e-222">However, this behavior can be disabled by a setting in the Azure portal when you specify the CDN endpoint.</span></span> <span data-ttu-id="76c8e-223">Tartalomtovábbítás blobtárolóból, amikor lekérdezési karakterláncok tekintendők karakterlánc-literálnak, a két elemet, azonos nevű, de eltérő lekérdezési karakterláncokkal rendelkezik, külön elemeket a CDN tárolódnak.</span><span class="sxs-lookup"><span data-stu-id="76c8e-223">When delivering content from blob storage, query strings are treated as string literals so two items that have the same name but different query strings are stored as separate items on the CDN.</span></span>

<span data-ttu-id="76c8e-224">URL-címet írja át a erőforrások, például parancsfájlokat és más tartalmak, a fájlok áthelyezésével a CDN forrásmappát elkerülése érdekében úgy használhatja.</span><span class="sxs-lookup"><span data-stu-id="76c8e-224">You can utilize URL rewriting for resources, such as scripts and other content, to avoid moving your files to the CDN origin folder.</span></span>

<span data-ttu-id="76c8e-225">Az Azure storage blobs használata a CDN a tartalom tárolásához, a blobok erőforrások URL-címe esetén a tároló és a blob neve a kis-és nagybetűket.</span><span class="sxs-lookup"><span data-stu-id="76c8e-225">When using Azure storage blobs to hold content for the CDN, the URL of the resources in blobs is case-sensitive for the container and blob name.</span></span>

<span data-ttu-id="76c8e-226">Egyéni források vagy Azure Web Apps használatakor forrásokra mutató hivatkozások adja meg a CDN-példány elérési útja.</span><span class="sxs-lookup"><span data-stu-id="76c8e-226">When using custom origins or Azure Web Apps, you specify the path to the CDN instance in the links to resources.</span></span> <span data-ttu-id="76c8e-227">Például a következő megadja a képfájl a **képek** mappát a hely, amely a CDN kézbesíti:</span><span class="sxs-lookup"><span data-stu-id="76c8e-227">For example, the following specifies an image file in the **Images** folder of the site that will be delivered through the CDN:</span></span>

```XML
<img src="http://[your-cdn-endpoint].azureedge.net/Images/image.jpg" />
```

### <a name="deployment"></a><span data-ttu-id="76c8e-228">Környezet</span><span class="sxs-lookup"><span data-stu-id="76c8e-228">Deployment</span></span>
<span data-ttu-id="76c8e-229">Statikus tartalom esetleg kiosztása és egymástól függetlenül az alkalmazás telepítve, ha az alkalmazás központi telepítési csomagot vagy a folyamat nem tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="76c8e-229">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="76c8e-230">Vegye figyelembe, hogy ez milyen hatással a versioning mind az alkalmazás-összetevők és a statikus tartalom kezeléséhez használt módszert.</span><span class="sxs-lookup"><span data-stu-id="76c8e-230">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="76c8e-231">Vegye figyelembe, hogy kötegelése (több fájlok egyesítése egy fájlba) és a parancsfájl és a CSS-fájlok (eltávolítja a szükségtelen például szóköz, új sor karaktereket, megjegyzések és egyéb karakterek) minification kezelésének módját.</span><span class="sxs-lookup"><span data-stu-id="76c8e-231">Consider how bundling (combining several files into one file) and minification (removing unnecessary characters such as white space, new line characters, comments, and other characters) for script and CSS files will be handled.</span></span> <span data-ttu-id="76c8e-232">Ezek a gyakran használt módszerek, amely a betöltési idők csökkentheti az ügyfelek számára, és kompatibilisek-e a CDN a tartalom továbbítása.</span><span class="sxs-lookup"><span data-stu-id="76c8e-232">These are commonly used techniques that can reduce load times for clients, and are compatible with delivering content through the CDN.</span></span> <span data-ttu-id="76c8e-233">További információkért lásd: [Bundling és Minification](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification).</span><span class="sxs-lookup"><span data-stu-id="76c8e-233">For more information, see [Bundling and Minification](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification).</span></span>

<span data-ttu-id="76c8e-234">Ha a tartalom telepítése további helyre van szüksége, ez lesz a telepítési folyamat egy további lépést.</span><span class="sxs-lookup"><span data-stu-id="76c8e-234">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="76c8e-235">Ha az alkalmazás számára a CDN-t frissíti a tartalmat, lehet, hogy rendszeres időközönként, vagy az adott esemény bekövetkezésekor kell tárolnia a frissített tartalom semmilyen további helyek, valamint a végpont a CDN a.</span><span class="sxs-lookup"><span data-stu-id="76c8e-235">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="76c8e-236">A CDN-végpont a helyi Azure emulátorban, a Visual Studio alkalmazás nem tudja beállítani.</span><span class="sxs-lookup"><span data-stu-id="76c8e-236">You cannot set up a CDN endpoint for an application in the local Azure emulator in Visual Studio.</span></span> <span data-ttu-id="76c8e-237">Ez a korlátozás egységek tesztelése, működési tesztelése és végső központi telepítés előtti tesztelés hatással lesz.</span><span class="sxs-lookup"><span data-stu-id="76c8e-237">This restriction will affect unit testing, functional testing, and final pre-deployment testing.</span></span> <span data-ttu-id="76c8e-238">Engedélyeznie kell a implementálásával alternatív módszert.</span><span class="sxs-lookup"><span data-stu-id="76c8e-238">You must allow for this by implementing an alternative mechanism.</span></span> <span data-ttu-id="76c8e-239">Például akkor képes előtelepítése a tartalom és a CDN egy egyéni alkalmazást vagy segédprogram segítségével, és hajtsa végre a tesztelés során az időszakot, amelyben vannak gyorsítótárazva.</span><span class="sxs-lookup"><span data-stu-id="76c8e-239">For example, you could pre-deploy the content to the CDN using a custom application or utility, and perform testing during the period in which it is cached.</span></span> <span data-ttu-id="76c8e-240">Másik megoldásként használhatja a fordítási direktíváit vagy globális állandók szabályozhatja a, ahol az alkalmazás betölti az erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="76c8e-240">Alternatively, use compile directives or global constants to control from where the application loads the resources.</span></span> <span data-ttu-id="76c8e-241">Például hibakeresési módban történő futtatásakor az sikerült betölteni az erőforrások, például ügyféloldali – csomagok és más tartalmak egy helyi mappából, és a CDN használata a kiadási módban történő futtatásakor.</span><span class="sxs-lookup"><span data-stu-id="76c8e-241">For example, when running in debug mode it could load resources such as client-side script bundles and other content from a local folder, and use the CDN when running in release mode.</span></span>

<span data-ttu-id="76c8e-242">Vegye figyelembe, hogy a CDN támogatásához kívánt tömörítési módszer kiválasztásához:</span><span class="sxs-lookup"><span data-stu-id="76c8e-242">Consider which compression approach you want your CDN to support:</span></span>

* <span data-ttu-id="76c8e-243">Is [tömörítésének engedélyezéséhez](/azure/cdn/cdn-improve-performance/) a forrás kiszolgálón, ahol eset a CDN tömörítési alapértelmezés szerint támogatják, és tömörített tartalmat továbbít egy formátumban, például zip- vagy gzip ügyfelek a.</span><span class="sxs-lookup"><span data-stu-id="76c8e-243">You can [enable compression](/azure/cdn/cdn-improve-performance/) on your origin server, in which case the CDN will support compression by default and deliver compressed content to clients in a format such as zip or gzip.</span></span> <span data-ttu-id="76c8e-244">A CDN-végpont alkalmazás mappát használ, amikor a kiszolgáló előfordulhat, hogy tömörítéséhez néhány automatikusan azonos módon kézbesíti az közvetlenül egy webes böngésző vagy egyéb típusú ügyfél.</span><span class="sxs-lookup"><span data-stu-id="76c8e-244">When using an application folder as the CDN endpoint, the server may compress some content automatically in the same way as when delivering it directly to a web browser or other type of client.</span></span> <span data-ttu-id="76c8e-245">A formátum a értékétől függ a **elfogadás kódolás** az ügyfél által küldött kérelem fejléce.</span><span class="sxs-lookup"><span data-stu-id="76c8e-245">The format depends on the value of the **Accept-Encoding** header in the request sent by the client.</span></span> <span data-ttu-id="76c8e-246">Azure az alapértelmezett mechanizmus, hogy automatikusan tömöríti a tartalmat, ha a CPU-felhasználás 50 % alatt van.</span><span class="sxs-lookup"><span data-stu-id="76c8e-246">In Azure the default mechanism is to automatically compress content when CPU utilization is below 50%.</span></span> <span data-ttu-id="76c8e-247">Ha az alkalmazás futtatásához egy felhőalapú szolgáltatást használ, a szolgáltatás beállításainak módosítása lehet szükség egy indítási feladat segítségével kapcsolja be a dinamikus kimenet az IIS tömörítést.</span><span class="sxs-lookup"><span data-stu-id="76c8e-247">If you are using a cloud service to host the application, changing the settings may require using a startup task to turn on compression of dynamic output in IIS.</span></span> <span data-ttu-id="76c8e-248">Lásd: [Microsoft Azure CDN keresztül a webes szerepkör gzip tömörítés engedélyezése](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx) további információt.</span><span class="sxs-lookup"><span data-stu-id="76c8e-248">See [Enabling gzip compression with Microsoft Azure CDN through a Web Role](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx) for more information.</span></span>
* <span data-ttu-id="76c8e-249">Engedélyezheti a tömörítést közvetlenül a CDN peremhálózati kiszolgálóinak, amelyben eset a CDN-t a fájlok tömöríti és szolgálják a végfelhasználók számára.</span><span class="sxs-lookup"><span data-stu-id="76c8e-249">You can enable compression directly on CDN edge servers, in which case the CDN will compress the files and serve it to end users.</span></span> <span data-ttu-id="76c8e-250">További információkért lásd: [Azure CDN tömörítési](/azure/cdn/cdn-improve-performance/).</span><span class="sxs-lookup"><span data-stu-id="76c8e-250">For more information, see [Azure CDN Compression](/azure/cdn/cdn-improve-performance/).</span></span>

### <a name="routing-and-versioning"></a><span data-ttu-id="76c8e-251">Az Útválasztás és versioning</span><span class="sxs-lookup"><span data-stu-id="76c8e-251">Routing and versioning</span></span>
<span data-ttu-id="76c8e-252">CDN-példány használható a különböző időpontokban szeretne.</span><span class="sxs-lookup"><span data-stu-id="76c8e-252">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="76c8e-253">Például az alkalmazás új verziójának telepítésekor érdemes lehet egy új CDN-t használja, és tartsa meg a régi CDN (tartalom okozó régebbi formátumú) korábbi verzióihoz.</span><span class="sxs-lookup"><span data-stu-id="76c8e-253">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="76c8e-254">Ha a tartalom eredete használja az Azure blob Storage tárolóban, hozzon létre egy külön tárfiókot vagy egy külön tárolóba, és a CDN-végpont mutasson.</span><span class="sxs-lookup"><span data-stu-id="76c8e-254">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span> <span data-ttu-id="76c8e-255">A CDN-végpont a cdn gyökérmappájába, az alkalmazáson belül használja, ha URL-cím átírása technikák segítségével kéréseiket egy másik mappába.</span><span class="sxs-lookup"><span data-stu-id="76c8e-255">If you use the cdn root folder within the application as the CDN endpoint, you can use URL rewriting techniques to direct requests to a different folder.</span></span>

<span data-ttu-id="76c8e-256">Ne használja a lekérdezési karakterlánc jelölésére a CDN megtalálható erőforrásokhoz való hivatkozások az alkalmazás különböző verzióit, mert, amikor a tartalom lekérése az Azure blob storage, a lekérdezési karakterlánc része az erőforrás neve (a blob neve).</span><span class="sxs-lookup"><span data-stu-id="76c8e-256">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="76c8e-257">Ezt a módszert használja szintén befolyásolhatják, hogy az ügyfél milyen módon gyorsítótárazza a erőforrások.</span><span class="sxs-lookup"><span data-stu-id="76c8e-257">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="76c8e-258">Statikus tartalom új verzióinak telepítését, ha egy alkalmazás módosítását kihívást lehet, ha az előző erőforrások gyorsítótárazza a CDN-t.</span><span class="sxs-lookup"><span data-stu-id="76c8e-258">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="76c8e-259">További információkért tekintse meg a szakasz *vezérlő gyorsítótár*).</span><span class="sxs-lookup"><span data-stu-id="76c8e-259">For more information, see the section *Cache control*).</span></span>

<span data-ttu-id="76c8e-260">Fontolja meg a CDN ország tartalom hozzáférés korlátozása.</span><span class="sxs-lookup"><span data-stu-id="76c8e-260">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="76c8e-261">Az Azure CDN lehetővé teszi szűrheti a kéréseket a származási alapján, és korlátozza a tartalom letöltéséhez.</span><span class="sxs-lookup"><span data-stu-id="76c8e-261">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="76c8e-262">További információkért lásd: [korlátozza a hozzáférést a tartalmat az ország](/azure/cdn/cdn-restrict-access-by-country/).</span><span class="sxs-lookup"><span data-stu-id="76c8e-262">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="76c8e-263">Gyorsítótár-vezérlő</span><span class="sxs-lookup"><span data-stu-id="76c8e-263">Cache control</span></span>
<span data-ttu-id="76c8e-264">Vegye figyelembe a rendszerben gyorsítótárazás kezelése.</span><span class="sxs-lookup"><span data-stu-id="76c8e-264">Consider how to manage caching within the system.</span></span> <span data-ttu-id="76c8e-265">Például egy mappa használatakor, mivel a CDN-forrása megadhatja a gyorsítótárazhatóságának lapok, amelyek létrehozzák a tartalmat, és a tartalom lejárati idejének összes erőforrást egy adott mappában.</span><span class="sxs-lookup"><span data-stu-id="76c8e-265">For example, when using a folder as the CDN origin you can specify the cacheability of pages that generate the content, and the content expiry time for all the resources in a specific folder.</span></span> <span data-ttu-id="76c8e-266">Gyorsítótár tulajdonságai a CDN, valamint a szabványos HTTP-fejlécek ügyfélre is megadható.</span><span class="sxs-lookup"><span data-stu-id="76c8e-266">You can also specify cache properties for the CDN, and for the client using standard HTTP headers.</span></span> <span data-ttu-id="76c8e-267">Ön már meg kell kezelése, a kiszolgáló és az ügyfél gyorsítótára, bár a CDN használata segít, hogy Ön több tudomást hogyan a tartalom gyorsítótárazva van, és ha.</span><span class="sxs-lookup"><span data-stu-id="76c8e-267">Although you should already be managing caching on the server and client, using the CDN will help to make you more aware of how your content is cached, and where.</span></span>

<span data-ttu-id="76c8e-268">Objektumok, hogy nem érhető el a CDN a törölheti azokat a forrásból (blob-tároló vagy alkalmazás *cdn* gyökérmappájába), távolítsa el vagy törölni a CDN-végpontot, vagy esetén blob-tároló, ellenőrizze a tároló vagy titkos blob .</span><span class="sxs-lookup"><span data-stu-id="76c8e-268">To prevent objects from being available on the CDN you can delete them from the origin (blob container or application *cdn* root folder), remove or delete the CDN endpoint, or, in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="76c8e-269">Azonban elemek törlődni fog a CDN csak akkor, ha azok idő TTL lejárata.</span><span class="sxs-lookup"><span data-stu-id="76c8e-269">However, items will be removed from the CDN only when their time-to-live expires.</span></span> <span data-ttu-id="76c8e-270">Ha nincs gyorsítótár lejárati időszak (például a tartalom Ha be van töltve, a blob-tároló) van megadva, gyorsítótárazza a CDN a hét napig.</span><span class="sxs-lookup"><span data-stu-id="76c8e-270">If no cache expiry period is specified (such as when content is loaded from blob storage), it is cached on the CDN for up to seven days.</span></span>  <span data-ttu-id="76c8e-271">Manuálisan is [a CDN-végpont törlése](/azure/cdn/cdn-purge-endpoint/).</span><span class="sxs-lookup"><span data-stu-id="76c8e-271">You can also manually [purge a CDN endpoint](/azure/cdn/cdn-purge-endpoint/).</span></span>

<span data-ttu-id="76c8e-272">A webalkalmazás, beállíthatja a gyorsítótárazás és az összes tartalom lejárati használatával a *clientCache* eleme a *system.webServer/staticContent* szakasz a web.config fájl.</span><span class="sxs-lookup"><span data-stu-id="76c8e-272">In a web application, you can set the caching and expiry for all content by using the *clientCache* element in the *system.webServer/staticContent* section of the web.config file.</span></span> <span data-ttu-id="76c8e-273">Ne feledje, hogy ha a web.config fájlt helyez egy mappát az hatással van a fájlokat a mappában és annak összes almappája.</span><span class="sxs-lookup"><span data-stu-id="76c8e-273">Remember that when you place a web.config file in a folder it affects the files in that folder and all subfolders.</span></span>

<span data-ttu-id="76c8e-274">Ha hoz létre a tartalmat a CDN a dinamikusan (például az alkalmazás kódjában), győződjön meg arról, hogy megadja a *Cache.SetExpires* minden oldalon tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="76c8e-274">If you create the content for the CDN dynamically (in your application code for example), ensure that you specify the *Cache.SetExpires* property on each page.</span></span> <span data-ttu-id="76c8e-275">A CDN nem gyorsítótárazzák a kimenete a felügyelt oldalak felhívásainak alapértelmezett gyorsítótárazhatóságának beállítása *nyilvános*.</span><span class="sxs-lookup"><span data-stu-id="76c8e-275">The CDN will not cache the output from pages that use the default cacheability setting of *public*.</span></span>  <span data-ttu-id="76c8e-276">Győződjön meg arról, hogy a tartalom nem elvetett és nagyon rövid időközönként az alkalmazásból a módosítás megfelelő értéket a gyorsítótár lejárati időszak beállítása</span><span class="sxs-lookup"><span data-stu-id="76c8e-276">Set the cache expiry period to a suitable value to ensure that the content is not discarded and reloaded from the application at very short intervals.</span></span>  

### <a name="security"></a><span data-ttu-id="76c8e-277">Biztonság</span><span class="sxs-lookup"><span data-stu-id="76c8e-277">Security</span></span>
<span data-ttu-id="76c8e-278">A CDN által biztosított tartalmat, keresztül HTTPS (SSL), a CDN által biztosított tanúsítvány használatával, valamint szabványos HTTP-kapcsolaton keresztül.</span><span class="sxs-lookup"><span data-stu-id="76c8e-278">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="76c8e-279">Annak érdekében, ne böngésző vegyes tartalomról, szükség lehet a HTTPS használatával betöltött lapok statikus tartalmat igénylő a HTTPS protokoll használatával.</span><span class="sxs-lookup"><span data-stu-id="76c8e-279">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="76c8e-280">Ha az eszközök statikus betűtípus fájlok például a CDN használatával, problémák léphetnek fel azonos eredetű házirend használatakor egy *XMLHttpRequest* hívás ezekkel az erőforrásokkal kérhet egy másik tartományban.</span><span class="sxs-lookup"><span data-stu-id="76c8e-280">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="76c8e-281">Sok webböngészővel eltérő eredetű erőforrások megosztása (CORS), kivéve, ha a webkiszolgáló úgy van beállítva, a megfelelő válaszfejlécek beállítása megakadályozza.</span><span class="sxs-lookup"><span data-stu-id="76c8e-281">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="76c8e-282">Beállíthatja, hogy a CDN és a CORS támogatja az alábbi módszerek egyikének használatával:</span><span class="sxs-lookup"><span data-stu-id="76c8e-282">You can configure the CDN to support CORS by using one of the following methods:</span></span>

* <span data-ttu-id="76c8e-283">A CDN szabálymotor segítségével CORS fejlécek hozzá a válaszokat.</span><span class="sxs-lookup"><span data-stu-id="76c8e-283">Use the CDN rules engine to add CORS headers to the responses.</span></span> <span data-ttu-id="76c8e-284">Ez a módszer az általában a legjobb melyiket használja, mert helyettesítő és több specifikus engedélyezett eredetet egyaránt támogatottak.</span><span class="sxs-lookup"><span data-stu-id="76c8e-284">This method is usually the best one to use because both wildcard and multiple specific-allowed origins are supported.</span></span> <span data-ttu-id="76c8e-285">További információkért lásd: [az Azure CDN szolgáltatás használata a CORS](https://docs.microsoft.com/en-us/azure/cdn/cdn-cors).</span><span class="sxs-lookup"><span data-stu-id="76c8e-285">For more information, see [Using Azure CDN with CORS](https://docs.microsoft.com/en-us/azure/cdn/cdn-cors).</span></span> 
* <span data-ttu-id="76c8e-286">Adja hozzá a *CorsRule* szolgáltatás tulajdonságait.</span><span class="sxs-lookup"><span data-stu-id="76c8e-286">Add a *CorsRule* to the service properties.</span></span> <span data-ttu-id="76c8e-287">Ez a módszer is használhatja, ha a forrás, amelyből továbbítja a tartalmat az Azure blob Storage tárolóban.</span><span class="sxs-lookup"><span data-stu-id="76c8e-287">You can use this method if the origin from which you are delivering content is Azure blob storage.</span></span> <span data-ttu-id="76c8e-288">A szabályban megadhatja az engedélyezett eredetet a CORS kérelmek, az engedélyezett módszerek, például a GET és a maximális élettartamát másodpercben. a szabály (az az időszak, amelyen belül az ügyfél kell igényelnie a kapcsolt erőforrásokban az eredeti tartalom betöltése után).</span><span class="sxs-lookup"><span data-stu-id="76c8e-288">The rule can specify the allowed origins for CORS requests, the allowed methods such as GET, and the maximum age in seconds for the rule (the period within which the client must request the linked resources after loading the original content).</span></span> <span data-ttu-id="76c8e-289">Ha be kell állítani a CORS Storage használata a CDN, csak a "*" helyettesítő karakter támogatott engedélyezett eredetet listája.</span><span class="sxs-lookup"><span data-stu-id="76c8e-289">When you set CORS on Storage to use with CDN, only the ‘*’ wildcard is supported for the allowed origins list.</span></span> <span data-ttu-id="76c8e-290">További információkért lásd: [Cross-Origin Resource Sharing (CORS) támogatása az Azure Storage szolgáltatásainak](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="76c8e-290">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>
* <span data-ttu-id="76c8e-291">Kimenő szabályok konfigurálása az alkalmazás konfigurációs fájljának beállítani egy *hozzáférés-vezérlési-engedélyezése-forrás* minden válasz fejléce.</span><span class="sxs-lookup"><span data-stu-id="76c8e-291">Configure outbound rules in the application configuration file to set an *Access-Control-Allow-Origin* header on all responses.</span></span> <span data-ttu-id="76c8e-292">Ez a módszer is használhatja, ha a forrás kiszolgálón fut az IIS.</span><span class="sxs-lookup"><span data-stu-id="76c8e-292">You can use this method if the origin server is running IIS.</span></span> <span data-ttu-id="76c8e-293">Ha ezt a módszert használja a CDN, csak a "*" helyettesítő karakter támogatott engedélyezett eredetet listája.</span><span class="sxs-lookup"><span data-stu-id="76c8e-293">When you use this method with CDN, only the ‘*’ wildcard is supported for the allowed origins list.</span></span> <span data-ttu-id="76c8e-294">Átdolgozás szabályok használatával kapcsolatos további információkért lásd: [URL-újraíró modult](http://www.iis.net/learn/extensions/url-rewrite-module).</span><span class="sxs-lookup"><span data-stu-id="76c8e-294">For more information about using rewrite rules, see [URL Rewrite Module](http://www.iis.net/learn/extensions/url-rewrite-module).</span></span>

### <a name="custom-domains"></a><span data-ttu-id="76c8e-295">Egyéni tartományok</span><span class="sxs-lookup"><span data-stu-id="76c8e-295">Custom domains</span></span>
<span data-ttu-id="76c8e-296">Az Azure CDN lehetővé teszi egy [egyéni tartománynév](/azure/cdn/cdn-map-content-to-custom-domain/) és a CDN keresztül elérésére használt.</span><span class="sxs-lookup"><span data-stu-id="76c8e-296">The Azure CDN allows you to specify a [custom domain name](/azure/cdn/cdn-map-content-to-custom-domain/) and use it to access resources through the CDN.</span></span> <span data-ttu-id="76c8e-297">Is beállíthat egy egyéni altartomány nevét használja a *CNAME* rekord a DNS-ben.</span><span class="sxs-lookup"><span data-stu-id="76c8e-297">You can also set up a custom subdomain name using a *CNAME* record in your DNS.</span></span> <span data-ttu-id="76c8e-298">Ezzel a megközelítéssel absztrakciós és vezérlés további réteget biztosít.</span><span class="sxs-lookup"><span data-stu-id="76c8e-298">Using this approach can provide an additional layer of abstraction and control.</span></span>

<span data-ttu-id="76c8e-299">Ha egy *CNAME*, SSL nem használható, mert a CDN a saját egyetlen SSL-tanúsítványt használ, és ez a tanúsítvány nem fog egyezni az egyéni tartomány/altartománynevek.</span><span class="sxs-lookup"><span data-stu-id="76c8e-299">If you use a *CNAME*, you cannot use SSL because the CDN uses its own single SSL certificate, and this certificate will not match your custom domain/subdomain names.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="76c8e-300">CDN tartalék</span><span class="sxs-lookup"><span data-stu-id="76c8e-300">CDN fallback</span></span>
<span data-ttu-id="76c8e-301">Vegye figyelembe, hogyan az alkalmazás fogja a folyamatosan növekvő adatmennyiségnek hiba vagy ideiglenes hiányában a CDN-t.</span><span class="sxs-lookup"><span data-stu-id="76c8e-301">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="76c8e-302">Előfordulhat, hogy ügyfélalkalmazások másolja a helyileg (az ügyfél) a gyorsítótárazott erőforrások használhatják az előző kérelem során, vagy megadhat kódot, amely hibát észlel, és helyette a forrásból (az alkalmazás mappájában, vagy az Azure blob-erőforrások kérelmek az tároló, amely az erőforrások) Ha a CDN nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="76c8e-302">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>

<span data-ttu-id="76c8e-303">Az alábbi példában látható, a tartalék mechanizmusok használatával [címke segítő](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro) Razor nézetben.</span><span class="sxs-lookup"><span data-stu-id="76c8e-303">The example below shows the fallback mechanisms using [Tag Helpers](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro) in a Razor view.</span></span>

```HTML
...
<link rel="stylesheet" href="https://[your-cdn-endpoint].azureedge.net/lib/bootstrap/dist/css/bootstrap.min.css"
      asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
      asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"/>
<link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true"/>
...
<script src="https://[your-cdn-endpoint].azureedge.net/lib/jquery/dist/jquery-2.2.0.min.js"
        asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
        asp-fallback-test="window.jQuery">
</script>
<script src="https://[your-cdn-endpoint].azureedge.net/lib/bootstrap/dist/js/bootstrap.min.js"
        asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
        asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal">
</script>
...
```

### <a name="search-engine-optimization"></a><span data-ttu-id="76c8e-304">Optimalizálás érdekében</span><span class="sxs-lookup"><span data-stu-id="76c8e-304">Search engine optimization</span></span>
<span data-ttu-id="76c8e-305">Ha a keresőmotor-Optimalizáláshoz fontos szempont az alkalmazás, a következő feladatokat:</span><span class="sxs-lookup"><span data-stu-id="76c8e-305">If SEO is an important consideration in your application, perform the following tasks:</span></span>

* <span data-ttu-id="76c8e-306">Tartalmaznak egy *Rel* kanonikus fejléc a következő minden lap vagy az erőforrás.</span><span class="sxs-lookup"><span data-stu-id="76c8e-306">Include a *Rel* canonical header in each page or resource.</span></span>
* <span data-ttu-id="76c8e-307">Használja a *CNAME* altartomány rögzítése és elérhessék az erőforrásokat, ezzel a névvel.</span><span class="sxs-lookup"><span data-stu-id="76c8e-307">Use a *CNAME* subdomain record and access the resources using this name.</span></span>
* <span data-ttu-id="76c8e-308">Vegye figyelembe a tényt, hogy a CDN IP-címe lehet olyan országban vagy régióban, amely eltér az alkalmazás maga a hatását.</span><span class="sxs-lookup"><span data-stu-id="76c8e-308">Consider the impact of the fact that the IP address of the CDN may be a country or region that differs from that of the application itself.</span></span>
* <span data-ttu-id="76c8e-309">Ha a Azure blob storage-t a forrás, karbantartása a azonos a CDN, mint az alkalmazás mappájához erőforrásainak fájlstruktúra.</span><span class="sxs-lookup"><span data-stu-id="76c8e-309">When using Azure blob storage as the origin, maintain the same file structure for resources on the CDN as in the application folders.</span></span>

### <a name="monitoring-and-logging"></a><span data-ttu-id="76c8e-310">Figyelés és naplózás</span><span class="sxs-lookup"><span data-stu-id="76c8e-310">Monitoring and logging</span></span>
<span data-ttu-id="76c8e-311">A CDN a alkalmazásfigyelési stratégia észlelésére, és mérheti hibák részeként vagy a kiterjesztett várakozási ideje eseményeket.</span><span class="sxs-lookup"><span data-stu-id="76c8e-311">Include the CDN as part of your application monitoring strategy to detect and measure failures or extended latency occurrences.</span></span>  <span data-ttu-id="76c8e-312">Figyelés a CDN profil managerből az Azure portál webhelyen érhető el.</span><span class="sxs-lookup"><span data-stu-id="76c8e-312">Monitoring is available from the CDN profile manager located on the Azure portal site.</span></span>

<span data-ttu-id="76c8e-313">A CDN naplózásának engedélyezéséről, és figyelje ezt a naplót a napi szintű működése részeként.</span><span class="sxs-lookup"><span data-stu-id="76c8e-313">Enable logging for the CDN and monitor this log as part of your daily operations.</span></span>

<span data-ttu-id="76c8e-314">Vegye figyelembe a használati minták CDN forgalom elemzése.</span><span class="sxs-lookup"><span data-stu-id="76c8e-314">Consider analyzing the CDN traffic for usage patterns.</span></span> <span data-ttu-id="76c8e-315">Az Azure-portálon biztosít, amelyek lehetővé teszik a figyelheti eszközök:</span><span class="sxs-lookup"><span data-stu-id="76c8e-315">The Azure portal provides tools that enable you to monitor:</span></span>

* <span data-ttu-id="76c8e-316">Sávszélesség,</span><span class="sxs-lookup"><span data-stu-id="76c8e-316">Bandwidth,</span></span>
* <span data-ttu-id="76c8e-317">Az adatok átvitele,</span><span class="sxs-lookup"><span data-stu-id="76c8e-317">Data Transferred,</span></span>
* <span data-ttu-id="76c8e-318">Találatok (állapotkódok)</span><span class="sxs-lookup"><span data-stu-id="76c8e-318">Hits (status codes),</span></span>
* <span data-ttu-id="76c8e-319">Gyorsítótár állapota</span><span class="sxs-lookup"><span data-stu-id="76c8e-319">Cache Status,</span></span>
* <span data-ttu-id="76c8e-320">Gyorsítótár TALÁLATI arány és</span><span class="sxs-lookup"><span data-stu-id="76c8e-320">Cache HIT Ratio, and</span></span>
* <span data-ttu-id="76c8e-321">IPV4-/ IPV6 kérelmek aránya.</span><span class="sxs-lookup"><span data-stu-id="76c8e-321">Ratio of IPV4/IPV6 requests.</span></span>

<span data-ttu-id="76c8e-322">További információkért lásd: [elemzése CDN használati minták](/azure/cdn/cdn-analyze-usage-patterns/).</span><span class="sxs-lookup"><span data-stu-id="76c8e-322">For more information, see [Analyze CDN usage patterns](/azure/cdn/cdn-analyze-usage-patterns/).</span></span>

### <a name="cost-implications"></a><span data-ttu-id="76c8e-323">Költség gyakorolt hatása</span><span class="sxs-lookup"><span data-stu-id="76c8e-323">Cost implications</span></span>
<span data-ttu-id="76c8e-324">A CDN kimenő adatátviteli számolnak.</span><span class="sxs-lookup"><span data-stu-id="76c8e-324">You are charged for outbound data transfers from the CDN.</span></span>  <span data-ttu-id="76c8e-325">Emellett a blob storage használatakor az eszközök tárolásához van szó, a storage-tranzakció betöltésekor a CDN adat az alkalmazásról.</span><span class="sxs-lookup"><span data-stu-id="76c8e-325">Additionally, if you're using blob storage to host your assets, you are charged for storage transactions when the CDN loads data from your application.</span></span> <span data-ttu-id="76c8e-326">A tartalom frissesség biztosításához, de nem olyan rövid, az alkalmazás tartalmának ismételt újból betölteni vagy blob-tároló és a CDN reális gyorsítótár lejárati időszak beállítása</span><span class="sxs-lookup"><span data-stu-id="76c8e-326">Set realistic cache expiry periods for content to ensure freshness, but not so short as to cause repeated reloading of content from the application or blob storage to the CDN.</span></span>

<span data-ttu-id="76c8e-327">Ritkán letöltött elemek merülnek fel, amelyekre a két tranzakciós költségek nélkül bármely jelentős mértékben csökken a kiszolgáló terhelését.</span><span class="sxs-lookup"><span data-stu-id="76c8e-327">Items that are rarely downloaded will incur the two transaction charges without providing any significant reduction in server load.</span></span>

### <a name="bundling-and-minification"></a><span data-ttu-id="76c8e-328">Kötegelése és minification</span><span class="sxs-lookup"><span data-stu-id="76c8e-328">Bundling and minification</span></span>
<span data-ttu-id="76c8e-329">Kötegelése és minification használatával az erőforrások, például JavaScript-kód és tárolja a CDN HTML-lapok méretének csökkentésére.</span><span class="sxs-lookup"><span data-stu-id="76c8e-329">Use bundling and minification to reduce the size of resources such as JavaScript code and HTML pages stored in the CDN.</span></span> <span data-ttu-id="76c8e-330">Ezt a stratégiát segítségével ezeket az elemeket az ügyfél letöltési szükséges idő csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="76c8e-330">This strategy can help to reduce the time taken to download these items to the client.</span></span>

<span data-ttu-id="76c8e-331">ASP.NET bundling és minification is kezeli.</span><span class="sxs-lookup"><span data-stu-id="76c8e-331">Bundling and minification can be handled by ASP.NET.</span></span> <span data-ttu-id="76c8e-332">MVC projekt adhat meg a csomagok a *BundleConfig.cs*.</span><span class="sxs-lookup"><span data-stu-id="76c8e-332">In an MVC project, you define your bundles in *BundleConfig.cs*.</span></span> <span data-ttu-id="76c8e-333">Egy hivatkozást a minified parancsfájl csomagot hozta létre hívja a *Script.Render* módszer általában a kódban a nézet osztály.</span><span class="sxs-lookup"><span data-stu-id="76c8e-333">A reference to the minified script bundle is created by calling the *Script.Render* method, typically in code in the view class.</span></span> <span data-ttu-id="76c8e-334">Ezt a hivatkozást tartalmaz egy lekérdezési karakterlánc, amely tartalmaz egy kivonatot, amely a csomag tartalmának alapul.</span><span class="sxs-lookup"><span data-stu-id="76c8e-334">This reference contains a query string that includes a hash, which is based on the content of the bundle.</span></span> <span data-ttu-id="76c8e-335">Ha módosítja a csomag tartalmát, a létrehozott kivonat is módosul.</span><span class="sxs-lookup"><span data-stu-id="76c8e-335">If the bundle contents change, the generated hash will also change.</span></span>  

<span data-ttu-id="76c8e-336">Alapértelmezés szerint Azure CDN célpéldánynál a *lekérdezési karakterlánc állapot* beállításával le vannak tiltva.</span><span class="sxs-lookup"><span data-stu-id="76c8e-336">By default, Azure CDN instances have the *Query String Status* setting disabled.</span></span> <span data-ttu-id="76c8e-337">Ahhoz, hogy a CDN megfelelően kezeli a frissített parancsfájl kötegek, engedélyeznie kell a *lekérdezési karakterlánc állapot* a CDN-példány beállítása.</span><span class="sxs-lookup"><span data-stu-id="76c8e-337">In order for updated script bundles to be handled properly by the CDN, you must enable the *Query String Status* setting for the CDN instance.</span></span> <span data-ttu-id="76c8e-338">Vegye figyelembe, hogy eltarthat egy óráig vagy tovább előtt a beállítás akkor lép érvénybe.</span><span class="sxs-lookup"><span data-stu-id="76c8e-338">Note that it may take an hour or more before the setting takes effect.</span></span>

### <a name="features"></a><span data-ttu-id="76c8e-339">Szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="76c8e-339">Features</span></span>

<span data-ttu-id="76c8e-340">Azure több CDN termék rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="76c8e-340">Azure has several CDN products.</span></span> <span data-ttu-id="76c8e-341">CDN kiválasztásakor vegye figyelembe az egyes termékek támogató szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="76c8e-341">When selecting a CDN, consider the features that each product supports.</span></span> <span data-ttu-id="76c8e-342">Lásd: [Azure CDN szolgáltatásai] [ cdn-features] részleteiről.</span><span class="sxs-lookup"><span data-stu-id="76c8e-342">See [Azure CDN Features][cdn-features] for details.</span></span> <span data-ttu-id="76c8e-343">Kezdésként érdemes prémium szolgáltatások a következők:</span><span class="sxs-lookup"><span data-stu-id="76c8e-343">Premium features that you may wish to consider include:</span></span>

- <span data-ttu-id="76c8e-344">**[Szabálymotor](/azure/cdn/cdn-rules-engine)**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-344">**[Rules engine](/azure/cdn/cdn-rules-engine)**.</span></span> <span data-ttu-id="76c8e-345">A szabályok motor lehetővé teszi, hogy segítségével testre szabhatja a HTTP-kérések kezelésének módja, például bizonyos típusú tartalom kézbesítésével blokkolja, a gyorsítótárazási házirend meghatározása és a HTTP-fejlécek módosítása.</span><span class="sxs-lookup"><span data-stu-id="76c8e-345">The rules engine allows you to customize how HTTP requests are handled, such as blocking the delivery of certain types of content, defining a caching policy, and modifying HTTP headers.</span></span> 

- <span data-ttu-id="76c8e-346">**[Valós idejű statisztikák](/azure/cdn/cdn-real-time-stats)**.</span><span class="sxs-lookup"><span data-stu-id="76c8e-346">**[Real-time statistics](/azure/cdn/cdn-real-time-stats)**.</span></span> <span data-ttu-id="76c8e-347">Valós idejű adatok, például a sávszélesség, a gyorsítótár állapotok és a CDN-profilt, létesített egyidejű kapcsolatok figyelésére és fogadására [valós idejű riasztások](/azure/cdn/cdn-real-time-alerts).</span><span class="sxs-lookup"><span data-stu-id="76c8e-347">Monitor real-time data, such as bandwidth, cache statuses, and concurrent connections to your CDN profile, and receive [real-time alerts](/azure/cdn/cdn-real-time-alerts).</span></span> 


## <a name="rules-engine-url-rewriting-example"></a><span data-ttu-id="76c8e-348">Szabályok motor írja át például URL-címe</span><span class="sxs-lookup"><span data-stu-id="76c8e-348">Rules engine URL rewriting example</span></span>

<span data-ttu-id="76c8e-349">A következő ábra bemutatja, hogyan hajthat végre [URL-cím újraírását](https://technet.microsoft.com/library/ee215194.aspx) a CDN használata esetén.</span><span class="sxs-lookup"><span data-stu-id="76c8e-349">The following diagram demonstrates how to perform [URL rewriting](https://technet.microsoft.com/library/ee215194.aspx) when using the CDN.</span></span> <span data-ttu-id="76c8e-350">A CDN a gyorsítótárazott tartalom kérelmet átirányítja az alkalmazás gyökérkönyvtárában típusa az erőforrás (például parancsfájlok vagy képeket) belül meghatározott mappákról.</span><span class="sxs-lookup"><span data-stu-id="76c8e-350">Requests from the CDN for content that is cached are redirected to specific folders within the application root based on the type of the resource (such as scripts and images).</span></span>  

![Szabályok motor diagramja](./images/cdn/rules-engine.png)

<span data-ttu-id="76c8e-352">Ezek a szabályok újraírási hajtsa végre a következő átirányítások:</span><span class="sxs-lookup"><span data-stu-id="76c8e-352">These rewrite rules perform the following redirections:</span></span>

* <span data-ttu-id="76c8e-353">Az első szabály lehetővé teszi egy verzió beágyazása a fájlnév egy erőforrást, amely figyelmen kívül hagyja.</span><span class="sxs-lookup"><span data-stu-id="76c8e-353">The first rule allows you to embed a version in the file name of a resource, which is then ignored.</span></span> <span data-ttu-id="76c8e-354">Például *Filename_v123.jpg* rendszer újraírja *Filename.jpg*.</span><span class="sxs-lookup"><span data-stu-id="76c8e-354">For example, *Filename_v123.jpg* is rewritten as *Filename.jpg*.</span></span>
* <span data-ttu-id="76c8e-355">A következő négy szabályok bemutatják, hogyan szeretné irányítani a kérelmeket, ha nem szeretné, hogy az erőforrások tárolásához mappában *cdn** a webes szerepkör gyökérkönyvtárában.</span><span class="sxs-lookup"><span data-stu-id="76c8e-355">The next four rules show how to redirect requests if you do not want to store the resources in a folder named *cdn** in the root of the web role.</span></span> <span data-ttu-id="76c8e-356">A szabályai leképezik a *cdn/képek*, *cdn-tartalom*, *cdn/parancsfájlok*, és *cdn/kötegek* a megfelelő legfelső szintű mappáihoz a webhely URL-címek szerepkör.</span><span class="sxs-lookup"><span data-stu-id="76c8e-356">The rules map the *cdn/Images*, *cdn/Content*, *cdn/Scripts*, and *cdn/bundles* URLs to their respective root folders in the web role.</span></span>

<span data-ttu-id="76c8e-357">Vegye figyelembe, hogy írja át a URL-cím segítségével meg kell néhány módosítást erőforrások kötegelése.</span><span class="sxs-lookup"><span data-stu-id="76c8e-357">Note that using URL rewriting requires you to make some changes to the bundling of resources.</span></span>     

## <a name="more-information"></a><span data-ttu-id="76c8e-358">További információ</span><span class="sxs-lookup"><span data-stu-id="76c8e-358">More information</span></span>
* [<span data-ttu-id="76c8e-359">Azure CDN</span><span class="sxs-lookup"><span data-stu-id="76c8e-359">Azure CDN</span></span>](https://azure.microsoft.com/services/cdn/)
* [<span data-ttu-id="76c8e-360">Az Azure Content Delivery Network (CDN) dokumentációja</span><span class="sxs-lookup"><span data-stu-id="76c8e-360">Azure Content Delivery Network (CDN) Documentation</span></span>](https://azure.microsoft.com/documentation/services/cdn/)
* [<span data-ttu-id="76c8e-361">Az Azure CDN szolgáltatás használata</span><span class="sxs-lookup"><span data-stu-id="76c8e-361">Using Azure CDN</span></span>](/azure/cdn/cdn-create-new-endpoint/)
* <span data-ttu-id="76c8e-362">[Egy felhőalapú szolgáltatás integrálása az Azure CDN](/azure/cdn/cdn-cloud-service-with-cdn/)(https://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)</span><span class="sxs-lookup"><span data-stu-id="76c8e-362">[Integrate a cloud service with Azure CDN](/azure/cdn/cdn-cloud-service-with-cdn/)(https://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)</span></span>


<!-- links -->

[cdn-features]: /azure/cdn/cdn-overview#azure-cdn-features
