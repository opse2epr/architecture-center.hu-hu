---
title: Útmutató az automatikus skálázás
titleSuffix: Best practices for cloud applications
description: Útmutatás az automatikus skálázáshoz az alkalmazások által igényelt erőforrások dinamikus lefoglalása érdekében.
author: dragon119
ms.date: 05/17/2017
ms.custom: seodec18
ms.openlocfilehash: cb9707f85df993b08b6a01cae144f84e52a08ed7
ms.sourcegitcommit: 4ba3304eebaa8c493c3e5307bdd9d723cd90b655
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 12/12/2018
ms.locfileid: "53307129"
---
# <a name="autoscaling"></a><span data-ttu-id="aae48-103">Automatikus skálázás</span><span class="sxs-lookup"><span data-stu-id="aae48-103">Autoscaling</span></span>

<span data-ttu-id="aae48-104">Az automatikus skálázás az a folyamat, amely dinamikusan lefoglalja az erőforrásokat a teljesítményre vonatkozó követelményeknek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="aae48-104">Autoscaling is the process of dynamically allocating resources to match performance requirements.</span></span> <span data-ttu-id="aae48-105">Az elvégzendő feladatok mennyiségének növekedésével az alkalmazásoknak további erőforrásokra lehet szükségük ahhoz, hogy fenn tudják tartani a kívánt teljesítményszinteket és megfeleljenek a szolgáltatásiszint-szerződésekben (SLA) leírtaknak.</span><span class="sxs-lookup"><span data-stu-id="aae48-105">As the volume of work grows, an application may need additional resources to maintain the desired performance levels and satisfy service-level agreements (SLAs).</span></span> <span data-ttu-id="aae48-106">Ahogy az erőforrásigény csökken, a további erőforrások felszabadíthatók a költségek csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="aae48-106">As demand slackens and the additional resources are no longer needed, they can be de-allocated to minimize costs.</span></span>

<span data-ttu-id="aae48-107">Az automatikus skálázás kihasználja a felhőben futtatott környezetek rugalmasságát, ugyanakkor csökkenti a kezelési terheket.</span><span class="sxs-lookup"><span data-stu-id="aae48-107">Autoscaling takes advantage of the elasticity of cloud-hosted environments while easing management overhead.</span></span> <span data-ttu-id="aae48-108">Ezzel a megoldással kevésbé van szükség olyan operátorra, aki folyamatosan monitorozza a rendszer teljesítményét, és döntéseket hoz az erőforrások hozzáadásáról vagy eltávolításáról.</span><span class="sxs-lookup"><span data-stu-id="aae48-108">It reduces the need for an operator to continually monitor the performance of a system and make decisions about adding or removing resources.</span></span>

<span data-ttu-id="aae48-109">Az alkalmazásokat két fő módszerrel lehet skálázni:</span><span class="sxs-lookup"><span data-stu-id="aae48-109">There are two main ways that an application can scale:</span></span>

- <span data-ttu-id="aae48-110">A **vertikális skálázás**, más néven fel- és leskálázás az erőforrások kapacitásának módosítását jelenti.</span><span class="sxs-lookup"><span data-stu-id="aae48-110">**Vertical scaling**, also called scaling up and down, means changing the capacity of a resource.</span></span> <span data-ttu-id="aae48-111">Például az alkalmazások áthelyezhetők egy nagyobb méretű virtuális gépre.</span><span class="sxs-lookup"><span data-stu-id="aae48-111">For example, you could move an application to a larger VM size.</span></span> <span data-ttu-id="aae48-112">A vertikális skálázáshoz a rendszereket általában ideiglenesen elérhetetlenné kell tenni az újbóli üzembe helyezés előtt.</span><span class="sxs-lookup"><span data-stu-id="aae48-112">Vertical scaling often requires making the system temporarily unavailable while it is being redeployed.</span></span> <span data-ttu-id="aae48-113">Emiatt a vertikális skálázás automatizálása kevésbé gyakori.</span><span class="sxs-lookup"><span data-stu-id="aae48-113">Therefore, it's less common to automate vertical scaling.</span></span>

- <span data-ttu-id="aae48-114">A **horizontális skálázás**, más néven is néven horizontális fel- és leskálázás erőforráspéldányok hozzáadását vagy eltávolítását jelenti.</span><span class="sxs-lookup"><span data-stu-id="aae48-114">**Horizontal scaling**, also called scaling out and in, means adding or removing instances of a resource.</span></span> <span data-ttu-id="aae48-115">Az alkalmazás az új erőforrások kiépítése közben továbbra is megszakítás nélkül fut.</span><span class="sxs-lookup"><span data-stu-id="aae48-115">The application continues running without interruption as new resources are provisioned.</span></span> <span data-ttu-id="aae48-116">Ha a kiépítési folyamat befejeződött, a megoldás a további erőforrásokon is üzembe helyezésre kerül.</span><span class="sxs-lookup"><span data-stu-id="aae48-116">When the provisioning process is complete, the solution is deployed on these additional resources.</span></span> <span data-ttu-id="aae48-117">Ha az igény csökken, a további erőforrások probléma nélkül leállíthatók és felszabadíthatók.</span><span class="sxs-lookup"><span data-stu-id="aae48-117">If demand drops, the additional resources can be shut down cleanly and deallocated.</span></span>

<span data-ttu-id="aae48-118">Számos felhőalapú rendszer, köztük a Microsoft Azure is támogatja az automatikus horizontális skálázást.</span><span class="sxs-lookup"><span data-stu-id="aae48-118">Many cloud-based systems, including Microsoft Azure, support automatic horizontal scaling.</span></span> <span data-ttu-id="aae48-119">A cikk további része a horizontális skálázással foglalkozik.</span><span class="sxs-lookup"><span data-stu-id="aae48-119">The rest of this article focuses on horizontal scaling.</span></span>

> [!NOTE]
> <span data-ttu-id="aae48-120">Az automatikus skálázás legfőképp a számítási erőforrásokra vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="aae48-120">Autoscaling mostly applies to compute resources.</span></span> <span data-ttu-id="aae48-121">Bár egy adatbázis vagy az üzenetsorok horizontális skálázása is, ez általában magában foglalja a [adatparticionálás](./data-partitioning.md), ami legtöbbször nem automatizált.</span><span class="sxs-lookup"><span data-stu-id="aae48-121">While it's possible to horizontally scale a database or message queue, this usually involves [data partitioning](./data-partitioning.md), which is generally not automated.</span></span>

## <a name="overview"></a><span data-ttu-id="aae48-122">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="aae48-122">Overview</span></span>

<span data-ttu-id="aae48-123">Az automatikus skálázási stratégia általában a következőket foglalja magába:</span><span class="sxs-lookup"><span data-stu-id="aae48-123">An autoscaling strategy typically involves the following pieces:</span></span>

- <span data-ttu-id="aae48-124">Rendszerek kialakítása és monitorozása az alkalmazás, szolgáltatás és infrastruktúra szintjén.</span><span class="sxs-lookup"><span data-stu-id="aae48-124">Instrumentation and monitoring systems at the application, service, and infrastructure levels.</span></span> <span data-ttu-id="aae48-125">Ezek a rendszerek olyan alapvető metrikákat rögzítenek, mint a válaszidők, az üzenetsorok hossza, a CPU-használat és a memóriahasználat.</span><span class="sxs-lookup"><span data-stu-id="aae48-125">These systems capture key metrics, such as response times, queue lengths, CPU utilization, and memory usage.</span></span>
- <span data-ttu-id="aae48-126">Döntéshozási logika, amely e metrikákat az előre meghatározott küszöbértékekkel vagy ütemezésekkel összevetve értékeli, és eldönti, hogy szükség van-e skálázásra.</span><span class="sxs-lookup"><span data-stu-id="aae48-126">Decision-making logic that evaluates these metrics against predefined thresholds or schedules, and decides whether to scale.</span></span>
- <span data-ttu-id="aae48-127">A rendszert skálázó összetevők.</span><span class="sxs-lookup"><span data-stu-id="aae48-127">Components that scale the system.</span></span>
- <span data-ttu-id="aae48-128">Az automatikus skálázási stratégia tesztelése, monitorozása és finomhangolása annak érdekében, hogy a várt módon működjön.</span><span class="sxs-lookup"><span data-stu-id="aae48-128">Testing, monitoring, and tuning of the autoscaling strategy to ensure that it functions as expected.</span></span>

<span data-ttu-id="aae48-129">Az Azure beépített automatikus skálázási mechanizmusokat biztosít, amelyek a gyakori forgatókönyvekhez használhatók.</span><span class="sxs-lookup"><span data-stu-id="aae48-129">Azure provides built-in autoscaling mechanisms that address common scenarios.</span></span> <span data-ttu-id="aae48-130">Ha egy adott szolgáltatás vagy technológia nem rendelkezik beépített automatikus skálázási funkcióval, vagy ha az adott automatikus skálázási követelmények meghaladják a kapacitását, érdemes lehet egy egyéni kialakítást használni.</span><span class="sxs-lookup"><span data-stu-id="aae48-130">If a particular service or technology does not have built-in autoscaling functionality, or if you have specific autoscaling requirements beyond its capabilities, you might consider a custom implementation.</span></span> <span data-ttu-id="aae48-131">Az egyéni kialakítások összegyűjtik a működési és rendszermetrikákat, amelyeket elemeznek, majd ennek megfelelően skálázzák az erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="aae48-131">A custom implementation would collect operational and system metrics, analyze the metrics, and then scale resources accordingly.</span></span>

## <a name="configure-autoscaling-for-an-azure-solution"></a><span data-ttu-id="aae48-132">Egy Azure-megoldás automatikus skálázásának konfigurálása</span><span class="sxs-lookup"><span data-stu-id="aae48-132">Configure autoscaling for an Azure solution</span></span>

<span data-ttu-id="aae48-133">Az Azure beépített automatikus skálázást nyújt a legtöbb számítási lehetőséghez.</span><span class="sxs-lookup"><span data-stu-id="aae48-133">Azure provides built-in autoscaling for most compute options.</span></span>

- <span data-ttu-id="aae48-134">A **Virtual Machines** az automatikus skálázást [virtuálisgép-méretezési csoportok][vm-scale-sets] használatával támogatja, amelyek segítségével több Azure-beli virtuális gép egy csoportként kezelhető.</span><span class="sxs-lookup"><span data-stu-id="aae48-134">**Virtual Machines** support autoscaling through the use of [VM Scale Sets][vm-scale-sets], which are a way to manage a set of Azure virtual machines as a group.</span></span> <span data-ttu-id="aae48-135">Lásd: [Az automatikus skálázás és a virtuálisgép-méretezési csoportok használata][vm-scale-sets-autoscale].</span><span class="sxs-lookup"><span data-stu-id="aae48-135">See [How to use automatic scaling and Virtual Machine Scale Sets][vm-scale-sets-autoscale].</span></span>

- <span data-ttu-id="aae48-136">A **Service Fabric** szintén támogatja a virtuálisgép-méretezési csoportok használatával végzett automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="aae48-136">**Service Fabric** also supports auto-scaling through VM Scale Sets.</span></span> <span data-ttu-id="aae48-137">A Service Fabric-fürtök minden csomóponttípusa egy külön virtuálisgép-méretezési csoportként üzemel.</span><span class="sxs-lookup"><span data-stu-id="aae48-137">Every node type in a Service Fabric cluster is set up as a separate VM scale set.</span></span> <span data-ttu-id="aae48-138">Így az egyes csomóponttípusok egymástól függetlenül skálázhatók fel vagy le horizontálisan.</span><span class="sxs-lookup"><span data-stu-id="aae48-138">That way, each node type can be scaled in or out independently.</span></span> <span data-ttu-id="aae48-139">Lásd: [Service Fabric-fürt horizontális fel- vagy leskálázása automatikus skálázási szabályok használatával][service-fabric-autoscale].</span><span class="sxs-lookup"><span data-stu-id="aae48-139">See [Scale a Service Fabric cluster in or out using auto-scale rules][service-fabric-autoscale].</span></span>

- <span data-ttu-id="aae48-140">Az **Azure App Service** beépített automatikus skálázási funkcióval rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="aae48-140">**Azure App Service** has built-in autoscaling.</span></span> <span data-ttu-id="aae48-141">Az automatikus skálázási beállítások egy adott App Service-szolgáltatáson belüli összes alkalmazásra vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="aae48-141">Autoscale settings apply to all of the apps within an App Service.</span></span> <span data-ttu-id="aae48-142">Lásd: [Példányszám manuális vagy automatikus skálázása][app-service-autoscale].</span><span class="sxs-lookup"><span data-stu-id="aae48-142">See [Scale instance count manually or automatically][app-service-autoscale].</span></span>

- <span data-ttu-id="aae48-143">Az **Azure Cloud Services** beépített szerepkörszintű automatikus skálázási funkcióval rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="aae48-143">**Azure Cloud Services** has built-in autoscaling at the role level.</span></span> <span data-ttu-id="aae48-144">Lásd: [Felhőszolgáltatás automatikus skálázásának konfigurálása a portálon][cloud-services-autoscale].</span><span class="sxs-lookup"><span data-stu-id="aae48-144">See [How to configure auto scaling for a Cloud Service in the portal][cloud-services-autoscale].</span></span>

<span data-ttu-id="aae48-145">Ezek a számítási lehetőségek mind az [Azure Monitor automatikus skálázása][monitoring] segítségével biztosítják a közös automatikus skálázási funkciókat.</span><span class="sxs-lookup"><span data-stu-id="aae48-145">These compute options all use [Azure Monitor autoscale][monitoring] to provide a common set of autoscaling functionality.</span></span>

- <span data-ttu-id="aae48-146">Az **Azure Functions** abban különbözik a korábbi számítási lehetőségektől, hogy nem kell hozzá automatikus skálázási szabályokat konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="aae48-146">**Azure Functions** differs from the previous compute options, because you don't need to configure any autoscale rules.</span></span> <span data-ttu-id="aae48-147">Ehelyett az Azure Functions automatikusan lefoglalja a számítási erőforrásokat a kód futásakor, és szükség szerint végzi el a horizontális felskálázást a terhelés kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="aae48-147">Instead, Azure Functions automatically allocates compute power when your code is running, scaling out as necessary to handle load.</span></span> <span data-ttu-id="aae48-148">További információ: [A megfelelő Azure Functions szolgáltatási csomag kiválasztása][functions-scale].</span><span class="sxs-lookup"><span data-stu-id="aae48-148">For more information, see [Choose the correct hosting plan for Azure Functions][functions-scale].</span></span>

<span data-ttu-id="aae48-149">Végül egyes esetekben egy egyéni automatikus skálázási megoldás használata is hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="aae48-149">Finally, a custom autoscaling solution can sometimes be useful.</span></span> <span data-ttu-id="aae48-150">Például használhat Azure-diagnosztikákat és alkalmazásalapú metrikákat, valamint egyéni kódokat az alkalmazásmetrikák monitorozásához és exportálásához.</span><span class="sxs-lookup"><span data-stu-id="aae48-150">For example, you could use Azure diagnostics and application-based metrics, along with custom code to monitor and export the application metrics.</span></span> <span data-ttu-id="aae48-151">Ezután a metrikák alapján megadhat egyéni szabályokat, majd a Resource Manager REST API-k segítségével aktiválhatja az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="aae48-151">Then you could define custom rules based on these metrics, and use Resource Manager REST APIs to trigger autoscaling.</span></span> <span data-ttu-id="aae48-152">Azonban az egyéni megoldásokat nem egyszerű megvalósítani, ezért a használatuk csak abban az esetben ajánlott, ha az előző módszerek egyike sem fel meg a követelményeknek.</span><span class="sxs-lookup"><span data-stu-id="aae48-152">However, a custom solution is not simple to implement, and should be considered only if none of the previous approaches can fulfill your requirements.</span></span>

<span data-ttu-id="aae48-153">Használja a platform beépített automatikus skálázási funkcióit, ha azok megfelelnek a követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="aae48-153">Use the built-in autoscaling features of the platform, if they meet your requirements.</span></span> <span data-ttu-id="aae48-154">Ha nem, alaposan gondolja át, hogy valóban szüksége van-e az összetettebb skálázási funkciókra.</span><span class="sxs-lookup"><span data-stu-id="aae48-154">If not, carefully consider whether you really need more complex scaling features.</span></span> <span data-ttu-id="aae48-155">A további követelmények közé tartozhatnak a részletesebb vezérlés, a méretezést kiváltó események észlelésének különböző módjai, a különböző előfizetéseken keresztüli skálázás és az egyéb típusú erőforrások skálázása.</span><span class="sxs-lookup"><span data-stu-id="aae48-155">Examples of additional requirements may include more granularity of control, different ways to detect trigger events for scaling, scaling across subscriptions, and scaling other types of resources.</span></span>

## <a name="use-azure-monitor-autoscale"></a><span data-ttu-id="aae48-156">Az Azure Monitor automatikus skálázásának használata</span><span class="sxs-lookup"><span data-stu-id="aae48-156">Use Azure Monitor autoscale</span></span>

<span data-ttu-id="aae48-157">Az [Azure Monitor automatikus skálázása][monitoring] közös automatikus skálázási funkciókat biztosít a virtuálisgép-méretezési csoportokhoz, az Azure App Service-szolgáltatásokhoz és az Azure Cloud Service-szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="aae48-157">[Azure Monitor autoscale][monitoring] provide a common set of autoscaling functionality for VM Scale Sets, Azure App Service, and Azure Cloud Service.</span></span> <span data-ttu-id="aae48-158">A skálázás elvégezhető egy ütemezés szerint, vagy futtatókörnyezeti metrikára, például CPU- vagy memóriahasználatra is alapozható.</span><span class="sxs-lookup"><span data-stu-id="aae48-158">Scaling can be performed on a schedule, or based on a runtime metric, such as CPU or memory usage.</span></span> <span data-ttu-id="aae48-159">Példák:</span><span class="sxs-lookup"><span data-stu-id="aae48-159">Examples:</span></span>

- <span data-ttu-id="aae48-160">Horizontális felskálázás 10 példányra hétköznapokon és horizontális leskálázás 4 példányra hétvégén.</span><span class="sxs-lookup"><span data-stu-id="aae48-160">Scale out to 10 instances on weekdays, and scale in to 4 instances on Saturday and Sunday.</span></span>
- <span data-ttu-id="aae48-161">Horizontális felskálázás egy példánnyal, ha az átlagos CPU-használat 70% fölé emelkedik és horizontális leskálázás egy példánnyal, ha a CPU-használat 50% alá esik.</span><span class="sxs-lookup"><span data-stu-id="aae48-161">Scale out by one instance if average CPU usage is above 70%, and scale in by one instance if CPU usage falls below 50%.</span></span>
- <span data-ttu-id="aae48-162">Horizontális felskálázás egy példánnyal, ha egy üzenetsorban található üzenetek száma meghalad egy adott küszöbértéket.</span><span class="sxs-lookup"><span data-stu-id="aae48-162">Scale out by one instance if the number of messages in a queue exceeds a certain threshold.</span></span>

<span data-ttu-id="aae48-163">A beépített metrikák listájáért lásd: [Az Azure Monitor automatikus skálázáshoz használt közös metrikái][autoscale-metrics].</span><span class="sxs-lookup"><span data-stu-id="aae48-163">For a list of built-in metrics, see [Azure Monitor autoscaling common metrics][autoscale-metrics].</span></span> <span data-ttu-id="aae48-164">Application Insights segítségével Megvalósíthat egyéni metrikákat is.</span><span class="sxs-lookup"><span data-stu-id="aae48-164">You can also implement custom metrics by using Application Insights.</span></span>

<span data-ttu-id="aae48-165">Az automatikus skálázást a PowerShell, az Azure CLI, egy Azure Resource Manager-sablon vagy az Azure Portal használatával konfigurálhatja.</span><span class="sxs-lookup"><span data-stu-id="aae48-165">You can configure autoscaling by using PowerShell, the Azure CLI, an Azure Resource Manager template, or the Azure portal.</span></span> <span data-ttu-id="aae48-166">Részletesebb vezérléshez használja az [Azure Resource Manager REST API](https://msdn.microsoft.com//library/azure/dn790568.aspx)-t.</span><span class="sxs-lookup"><span data-stu-id="aae48-166">For more detailed control, use the [Azure Resource Manager REST API](https://msdn.microsoft.com//library/azure/dn790568.aspx).</span></span> <span data-ttu-id="aae48-167">Az [Azure Monitoring Service Management Library](https://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) és a [Microsoft Insights Library](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (előzetes verzió) olyan SDK-k, amelyek lehetővé teszik a különböző erőforrások metrikáinak begyűjtését és az automatikus skálázás végrehajtását a REST API-k használatával.</span><span class="sxs-lookup"><span data-stu-id="aae48-167">The [Azure Monitoring Service Management Library](https://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) and the [Microsoft Insights Library](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (in preview) are SDKs that allow collecting metrics from different resources, and perform autoscaling by making use of the REST APIs.</span></span> <span data-ttu-id="aae48-168">Az Azure Resource Managert nem támogató erőforrások, illetve az Azure Cloud Services használata esetén a Service Management REST API használható az automatikus skálázáshoz.</span><span class="sxs-lookup"><span data-stu-id="aae48-168">For resources where Azure Resource Manager support isn't available, or if you are using Azure Cloud Services, the Service Management REST API can be used for autoscaling.</span></span> <span data-ttu-id="aae48-169">Minden egyéb esetben használja az Azure Resource Managert.</span><span class="sxs-lookup"><span data-stu-id="aae48-169">In all other cases, use Azure Resource Manager.</span></span>

<span data-ttu-id="aae48-170">Az Azure automatikus skálázás használatakor vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="aae48-170">Consider the following points when using Azure autoscale:</span></span>

- <span data-ttu-id="aae48-171">Vegye figyelembe, hogy az alkalmazás terhelését kellő mértékben előre tudja-e jelezni az ütemezett automatikus skálázás használatához, a példányok hozzáadásához és eltávolításához, illetve az erőforrásigény várható csúcsainak kiszolgálásához.</span><span class="sxs-lookup"><span data-stu-id="aae48-171">Consider whether you can predict the load on the application well enough to use scheduled autoscaling, adding and removing instances to meet anticipated peaks in demand.</span></span> <span data-ttu-id="aae48-172">Ha ez nem lehetséges, használjon a futtatókörnyezeti metrikákon alapuló, reaktív automatikus skálázást, amely képes kezelni az erőforrásigény előre nem látható változásait.</span><span class="sxs-lookup"><span data-stu-id="aae48-172">If this isn't possible, use reactive autoscaling based on runtime metrics, in order to handle unpredictable changes in demand.</span></span> <span data-ttu-id="aae48-173">Általában ezek a módszerek kombinálhatók.</span><span class="sxs-lookup"><span data-stu-id="aae48-173">Typically, you can combine these approaches.</span></span> <span data-ttu-id="aae48-174">Például létrehozhat egy olyan stratégiát, amely az erőforrásokat ütemezés alapján adja hozzá azokban az időpontokban, amikor tudni lehet, hogy az alkalmazás a leginkább le lesz terhelve.</span><span class="sxs-lookup"><span data-stu-id="aae48-174">For example, create a strategy that adds resources based on a schedule of the times when you know the application is most busy.</span></span> <span data-ttu-id="aae48-175">Ezzel biztosítható az igény szerinti kapacitás rendelkezésre állása az új példányok elindításából adódó késedelem nélkül.</span><span class="sxs-lookup"><span data-stu-id="aae48-175">This helps to ensure that capacity is available when required, without any delay from starting new instances.</span></span> <span data-ttu-id="aae48-176">Minden egyes ütemezett szabályhoz megadhatók metrikák, amelyek az adott időszakra lehetővé teszik a reaktív automatikus skálázást annak biztosítása érdekében, hogy az alkalmazás kezelni tudja a tartós, de előre nem látható igénybevételi csúcsokat.</span><span class="sxs-lookup"><span data-stu-id="aae48-176">For each scheduled rule, define metrics that allow reactive autoscaling during that period to ensure that the application can handle sustained but unpredictable peaks in demand.</span></span>

- <span data-ttu-id="aae48-177">A metrikák és a kapacitásbeli követelmények közötti kapcsolatot általában nehéz átlátni, különösen egy alkalmazás első üzembe helyezésekor.</span><span class="sxs-lookup"><span data-stu-id="aae48-177">It's often difficult to understand the relationship between metrics and capacity requirements, especially when an application is initially deployed.</span></span> <span data-ttu-id="aae48-178">A legjobb kezdetben kiépíteni egy kis további kapacitást, majd monitorozás alapján az automatikus skálázási szabályok finomhangolásával közelebb állítani a kapacitást a valós terheléshez.</span><span class="sxs-lookup"><span data-stu-id="aae48-178">Provision a little extra capacity at the beginning, and then monitor and tune the autoscaling rules to bring the capacity closer to the actual load.</span></span>

- <span data-ttu-id="aae48-179">Konfigurálja az automatikus skálázási szabályokat, majd egy ideig monitorozza az alkalmazás teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="aae48-179">Configure the autoscaling rules, and then monitor the performance of your application over time.</span></span> <span data-ttu-id="aae48-180">A monitorozás eredményei alapján beállíthatja, hogy a rendszer szükség esetén hogyan végezze el a skálázást.</span><span class="sxs-lookup"><span data-stu-id="aae48-180">Use the results of this monitoring to adjust the way in which the system scales if necessary.</span></span> <span data-ttu-id="aae48-181">Azonban vegye figyelembe, hogy az automatikus skálázás nem egy azonnali folyamat.</span><span class="sxs-lookup"><span data-stu-id="aae48-181">However, keep in mind that autoscaling is not an instantaneous process.</span></span> <span data-ttu-id="aae48-182">Időbe telik, míg a rendszer reagál az olyan metrikákra, mint például amikor az átlagos CPU-használat meghalad egy bizonyos küszöbértéket (vagy az alá csökken).</span><span class="sxs-lookup"><span data-stu-id="aae48-182">It takes time to react to a metric such as average CPU utilization exceeding (or falling below) a specified threshold.</span></span>

- <span data-ttu-id="aae48-183">A mért eseményindító attribútumon (például CPU-használaton vagy egy üzenetsor hosszán) alapuló észlelési mechanizmust használó automatikus skálázási szabályok az automatikus skálázási műveleteket nem azonnali értékek, hanem egy adott időszakra vonatkozó összesített érték alapján aktiválják.</span><span class="sxs-lookup"><span data-stu-id="aae48-183">Autoscaling rules that use a detection mechanism based on a measured trigger attribute (such as CPU usage or queue length) use an aggregated value over time, rather than instantaneous values, to trigger an autoscaling action.</span></span> <span data-ttu-id="aae48-184">Alapértelmezés szerint az összesített érték az adott idő alatt mért értékek átlaga.</span><span class="sxs-lookup"><span data-stu-id="aae48-184">By default, the aggregate is an average of the values.</span></span> <span data-ttu-id="aae48-185">Ez a módszer megakadályozza, hogy a rendszer túl gyorsan reagáljon vagy gyors ingadozást idézzen elő.</span><span class="sxs-lookup"><span data-stu-id="aae48-185">This prevents the system from reacting too quickly, or causing rapid oscillation.</span></span> <span data-ttu-id="aae48-186">Emellett időt hagy az automatikusan elindított új példányoknak, hogy beálljanak a futási üzemmódba, és megakadályozza, hogy az új példányok indulása közben további automatikus skálázási műveletek menjenek végbe.</span><span class="sxs-lookup"><span data-stu-id="aae48-186">It also allows time for new instances that are auto-started to settle into running mode, preventing additional autoscaling actions from occurring while the new instances are starting up.</span></span> <span data-ttu-id="aae48-187">Az Azure Cloud Services és az Azure Virtual Machines esetében az alapértelmezett összesítési időszak 45 perc, tehát ennyi időbe telhet, amíg a metrika az igénybevételi csúcsokra válaszul aktivál egy automatikus skálázási műveletet.</span><span class="sxs-lookup"><span data-stu-id="aae48-187">For Azure Cloud Services and Azure Virtual Machines, the default period for the aggregation is 45 minutes, so it can take up to this period of time for the metric to trigger autoscaling in response to spikes in demand.</span></span> <span data-ttu-id="aae48-188">Módosítsa az összesítési időszak az SDK-val, de vegye figyelembe, hogy a 25 percnél rövidebb időszakok kiszámíthatatlan eredményekhez vezethetnek.</span><span class="sxs-lookup"><span data-stu-id="aae48-188">You can change the aggregation period by using the SDK, but be aware that periods of fewer than 25 minutes may cause unpredictable results.</span></span> <span data-ttu-id="aae48-189">A Web Apps esetében az átlagolási időtartam jóval rövidebb, így az új példányok már nagyjából öt perccel a kiváltó átlagolt mérőszám változását követően elérhetők.</span><span class="sxs-lookup"><span data-stu-id="aae48-189">For Web Apps, the averaging period is much shorter, allowing new instances to be available in about five minutes after a change to the average trigger measure.</span></span>

- <span data-ttu-id="aae48-190">Ha az automatikus skálázást a portál helyett az SDK használatával konfigurálja, akkor részletesebb ütemezést adhat meg az aktív szabályokra vonatkozóan.</span><span class="sxs-lookup"><span data-stu-id="aae48-190">If you configure autoscaling using the SDK rather than the portal, you can specify a more detailed schedule during which the rules are active.</span></span> <span data-ttu-id="aae48-191">Emellett létrehozhat saját metrikákat is, és felhasználhatja őket az automatikus skálázási szabályokhoz a meglévő metrikákkal együtt vagy azok nélkül is.</span><span class="sxs-lookup"><span data-stu-id="aae48-191">You can also create your own metrics and use them with or without any of the existing ones in your autoscaling rules.</span></span> <span data-ttu-id="aae48-192">Például előfordulhat, hogy alternatív számlálókat szeretne használni, mint a kérelmek másodpercenkénti száma vagy a memória átlagos rendelkezésre állása, esetleg olyan egyéni számlálókat szeretne használni, amelyek bizonyos üzleti folyamatokat mérnek.</span><span class="sxs-lookup"><span data-stu-id="aae48-192">For example, you may wish to use alternative counters, such as the number of requests per second or the average memory availability, or use custom counters that measure specific business processes.</span></span>

- <span data-ttu-id="aae48-193">A Service Fabric automatikus skálázásakor a fürtben található csomóponttípusokat a háttérben lévő virtuálisgép-méretezési csoportok alkotják, így az egyes csomóponttípusok mindegyikéhez automatikus skálázási szabályokat kell beállítani.</span><span class="sxs-lookup"><span data-stu-id="aae48-193">When autoscaling Service Fabric, the node types in your cluster are made of VM scale sets at the backend, so you need to set up auto-scale rules for each node type.</span></span> <span data-ttu-id="aae48-194">Vegye figyelembe a szükséges csomópontok számát, mielőtt beállítja az automatikus skálázást.</span><span class="sxs-lookup"><span data-stu-id="aae48-194">Take into account the number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="aae48-195">Az elsődleges csomóponttípushoz megadott minimálisan szükséges csomópontszámot a kiválasztott megbízhatósági szint határozza meg.</span><span class="sxs-lookup"><span data-stu-id="aae48-195">The minimum number of nodes that you must have for the primary node type is driven by the reliability level you have chosen.</span></span> <span data-ttu-id="aae48-196">További információ: [Service Fabric-fürt fel- vagy leskálázása automatikus skálázási szabályok használatával](/azure/service-fabric/service-fabric-cluster-scale-up-down).</span><span class="sxs-lookup"><span data-stu-id="aae48-196">For more info, see [scale a Service Fabric cluster in or out using auto-scale rules](/azure/service-fabric/service-fabric-cluster-scale-up-down).</span></span>

- <span data-ttu-id="aae48-197">A portál segítségével erőforrásokat, például SQL Database-példányokat és üzenetsorokat kapcsolhat egy Cloud Service-példányhoz.</span><span class="sxs-lookup"><span data-stu-id="aae48-197">You can use the portal to link resources such as SQL Database instances and queues to a Cloud Service instance.</span></span> <span data-ttu-id="aae48-198">Ez könnyebben elérhetővé teszi a különböző manuális és automatikus skálázási konfigurációs beállításokat a kapcsolt erőforrások mindegyikéhez.</span><span class="sxs-lookup"><span data-stu-id="aae48-198">This allows you to more easily access the separate manual and automatic scaling configuration options for each of the linked resources.</span></span> <span data-ttu-id="aae48-199">További információkért lásd: [hogyan: Erőforrás összekapcsolása egy felhőalapú szolgáltatás](/azure/cloud-services/cloud-services-how-to-manage).</span><span class="sxs-lookup"><span data-stu-id="aae48-199">For more information, see [How to: Link a resource to a cloud service](/azure/cloud-services/cloud-services-how-to-manage).</span></span>

- <span data-ttu-id="aae48-200">Ha több házirend és szabály is konfigurálva van, azok ütközhetnek egymással.</span><span class="sxs-lookup"><span data-stu-id="aae48-200">When you configure multiple policies and rules, they could conflict with each other.</span></span> <span data-ttu-id="aae48-201">Az automatikus skálázás az alábbi ütközésfeloldási szabályok használatával biztosítja, hogy mindig elegendő mennyiségű példány fusson:</span><span class="sxs-lookup"><span data-stu-id="aae48-201">Autoscale uses the following conflict resolution rules to ensure that there is always a sufficient number of instances running:</span></span>
  - <span data-ttu-id="aae48-202">A horizontális felskálázási műveletek mindig elsőbbséget élveznek a horizontális leskálázási műveletekkel szemben.</span><span class="sxs-lookup"><span data-stu-id="aae48-202">Scale out operations always take precedence over scale in operations.</span></span>
  - <span data-ttu-id="aae48-203">Ha horizontális felskálázási műveletek között van ütközés, akkor mindig a példányszámok legnagyobb mértékű növelését kezdeményező szabály lép érvénybe.</span><span class="sxs-lookup"><span data-stu-id="aae48-203">When scale out operations conflict, the rule that initiates the largest increase in the number of instances takes precedence.</span></span>
  - <span data-ttu-id="aae48-204">Ha horizontális leskálázási műveletek között van ütközés, akkor mindig a példányszámok legkisebb mértékű csökkentését kezdeményező szabály lép érvénybe.</span><span class="sxs-lookup"><span data-stu-id="aae48-204">When scale in operations conflict, the rule that initiates the smallest decrease in the number of instances takes precedence.</span></span>

- <span data-ttu-id="aae48-205">Az App Service Environment-környezetekben bármennyi feldolgozókészlet vagy előtérmetrika használható az automatikus skálázási szabályok meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="aae48-205">In an App Service Environment any worker pool or front-end metrics can be used to define autoscale rules.</span></span> <span data-ttu-id="aae48-206">További információ: [Automatikus skálázás és az App Service Environment-környezet](/azure/app-service/app-service-environment-auto-scale).</span><span class="sxs-lookup"><span data-stu-id="aae48-206">For more information, see [Autoscaling and App Service Environment](/azure/app-service/app-service-environment-auto-scale).</span></span>

## <a name="application-design-considerations"></a><span data-ttu-id="aae48-207">Alkalmazáskialakítási szempontok</span><span class="sxs-lookup"><span data-stu-id="aae48-207">Application design considerations</span></span>

<span data-ttu-id="aae48-208">Az automatikus skálázás nem egy azonnali megoldás.</span><span class="sxs-lookup"><span data-stu-id="aae48-208">Autoscaling isn't an instant solution.</span></span> <span data-ttu-id="aae48-209">Ha egyszerűen hozzáadunk erőforrásokat egy rendszerhez, vagy több példányban futtatunk egy folyamatot, az nem garantálja a rendszer teljesítményének növekedését.</span><span class="sxs-lookup"><span data-stu-id="aae48-209">Simply adding resources to a system or running more instances of a process doesn't guarantee that the performance of the system will improve.</span></span> <span data-ttu-id="aae48-210">Az automatikus skálázási stratégiák tervezésekor vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="aae48-210">Consider the following points when designing an autoscaling strategy:</span></span>

- <span data-ttu-id="aae48-211">A rendszert úgy kell megtervezni, hogy horizontálisan skálázható legyen.</span><span class="sxs-lookup"><span data-stu-id="aae48-211">The system must be designed to be horizontally scalable.</span></span> <span data-ttu-id="aae48-212">Ne hagyatkozzon feltételezésekre a példányok affinitásával kapcsolatban, és ne tervezzen olyan megoldásokat, amelyeknek az az igénye, hogy a kód mindig egy folyamat adott példányán fusson.</span><span class="sxs-lookup"><span data-stu-id="aae48-212">Avoid making assumptions about instance affinity; do not design solutions that require that the code is always running in a specific instance of a process.</span></span> <span data-ttu-id="aae48-213">Egy felhőszolgáltatás vagy webhely horizontális skálázásakor nem szabad azt feltételezni, hogy az azonos forrásból érkező kérelmek mindig ugyanahhoz a példányhoz kerülnek.</span><span class="sxs-lookup"><span data-stu-id="aae48-213">When scaling a cloud service or web site horizontally, don't assume that a series of requests from the same source will always be routed to the same instance.</span></span> <span data-ttu-id="aae48-214">Ugyanezen okból a szolgáltatásokat állapot nélkülire kell tervezni, hogy az egy adott alkalmazástól érkező kéréseknek ne kelljen mindig a szolgáltatás ugyanazon példányához kerülnie.</span><span class="sxs-lookup"><span data-stu-id="aae48-214">For the same reason, design services to be stateless to avoid requiring a series of requests from an application to always be routed to the same instance of a service.</span></span> <span data-ttu-id="aae48-215">Amikor egy olyan szolgáltatást tervez meg, amely egy üzenetsor üzeneteit olvassa be és dolgozza fel, akkor ne hagyatkozzon feltételezésekre azt illetően, hogy egy adott üzenetet a szolgáltatás mely példánya fog kezelni.</span><span class="sxs-lookup"><span data-stu-id="aae48-215">When designing a service that reads messages from a queue and processes them, don't make any assumptions about which instance of the service handles a specific message.</span></span> <span data-ttu-id="aae48-216">Az automatikus skálázással a szolgáltatás további példányai indíthatók el az üzenetsor hosszának növekedésével párhuzamosan.</span><span class="sxs-lookup"><span data-stu-id="aae48-216">Autoscaling could start additional instances of a service as the queue length grows.</span></span> <span data-ttu-id="aae48-217">A [versengő felhasználók mintája](../patterns/competing-consumers.md) azt ismerteti, hogyan legyen kezelve az ebben a forgatókönyvben.</span><span class="sxs-lookup"><span data-stu-id="aae48-217">The [Competing Consumers pattern](../patterns/competing-consumers.md) describes how to handle this scenario.</span></span>

- <span data-ttu-id="aae48-218">Ha a megoldás egy hosszan futó feladatot valósít meg, akkor a feladatot úgy kell megtervezni, hogy a horizontális fel- és leskálázást is támogassa.</span><span class="sxs-lookup"><span data-stu-id="aae48-218">If the solution implements a long-running task, design this task to support both scaling out and scaling in.</span></span> <span data-ttu-id="aae48-219">Megfelelő odafigyelés nélkül a feladatok akadályozhatják azt, hogy a folyamatpéldányok megfelelően leálljanak a rendszer leskálázásakor, vagy adatvesztést okozhatnak a folyamat kényszerített leállításakor.</span><span class="sxs-lookup"><span data-stu-id="aae48-219">Without due care, such a task could prevent an instance of a process from being shut down cleanly when the system scales in, or it could lose data if the process is forcibly terminated.</span></span> <span data-ttu-id="aae48-220">Ideális esetben érdemes a hosszan futó feladatot újrabontani, és az általa végzett feldolgozást kisebb, különálló darabokra osztani.</span><span class="sxs-lookup"><span data-stu-id="aae48-220">Ideally, refactor a long-running task and break up the processing that it performs into smaller, discrete chunks.</span></span> <span data-ttu-id="aae48-221">A [csövek és szűrők minta](../patterns/pipes-and-filters.md) azt szemlélteti, hogyan lehet ezt elérni.</span><span class="sxs-lookup"><span data-stu-id="aae48-221">The [Pipes and Filters pattern](../patterns/pipes-and-filters.md) provides an example of how you can achieve this.</span></span>

- <span data-ttu-id="aae48-222">További megoldásként megvalósíthat egy ellenőrzőpontos mechanizmust, amely rendszeres időközönként rögzíti a feladat állapotadatait és elmenti azokat egy tartós tárolóban, amelyhez a feladatot futtató folyamat bármely példánya hozzáférhet.</span><span class="sxs-lookup"><span data-stu-id="aae48-222">Alternatively, you can implement a checkpoint mechanism that records state information about the task at regular intervals, and save this state in durable storage that can be accessed by any instance of the process running the task.</span></span> <span data-ttu-id="aae48-223">Így a folyamat leállásakor az általa végzett munkát egy másik példány a legutóbbi ellenőrzőponttól tudja folytatni.</span><span class="sxs-lookup"><span data-stu-id="aae48-223">In this way, if the process is shutdown, the work that it was performing can be resumed from the last checkpoint by using another instance.</span></span>

- <span data-ttu-id="aae48-224">Amikor háttérfeladatok külön számítási példányokon futnak, például egy felhőszolgáltatásban futó alkalmazás különböző feldolgozói szerepkörei esetében, akkor szükség lehet az alkalmazás különböző részeinek különböző skálázási szabályzattal történő skálázására.</span><span class="sxs-lookup"><span data-stu-id="aae48-224">When background tasks run on separate compute instances, such as in worker roles of a cloud services hosted application, you may need to scale different parts of the application using different scaling policies.</span></span> <span data-ttu-id="aae48-225">Például szükséges lehet a felhasználói felületek (UI) további számítási példányainak üzembe helyezése a háttérbeli számítási példányok számának növelése nélkül, vagy ennek a fordítottja.</span><span class="sxs-lookup"><span data-stu-id="aae48-225">For example, you may need to deploy additional user interface (UI) compute instances without increasing the number of background compute instances, or the opposite of this.</span></span> <span data-ttu-id="aae48-226">Ha több különböző szolgáltatási szintet is nyújt (például alapszintű és prémium szolgáltatáscsomagokat), akkor a prémium szolgáltatáscsomagok a számítási erőforrások agresszívabb horizontális felskálázását igényelhetik az SLA betartása érdekében, mint az alapszintű szolgáltatáscsomagok.</span><span class="sxs-lookup"><span data-stu-id="aae48-226">If you offer different levels of service (such as basic and premium service packages), you may need to scale out the compute resources for premium service packages more aggressively than those for basic service packages in order to meet SLAs.</span></span>

- <span data-ttu-id="aae48-227">Érdemes lehet az automatikus skálázási stratégia feltételeként annak az üzenetsornak a hosszát használni, amelyben a felhasználói felületi és a háttérbeli számítási példányok kommunikálnak.</span><span class="sxs-lookup"><span data-stu-id="aae48-227">Consider using the length of the queue over which UI and background compute instances communicate as a criterion for your autoscaling strategy.</span></span> <span data-ttu-id="aae48-228">Ez jelzi a legpontosabban az aktuális terhelés és a háttérfeladat feldolgozási kapacitása közti egyenetlenséget vagy különbséget.</span><span class="sxs-lookup"><span data-stu-id="aae48-228">This is the best indicator of an imbalance or difference between the current load and the processing capacity of the background task.</span></span>

- <span data-ttu-id="aae48-229">Ha az automatikus skálázási stratégia alapja egy üzleti folyamatokhoz kapcsolódó mérőszám, amely például az óránként leadott megrendelések számát vagy egy összetett tranzakció átlagos végrehajtási idejét méri, akkor mindenképpen legyen tisztában azzal, hogy milyen összefüggés van az ilyen típusú mérőszámok eredményei és a tényleges számítási kapacitásigények között.</span><span class="sxs-lookup"><span data-stu-id="aae48-229">If you base your autoscaling strategy on counters that measure business processes, such as the number of orders placed per hour or the average execution time of a complex transaction, ensure that you fully understand the relationship between the results from these types of counters and the actual compute capacity requirements.</span></span> <span data-ttu-id="aae48-230">Elképzelhető, hogy az üzleti folyamatok mérőszámainak változására válaszul egynél több összetevőt vagy számítási egységet is skálázni kell.</span><span class="sxs-lookup"><span data-stu-id="aae48-230">It may be necessary to scale more than one component or compute unit in response to changes in business process counters.</span></span>

- <span data-ttu-id="aae48-231">Annak érdekében, hogy a rendszer ne próbálkozzon túlzott mértékű horizontális felskálázással, illetve a több ezer példány futtatásából adódó költségek elkerüléséhez érdemes korlátozni az automatikusan hozzáadható példányok maximális számát.</span><span class="sxs-lookup"><span data-stu-id="aae48-231">To prevent a system from attempting to scale out excessively, and to avoid the costs associated with running many thousands of instances, consider limiting the maximum number of instances that can be automatically added.</span></span> <span data-ttu-id="aae48-232">A legtöbb automatikus skálázási mechanizmus lehetővé teszi az egyes szabályokhoz tartozó minimális és maximális példányszámok megadását.</span><span class="sxs-lookup"><span data-stu-id="aae48-232">Most autoscaling mechanisms allow you to specify the minimum and maximum number of instances for a rule.</span></span> <span data-ttu-id="aae48-233">Emellett érdemes lehet megfontolni a rendszer által nyújtott funkciók zökkenőmentes csökkentését abban az esetben, ha az üzembe helyezett példányok száma elérte a maximális értéket, és a rendszer még mindig túl van terhelve.</span><span class="sxs-lookup"><span data-stu-id="aae48-233">In addition, consider gracefully degrading the functionality that the system provides if the maximum number of instances have been deployed, and the system is still overloaded.</span></span>

- <span data-ttu-id="aae48-234">Vegye figyelembe, hogy az automatikus skálázás nem feltétlenül a legmegfelelőbb mechanizmus a terhelés hirtelen növekedésének kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="aae48-234">Keep in mind that autoscaling might not be the most appropriate mechanism to handle a sudden burst in workload.</span></span> <span data-ttu-id="aae48-235">Az új szolgáltatáspéldányok kiépítése és indítása, illetve az erőforrások hozzáadása időigényes művelet, és lehet, hogy mire a további erőforrások elérhetővé válnak, addigra az igénycsúcs már el is múlt.</span><span class="sxs-lookup"><span data-stu-id="aae48-235">It takes time to provision and start new instances of a service or add resources to a system, and the peak demand may have passed by the time these additional resources have been made available.</span></span> <span data-ttu-id="aae48-236">Ebben az esetben érdemesebb lehet a szolgáltatás szabályozását választani.</span><span class="sxs-lookup"><span data-stu-id="aae48-236">In this scenario, it may be better to throttle the service.</span></span> <span data-ttu-id="aae48-237">További információkért lásd: a [sávszélesség-szabályozási minta](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="aae48-237">For more information, see the [Throttling pattern](../patterns/throttling.md).</span></span>

- <span data-ttu-id="aae48-238">Ezzel szemben amikor az erőforrásigény hirtelen ingadozásakor szükség van az összes kérelem feldolgozásához elegendő kapacitásra, és a költségek nem jelentenek elsődleges szempontot, akkor érdemes egy agresszív automatikus skálázási stratégiát használni, amely gyorsabban elindítja a további példányokat.</span><span class="sxs-lookup"><span data-stu-id="aae48-238">Conversely, if you do need the capacity to process all requests when the volume fluctuates rapidly, and cost isn't a major contributing factor, consider using an aggressive autoscaling strategy that starts additional instances more quickly.</span></span> <span data-ttu-id="aae48-239">Használhat egy ütemezett szabályzatot is, amely a várt maximális terhelés kezeléséhez elegendő számú példányt indít el még a terhelés várt időpontja előtt.</span><span class="sxs-lookup"><span data-stu-id="aae48-239">You can also use a scheduled policy that starts a sufficient number of instances to meet the maximum load before that load is expected.</span></span>

- <span data-ttu-id="aae48-240">Az automatikus skálázási mechanizmusnak monitoroznia kell az automatikus skálázási folyamatot, és naplóznia kell az összes automatikus skálázási esemény részleteit (az eseményindítót, illetve hogy mely erőforrások lettek hozzáadva vagy eltávolítva és mikor).</span><span class="sxs-lookup"><span data-stu-id="aae48-240">The autoscaling mechanism should monitor the autoscaling process, and log the details of each autoscaling event (what triggered it, what resources were added or removed, and when).</span></span> <span data-ttu-id="aae48-241">Az egyéni automatikus skálázási mechanizmusok létrehozásakor ügyeljen arra, hogy a mechanizmus tartalmazza ezt a funkciót.</span><span class="sxs-lookup"><span data-stu-id="aae48-241">If you create a custom autoscaling mechanism, ensure that it incorporates this capability.</span></span> <span data-ttu-id="aae48-242">Elemezze az adatokat, és mérje fel az automatikus skálázási stratégia hatékonyságát, majd szükség esetén finomhangolja a stratégiát.</span><span class="sxs-lookup"><span data-stu-id="aae48-242">Analyze the information to help measure the effectiveness of the autoscaling strategy, and tune it if necessary.</span></span> <span data-ttu-id="aae48-243">A hangolást elvégezheti rövid távon, a használati minták világosabbá válásával párhuzamosan, vagy hosszú távon, az üzleti bővülését vagy az alkalmazás követelményeinek változását követve.</span><span class="sxs-lookup"><span data-stu-id="aae48-243">You can tune both in the short term, as the usage patterns become more obvious, and over the long term, as the business expands or the requirements of the application evolve.</span></span> <span data-ttu-id="aae48-244">Ha egy alkalmazás eléri az automatikus skálázáshoz megadott felső korlátot, akkor a mechanizmus riasztást küldhet az operátornak, aki szükség esetén manuálisan indíthat el további erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="aae48-244">If an application reaches the upper limit defined for autoscaling, the mechanism might also alert an operator who could manually start additional resources if necessary.</span></span> <span data-ttu-id="aae48-245">Vegye figyelembe, hogy ilyen körülmények között az operátor felelős lehet az erőforrások manuális eltávolításáért is, miután az erőforrásigény csökkent.</span><span class="sxs-lookup"><span data-stu-id="aae48-245">Note that, under these circumstances, the operator may also be responsible for manually removing these resources after the workload eases.</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="aae48-246">Kapcsolódó minták és útmutatók</span><span class="sxs-lookup"><span data-stu-id="aae48-246">Related patterns and guidance</span></span>

<span data-ttu-id="aae48-247">A következő minták és útmutatók szintén hasznosak lehetnek az automatikus skálázás bevezetésének esetén:</span><span class="sxs-lookup"><span data-stu-id="aae48-247">The following patterns and guidance may also be relevant to your scenario when implementing autoscaling:</span></span>

- <span data-ttu-id="aae48-248">[Szabályozási minta](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="aae48-248">[Throttling pattern](../patterns/throttling.md).</span></span> <span data-ttu-id="aae48-249">Ez a minta azt ismerteti, hogy egy alkalmazás hogyan működhet tovább és hogyan teljesítheti az SLA-k feltételeit, amikor az erőforrásigény növekedése rendkívüli módon leterheli az erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="aae48-249">This pattern describes how an application can continue to function and meet SLAs when an increase in demand places an extreme load on resources.</span></span> <span data-ttu-id="aae48-250">A szabályozás és az automatikus skálázás együttes használatával megelőzhető a rendszer túlterhelődése a felskálázás közben.</span><span class="sxs-lookup"><span data-stu-id="aae48-250">Throttling can be used with autoscaling to prevent a system from being overwhelmed while the system scales out.</span></span>

- <span data-ttu-id="aae48-251">[Versengő felhasználókat ismertető minta](../patterns/competing-consumers.md).</span><span class="sxs-lookup"><span data-stu-id="aae48-251">[Competing Consumers pattern](../patterns/competing-consumers.md).</span></span> <span data-ttu-id="aae48-252">Ez a minta azt ismerteti, hogy hogyan helyezhető üzembe egy szolgáltatáspéldány-készlet, amely képes bármely alkalmazáspéldány üzeneteit kezelni.</span><span class="sxs-lookup"><span data-stu-id="aae48-252">This pattern describes how to implement a pool of service instances that can handle messages from any application instance.</span></span> <span data-ttu-id="aae48-253">Az automatikus skálázás használatával a szolgáltatáspéldányok a várt terhelésnek megfelelően indíthatók el és állíthatók le.</span><span class="sxs-lookup"><span data-stu-id="aae48-253">Autoscaling can be used to start and stop service instances to match the anticipated workload.</span></span> <span data-ttu-id="aae48-254">Ez a megközelítés lehetővé teszi, hogy a rendszer több üzenetet dolgozzon fel párhuzamosan a teljesítmény optimalizálása, a skálázhatóság és rendelkezésre állás javítása és a terhelés elosztása érdekében.</span><span class="sxs-lookup"><span data-stu-id="aae48-254">This approach enables a system to process multiple messages concurrently to optimize throughput, improve scalability and availability, and balance the workload.</span></span>

- <span data-ttu-id="aae48-255">[Monitorozás és diagnosztika](./monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="aae48-255">[Monitoring and diagnostics](./monitoring.md).</span></span> <span data-ttu-id="aae48-256">A kialakítás és a telemetria kulcsfontosságú szerepet játszanak az automatikus skálázást vezérlő adatok összegyűjtésében.</span><span class="sxs-lookup"><span data-stu-id="aae48-256">Instrumentation and telemetry are vital for gathering the information that can drive the autoscaling process.</span></span>

<!-- links -->

[monitoring]: /azure/monitoring-and-diagnostics/monitoring-overview-autoscale
[app-service-autoscale]: /azure/monitoring-and-diagnostics/insights-how-to-scale?toc=%2fazure%2fapp-service-web%2ftoc.json#scaling-based-on-a-pre-set-metric
[app-service-plan]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[autoscale-metrics]: /azure/monitoring-and-diagnostics/insights-autoscale-common-metrics
[cloud-services-autoscale]: /azure/cloud-services/cloud-services-how-to-scale-portal
[functions-scale]: /azure/azure-functions/functions-scale
[link-resource-to-cloud-service]: /azure/cloud-services/cloud-services-how-to-manage#how-to-link-a-resource-to-a-cloud-service
[service-fabric-autoscale]: /azure/service-fabric/service-fabric-cluster-scale-up-down
[vm-scale-sets]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
[vm-scale-sets-autoscale]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview
