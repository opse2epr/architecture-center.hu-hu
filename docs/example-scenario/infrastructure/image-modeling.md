---
title: Gyorsítsa fel a digitális lemezkép-alapú modellezés az Azure-ban
titleSuffix: Azure Example Scenarios
description: Gyorsítsa fel a digitális lemezkép-alapú modellezési Avere és Agisoft PhotoScan használata Azure-ban
author: adamboeglin
ms.date: 1/11/2019
ms.topic: example-scenario
ms.service: architecture-center
ms.subservice: example-scenario
ms.custom: cat-team, Linux, HPC
social_image_url: /azure/architecture/example-scenario/infrastructure/media/architecture-image-modeling.png
ms.openlocfilehash: 87b43347fb5f4baec0081a67c8b003dccd2fdf0d
ms.sourcegitcommit: 14226018a058e199523106199be9c07f6a3f8592
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/31/2019
ms.locfileid: "55483011"
---
# <a name="accelerate-digital-image-based-modeling-on-azure"></a><span data-ttu-id="a59e8-103">Gyorsítsa fel a digitális lemezkép-alapú modellezés az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="a59e8-103">Accelerate digital image-based modeling on Azure</span></span>

<span data-ttu-id="a59e8-104">Ebben a példában a forgatókönyvben minden olyan szervezet, amely az Azure infrastruktúra--szolgáltatásként (IaaS) hajthat végre lemezképalapú modellezési szeretne architektúra és kialakítás útmutatást nyújt.</span><span class="sxs-lookup"><span data-stu-id="a59e8-104">This example scenario provides architecture and design guidance for any organization that wants to perform image-based modeling on Azure infrastructure-as-a-service (IaaS).</span></span> <span data-ttu-id="a59e8-105">A forgatókönyv photogrammetry szoftvereket futtató Azure virtuális gépeken (VM-EK) használatával nagy teljesítményű tárolási, feldolgozási időt gyorsító lett tervezve.</span><span class="sxs-lookup"><span data-stu-id="a59e8-105">The scenario is designed for running photogrammetry software on Azure Virtual Machines (VMs) using high-performance storage that accelerates processing time.</span></span> <span data-ttu-id="a59e8-106">A környezet felfelé és lefelé igény szerint skálázhatók, és támogatja a terabájt tárhely teljesítményét feláldozása nélkül.</span><span class="sxs-lookup"><span data-stu-id="a59e8-106">The environment can be scaled up and down as needed and supports terabytes of storage without sacrificing performance.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="a59e8-107">Alkalmazási helyzetek</span><span class="sxs-lookup"><span data-stu-id="a59e8-107">Relevant use cases</span></span>

<span data-ttu-id="a59e8-108">Alkalmazási helyzetek a következők:</span><span class="sxs-lookup"><span data-stu-id="a59e8-108">Relevant use cases include:</span></span>

- <span data-ttu-id="a59e8-109">Modellezés és mérési épületek, mérnöki és a törvényszéki objektuma jelenetek.</span><span class="sxs-lookup"><span data-stu-id="a59e8-109">Modeling and measuring buildings, engineering structures, and forensic accident scenes.</span></span>
- <span data-ttu-id="a59e8-110">A számítógép játékokat és filmek vizuális effektusok létrehozása.</span><span class="sxs-lookup"><span data-stu-id="a59e8-110">Creating visual effects for computer games and movies.</span></span>
- <span data-ttu-id="a59e8-111">Digitális rendszerképekből közvetve a mérések objektumok hasonlóan városi tervezési különféle méretezhető és más alkalmazások létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="a59e8-111">Using digital images to indirectly generate measurements of objects of various scales as in urban planning and other applications.</span></span>

## <a name="architecture"></a><span data-ttu-id="a59e8-112">Architektúra</span><span class="sxs-lookup"><span data-stu-id="a59e8-112">Architecture</span></span>

<span data-ttu-id="a59e8-113">Ebben a példában a Agisoft PhotoScan photogrammetry szoftver Avere vFXT tárhely használatát ismerteti.</span><span class="sxs-lookup"><span data-stu-id="a59e8-113">This example describes the use of Agisoft PhotoScan photogrammetry software backed by Avere vFXT storage.</span></span> <span data-ttu-id="a59e8-114">A keretrendszer népszerűségének földrajzi információk system (GIS) alkalmazások, kulturális örökségének dokumentáció, játékfejlesztés és vizuális effektusok éles PhotoScan választott.</span><span class="sxs-lookup"><span data-stu-id="a59e8-114">PhotoScan was chosen for its popularity in geographic information system (GIS) applications, cultural heritage documentation, game development, and visual effects production.</span></span> <span data-ttu-id="a59e8-115">Ideális Bezárás tartományon kívüli photogrammetry és a légi felvételeken photogrammetry.</span><span class="sxs-lookup"><span data-stu-id="a59e8-115">It is suitable for both close-range photogrammetry and aerial photogrammetry.</span></span>

<span data-ttu-id="a59e8-116">A jelen cikk fogalmait vonatkoznak minden olyan nagy teljesítményű feldolgozási (HPC) számítási feladatok alapján az ütemező és a feldolgozó csomópontok infrastruktúra.</span><span class="sxs-lookup"><span data-stu-id="a59e8-116">The concepts in this article apply to any high-performance computing (HPC) workload based on a scheduler and worker nodes managed as infrastructure.</span></span>  <span data-ttu-id="a59e8-117">A számítási feladat Avere vFXT a kiváló teljesítmény teljesítménytesztekben során lett kiválasztva.</span><span class="sxs-lookup"><span data-stu-id="a59e8-117">For this workload, Avere vFXT was selected for its superior performance during benchmark tests.</span></span>  <span data-ttu-id="a59e8-118">Azonban a forgatókönyv leválasztja-e a feldolgozási a tároló, hogy használható-e egyéb tárolási megoldások (lásd: [alternatívák](#alternatives) dokumentum későbbi részében).</span><span class="sxs-lookup"><span data-stu-id="a59e8-118">However, the scenario decouples the storage from the processing so that other storage solutions can be used (see [alternatives](#alternatives) later in this document).</span></span>

<span data-ttu-id="a59e8-119">Ez az architektúra az Active Directory-tartományvezérlőket az Azure-erőforrásokhoz való hozzáférést, és adja meg a belső névfeloldást keresztül a tartomány nevét (DNS) is tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="a59e8-119">This architecture also includes Active Directory domain controllers to control access to Azure resources and provide internal name resolution through the Domain Name System (DNS).</span></span> <span data-ttu-id="a59e8-120">A Jump mezők rendszergazdai hozzáférést biztosítanak a Windows és Linux rendszerű virtuális gépek, amelyek a megoldás futtatása.</span><span class="sxs-lookup"><span data-stu-id="a59e8-120">Jump boxes provide administrator access to the Windows and Linux VMs that run the solution.</span></span>

![Architektúra ábrája](./media/architecture-image-modeling.png)

1. <span data-ttu-id="a59e8-122">Felhasználói PhotoScan lemezképeket számos küldi el.</span><span class="sxs-lookup"><span data-stu-id="a59e8-122">User submits a number of images to PhotoScan.</span></span>
2. <span data-ttu-id="a59e8-123">Windows virtuális gép, amely a fő csomópontot funkcionál, és átirányítja a felhasználói lemezképek az PhotoScan ütemező futtatja.</span><span class="sxs-lookup"><span data-stu-id="a59e8-123">The PhotoScan Scheduler runs on a Windows VM that serves as the head node and directs processing of the user's images.</span></span>
3. <span data-ttu-id="a59e8-124">PhotoScan a fényképek közös pontok keresi, és a geometriai (háló), a grafikus processzorral (GPU) rendelkező virtuális gépeken futó PhotoScan feldolgozó csomópontok használatával hoz létre.</span><span class="sxs-lookup"><span data-stu-id="a59e8-124">PhotoScan searches for common points on the photographs and constructs the geometry (mesh) using the PhotoScan processing nodes running on VMs with graphics processing units (GPUs).</span></span>
4. <span data-ttu-id="a59e8-125">Avere vFXT biztosít egy nagy teljesítményű tárolási megoldás az Azure-ban a hálózati fájlrendszer (NFSv3) 3-as verziójú alapján, és legalább négy virtuális gépek áll.</span><span class="sxs-lookup"><span data-stu-id="a59e8-125">Avere vFXT provides a high-performance storage solution on Azure based on Network File System version 3 (NFSv3) and comprised of at least four VMs.</span></span>
5. <span data-ttu-id="a59e8-126">PhotoScan rendereli a modellt.</span><span class="sxs-lookup"><span data-stu-id="a59e8-126">PhotoScan renders the model.</span></span>

### <a name="components"></a><span data-ttu-id="a59e8-127">Összetevők</span><span class="sxs-lookup"><span data-stu-id="a59e8-127">Components</span></span>

- <span data-ttu-id="a59e8-128">[Agisoft PhotoScan](http://www.agisoft.com/): Az PhotoScan ütemező Windows 2016 kiszolgáló virtuális gépen fut, és a feldolgozó csomópontok öt virtuális gépek használata a CentOS Linux 7.5 rendszerű gpu-kkal.</span><span class="sxs-lookup"><span data-stu-id="a59e8-128">[Agisoft PhotoScan](http://www.agisoft.com/): The PhotoScan Scheduler runs on a Windows 2016 Server VM, and the processing nodes use five VMs with GPUs that run CentOS Linux 7.5.</span></span>
- <span data-ttu-id="a59e8-129">[Avere vFXT](/azure/avere-vfxt/avere-vfxt-overview) gyorsítótárazási megoldás, amely a objektum tárolási és a hagyományos hálózati tárolóeszközök (NAS) használja a nagyméretű adathalmazok tárolási költségek optimalizálására a fájl.</span><span class="sxs-lookup"><span data-stu-id="a59e8-129">[Avere vFXT](/azure/avere-vfxt/avere-vfxt-overview) is a file caching solution that uses object storage and traditional network-attached storage (NAS) to optimize storage of large datasets.</span></span> <span data-ttu-id="a59e8-130">Ezek a következők:</span><span class="sxs-lookup"><span data-stu-id="a59e8-130">It includes:</span></span>
  - <span data-ttu-id="a59e8-131">Avere vezérlő.</span><span class="sxs-lookup"><span data-stu-id="a59e8-131">Avere Controller.</span></span> <span data-ttu-id="a59e8-132">Ez a virtuális gép, amely a Avere vFXT fürtöt telepít, és Ubuntu LTS-18.04 futtatja a szkriptet hajt végre.</span><span class="sxs-lookup"><span data-stu-id="a59e8-132">This VM executes the script that installs the Avere vFXT cluster and runs Ubuntu 18.04 LTS.</span></span> <span data-ttu-id="a59e8-133">A virtuális gép később használható, hozzáadása vagy eltávolítása a fürtcsomópontokat, és semmisítse meg a fürtöt is.</span><span class="sxs-lookup"><span data-stu-id="a59e8-133">The VM can be used later to add or remove cluster nodes and to destroy the cluster as well.</span></span>
  - <span data-ttu-id="a59e8-134">vFXT fürt.</span><span class="sxs-lookup"><span data-stu-id="a59e8-134">vFXT cluster.</span></span> <span data-ttu-id="a59e8-135">Legalább három virtuális gépet használ, egyet a Avere vFXT csomópontok Avere OS 5.0.2.1 alapján.</span><span class="sxs-lookup"><span data-stu-id="a59e8-135">At least three VMs are used, one for each of the Avere vFXT nodes based on Avere OS 5.0.2.1.</span></span> <span data-ttu-id="a59e8-136">Ezek a virtuális gépek alkotják a vFXT fürt, az Azure Blob storage-van csatolva.</span><span class="sxs-lookup"><span data-stu-id="a59e8-136">These VMs form the vFXT cluster, which is attached to Azure Blob storage.</span></span>
- <span data-ttu-id="a59e8-137">[A Microsoft Active Directory-tartományvezérlők](/windows/desktop/ad/active-directory-domain-services) a gazdagép tartomány erőforrások hozzáférésének engedélyezéséhez, és adja meg a DNS-név feloldása.</span><span class="sxs-lookup"><span data-stu-id="a59e8-137">[Microsoft Active Directory domain controllers](/windows/desktop/ad/active-directory-domain-services) allow the host access to domain resources and provide DNS name resolution.</span></span> <span data-ttu-id="a59e8-138">Avere vFXT számos olyan rekordot ad hozzá – például minden egyes rekord vFXT fürtben az egyes Avere vFXT csomópontok IP-cím mutat.</span><span class="sxs-lookup"><span data-stu-id="a59e8-138">Avere vFXT adds a number of A records—for example, each A record in a vFXT cluster points to the IP address of each Avere vFXT node.</span></span> <span data-ttu-id="a59e8-139">Az ezzel a beállítással az összes virtuális gépek használata a Ciklikus időszeleteléses minta vFXT eléréséhez exportálja.</span><span class="sxs-lookup"><span data-stu-id="a59e8-139">In this setup, all VMs use the round-robin pattern to access vFXT exports.</span></span>
- <span data-ttu-id="a59e8-140">[Más virtuális gépek](/azure/virtual-machines/) szolgál, a rendszergazda által az ütemezőt és a feldolgozó csomópontok eléréséhez használt mezők ugorhat.</span><span class="sxs-lookup"><span data-stu-id="a59e8-140">[Other VMs](/azure/virtual-machines/) serve as jump boxes used by the administrator to access the scheduler and processing nodes.</span></span> <span data-ttu-id="a59e8-141">A Windows jumpbox megadása kötelező, hogy a rendszergazda távoli asztali protokollon keresztül a fő csomópont eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="a59e8-141">The Windows jumpbox is mandatory to allow the administrator to access the head node via remote desktop protocol.</span></span> <span data-ttu-id="a59e8-142">A második jumpbox nem kötelező, és a Linux fut a feldolgozó csomópontok felügyeletéhez.</span><span class="sxs-lookup"><span data-stu-id="a59e8-142">The second jumpbox is optional and runs Linux for administration of the worker nodes.</span></span>
- <span data-ttu-id="a59e8-143">[Hálózati biztonsági csoportok](/azure/virtual-network/manage-network-security-group) (NSG-k) nyilvános IP-cím (PIP) való hozzáférés korlátozására, és lehetővé teszi a 3389-es port és a 22-es hozzáférés a virtuális gépekhez csatolt a Jumpbox alhálózatára.</span><span class="sxs-lookup"><span data-stu-id="a59e8-143">[Network security groups](/azure/virtual-network/manage-network-security-group) (NSGs) limit access to the public IP address (PIP) and allow ports 3389 and 22 for access to the VMs attached to the Jumpbox subnet.</span></span>
- <span data-ttu-id="a59e8-144">[Virtuális hálózatok közötti társviszony](/azure/virtual-network/virtual-network-peering-overview) PhotoScan virtuális hálózatot csatlakoztat egy Avere virtuális hálózathoz.</span><span class="sxs-lookup"><span data-stu-id="a59e8-144">[Virtual network peering](/azure/virtual-network/virtual-network-peering-overview) connects a PhotoScan virtual network to an Avere virtual network.</span></span>
- <span data-ttu-id="a59e8-145">[Az Azure Blob storage](/azure/storage/blobs/storage-blobs-introduction) Avere vFXT együttműködik, a core filer a feldolgozás alatt véglegesített adatokat tárolja.</span><span class="sxs-lookup"><span data-stu-id="a59e8-145">[Azure Blob storage](/azure/storage/blobs/storage-blobs-introduction) works with Avere vFXT as the core filer to store the committed data being processed.</span></span> <span data-ttu-id="a59e8-146">Avere vFXT azonosítja az aktív adatok Azure Blob és a tartós állapotú meghajtókhoz (SSD) be azt egy PhotoScan feladat futása közben a számítási csomópontokat a gyorsítótárazáshoz használt csomagokban tárolt.</span><span class="sxs-lookup"><span data-stu-id="a59e8-146">Avere vFXT identifies the active data stored in Azure Blob and tiers it into solid-state drives (SSD) used for caching in its compute nodes while a PhotoScan job is running.</span></span> <span data-ttu-id="a59e8-147">Ha a módosításokat, az adatok a aszinkron módon véglegesített térjen vissza a core filer.</span><span class="sxs-lookup"><span data-stu-id="a59e8-147">If changes are made, the data is asynchronously committed back to the core filer.</span></span>
- <span data-ttu-id="a59e8-148">[Az Azure Key Vault](/azure/key-vault/key-vault-overview) PhotoScan aktiváló kódot és rendszergazdai jelszavak tárolására szolgál.</span><span class="sxs-lookup"><span data-stu-id="a59e8-148">[Azure Key Vault](/azure/key-vault/key-vault-overview) is used to store the administrator passwords and PhotoScan activation code.</span></span>

### <a name="alternatives"></a><span data-ttu-id="a59e8-149">Alternatív megoldások</span><span class="sxs-lookup"><span data-stu-id="a59e8-149">Alternatives</span></span>

- <span data-ttu-id="a59e8-150">HPC-fürt kezelése az Azure-szolgáltatások előnyeit, használja az Azure CycleCloud vagy az Azure Batch ahelyett, hogy az erőforrásokat sablonok vagy parancsfájlok segítségével.</span><span class="sxs-lookup"><span data-stu-id="a59e8-150">To take advantage of Azure services for managing an HPC cluster, use tools such as Azure CycleCloud or Azure Batch instead of managing the resources through templates or scripts.</span></span>
- <span data-ttu-id="a59e8-151">Üzembe helyezése a BeeGFS párhuzamos virtuális fájlrendszer Avere vFXT helyett az Azure háttér-tárolóként.</span><span class="sxs-lookup"><span data-stu-id="a59e8-151">Deploy the BeeGFS parallel virtual file system as the back-end storage on Azure instead of Avere vFXT.</span></span> <span data-ttu-id="a59e8-152">Használja a [BeeGFS sablon](https://github.com/paulomarquesc/beegfs-template) a teljes körű megoldás az Azure-ban üzembe helyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="a59e8-152">Use the [BeeGFS template](https://github.com/paulomarquesc/beegfs-template) to deploy this end-to-end solution on Azure.</span></span>
- <span data-ttu-id="a59e8-153">A tárolási megoldás szerkesztőprogramban, például GlusterFS, a Lustre vagy a Windows közvetlen tárolóhelyek üzembe helyezése.</span><span class="sxs-lookup"><span data-stu-id="a59e8-153">Deploy the storage solution of your choice, such as GlusterFS, Lustre, or Windows Storage Spaces Direct.</span></span> <span data-ttu-id="a59e8-154">Ehhez szerkessze a [PhotoScan sablon](https://github.com/paulomarquesc/photoscan-template) a tárolási megoldásnak szeretne együttműködni.</span><span class="sxs-lookup"><span data-stu-id="a59e8-154">To do this, edit the [PhotoScan template](https://github.com/paulomarquesc/photoscan-template) to work with the storage solution you want.</span></span>
- <span data-ttu-id="a59e8-155">Helyezze üzembe a feldolgozó csomópontok Linux, az alapértelmezett beállítás helyett a Windows operációs rendszerrel.</span><span class="sxs-lookup"><span data-stu-id="a59e8-155">Deploy the worker nodes with the Windows operating system instead of Linux, the default option.</span></span> <span data-ttu-id="a59e8-156">Ha Windows-csomópontok, tároló-integrációs beállítások nem hajtja végre a központi telepítési sablonok által.</span><span class="sxs-lookup"><span data-stu-id="a59e8-156">When choosing Windows nodes, storage integration options are not executed by the deployment templates.</span></span> <span data-ttu-id="a59e8-157">Kell manuálisan a környezet integrálható a meglévő tárolási megoldás, vagy testre szabhatja a PhotoScan sablont adja meg az ilyen automation leírtak szerint a [tárház](https://github.com/paulomarquesc/photoscan-template/blob/master/docs/AverePostDeploymentSteps.md).</span><span class="sxs-lookup"><span data-stu-id="a59e8-157">You must manually integrate the environment with an existing storage solution, or customize the PhotoScan template to provide such automation, as described in the [repository](https://github.com/paulomarquesc/photoscan-template/blob/master/docs/AverePostDeploymentSteps.md).</span></span>

## <a name="considerations"></a><span data-ttu-id="a59e8-158">Megfontolandó szempontok</span><span class="sxs-lookup"><span data-stu-id="a59e8-158">Considerations</span></span>

<span data-ttu-id="a59e8-159">Ebben a forgatókönyvben kifejezetten a nagy teljesítményű tárolást biztosít a HPC számítási feladat célja, Windows vagy Linux rendszeren telepítve van-e.</span><span class="sxs-lookup"><span data-stu-id="a59e8-159">This scenario is designed specifically to provide high-performance storage for an HPC workload, whether it is deployed on Windows or Linux.</span></span> <span data-ttu-id="a59e8-160">Általánosságban véve a HPC számítási feladatok a tárolási konfiguráció meg kell egyeznie a helyszíni üzemelő használt megfelelő ajánlott eljárásokkal.</span><span class="sxs-lookup"><span data-stu-id="a59e8-160">In general, the storage configuration of the HPC workload should match the appropriate best practices used for on-premises deployments.</span></span>

<span data-ttu-id="a59e8-161">Telepítési megfontolások függnek az alkalmazások és szolgáltatások használt, de pár megjegyzéseket a alkalmazni:</span><span class="sxs-lookup"><span data-stu-id="a59e8-161">Deployment considerations depend on the applications and services used, but a few notes apply:</span></span>

- <span data-ttu-id="a59e8-162">Nagy teljesítményű alkalmazások létrehozását, használja az Azure Premium Storage és [optimalizálása az alkalmazásrétegre](/azure/virtual-machines/windows/premium-storage-performance).</span><span class="sxs-lookup"><span data-stu-id="a59e8-162">When building high-performance applications, use Azure Premium Storage and [optimize the application layer](/azure/virtual-machines/windows/premium-storage-performance).</span></span> <span data-ttu-id="a59e8-163">Az Azure Blob-gyakori hozzáférés a tárolási költségek optimalizálására [ritkáról gyakori elérésű hozzáférési szint](/azure/storage/blobs/storage-blob-storage-tiers).</span><span class="sxs-lookup"><span data-stu-id="a59e8-163">Optimize storage for frequent access using Azure Blob [hot tier access](/azure/storage/blobs/storage-blob-storage-tiers).</span></span>
- <span data-ttu-id="a59e8-164">A storage használata [replikációs beállítás](/azure/storage/common/storage-redundancy) , amely megfelel a rendelkezésre állás és teljesítmény.</span><span class="sxs-lookup"><span data-stu-id="a59e8-164">Use a storage [replication option](/azure/storage/common/storage-redundancy) that that meets your availability and performance requirements.</span></span> <span data-ttu-id="a59e8-165">Ebben a példában Avere vFXT van konfigurálva a magas rendelkezésre állás érdekében a helyileg redundáns tárolás (LRS) alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="a59e8-165">In this example, Avere vFXT is configured for high availability by default, with locally redundant storage (LRS).</span></span> <span data-ttu-id="a59e8-166">A terheléselosztást, a telepítő használatban lévő összes virtuális gép a Ciklikus időszeleteléses minta vFXT eléréséhez exportálja.</span><span class="sxs-lookup"><span data-stu-id="a59e8-166">For load balancing, all VMs in this setup use the round-robin pattern to access vFXT exports.</span></span>
- <span data-ttu-id="a59e8-167">Ha Windows-ügyfelek és a Linux-ügyfelek a háttérrendszer tárolási fognak használni, Samba kiszolgálók használatával támogatja a Windows-csomópontok.</span><span class="sxs-lookup"><span data-stu-id="a59e8-167">If the backend storage will be consumed by both Windows clients and Linux clients, use Samba servers to support the Windows nodes.</span></span> <span data-ttu-id="a59e8-168">A [verzió](https://github.com/paulomarquesc/beegfs-template) ebben a példában a forgatókönyv BeeGFS alapján használja Samba támogatásához a HPC számítási feladatok (PhotoScan) futó Windows ütemező csomópontján.</span><span class="sxs-lookup"><span data-stu-id="a59e8-168">A [version](https://github.com/paulomarquesc/beegfs-template) of this example scenario based on BeeGFS uses Samba to support the scheduler node of the HPC workload (PhotoScan) running on Windows.</span></span> <span data-ttu-id="a59e8-169">Ahhoz, mint az intelligens helyettesíti a DNS ciklikus időszeletelése helyezünk üzembe egy terheléselosztót.</span><span class="sxs-lookup"><span data-stu-id="a59e8-169">A load balancer is deployed to act like a smart replacement for DNS round robin.</span></span>
- <span data-ttu-id="a59e8-170">Az olyan futtassa HPC-alkalmazások legjobb használatával a virtuális gép típusát a [Windows](/azure/virtual-machines/windows/sizes-hpc) vagy [Linux](/azure/virtual-machines/linux/sizes?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) számítási feladatot.</span><span class="sxs-lookup"><span data-stu-id="a59e8-170">Run HPC applications using the VM type best suited for your [Windows](/azure/virtual-machines/windows/sizes-hpc) or [Linux](/azure/virtual-machines/linux/sizes?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) workload.</span></span>
- <span data-ttu-id="a59e8-171">A HPC számítási feladatok a tárolási erőforrások elkülönítése, mindegyik a saját virtuális hálózat üzembe helyezése, majd a virtuális hálózat [társviszony-létesítés](/azure/virtual-network/virtual-network-peering-overview) a két csatlakozni.</span><span class="sxs-lookup"><span data-stu-id="a59e8-171">To isolate the HPC workload from the storage resources, deploy each in its own virtual network, then use virtual network [peering](/azure/virtual-network/virtual-network-peering-overview) to connect the two.</span></span> <span data-ttu-id="a59e8-172">Társviszony-létesítés különböző virtuális hálózatok és útvonalak forgalmát a Microsoft gerincinfrastruktúráján keresztül a magánhálózati IP-címek csak az erőforrások között alacsony késleltetésű, nagy sávszélességű kapcsolatot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="a59e8-172">Peering creates a low-latency, high-bandwidth connection between resources in different virtual networks and routes traffic through the Microsoft backbone infrastructure through private IP addresses only.</span></span>

### <a name="security"></a><span data-ttu-id="a59e8-173">Biztonság</span><span class="sxs-lookup"><span data-stu-id="a59e8-173">Security</span></span>

<span data-ttu-id="a59e8-174">Ebben a példában a HPC számítási feladat nagy teljesítményű tárolási megoldás telepítése összpontosít, és nem biztonsági megoldásokat.</span><span class="sxs-lookup"><span data-stu-id="a59e8-174">This example focuses on deploying a high-performance storage solution for an HPC workload and is not a security solution.</span></span> <span data-ttu-id="a59e8-175">Győződjön meg arról, hogy a változások a biztonsági csoport.</span><span class="sxs-lookup"><span data-stu-id="a59e8-175">Make sure to involve your security team for any changes.</span></span>

<span data-ttu-id="a59e8-176">A fokozott biztonság érdekében ez a példa az infrastruktúra lehetővé teszi az összes Windows virtuális gép kell a tartományhoz csatlakoztatott és az Active Directoryt használja a központi hitelesítési.</span><span class="sxs-lookup"><span data-stu-id="a59e8-176">For added security, this example infrastructure enables all the Windows VMs to be domain-joined and uses Active Directory for central authentication.</span></span> <span data-ttu-id="a59e8-177">Az összes virtuális gép egyéni DNS-szolgáltatásokat is biztosít.</span><span class="sxs-lookup"><span data-stu-id="a59e8-177">It also provides custom DNS services for all VMs.</span></span> <span data-ttu-id="a59e8-178">A környezet védelme érdekében ez a sablon támaszkodik [hálózati biztonsági csoportok (NSG-k)](/azure/virtual-network/security-overview).</span><span class="sxs-lookup"><span data-stu-id="a59e8-178">To help protect the environment, this template relies on [network security groups (NSGs)](/azure/virtual-network/security-overview).</span></span> <span data-ttu-id="a59e8-179">Az NSG-k alapvető forgalomszűrőinek és a biztonsági szabályok kínálnak.</span><span class="sxs-lookup"><span data-stu-id="a59e8-179">NSGs offer basic traffic filters and security rules.</span></span>

<span data-ttu-id="a59e8-180">Vegye figyelembe az alábbi további az ebben a forgatókönyvben a biztonság növelése érdekében:</span><span class="sxs-lookup"><span data-stu-id="a59e8-180">Consider the following options to further improve security in this scenario:</span></span>

- <span data-ttu-id="a59e8-181">Hálózati virtuális berendezések, például a Fortinet, a Checkpoint és a Juniper használata.</span><span class="sxs-lookup"><span data-stu-id="a59e8-181">Use network virtual appliances such as Fortinet, Checkpoint, and Juniper.</span></span>
- <span data-ttu-id="a59e8-182">Alkalmazása [szerepköralapú hozzáférés-vezérlés](/azure/role-based-access-control/overview) az erőforráscsoportokhoz.</span><span class="sxs-lookup"><span data-stu-id="a59e8-182">Apply [role-based access control](/azure/role-based-access-control/overview) to the resource groups.</span></span>
- <span data-ttu-id="a59e8-183">Engedélyezze a virtuális gép [igény szerinti](/azure/security-center/security-center-just-in-time) hozzáférni, ha a jump mezők érhetők el az interneten keresztül.</span><span class="sxs-lookup"><span data-stu-id="a59e8-183">Enable VM [JIT](/azure/security-center/security-center-just-in-time) access if jump boxes are accessed via the Internet.</span></span>
- <span data-ttu-id="a59e8-184">Használat [Azure Key Vault](/azure/key-vault/quick-create-portal) a rendszergazdai fiókok által használt jelszavak tárolására.</span><span class="sxs-lookup"><span data-stu-id="a59e8-184">Use [Azure Key Vault](/azure/key-vault/quick-create-portal) to store the passwords used by administrator accounts.</span></span>

## <a name="pricing"></a><span data-ttu-id="a59e8-185">Díjszabás</span><span class="sxs-lookup"><span data-stu-id="a59e8-185">Pricing</span></span>

<span data-ttu-id="a59e8-186">Ez a forgatókönyv futtatásával járó költségeket is nagyban attól függően, több tényező befolyásolja.</span><span class="sxs-lookup"><span data-stu-id="a59e8-186">The cost of running this scenario can vary greatly depending on on multiple factors.</span></span>  <span data-ttu-id="a59e8-187">A szám és a virtuális gépek, mennyi tárhelyre szükség, és mennyi ideig a feladat végrehajtásához mérete határozza meg a költségek.</span><span class="sxs-lookup"><span data-stu-id="a59e8-187">The number and size of VMs, how much storage is required, and the amount of time to complete a job will determine your cost.</span></span>

<span data-ttu-id="a59e8-188">Az alábbi minta költsége a profil a [Azure díjkalkulátorát](https://azure.com/e/42362ddfd2e245a28a8e78bc609c80f3) Avere vFXT és PhotoScan tipikus konfigurációja alapján:</span><span class="sxs-lookup"><span data-stu-id="a59e8-188">The following sample cost profile in the [Azure pricing calculator](https://azure.com/e/42362ddfd2e245a28a8e78bc609c80f3) is based on a typical configuration for Avere vFXT and PhotoScan:</span></span>

- <span data-ttu-id="a59e8-189">1 A1\_v2 Ubuntu virtuális Gépet szeretné futtatni a Avere vezérlő.</span><span class="sxs-lookup"><span data-stu-id="a59e8-189">1 A1\_v2 Ubuntu VM to run the Avere controller.</span></span>
- <span data-ttu-id="a59e8-190">3 D16s\_v3 Avere operációs rendszer virtuális gépeket, a vFXT fürt Avere vFXT csomópontok mindegyikéhez.</span><span class="sxs-lookup"><span data-stu-id="a59e8-190">3 D16s\_v3 Avere OS VMs, one for each of the Avere vFXT nodes that form the vFXT cluster.</span></span>
- <span data-ttu-id="a59e8-191">5 NC24\_v2 Linux rendszerű virtuális gépek a GPU-kkal szükség szerint a PhotoScan feldolgozó csomópontok számára.</span><span class="sxs-lookup"><span data-stu-id="a59e8-191">5 NC24\_v2 Linux VMs to provide the GPUs needed by the PhotoScan processing nodes.</span></span>
- <span data-ttu-id="a59e8-192">1 D8s\_v3 CentOS VM PhotoScan scheduler csomópont.</span><span class="sxs-lookup"><span data-stu-id="a59e8-192">1 D8s\_v3 CentOS VM for the PhotoScan scheduler node.</span></span>
- <span data-ttu-id="a59e8-193">1 DS2\_v2 CentOS rendszergazda jumpbox használja.</span><span class="sxs-lookup"><span data-stu-id="a59e8-193">1 DS2\_v2 CentOS used as administrator jumpbox.</span></span>
- <span data-ttu-id="a59e8-194">2 DS2\_v2 virtuális gép számára az Active Directory-tartományvezérlők.</span><span class="sxs-lookup"><span data-stu-id="a59e8-194">2 DS2\_v2 VMs for the Active Directory domain controllers.</span></span>
- <span data-ttu-id="a59e8-195">Prémium szintű managed disks.</span><span class="sxs-lookup"><span data-stu-id="a59e8-195">Premium managed disks.</span></span>
- <span data-ttu-id="a59e8-196">Általános célú v2 (GPv2) a Blob storage, az LRS és a gyakori elérésű hozzáférési szint, (csak GPv2-tárfiókokban fiókszinten elérhető a hozzáférési réteg attribútum).</span><span class="sxs-lookup"><span data-stu-id="a59e8-196">General purpose v2 (GPv2) Blob storage with LRS and hot tier access (only GPv2 storage accounts expose the Access Tier attribute).</span></span>
- <span data-ttu-id="a59e8-197">Virtuális hálózat 10 TB-nyi adatátvitel támogatását.</span><span class="sxs-lookup"><span data-stu-id="a59e8-197">Virtual network with support for 10 TB data transfer.</span></span>

<span data-ttu-id="a59e8-198">Ez az architektúra kapcsolatos részletekért lásd: a [e-könyv](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span><span class="sxs-lookup"><span data-stu-id="a59e8-198">For details about this architecture, see the [ebook](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span></span> <span data-ttu-id="a59e8-199">Hogyan díjszabását szeretné módosítani az adott használati esetekhez megtekintéséhez válassza ki a megfelelő a várható telepítési díjkalkulátor különböző méretű virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="a59e8-199">To see how the pricing would change for your particular use case, choose different VM sizes in the pricing calculator to match your expected deployment.</span></span>

## <a name="deployment"></a><span data-ttu-id="a59e8-200">Környezet</span><span class="sxs-lookup"><span data-stu-id="a59e8-200">Deployment</span></span>

<span data-ttu-id="a59e8-201">A részletes üzembe helyezéséhez szükséges összes előfeltételnek Avere FxT vagy beegfs rendszerekhez, többek között ebben az architektúrában az e-könyv letöltése: [Az Azure-Avere vFXT Agisoft PhotoScan üzembe az Azure-ban vagy BeeGFS](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span><span class="sxs-lookup"><span data-stu-id="a59e8-201">For step-by-step instructions for deploying this architecture, including all the prerequisites for using either Avere FxT or BeeGFS, download the ebook: [Deploy Agisoft PhotoScan on Azure With Avere vFXT for Azure or BeeGFS](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span></span>

## <a name="related-resources"></a><span data-ttu-id="a59e8-202">Kapcsolódó források (lehet, hogy a cikkek angol nyelvűek)</span><span class="sxs-lookup"><span data-stu-id="a59e8-202">Related resources</span></span>

<span data-ttu-id="a59e8-203">A következő erőforrások sáv több információt nyújt az összetevőkről használt fel ebben a forgatókönyvben a batch-megoldások az Azure olyan alternatív módszert.</span><span class="sxs-lookup"><span data-stu-id="a59e8-203">The following resources will provide more information on the components utilized in this scenario, along with alternative approaches for batch computing on Azure.</span></span>

- <span data-ttu-id="a59e8-204">Áttekintése [Avere vFXT az Azure-hoz](/azure/avere-vfxt/avere-vfxt-overview)</span><span class="sxs-lookup"><span data-stu-id="a59e8-204">Overview of [Avere vFXT for Azure](/azure/avere-vfxt/avere-vfxt-overview)</span></span>
- <span data-ttu-id="a59e8-205">[Agisoft PhotoScan](https://www.agisoft.com/) kezdőlapja</span><span class="sxs-lookup"><span data-stu-id="a59e8-205">[Agisoft PhotoScan](https://www.agisoft.com/) home Page</span></span>
- [<span data-ttu-id="a59e8-206">Az Azure Storage teljesítmény- és skálázhatósági ellenőrzőlistája</span><span class="sxs-lookup"><span data-stu-id="a59e8-206">Azure Storage Performance and Scalability Checklist</span></span>](/azure/storage/common/storage-performance-checklist)
- <span data-ttu-id="a59e8-207">[A Microsoft Azure-rendszerek párhuzamos virtuális fájlrendszer: A teljesítménytesztek Lustre, GlusterFS és beegfs rendszerekhez](https://azure.microsoft.com/mediahandler/files/resourcefiles/parallel-virtual-file-systems-on-microsoft-azure/Parallel_Virtual_File_Systems_on_Microsoft_Azure.pdf) (PDF)</span><span class="sxs-lookup"><span data-stu-id="a59e8-207">[Parallel Virtual File Systems on Microsoft Azure: Performance tests of Lustre, GlusterFS, and BeeGFS](https://azure.microsoft.com/mediahandler/files/resourcefiles/parallel-virtual-file-systems-on-microsoft-azure/Parallel_Virtual_File_Systems_on_Microsoft_Azure.pdf) (PDF)</span></span>
- <span data-ttu-id="a59e8-208">A példaforgatókönyv [számítógéppel támogatott mérnöki (CAE-) az Azure-ban](/azure/architecture/example-scenario/apps/hpc-saas)</span><span class="sxs-lookup"><span data-stu-id="a59e8-208">An example scenario for [computer-aided engineering (CAE) on Azure](/azure/architecture/example-scenario/apps/hpc-saas)</span></span>
- <span data-ttu-id="a59e8-209">[Az Azure-ban a HPC](https://azure.microsoft.com/en-us/solutions/high-performance-computing/) kezdőlapja</span><span class="sxs-lookup"><span data-stu-id="a59e8-209">[HPC on Azure](https://azure.microsoft.com/en-us/solutions/high-performance-computing/) home page</span></span>
- <span data-ttu-id="a59e8-210">Áttekintése [Big Compute: HPC &amp; Microsoft Batch](https://azure.microsoft.com/en-us/solutions/big-compute/)</span><span class="sxs-lookup"><span data-stu-id="a59e8-210">Overview of [Big Compute: HPC &amp; Microsoft Batch](https://azure.microsoft.com/en-us/solutions/big-compute/)</span></span>