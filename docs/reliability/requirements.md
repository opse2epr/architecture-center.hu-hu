---
title: Az Azure rugalmas alkalmazások követelményeinek meghatározása
description: Az Azure-alkalmazások rendelkezésre állását és rugalmasságát követelményei összegyűjtéséhez áttekintése
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: 2af2ce4200c285abfda1395862d21efc3c17e577
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646549"
---
# <a name="developing-requirements-for-resilient-azure-applications"></a><span data-ttu-id="162d8-103">Fejlesztés az Azure rugalmas alkalmazások követelményei</span><span class="sxs-lookup"><span data-stu-id="162d8-103">Developing requirements for resilient Azure applications</span></span>

<span data-ttu-id="162d8-104">Épület *rugalmasság* (helyreálljon a hibák) és *rendelkezésre állási* (jelentős állásidő nélkül kifogástalan állapotban fut) alkalmazásaiba kezdődik követelmények összegyűjtése.</span><span class="sxs-lookup"><span data-stu-id="162d8-104">Building *resiliency* (recovering from failures) and *availability* (running in a healthy state without significant downtime) into your apps begins with gathering requirements.</span></span> <span data-ttu-id="162d8-105">Például hogy mennyi állásidő fogadható el?</span><span class="sxs-lookup"><span data-stu-id="162d8-105">For example, how much downtime is acceptable?</span></span> <span data-ttu-id="162d8-106">A lehetséges állásidő mennyibe vállalkozása?</span><span class="sxs-lookup"><span data-stu-id="162d8-106">How much does potential downtime cost your business?</span></span> <span data-ttu-id="162d8-107">Mik azok az ügyfelek rendelkezésre állási követelmények vonatkoznak?</span><span class="sxs-lookup"><span data-stu-id="162d8-107">What are your customer's availability requirements?</span></span> <span data-ttu-id="162d8-108">IP-címek fenntartási tegye befektetnie az alkalmazás magas rendelkezésre állású?</span><span class="sxs-lookup"><span data-stu-id="162d8-108">How much do you invest in making your application highly available?</span></span> <span data-ttu-id="162d8-109">Mi az a kockázat és a költségek?</span><span class="sxs-lookup"><span data-stu-id="162d8-109">What is the risk versus the cost?</span></span>

## <a name="identify-distinct-workloads"></a><span data-ttu-id="162d8-110">Azonosíthatja a különböző számítási feladatokhoz</span><span class="sxs-lookup"><span data-stu-id="162d8-110">Identify distinct workloads</span></span>

<span data-ttu-id="162d8-111">Felhőalapú megoldások jellemzően több alkalmazás *számítási feladatok*.</span><span class="sxs-lookup"><span data-stu-id="162d8-111">Cloud solutions typically consist of multiple application *workloads*.</span></span> <span data-ttu-id="162d8-112">Egy számítási feladat olyan különálló képességet vagy feladatot, amely logikailag elkülönítve más feladatok szempontjából üzleti logikát és adatokat a tárolási követelményeket.</span><span class="sxs-lookup"><span data-stu-id="162d8-112">A workload is a distinct capability or task that is logically separated from other tasks in terms of business logic and data storage requirements.</span></span> <span data-ttu-id="162d8-113">Előfordulhat például, hogy egy e-kereskedelmi alkalmazás a következő számítási feladatokkal:</span><span class="sxs-lookup"><span data-stu-id="162d8-113">For example, an e-commerce app might have the following workloads:</span></span>

- <span data-ttu-id="162d8-114">Termékkatalógus tallózása és keresés.</span><span class="sxs-lookup"><span data-stu-id="162d8-114">Browse and search a product catalog.</span></span>
- <span data-ttu-id="162d8-115">Rendelések létrehozása és nyomon követése.</span><span class="sxs-lookup"><span data-stu-id="162d8-115">Create and track orders.</span></span>
- <span data-ttu-id="162d8-116">Javaslatok megtekintése.</span><span class="sxs-lookup"><span data-stu-id="162d8-116">View recommendations.</span></span>

<span data-ttu-id="162d8-117">Minden számítási feladathoz tartozik rendelkezésre állási, skálázhatósági, az adatkonzisztencia és vész-helyreállítási különböző követelmények vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="162d8-117">Each workload has different requirements for availability, scalability, data consistency, and disaster recovery.</span></span> <span data-ttu-id="162d8-118">A költségek és a kockázatot az egyes munkaterhelésekhez tartozó terheléselosztási az üzleti döntéseket hozhat.</span><span class="sxs-lookup"><span data-stu-id="162d8-118">Make your business decisions by balancing cost versus risk for each workload.</span></span>

<span data-ttu-id="162d8-119">Szolgáltatásiszint-célkitűzés által számítási feladatok lebontása is.</span><span class="sxs-lookup"><span data-stu-id="162d8-119">Also decompose workloads by service-level objective.</span></span> <span data-ttu-id="162d8-120">Ha egy szolgáltatás áll, amelyek kritikus fontosságú és kevésbé kritikus fontosságú számítási feladatokhoz, eltérően kezelheti őket, és adja meg a service-szolgáltatások és a rendelkezésre állási követelmények teljesítése érdekében példányok száma.</span><span class="sxs-lookup"><span data-stu-id="162d8-120">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances needed to meet their availability requirements.</span></span>

## <a name="plan-for-usage-patterns"></a><span data-ttu-id="162d8-121">Használati minták tervezése</span><span class="sxs-lookup"><span data-stu-id="162d8-121">Plan for usage patterns</span></span>

<span data-ttu-id="162d8-122">Különbségek a követelmények azonosítása kritikus és a nem kritikus időszakok alatt.</span><span class="sxs-lookup"><span data-stu-id="162d8-122">Identify differences in requirements during critical and non-critical periods.</span></span> <span data-ttu-id="162d8-123">Vannak bizonyos kritikus időszakok, amikor a rendszernek elérhetőnek kell lennie?</span><span class="sxs-lookup"><span data-stu-id="162d8-123">Are there certain critical periods when the system must be available?</span></span> <span data-ttu-id="162d8-124">Például egy készítő alkalmazás nem utasíthat el egy bejelentési határidő során, és egy videóstream-szolgáltatás nem lag élő esemény során.</span><span class="sxs-lookup"><span data-stu-id="162d8-124">For example, a tax-filing application can't fail during a filing deadline and a video streaming service shouldn't lag during a live event.</span></span> <span data-ttu-id="162d8-125">Ebben az esetben a költség, a kockázatok ellen mérjük.</span><span class="sxs-lookup"><span data-stu-id="162d8-125">In these situations, weigh the cost against the risk.</span></span>

- <span data-ttu-id="162d8-126">Üzemidő biztosítása, és a kritikus időszakok megfelelnek a szolgáltatásiszint-szerződések (SLA), tervezze meg a redundancia több régióban abban az esetben, ha nem sikerül, akkor is, ha további költségei.</span><span class="sxs-lookup"><span data-stu-id="162d8-126">To ensure uptime and meet service-level agreements (SLAs) in critical periods, plan redundancy across several regions in case one fails, even if it costs more.</span></span>
- <span data-ttu-id="162d8-127">Ezzel szemben nem kritikus időszakok alatt futtassa az alkalmazást a költségek csökkentése érdekében egyetlen régióban.</span><span class="sxs-lookup"><span data-stu-id="162d8-127">Conversely, during non-critical periods, run your application in a single region to minimize costs.</span></span>
- <span data-ttu-id="162d8-128">Bizonyos esetekben a fogyasztás alapú számlázáshoz rendelkező modern kiszolgáló nélküli ugyanazzal a módszerrel csökkentheti a további költségek.</span><span class="sxs-lookup"><span data-stu-id="162d8-128">In some cases, you can mitigate additional expenses by using modern serverless techniques that have consumption-based billing.</span></span>

## <a name="establish-availability-and-recovery-metrics"></a><span data-ttu-id="162d8-129">Rendelkezésre állási és helyreállítási metrikák létrehozása</span><span class="sxs-lookup"><span data-stu-id="162d8-129">Establish availability and recovery metrics</span></span>

<span data-ttu-id="162d8-130">Hozzon létre a követelmények folyamat részeként metrikák két készletnyi alapkonfiguráció-számot.</span><span class="sxs-lookup"><span data-stu-id="162d8-130">Create baseline numbers for two sets of metrics as part of the requirements process.</span></span> <span data-ttu-id="162d8-131">Első segít meghatározni, hogy a helyét, amelyek a redundancia a cloud serviceshez, és mely szolgáltatásiszint-szerződései az ügyfeleknek.</span><span class="sxs-lookup"><span data-stu-id="162d8-131">The first set helps you determine where to add redundancy to cloud services and which SLAs to provide to customers.</span></span> <span data-ttu-id="162d8-132">A második tervezi segít a vész-helyreállítási állítsa be.</span><span class="sxs-lookup"><span data-stu-id="162d8-132">The second set helps you plan your disaster recovery.</span></span>

### <a name="availability-metrics"></a><span data-ttu-id="162d8-133">Rendelkezésre állási metrikák</span><span class="sxs-lookup"><span data-stu-id="162d8-133">Availability metrics</span></span>

<span data-ttu-id="162d8-134">Ezek a mértékek segítségével redundancia tervezése és ügyfél SLA-k meghatározása.</span><span class="sxs-lookup"><span data-stu-id="162d8-134">Use these measures to plan for redundancy and determine customer SLAs.</span></span>

- <span data-ttu-id="162d8-135">**Átlagos idő (MTTR) helyreállításához** van az átlagos idő egy összetevő visszaállítása meghibásodás után vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="162d8-135">**Mean time to recover (MTTR)** is the average time it takes to restore a component after a failure.</span></span>
- <span data-ttu-id="162d8-136">**(MTBF) hibák közötti átlagos idő** a következőképpen hosszú összetevő ésszerűen számíthatnak az utolsó között valamilyen okból kimaradás lép.</span><span class="sxs-lookup"><span data-stu-id="162d8-136">**Mean time between failures (MTBF)** is the how long a component can reasonably expect to last between outages.</span></span>

### <a name="recovery-metrics"></a><span data-ttu-id="162d8-137">Helyreállítási metrikák</span><span class="sxs-lookup"><span data-stu-id="162d8-137">Recovery metrics</span></span>

<span data-ttu-id="162d8-138">A kockázatfelmérés a ezeket az értékeket származtatás, és győződjön meg arról, hogy megértette a költségek és az üzemkimaradás és az adatvesztés kockázatát.</span><span class="sxs-lookup"><span data-stu-id="162d8-138">Derive these values by conducting a risk assessment, and make sure you understand the cost and risk of downtime and data loss.</span></span> <span data-ttu-id="162d8-139">Ezek a rendszer nem funkcionális követelmények és üzleti követelmények során kell meghatározni.</span><span class="sxs-lookup"><span data-stu-id="162d8-139">These are nonfunctional requirements of a system and should be dictated by business requirements.</span></span>

- <span data-ttu-id="162d8-140">**A helyreállítási időre vonatkozó célkitűzés (RTO)** van egy incidens után az alkalmazás nem érhető el a maximális elfogadható idő.</span><span class="sxs-lookup"><span data-stu-id="162d8-140">**Recovery time objective (RTO)** is the maximum acceptable time an application is unavailable after an incident.</span></span>
- <span data-ttu-id="162d8-141">**Helyreállítási időkorlát (RPO)** katasztrófa során elfogadható-adatveszteség maximális időtartama.</span><span class="sxs-lookup"><span data-stu-id="162d8-141">**Recovery point objective (RPO)** is the maximum duration of data loss that's acceptable during a disaster.</span></span>

<span data-ttu-id="162d8-142">Ha az MTTR értékét *bármely* egy magas rendelkezésre állású beállításra a kritikus fontosságú összetevőnek meghaladja a rendszer RTO, a rendszer hibát okozhat az üzletmenet elfogadhatatlan mértékű.</span><span class="sxs-lookup"><span data-stu-id="162d8-142">If the MTTR value of *any* critical component in a highly available setup exceeds the system RTO, a failure in the system might cause an unacceptable business disruption.</span></span> <span data-ttu-id="162d8-143">Ez azt jelenti, hogy a rendszer a megadott RTO belül nem állítható vissza.</span><span class="sxs-lookup"><span data-stu-id="162d8-143">That is, you can't restore the system within the defined RTO.</span></span>

## <a name="determine-workload-availability-targets"></a><span data-ttu-id="162d8-144">Számítási feladatok kijelölt elérhetőségi célok meghatározása</span><span class="sxs-lookup"><span data-stu-id="162d8-144">Determine workload availability targets</span></span>

<span data-ttu-id="162d8-145">Adja meg saját cél SLA minden számítási feladathoz tartozó megoldását, így ellenőrizheti, hogy az architektúra megfelel-e az üzleti követelmények.</span><span class="sxs-lookup"><span data-stu-id="162d8-145">Define your own target SLAs for each workload in your solution so you can determine whether the architecture meets the business requirements.</span></span>

### <a name="consider-cost-and-complexity"></a><span data-ttu-id="162d8-146">Fontolja meg a költségek és munkaráfordítás alól</span><span class="sxs-lookup"><span data-stu-id="162d8-146">Consider cost and complexity</span></span>

<span data-ttu-id="162d8-147">Minden hagyhatunk, magasabb rendelkezésre állás a jobb.</span><span class="sxs-lookup"><span data-stu-id="162d8-147">Everything else being equal, higher availability is better.</span></span> <span data-ttu-id="162d8-148">De minél több nines, a költséges és bonyolult növekszik.</span><span class="sxs-lookup"><span data-stu-id="162d8-148">But as you strive for more nines, the cost and complexity grow.</span></span> <span data-ttu-id="162d8-149">99,99 %-os üzemidő a rendszer lefordítja arra az összesített állásidő havonta nagyjából öt perc alatt.</span><span class="sxs-lookup"><span data-stu-id="162d8-149">An uptime of 99.99% translates to about five minutes of total downtime per month.</span></span> <span data-ttu-id="162d8-150">Megéri a további összetettséget és költségeket az öt nines?</span><span class="sxs-lookup"><span data-stu-id="162d8-150">Is it worth the additional complexity and cost to reach five nines?</span></span> <span data-ttu-id="162d8-151">A válasz az üzleti követelményektől függ.</span><span class="sxs-lookup"><span data-stu-id="162d8-151">The answer depends on the business requirements.</span></span>

<span data-ttu-id="162d8-152">Az alábbiakban néhány további szempontot találhat az SLA meghatározásához:</span><span class="sxs-lookup"><span data-stu-id="162d8-152">Here are some other considerations when defining an SLA:</span></span>

- <span data-ttu-id="162d8-153">Négy nines (99,99 %) eléréséhez nem támaszkodhat manuális beavatkozásra a hibákból való helyreállításhoz.</span><span class="sxs-lookup"><span data-stu-id="162d8-153">To achieve four nines (99.99%), you can't rely on manual intervention to recover from failures.</span></span> <span data-ttu-id="162d8-154">Az alkalmazásnak képesnek kell lennie az öndiagnózisra és az önjavításra.</span><span class="sxs-lookup"><span data-stu-id="162d8-154">The application must be self-diagnosing and self-healing.</span></span>
- <span data-ttu-id="162d8-155">Négy nines túl kihívást jelent, elég gyors észlelése az SLA feltételeinek kielégítéséhez.</span><span class="sxs-lookup"><span data-stu-id="162d8-155">Beyond four nines, it's challenging to detect outages quickly enough to meet the SLA.</span></span>
- <span data-ttu-id="162d8-156">Gondoljon az SLA-ban megszabott, a mérés alapját képező időtartományra.</span><span class="sxs-lookup"><span data-stu-id="162d8-156">Think about the time window that your SLA is measured against.</span></span> <span data-ttu-id="162d8-157">Minél kisebb a tartomány, annál szigorúbbak a feltételek.</span><span class="sxs-lookup"><span data-stu-id="162d8-157">The smaller the window, the tighter the tolerances.</span></span> <span data-ttu-id="162d8-158">Az SLA szempontjából óránkénti vagy napi üzemidő meghatározásához nincs értelme.</span><span class="sxs-lookup"><span data-stu-id="162d8-158">It doesn't make sense to define your SLA in terms of hourly or daily uptime.</span></span>
- <span data-ttu-id="162d8-159">Fontolja meg az MTBF- és az MTTR-mérőszám használatát.</span><span class="sxs-lookup"><span data-stu-id="162d8-159">Consider the MTBF and MTTR measurements.</span></span> <span data-ttu-id="162d8-160">A magasabb az SLA-t, a kevésbé gyakran a szolgáltatás is leáll, és a gyorsabb a szolgáltatás helyre kell állítania.</span><span class="sxs-lookup"><span data-stu-id="162d8-160">The higher your SLA, the less frequently the service can go down and the quicker the service must recover.</span></span>
- <span data-ttu-id="162d8-161">Szerződés kérhet le az ügyfelek a kijelölt elérhetőségi célok teljesítését az alkalmazás minden darab, és ez a dokumentum.</span><span class="sxs-lookup"><span data-stu-id="162d8-161">Get agreement from your customers for the availability targets of each piece of your application, and document it.</span></span> <span data-ttu-id="162d8-162">Ellenkező esetben a a tervező nem felel meg az ügyfelek elvárásainak.</span><span class="sxs-lookup"><span data-stu-id="162d8-162">Otherwise, your design may not meet the customers' expectations.</span></span>

### <a name="identify-dependencies"></a><span data-ttu-id="162d8-163">Függőségek azonosításához</span><span class="sxs-lookup"><span data-stu-id="162d8-163">Identify dependencies</span></span>

<span data-ttu-id="162d8-164">Hajtsa végre a függőségi-leképezés gyakorlatok belső és külső függőségek azonosításához.</span><span class="sxs-lookup"><span data-stu-id="162d8-164">Perform dependency-mapping exercises to identify internal and external dependencies.</span></span> <span data-ttu-id="162d8-165">Példák biztonsági vagy az identitást, például az Active Directory vagy a külső szolgáltatások, például egy fizetési szolgáltató vonatkozó függőségeket tartalmaznak, vagy e-mail üzenetküldő szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="162d8-165">Examples include dependencies relating to security or identity, such as Active Directory, or third-party services such as a payment provider or e-mail messaging service.</span></span>

<span data-ttu-id="162d8-166">Fordítson különös figyelmet külső függőségeit, amelyek egy meghibásodási pont lehet vagy szűk keresztmetszeteket okozhat.</span><span class="sxs-lookup"><span data-stu-id="162d8-166">Pay particular attention to external dependencies that might be a single point of failure or cause bottlenecks.</span></span> <span data-ttu-id="162d8-167">Ha egy számítási feladat 99,99 %-os üzemidőt igényel, de egy 99,9 %-os SLA-val olyan szolgáltatástól függ, a a szolgáltatás nem a rendszer egy meghibásodási pont lehet.</span><span class="sxs-lookup"><span data-stu-id="162d8-167">If a workload requires 99.99% uptime but depends on a service with a 99.9% SLA, that service can't be a single point of failure in the system.</span></span> <span data-ttu-id="162d8-168">Egy megoldás, hogy rendelkezik egy tartalék elérési úttal, abban az esetben, ha a szolgáltatás meghiúsul.</span><span class="sxs-lookup"><span data-stu-id="162d8-168">One remedy is to have a fallback path in case the service fails.</span></span> <span data-ttu-id="162d8-169">Azt is megteheti más intézkedéseket a szolgáltatás hiba helyreállíthatók.</span><span class="sxs-lookup"><span data-stu-id="162d8-169">Alternatively, take other measures to recover from a failure in that service.</span></span>

<span data-ttu-id="162d8-170">Az alábbi táblázat a különböző SLA-szintek lehetséges halmozott állásidejét mutatja be.</span><span class="sxs-lookup"><span data-stu-id="162d8-170">The following table shows the potential cumulative downtime for various SLA levels.</span></span>

| <span data-ttu-id="162d8-171">**SLA**</span><span class="sxs-lookup"><span data-stu-id="162d8-171">**SLA**</span></span> | <span data-ttu-id="162d8-172">**Állásidő hetente**</span><span class="sxs-lookup"><span data-stu-id="162d8-172">**Downtime per week**</span></span> | <span data-ttu-id="162d8-173">**Állásidő havonta**</span><span class="sxs-lookup"><span data-stu-id="162d8-173">**Downtime per month**</span></span> | <span data-ttu-id="162d8-174">**Állásidő évente**</span><span class="sxs-lookup"><span data-stu-id="162d8-174">**Downtime per year**</span></span> |
|---------|-----------------------|------------------------|-----------------------|
| <span data-ttu-id="162d8-175">99%</span><span class="sxs-lookup"><span data-stu-id="162d8-175">99%</span></span>     | <span data-ttu-id="162d8-176">1,68 óra</span><span class="sxs-lookup"><span data-stu-id="162d8-176">1.68 hours</span></span>            | <span data-ttu-id="162d8-177">7,2 óra</span><span class="sxs-lookup"><span data-stu-id="162d8-177">7.2 hours</span></span>              | <span data-ttu-id="162d8-178">3,65 nap</span><span class="sxs-lookup"><span data-stu-id="162d8-178">3.65 days</span></span>             |
| <span data-ttu-id="162d8-179">99.9%</span><span class="sxs-lookup"><span data-stu-id="162d8-179">99.9%</span></span>   | <span data-ttu-id="162d8-180">10,1 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-180">10.1 minutes</span></span>          | <span data-ttu-id="162d8-181">43,2 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-181">43.2 minutes</span></span>           | <span data-ttu-id="162d8-182">8,76 óra</span><span class="sxs-lookup"><span data-stu-id="162d8-182">8.76 hours</span></span>            |
| <span data-ttu-id="162d8-183">99.95%</span><span class="sxs-lookup"><span data-stu-id="162d8-183">99.95%</span></span>  | <span data-ttu-id="162d8-184">5 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-184">5 minutes</span></span>             | <span data-ttu-id="162d8-185">21,6 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-185">21.6 minutes</span></span>           | <span data-ttu-id="162d8-186">4,38 óra</span><span class="sxs-lookup"><span data-stu-id="162d8-186">4.38 hours</span></span>            |
| <span data-ttu-id="162d8-187">99.99%</span><span class="sxs-lookup"><span data-stu-id="162d8-187">99.99%</span></span>  | <span data-ttu-id="162d8-188">1,01 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-188">1.01 minutes</span></span>          | <span data-ttu-id="162d8-189">4,32 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-189">4.32 minutes</span></span>           | <span data-ttu-id="162d8-190">52,56 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-190">52.56 minutes</span></span>         |
| <span data-ttu-id="162d8-191">99.999%</span><span class="sxs-lookup"><span data-stu-id="162d8-191">99.999%</span></span> | <span data-ttu-id="162d8-192">6 másodperc</span><span class="sxs-lookup"><span data-stu-id="162d8-192">6 seconds</span></span>             | <span data-ttu-id="162d8-193">25,9 másodperc</span><span class="sxs-lookup"><span data-stu-id="162d8-193">25.9 seconds</span></span>           | <span data-ttu-id="162d8-194">5,26 perc</span><span class="sxs-lookup"><span data-stu-id="162d8-194">5.26 minutes</span></span>          |

## <a name="understand-service-level-agreements"></a><span data-ttu-id="162d8-195">Szolgáltatásiszint-szerződések ismertetése</span><span class="sxs-lookup"><span data-stu-id="162d8-195">Understand service-level agreements</span></span>

<span data-ttu-id="162d8-196">Az Azure-ban a [szolgáltatásiszint-szerződés](https://azure.microsoft.com/en-us/support/legal/sla/) a Microsoft elkötelezettségét üzemidejével és elérhetőségével számára.</span><span class="sxs-lookup"><span data-stu-id="162d8-196">In Azure, the [Service Level Agreement](https://azure.microsoft.com/en-us/support/legal/sla/) describes Microsoft's commitments for uptime and connectivity.</span></span> <span data-ttu-id="162d8-197">Ha egy adott szolgáltatás SLA-ja 99,9 %, a szolgáltatás elérhető legyen az idő 99,9 %-számíthat.</span><span class="sxs-lookup"><span data-stu-id="162d8-197">If the SLA for a particular service is 99.9%, you should expect the service to be available 99.9% of the time.</span></span> <span data-ttu-id="162d8-198">Különböző szolgáltatásokhoz különböző SLA-kkal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="162d8-198">Different services have different SLAs.</span></span>

<span data-ttu-id="162d8-199">Az Azure SLA is magában foglalja a jóváírást, ha az SLA nem teljesül, az adott definícióit és rendelkezések *rendelkezésre állási* minden egyes szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="162d8-199">The Azure SLA also includes provisions for obtaining a service credit if the SLA is not met, along with specific definitions of *availability* for each service.</span></span> <span data-ttu-id="162d8-200">Az SLA ezen eleme kényszerítési házirendként működik.</span><span class="sxs-lookup"><span data-stu-id="162d8-200">That aspect of the SLA acts as an enforcement policy.</span></span>

### <a name="composite-slas"></a><span data-ttu-id="162d8-201">Összetett SLA-k</span><span class="sxs-lookup"><span data-stu-id="162d8-201">Composite SLAs</span></span>

<span data-ttu-id="162d8-202">*Összetett SLA-k* több szolgáltatást támogató alkalmazás, minden egyes rendelkezésre állási szintű részletességű járnak.</span><span class="sxs-lookup"><span data-stu-id="162d8-202">*Composite SLAs* involve multiple services supporting an application, each with differing levels of availability.</span></span> <span data-ttu-id="162d8-203">Vegyük példaként egy App Service-webalkalmazás, amely az Azure SQL Database ír.</span><span class="sxs-lookup"><span data-stu-id="162d8-203">For example, consider an App Service web app that writes to Azure SQL Database.</span></span> <span data-ttu-id="162d8-204">Az oktatóanyag összeállításakor ezek az Azure-szolgáltatások a következő SLA-kkal rendelkeztek:</span><span class="sxs-lookup"><span data-stu-id="162d8-204">At the time of this writing, these Azure services have the following SLAs:</span></span>

- <span data-ttu-id="162d8-205">Az App Service web apps = 99,95 %</span><span class="sxs-lookup"><span data-stu-id="162d8-205">App Service web apps = 99.95%</span></span>
- <span data-ttu-id="162d8-206">SQL Database = 99,99%</span><span class="sxs-lookup"><span data-stu-id="162d8-206">SQL Database = 99.99%</span></span>

<span data-ttu-id="162d8-207">Mi az alkalmazás esetében elvárt maximális állásidő?</span><span class="sxs-lookup"><span data-stu-id="162d8-207">What is the maximum downtime you would expect for this application?</span></span> <span data-ttu-id="162d8-208">Ha valamelyik szolgáltatás meghibásodik, akkor a teljes alkalmazás meghibásodik.</span><span class="sxs-lookup"><span data-stu-id="162d8-208">If either service fails, the whole application fails.</span></span> <span data-ttu-id="162d8-209">Az egyes szolgáltatások meghibásodásának valószínűsége független, tehát a az alkalmazás összetett SLA 99,95 %-os x 99,99 % = 99,94 %.</span><span class="sxs-lookup"><span data-stu-id="162d8-209">The probability of each service failing is independent, so the composite SLA for this application is 99.95% × 99.99% = 99.94%.</span></span> <span data-ttu-id="162d8-210">Ez alacsonyabb az egyes SLA-k, ami nem meglepő, mert egy több szolgáltatásra támaszkodó alkalmazások több lehetséges meghibásodási pontok.</span><span class="sxs-lookup"><span data-stu-id="162d8-210">That's lower than the individual SLAs, which isn't surprising because an application that relies on multiple services has more potential failure points.</span></span>

<span data-ttu-id="162d8-211">Az összetett SLA javítható független tartalék útvonalak létrehozásával.</span><span class="sxs-lookup"><span data-stu-id="162d8-211">You can improve the composite SLA by creating independent fallback paths.</span></span> <span data-ttu-id="162d8-212">Például ha az SQL-adatbázis nem érhető el, helyezze a tranzakciókat későbbi feldolgozás céljából egy üzenetsorba.</span><span class="sxs-lookup"><span data-stu-id="162d8-212">For example, if SQL Database is unavailable, put transactions into a queue to be processed later.</span></span>

![Összetett SLA](_images/composite-sla.png)

<span data-ttu-id="162d8-214">E kialakítás révén az alkalmazás akkor is elérhető, ha épp nem tud csatlakozni az adatbázishoz.</span><span class="sxs-lookup"><span data-stu-id="162d8-214">With this design, the application is still available even if it can't connect to the database.</span></span> <span data-ttu-id="162d8-215">Az alkalmazás azonban leáll, ha az adatbázis és az üzenetsor egyidejűleg hibásodik meg.</span><span class="sxs-lookup"><span data-stu-id="162d8-215">However, it fails if the database and the queue both fail at the same time.</span></span> <span data-ttu-id="162d8-216">Egyidejű hiba várt százalékos 0,0001 × 0,001,, ezért az ehhez a kombinált útvonalhoz tartozó összetett SLA:</span><span class="sxs-lookup"><span data-stu-id="162d8-216">The expected percentage of time for a simultaneous failure is 0.0001 × 0.001, so the composite SLA for this combined path is:</span></span>

- <span data-ttu-id="162d8-217">Adatbázis *vagy* üzenetsor = 1,0 − (0,0001 × 0,001) = 99,99999 %</span><span class="sxs-lookup"><span data-stu-id="162d8-217">Database *or* queue = 1.0 − (0.0001 × 0.001) = 99.99999%</span></span>

<span data-ttu-id="162d8-218">A teljes összetett SLA:</span><span class="sxs-lookup"><span data-stu-id="162d8-218">The total composite SLA is:</span></span>

- <span data-ttu-id="162d8-219">Webalkalmazás *és* (adatbázis *vagy* üzenetsor) = 99,95 %-os x 99,99999 % = \~99,95 %-os</span><span class="sxs-lookup"><span data-stu-id="162d8-219">Web app *and* (database *or* queue) = 99.95% × 99.99999% = \~99.95%</span></span>

<span data-ttu-id="162d8-220">Ennek a módszernek hátrányai is vannak.</span><span class="sxs-lookup"><span data-stu-id="162d8-220">There are tradeoffs to this approach.</span></span> <span data-ttu-id="162d8-221">Az alkalmazáslogika összetettebb, licencdíjat kell fizetni, hogy a várólista, és figyelembe kell vennie a adatkonzisztenciával kapcsolatos problémák.</span><span class="sxs-lookup"><span data-stu-id="162d8-221">The application logic is more complex, you are paying for the queue, and you need to consider data consistency issues.</span></span>

### <a name="slas-for-multiregion-deployments"></a><span data-ttu-id="162d8-222">SLA többrégiós üzemelő példányok esetében</span><span class="sxs-lookup"><span data-stu-id="162d8-222">SLAs for multiregion deployments</span></span>

<span data-ttu-id="162d8-223">*SLA többrégiós üzemelő példányok esetében* magában foglalja a üzembe helyezése több régióban, és az Azure Traffic Manager átadja a feladatokat, ha az alkalmazás meghibásodik egy régióban a magas rendelkezésre állású technika.</span><span class="sxs-lookup"><span data-stu-id="162d8-223">*SLAs for multiregion deployments* involve a high-availability technique to deploy the application in more than one region and use Azure Traffic Manager to fail over if the application fails in one region.</span></span>

<span data-ttu-id="162d8-224">Az összetett SLA egy többrégiós üzembe helyezéshez a következőképpen alakul:</span><span class="sxs-lookup"><span data-stu-id="162d8-224">The composite SLA for a multiregion deployment is calculated as follows:</span></span>

- <span data-ttu-id="162d8-225">*N* van az egy régióban üzembe helyezett alkalmazás összetett SLA-t.</span><span class="sxs-lookup"><span data-stu-id="162d8-225">*N* is the composite SLA for the application deployed in one region.</span></span>
- <span data-ttu-id="162d8-226">*R* száma, régió, ahol az alkalmazás üzemel.</span><span class="sxs-lookup"><span data-stu-id="162d8-226">*R* is the number of regions where the application is deployed.</span></span>

<span data-ttu-id="162d8-227">A várt esélye, hogy az alkalmazás nem tudja az összes régióban egyszerre ((1 − N) \^ R).</span><span class="sxs-lookup"><span data-stu-id="162d8-227">The expected chance that the application fails in all regions at the same time is ((1 − N) \^ R).</span></span> <span data-ttu-id="162d8-228">Ha például egyetlen régióban SLA-ja 99,95 %-os:</span><span class="sxs-lookup"><span data-stu-id="162d8-228">For example, if the single-region SLA is 99.95%:</span></span>

- <span data-ttu-id="162d8-229">A két régió kombinált SLA = ((1 − 0.9995) 1 − \^ 2) = 99.999975 %</span><span class="sxs-lookup"><span data-stu-id="162d8-229">The combined SLA for two regions = (1 − (1 − 0.9995) \^ 2) = 99.999975%</span></span>
- <span data-ttu-id="162d8-230">A négy régióban kombinált SLA = ((1 − 0.9995) 1 − \^ 4) 99.999999 % =</span><span class="sxs-lookup"><span data-stu-id="162d8-230">The combined SLA for four regions =  (1 − (1 − 0.9995) \^ 4)  = 99.999999%</span></span>

<span data-ttu-id="162d8-231">A [Traffic Managerre vonatkozó SLA](https://azure.microsoft.com/en-us/support/legal/sla/traffic-manager/v1_0/) is fontos tényező.</span><span class="sxs-lookup"><span data-stu-id="162d8-231">The [SLA for Traffic Manager](https://azure.microsoft.com/en-us/support/legal/sla/traffic-manager/v1_0/) is also a factor.</span></span> <span data-ttu-id="162d8-232">Feladatátadás nem azonnali aktív-passzív konfigurációk, ami állásidőt eredményezhet a feladatátvétel alatt áll.</span><span class="sxs-lookup"><span data-stu-id="162d8-232">Failing over is not instantaneous in active-passive configurations, which can result in downtime during a failover.</span></span> <span data-ttu-id="162d8-233">Lásd: [Traffic Manager végpont figyelése és feladatátvétele](/azure/traffic-manager/traffic-manager-monitoring).</span><span class="sxs-lookup"><span data-stu-id="162d8-233">See [Traffic Manager endpoint monitoring and failover](/azure/traffic-manager/traffic-manager-monitoring).</span></span>

## <a name="next-steps"></a><span data-ttu-id="162d8-234">További lépések</span><span class="sxs-lookup"><span data-stu-id="162d8-234">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="162d8-235">A rugalmasság és a rendelkezésre állási mérnök</span><span class="sxs-lookup"><span data-stu-id="162d8-235">Architect for resiliency and availability</span></span>](./architect.md)
