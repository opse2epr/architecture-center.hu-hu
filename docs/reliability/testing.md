---
title: A rugalmasság és a rendelkezésre állási tesztelési Azure-alkalmazások
description: Módszerek az alkalmazások megbízhatóságát tesztelését az Azure-ban
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: cf33a859540810279b1cb85be5a6fb2ebe4500dc
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646550"
---
# <a name="testing-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="77f89-103">A rugalmasság és a rendelkezésre állási tesztelési Azure-alkalmazások</span><span class="sxs-lookup"><span data-stu-id="77f89-103">Testing Azure applications for resiliency and availability</span></span>

<span data-ttu-id="77f89-104">Rugalmasság tesztelése, ellenőrizze, hogyan hajtja végre a végpontok közötti munkaterhelés időszakos hibafeltételek mellett.</span><span class="sxs-lookup"><span data-stu-id="77f89-104">To test resiliency, you should verify how the end-to-end workload performs under intermittent failure conditions.</span></span>

<span data-ttu-id="77f89-105">Futtasson teszteket használata szintetikus és a valós felhasználói adatainak, mind éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="77f89-105">Run tests in production using both synthetic and real user data.</span></span> <span data-ttu-id="77f89-106">Tesztelési és éles azonosak ritkán, ezért fontos, hogy az alkalmazás az éles-ellenőrzése egy [kék-zöld](https://martinfowler.com/bliki/BlueGreenDeployment.html) vagy [tesztcsoportos telepítési](https://martinfowler.com/bliki/CanaryRelease.html).</span><span class="sxs-lookup"><span data-stu-id="77f89-106">Test and production are rarely identical, so it's important to validate your application in production using a [blue-green](https://martinfowler.com/bliki/BlueGreenDeployment.html) or [canary deployment](https://martinfowler.com/bliki/CanaryRelease.html).</span></span> <span data-ttu-id="77f89-107">Ezzel a módszerrel tesztelt az alkalmazás valós körülmények között, így biztosítható, hogy teljes mértékben telepítésekor várt módon működik.</span><span class="sxs-lookup"><span data-stu-id="77f89-107">This way, you're testing the application under real conditions, so you can be sure that it will function as expected when fully deployed.</span></span>

<span data-ttu-id="77f89-108">A tesztelési terv részeként a következők:</span><span class="sxs-lookup"><span data-stu-id="77f89-108">As part of your test plan, include:</span></span>

- <span data-ttu-id="77f89-109">Automatikus üzembe helyezés előtti tesztelése</span><span class="sxs-lookup"><span data-stu-id="77f89-109">Automated predeployment testing</span></span>
- <span data-ttu-id="77f89-110">Tesztelés hibabeszúrással</span><span class="sxs-lookup"><span data-stu-id="77f89-110">Fault injection testing</span></span>
- <span data-ttu-id="77f89-111">Csúcsidőszak terheléses tesztelés</span><span class="sxs-lookup"><span data-stu-id="77f89-111">Peak load testing</span></span>
- <span data-ttu-id="77f89-112">Vészhelyreállítás tesztelését</span><span class="sxs-lookup"><span data-stu-id="77f89-112">Disaster recovery testing</span></span>
- <span data-ttu-id="77f89-113">Külső szolgáltatások tesztelése</span><span class="sxs-lookup"><span data-stu-id="77f89-113">Third-party service testing</span></span>

<span data-ttu-id="77f89-114">A tesztelés iteratív folyamat.</span><span class="sxs-lookup"><span data-stu-id="77f89-114">Testing is an iterative process.</span></span> <span data-ttu-id="77f89-115">Tesztelje az alkalmazást, mérje meg az eredményt, elemezze és kezelje az esetleges kapott hibákat, majd ismételje meg a folyamatot.</span><span class="sxs-lookup"><span data-stu-id="77f89-115">Test the application, measure the outcome, analyze and address any failures that result, and repeat the process.</span></span>

## <a name="perform-fault-injection-testing"></a><span data-ttu-id="77f89-116">Tesztelés hibabeszúrással végrehajtása</span><span class="sxs-lookup"><span data-stu-id="77f89-116">Perform fault injection testing</span></span>

<span data-ttu-id="77f89-117">Tesztelés hibabeszúrással, ellenőrizze a rugalmasság a rendszer, meghibásodások valódi hibák elindításával vagy azok szimulálása.</span><span class="sxs-lookup"><span data-stu-id="77f89-117">For fault injection testing, check the resiliency of the system during failures, either by triggering actual failures or by simulating them.</span></span> <span data-ttu-id="77f89-118">Az alábbiakban néhány stratégiát a idéz elő hibákat:</span><span class="sxs-lookup"><span data-stu-id="77f89-118">Here are some strategies to induce failures:</span></span>

- <span data-ttu-id="77f89-119">Állítsa le a virtuális gép (VM) instances.</span><span class="sxs-lookup"><span data-stu-id="77f89-119">Shut down virtual machine (VM) instances.</span></span>
- <span data-ttu-id="77f89-120">Váltsa ki egyes folyamatok összeomlását.</span><span class="sxs-lookup"><span data-stu-id="77f89-120">Crash processes.</span></span>
- <span data-ttu-id="77f89-121">Alkalmazzon lejárt tanúsítványokat.</span><span class="sxs-lookup"><span data-stu-id="77f89-121">Expire certificates.</span></span>
- <span data-ttu-id="77f89-122">Módosítson hozzáférési kulcsokat.</span><span class="sxs-lookup"><span data-stu-id="77f89-122">Change access keys.</span></span>
- <span data-ttu-id="77f89-123">Állítsa le a DNS-szolgáltatást a tartományvezérlőkön.</span><span class="sxs-lookup"><span data-stu-id="77f89-123">Shut down the DNS service on domain controllers.</span></span>
- <span data-ttu-id="77f89-124">Korlátozza az elérhető rendszererőforrásokat, mint például a RAM-ot vagy a szálak számát.</span><span class="sxs-lookup"><span data-stu-id="77f89-124">Limit available system resources, such as RAM or number of threads.</span></span>
- <span data-ttu-id="77f89-125">Válasszon le lemezeket.</span><span class="sxs-lookup"><span data-stu-id="77f89-125">Unmount disks.</span></span>
- <span data-ttu-id="77f89-126">Helyezzen ismételten üzembe egy virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="77f89-126">Redeploy a VM.</span></span>

<span data-ttu-id="77f89-127">A tesztelési terv tartalmazniuk kell a lehetséges meghibásodási pontok azonosítani a tervezési fázisban mellett gyakori meghibásodási helyzet:</span><span class="sxs-lookup"><span data-stu-id="77f89-127">Your test plan should incorporate possible failure points identified during the design phase, in addition to common failure scenarios:</span></span>

- <span data-ttu-id="77f89-128">Az alkalmazás tesztelése éles minél közelebb környezetben.</span><span class="sxs-lookup"><span data-stu-id="77f89-128">Test your application in an environment as close to production as possible.</span></span>
- <span data-ttu-id="77f89-129">Tesztelési hibák együtt.</span><span class="sxs-lookup"><span data-stu-id="77f89-129">Test failures in combination.</span></span>
- <span data-ttu-id="77f89-130">Mérje meg a helyreállítási időtartamokat, és győződjön meg arról, hogy az üzleti követelmények teljesülnek-e.</span><span class="sxs-lookup"><span data-stu-id="77f89-130">Measure the recovery times, and be sure that your business requirements are met.</span></span>
- <span data-ttu-id="77f89-131">Győződjön meg arról, hogy hibák terjedésük kiküszöbölésére, és a egy elkülönített módon kezeli.</span><span class="sxs-lookup"><span data-stu-id="77f89-131">Verify that failures don't cascade and are handled in an isolated way.</span></span>

<span data-ttu-id="77f89-132">Hiba forgatókönyvekkel kapcsolatos további információkért lásd: [hiba és a katasztrófa utáni helyreállítás az Azure-alkalmazásokhoz](./disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="77f89-132">For more information about failure scenarios, see [Failure and disaster recovery for Azure applications](./disaster-recovery.md).</span></span>

## <a name="test-under-peak-loads"></a><span data-ttu-id="77f89-133">Csúcsterhelés alatt tesztelése</span><span class="sxs-lookup"><span data-stu-id="77f89-133">Test under peak loads</span></span>

<span data-ttu-id="77f89-134">Terheléses tesztelés elengedhetetlen, hogy csak a háttér-adatbázis példányairól például a terhelés alatt bekövetkező hibák azonosításáért, vagy a társzolgáltatás szabályozása.</span><span class="sxs-lookup"><span data-stu-id="77f89-134">Load testing is crucial for identifying failures that only happen under load, such as the back-end database being overwhelmed or service throttling.</span></span> <span data-ttu-id="77f89-135">Tesztelje a csúcsterhelés között és a csúcsterhelés között, termelési adatok vagy a termelési adatokhoz lehető legközelebb álló szintetikus adatok használatával várható növekedése.</span><span class="sxs-lookup"><span data-stu-id="77f89-135">Test for peak load and anticipated increase in peak load, using production data or synthetic data that is as close to production data as possible.</span></span> <span data-ttu-id="77f89-136">A cél, hogy, hogyan viselkedik az alkalmazás valós körülmények között.</span><span class="sxs-lookup"><span data-stu-id="77f89-136">Your goal is to see how the application behaves under real-world conditions.</span></span>

## <a name="conduct-disaster-recovery-drills"></a><span data-ttu-id="77f89-137">Vészhelyreállítási próba magatartási</span><span class="sxs-lookup"><span data-stu-id="77f89-137">Conduct disaster recovery drills</span></span>

<span data-ttu-id="77f89-138">Egy jó vész-helyreállítási terv kezdődnie, és tesztelje, rendszeres időközönként ellenőrizze, hogy működik-e.</span><span class="sxs-lookup"><span data-stu-id="77f89-138">Start with a good disaster recovery plan, and test it periodically to make sure it works.</span></span>

<span data-ttu-id="77f89-139">Használhatja az Azure Virtual Machines [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) replikálja, és hajtsa végre [vészhelyreállítási próbák](/azure/site-recovery/azure-to-azure-tutorial-dr-drill/) éles üzemi alkalmazások pedig, vagy folyamatban lévő replikáció befolyásolása nélkül.</span><span class="sxs-lookup"><span data-stu-id="77f89-139">For Azure Virtual Machines, you can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate and perform [disaster recovery drills](/azure/site-recovery/azure-to-azure-tutorial-dr-drill/) without impacting production applications or ongoing replication.</span></span>

### <a name="failover-and-failback-testing"></a><span data-ttu-id="77f89-140">Feladatátvétel és feladat-visszavétel tesztelése</span><span class="sxs-lookup"><span data-stu-id="77f89-140">Failover and failback testing</span></span>

<span data-ttu-id="77f89-141">Teszt feladatátvétel és feladat-visszavételt, győződjön meg arról, hogy az alkalmazás függő szolgáltatások térjen vissza szinkronizált módon a vészhelyreállítás során.</span><span class="sxs-lookup"><span data-stu-id="77f89-141">Test failover and failback to verify that your application's dependent services come back up in a synchronized manner during disaster recovery.</span></span> <span data-ttu-id="77f89-142">Változások rendszerek és a műveletek hatással lehetnek a feladatátvétel és feladat-visszavétel funkciók, de a hatás nem észlelhető, mindaddig, amíg a fő rendszer meghibásodik, vagy túlterhelt válik.</span><span class="sxs-lookup"><span data-stu-id="77f89-142">Changes to systems and operations may affect failover and failback functions, but the impact may not be detected until the main system fails or becomes overloaded.</span></span> <span data-ttu-id="77f89-143">A teszt feladatátvételt képességek *előtt* élő probléma kompenzálják szüksége van rájuk.</span><span class="sxs-lookup"><span data-stu-id="77f89-143">Test failover capabilities *before* they are required to compensate for a live problem.</span></span> <span data-ttu-id="77f89-144">Is, hogy a függő szolgáltatások átadja a feladatokat, és a megfelelő sorrendben sikertelen.</span><span class="sxs-lookup"><span data-stu-id="77f89-144">Also be sure that dependent services fail over and fail back in the correct order.</span></span>

<span data-ttu-id="77f89-145">Ha használ [Azure Site Recovery](/azure/site-recovery/) virtuális gépek replikálásához vészhelyreállítási próbákat rendszeres időközönként végrehajtásával tesztek segítségével ellenőrizze a replikációs stratégiát.</span><span class="sxs-lookup"><span data-stu-id="77f89-145">If you are using [Azure Site Recovery](/azure/site-recovery/) to replicate VMs, run disaster recovery drills periodically by doing test failovers to validate your replication strategy.</span></span> <span data-ttu-id="77f89-146">Feladatátvételi teszt nem érinti a folyamatban lévő virtuális gépek replikációja vagy az éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="77f89-146">A test failover does not affect the ongoing VM replication or your production environment.</span></span> <span data-ttu-id="77f89-147">További információkért lásd: [vészhelyreállítási gyakorlatának futtatása az Azure-bA](/azure/site-recovery/site-recovery-test-failover-to-azure).</span><span class="sxs-lookup"><span data-stu-id="77f89-147">For more information, see [Run a disaster recovery drill to Azure](/azure/site-recovery/site-recovery-test-failover-to-azure).</span></span>

### <a name="simulation-testing"></a><span data-ttu-id="77f89-148">Szimuláció tesztelése</span><span class="sxs-lookup"><span data-stu-id="77f89-148">Simulation testing</span></span>

<span data-ttu-id="77f89-149">Szimuláció tesztelés magában foglalja a kis méretű, valósághű helyzetek létrehozását.</span><span class="sxs-lookup"><span data-stu-id="77f89-149">Simulation testing involves creating small, real-life situations.</span></span> <span data-ttu-id="77f89-150">Szimuláció hatékonyságát a megoldások bemutatása a helyreállítási tervben szereplő, és jelölje ki az esetleges problémákat, amelyek nem győződünk.</span><span class="sxs-lookup"><span data-stu-id="77f89-150">Simulations demonstrate the effectiveness of the solutions in the recovery plan and highlight any issues that weren't adequately addressed.</span></span>

<span data-ttu-id="77f89-151">Szimuláció tesztelés hajt végre, kövesse az ajánlott eljárásokat:</span><span class="sxs-lookup"><span data-stu-id="77f89-151">As you perform simulation testing, follow best practices:</span></span>

- <span data-ttu-id="77f89-152">Olyan módon, amely nem zavarja a tényleges üzleti, de úgy érzi, egy valódi helyzetben szimulációkat végez.</span><span class="sxs-lookup"><span data-stu-id="77f89-152">Conduct simulations in a manner that doesn't disrupt actual business but feels like a real situation.</span></span>
- <span data-ttu-id="77f89-153">Győződjön meg arról, hogy szimulált forgatókönyvek teljesen vezérelhető.</span><span class="sxs-lookup"><span data-stu-id="77f89-153">Make sure that simulated scenarios are completely controllable.</span></span> <span data-ttu-id="77f89-154">A helyreállítási terv úgy tűnik, hogy sikertelen lesz, ha anélkül, hogy a károk Ez a helyzet állíthatja vissza a normál.</span><span class="sxs-lookup"><span data-stu-id="77f89-154">If the recovery plan seems to be failing, you can restore the situation back to normal without causing damage.</span></span>
- <span data-ttu-id="77f89-155">Tájékoztatja arról, hogy mikor és hogyan fogja végezni a szimuláció gyakorlatok.</span><span class="sxs-lookup"><span data-stu-id="77f89-155">Inform management about when and how the simulation exercises will be conducted.</span></span> <span data-ttu-id="77f89-156">A terv kell részletes információkat talál, az időtartamot és a során a szimuláció érintett erőforrások.</span><span class="sxs-lookup"><span data-stu-id="77f89-156">Your plan should detail the time frame and the resources affected during the simulation.</span></span>

## <a name="test-health-probes-for-load-balancers-and-traffic-managers"></a><span data-ttu-id="77f89-157">A terheléselosztókkal és a traffic Manager-példányok állapotadat-mintavételek tesztelése</span><span class="sxs-lookup"><span data-stu-id="77f89-157">Test health probes for load balancers and traffic managers</span></span>

<span data-ttu-id="77f89-158">A terheléselosztókkal és a traffic Manager-példányok állapotadat-mintavételek tesztelése és konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="77f89-158">Configure and test health probes for your load balancers and traffic managers.</span></span> <span data-ttu-id="77f89-159">Győződjön meg arról, hogy az állapot végponti ellenőrzi a rendszer kritikus fontosságú részei, és megfelelően válaszol-e.</span><span class="sxs-lookup"><span data-stu-id="77f89-159">Ensure that your health endpoint checks the critical parts of the system and responds appropriately.</span></span>

- <span data-ttu-id="77f89-160">A [Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/), az állapotminta határozza meg, a feladatátvételt egy másik régióba.</span><span class="sxs-lookup"><span data-stu-id="77f89-160">For [Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/), the health probe determines whether to fail over to another region.</span></span> <span data-ttu-id="77f89-161">Az állapot végponti ellenőrizni kell az azonos régióban üzembe helyezett kritikus fontosságú függőségek.</span><span class="sxs-lookup"><span data-stu-id="77f89-161">Your health endpoint should check any critical dependencies that are deployed within the same region.</span></span>
- <span data-ttu-id="77f89-162">A [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/), az állapotminta határozza meg, távolítsa el a virtuális Gépet a rotációból.</span><span class="sxs-lookup"><span data-stu-id="77f89-162">For [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/), the health probe determines whether to remove a VM from rotation.</span></span> <span data-ttu-id="77f89-163">Az állapot végponti jelentse a virtuális gép állapotát.</span><span class="sxs-lookup"><span data-stu-id="77f89-163">The health endpoint should report the health of the VM.</span></span> <span data-ttu-id="77f89-164">Más rétegek vagy a külső szolgáltatások nem tartalmazzák a.</span><span class="sxs-lookup"><span data-stu-id="77f89-164">Don't include other tiers or external services.</span></span> <span data-ttu-id="77f89-165">Ellenkező esetben hiba, amely a virtuális gép kívül történik, hogy távolítsa el a virtuális Gépet a rotációból a terheléselosztó miatt.</span><span class="sxs-lookup"><span data-stu-id="77f89-165">Otherwise, a failure that occurs outside the VM will cause the load balancer to remove the VM from rotation.</span></span>

<span data-ttu-id="77f89-166">Végrehajtási egészségügyi figyelés az alkalmazásban, tekintse át [állapot végponti Monitorozását végző minta](../patterns/health-endpoint-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="77f89-166">For guidance on implementing health monitoring in your application, see [Health Endpoint Monitoring pattern](../patterns/health-endpoint-monitoring.md).</span></span>

## <a name="test-monitoring-systems"></a><span data-ttu-id="77f89-167">Teszt rendszerek figyelése</span><span class="sxs-lookup"><span data-stu-id="77f89-167">Test monitoring systems</span></span>

<span data-ttu-id="77f89-168">Például a tesztelési terv rendszerek figyelése.</span><span class="sxs-lookup"><span data-stu-id="77f89-168">Include monitoring systems in your test plan.</span></span> <span data-ttu-id="77f89-169">Automatikus feladatátvétel és feladat-visszavétel rendszerek attól függenek, monitorozási és rendszerállapot megfelelő működésére.</span><span class="sxs-lookup"><span data-stu-id="77f89-169">Automated failover and failback systems depend on the correct functioning of monitoring and instrumentation.</span></span> <span data-ttu-id="77f89-170">Irányítópultokat a rendszer állapotának és operátor riasztások megjelenítését is függ, hogy pontos monitorozási és rendszerállapot.</span><span class="sxs-lookup"><span data-stu-id="77f89-170">Dashboards to visualize system health and operator alerts also depend on having accurate monitoring and instrumentation.</span></span> <span data-ttu-id="77f89-171">Ha ezek az elemek meghibásodik, a kritikus információk tévesztés, vagy pontatlan adatokat, az operátornak előfordulhat, hogy nem valósíthat meg, hogy a rendszer sérült vagy meghibásodott.</span><span class="sxs-lookup"><span data-stu-id="77f89-171">If these elements fail, miss critical information, or report inaccurate data, an operator might not realize that the system is unhealthy or failing.</span></span>

## <a name="include-third-party-services-in-test-scenarios"></a><span data-ttu-id="77f89-172">Harmadik féltől származó szolgáltatásokkal felvétel tesztelési helyzetek</span><span class="sxs-lookup"><span data-stu-id="77f89-172">Include third-party services in test scenarios</span></span>

<span data-ttu-id="77f89-173">Ha az alkalmazás függőségeit a harmadik féltől származó szolgáltatásokkal, határozza meg, hol és hogyan meghiúsulhat, ezek a szolgáltatások, és milyen hatással ezekre a hibákra lesz az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="77f89-173">If your application has dependencies on third-party services, identify where and how these services can fail and what effect those failures will have on your application.</span></span> <span data-ttu-id="77f89-174">Vegye figyelembe a szolgáltatásiszint-szerződés (SLA a külső szolgáltatáshoz és a hatás, előfordulhat, hogy rendelkezik a vészhelyreállítási tervet).</span><span class="sxs-lookup"><span data-stu-id="77f89-174">Keep in mind the service-level agreement (SLA) for the third-party service and the effect it might have on your disaster recovery plan.</span></span>

<span data-ttu-id="77f89-175">Egy külső szolgáltatás nem előfordulhat, hogy monitorozási és diagnosztikai képességeket biztosítanak, így a fontos jelentkezhetnek a meghívásához, és összefüggésbe hozva azokat az az alkalmazás állapotáról és a diagnosztikai naplózás egy egyedi azonosító segítségével.</span><span class="sxs-lookup"><span data-stu-id="77f89-175">A third-party service might not provide monitoring and diagnostics capabilities, so it's important to log your invocations of them and to correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="77f89-176">A monitorozási és diagnosztikai bevált gyakorlatokat további információkért lásd: [figyelési és diagnosztikai útmutató](../best-practices/monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="77f89-176">For more information on proven practices for monitoring and diagnostics, see [Monitoring and diagnostics guidance](../best-practices/monitoring.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="77f89-177">További lépések</span><span class="sxs-lookup"><span data-stu-id="77f89-177">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="77f89-178">A rugalmasság és a rendelkezésre állási üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="77f89-178">Deploy for resiliency and availability</span></span>](./deploy.md)
