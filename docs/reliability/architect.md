---
title: A rugalmasság és a rendelkezésre állás az Azure-alkalmazások tervezése
description: Rugalmasság és a rendelkezésre állás beépítése az Azure-alkalmazások
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: ee4bb5b4a85e48fe0ff017297c31823c93a48f04
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646564"
---
# <a name="architecting-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="414c8-103">A rugalmasság és a rendelkezésre állás az Azure-alkalmazások tervezése</span><span class="sxs-lookup"><span data-stu-id="414c8-103">Architecting Azure applications for resiliency and availability</span></span>

<span data-ttu-id="414c8-104">Után az alkalmazás követelményeinek fejlesztett, a következő lépés az rugalmasság és a rendelkezésre állási építhet be azt.</span><span class="sxs-lookup"><span data-stu-id="414c8-104">After you've developed the requirements for your application, the next step is to build resiliency and availability into it.</span></span> <span data-ttu-id="414c8-105">Ezek a tulajdonságok nem adható hozzá a végén &mdash; , az architektúra tervezése kell őket.</span><span class="sxs-lookup"><span data-stu-id="414c8-105">These qualities can't be added at the end &mdash; you must design them into the architecture.</span></span>

## <a name="conduct-a-failure-mode-analysis"></a><span data-ttu-id="414c8-106">Hibaállapot-elemzést végezhet</span><span class="sxs-lookup"><span data-stu-id="414c8-106">Conduct a failure mode analysis</span></span>

<span data-ttu-id="414c8-107">*A hibaállapot elemzése* (FMA) hoz létre rugalmasságot a rendszerbe lehetséges meghibásodási pontok azonosításával, és a meghatározása, hogy az alkalmazás hogyan reagáljon azokat a hibákat.</span><span class="sxs-lookup"><span data-stu-id="414c8-107">*Failure mode analysis* (FMA) builds resiliency into a system by identifying possible failure points and defining how the application responds to those failures.</span></span> <span data-ttu-id="414c8-108">Az FMA architektúra és kialakítás fázisai részének kell lennie, ezért a rendszer az elejétől beépített hiba utáni helyreállítás.</span><span class="sxs-lookup"><span data-stu-id="414c8-108">The FMA should be part of the architecture and design phases, so failure recovery is built into the system from the beginning.</span></span> <span data-ttu-id="414c8-109">FMA célja a következők:</span><span class="sxs-lookup"><span data-stu-id="414c8-109">The goals of an FMA are to:</span></span>

- <span data-ttu-id="414c8-110">Határozza meg, milyen típusú hibákat tapasztalhat az alkalmazás, és hogy az alkalmazás hogyan észleli azokat a hibákat.</span><span class="sxs-lookup"><span data-stu-id="414c8-110">Determine what types of failures an application might experience and how the application detects those failures.</span></span>
- <span data-ttu-id="414c8-111">Rögzítheti a különböző típusú hiba lehetséges hatásait, és határozza meg, hogy az alkalmazás hogyan reagál.</span><span class="sxs-lookup"><span data-stu-id="414c8-111">Capture the potential effects of each type of failure and determine how the app responds.</span></span>
- <span data-ttu-id="414c8-112">Tervezze meg a naplózás és figyelés a hibát, és stratégiák azonosítása.</span><span class="sxs-lookup"><span data-stu-id="414c8-112">Plan for logging and monitoring the failure and identify recovery strategies.</span></span>

<span data-ttu-id="414c8-113">Az alábbiakban néhány példa a hibaállapot és a egy adott meghibásodási pont észlelési stratégiák &mdash; egy külső webes szolgáltatás hívása:</span><span class="sxs-lookup"><span data-stu-id="414c8-113">Here are some examples of failure modes and detection strategies for a specific failure point &mdash; a call to an external web service:</span></span>

| <span data-ttu-id="414c8-114">Hibaállapot</span><span class="sxs-lookup"><span data-stu-id="414c8-114">Failure mode</span></span>           | <span data-ttu-id="414c8-115">Észlelési stratégia</span><span class="sxs-lookup"><span data-stu-id="414c8-115">Detection strategy</span></span>           |
|------------------------|------------------------------|
| <span data-ttu-id="414c8-116">A szolgáltatás nem érhető el</span><span class="sxs-lookup"><span data-stu-id="414c8-116">Service is unavailable</span></span> | <span data-ttu-id="414c8-117">HTTP 5xx</span><span class="sxs-lookup"><span data-stu-id="414c8-117">HTTP 5xx</span></span>                     |
| <span data-ttu-id="414c8-118">Throttling</span><span class="sxs-lookup"><span data-stu-id="414c8-118">Throttling</span></span>             | <span data-ttu-id="414c8-119">HTTP 429 (Túl sok kérelem)</span><span class="sxs-lookup"><span data-stu-id="414c8-119">HTTP 429 (Too Many Requests)</span></span> |
| <span data-ttu-id="414c8-120">Authentication</span><span class="sxs-lookup"><span data-stu-id="414c8-120">Authentication</span></span>         | <span data-ttu-id="414c8-121">HTTP 401 (Jogosulatlan)</span><span class="sxs-lookup"><span data-stu-id="414c8-121">HTTP 401 (Unauthorized)</span></span>      |
| <span data-ttu-id="414c8-122">Lassú válasz</span><span class="sxs-lookup"><span data-stu-id="414c8-122">Slow response</span></span>          | <span data-ttu-id="414c8-123">A kérés túllépi az időkorlátot</span><span class="sxs-lookup"><span data-stu-id="414c8-123">Request times out</span></span>            |

<span data-ttu-id="414c8-124">További információ a FMA-folyamat, Azure-ra vonatkozó ajánlásokkal együtt: [hibaállapot elemzése](../resiliency/failure-mode-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-124">For more information about the FMA process, with specific recommendations for Azure, see [Failure mode analysis](../resiliency/failure-mode-analysis.md).</span></span>

## <a name="plan-for-redundancy"></a><span data-ttu-id="414c8-125">A redundancia tervezése</span><span class="sxs-lookup"><span data-stu-id="414c8-125">Plan for redundancy</span></span>

<span data-ttu-id="414c8-126">Hatókör ütközési hibák eltérő lehet.</span><span class="sxs-lookup"><span data-stu-id="414c8-126">Failures vary in scope of impact.</span></span> <span data-ttu-id="414c8-127">Bizonyos hardveres hibák, például egy meghibásodott lemez egy gazdagép hatással.</span><span class="sxs-lookup"><span data-stu-id="414c8-127">Some hardware failures, such as a failed disk, affect a single host machine.</span></span> <span data-ttu-id="414c8-128">Egy meghibásodott hálózati kapcsoló egy teljes kiszolgálószekrényt hatással lehetnek.</span><span class="sxs-lookup"><span data-stu-id="414c8-128">A failed network switch could affect an entire server rack.</span></span> <span data-ttu-id="414c8-129">Kevésbé gyakori hibák, például áramkimaradás, zavarja a teljes adatközpont.</span><span class="sxs-lookup"><span data-stu-id="414c8-129">Less common failures, such as loss of power, disrupt a whole datacenter.</span></span> <span data-ttu-id="414c8-130">Ritkán egy teljes régió elérhetetlenné válik.</span><span class="sxs-lookup"><span data-stu-id="414c8-130">Rarely, an entire region becomes unavailable.</span></span>

<span data-ttu-id="414c8-131">Redundancia érdekében az alkalmazások rugalmasságának egyik módja.</span><span class="sxs-lookup"><span data-stu-id="414c8-131">Redundancy is one way to make an application resilient.</span></span> <span data-ttu-id="414c8-132">A redundancia szintjét is függ, hogy az üzleti követelményeinek &mdash; nem minden alkalmazás regionális kimaradás régiók közötti redundancia van szüksége.</span><span class="sxs-lookup"><span data-stu-id="414c8-132">The level of redundancy depends on your business requirements &mdash; not every application needs redundancy across regions to guard against a regional outage.</span></span> <span data-ttu-id="414c8-133">Nincs általában nagyobb redundancia és megbízhatóság magasabb költségeket és összetettséget magával.</span><span class="sxs-lookup"><span data-stu-id="414c8-133">In general, there's a tradeoff between greater redundancy and reliability versus higher costs and complexity.</span></span>

### <a name="review-azure-redundancy-features"></a><span data-ttu-id="414c8-134">Tekintse át az Azure-beli redundancia funkciók</span><span class="sxs-lookup"><span data-stu-id="414c8-134">Review Azure redundancy features</span></span>

<span data-ttu-id="414c8-135">Azure egy egyéni virtuális gép (VM) egy teljes régió, a meghibásodási minden szinten redundanciával kapcsolatos szolgáltatásokat több rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="414c8-135">Azure has a number of redundancy features at every level of failure, from an individual virtual machine (VM) to an entire region.</span></span>

- <span data-ttu-id="414c8-136">**Virtuális gépek egyetlen** rendelkezik egy [hasznos üzemidő szolgáltatási szinttel (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) Azure által biztosított.</span><span class="sxs-lookup"><span data-stu-id="414c8-136">**Single VMs** have an [uptime service level agreement (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) provided by Azure.</span></span> <span data-ttu-id="414c8-137">(A virtuális Gépet kell használnia a premium storage minden operációsrendszer-lemez és adatlemezek.) Bár magasabb SLA-t kaphat két vagy több virtuális gép futtatása esetén, egyetlen virtuális gép is elég megbízható lehet bizonyos számítási feladatokhoz.</span><span class="sxs-lookup"><span data-stu-id="414c8-137">(The VM must use premium storage for all operating system disks and data disks.) Although you can get a higher SLA by running two or more VMs, a single VM may be reliable enough for some workloads.</span></span> <span data-ttu-id="414c8-138">Az éles számítási feladatokhoz azonban két vagy több virtuális gép használatát javasoljuk a redundancia biztosítása érdekében.</span><span class="sxs-lookup"><span data-stu-id="414c8-138">For production workloads, however, we recommend using two or more VMs for redundancy.</span></span>
- <span data-ttu-id="414c8-139">**A rendelkezésre állási csoportok** ellen a helyi hardverhibák, például a lemez vagy egy hálózati kapcsoló sikertelen.</span><span class="sxs-lookup"><span data-stu-id="414c8-139">**Availability sets** protect against localized hardware failures, such as a disk or network switch failing.</span></span> <span data-ttu-id="414c8-140">Virtuális gépet egy rendelkezésre állási csoportban vannak elosztva három *tartalék tartományok*.</span><span class="sxs-lookup"><span data-stu-id="414c8-140">VMs in an availability set are distributed across up to three *fault domains*.</span></span> <span data-ttu-id="414c8-141">A tartalék tartomány közös áramforrással és hálózati kapcsolóval rendelkező virtuális gépek olyan csoportját határozza meg.</span><span class="sxs-lookup"><span data-stu-id="414c8-141">A fault domains defines a group of VMs that share a common power source and network switch.</span></span> <span data-ttu-id="414c8-142">Hardverhiba miatt nem érinti az egyik tartalék tartományt, ha hálózati adatforgalmat a többi tartalék tartományban található virtuális gépekhez.</span><span class="sxs-lookup"><span data-stu-id="414c8-142">If a hardware failure affects one fault domain, network traffic is routed to VMs in the other fault domains.</span></span> <span data-ttu-id="414c8-143">A rendelkezésre állási csoportok kapcsolatos további információkért lásd: [Azure-beli Windows virtuális gépek rendelkezésre állásának kezelése](/azure/virtual-machines/windows/manage-availability).</span><span class="sxs-lookup"><span data-stu-id="414c8-143">For more information about availability sets, see [Manage the availability of Windows virtual machines in Azure](/azure/virtual-machines/windows/manage-availability).</span></span>
- <span data-ttu-id="414c8-144">**A rendelkezésre állási zónák** fizikailag különálló zónák egy Azure-régióban vannak.</span><span class="sxs-lookup"><span data-stu-id="414c8-144">**Availability Zones** are physically separate zones within an Azure region.</span></span> <span data-ttu-id="414c8-145">Mindegyik rendelkezésre állási zóna különálló áramforrással, hálózattal és hűtéssel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="414c8-145">Each Availability Zone has a distinct power source, network, and cooling.</span></span> <span data-ttu-id="414c8-146">Virtuális gépek rendelkezésre állási zónában üzembe helyezéséhez segít megvédeni az alkalmazásokat a adatközpontra kiterjedő meghibásodásokkal szemben.</span><span class="sxs-lookup"><span data-stu-id="414c8-146">Deploying VMs across Availability Zones helps to protect an application against datacenter-wide failures.</span></span> <span data-ttu-id="414c8-147">Nem mindegyik régió támogatja a rendelkezésreállási zónákat.</span><span class="sxs-lookup"><span data-stu-id="414c8-147">Not all regions support Availability Zones.</span></span> <span data-ttu-id="414c8-148">A támogatott régiók és szolgáltatások listáját lásd [az Azure rendelkezésreállási zónáit](/azure/availability-zones/az-overview) ismertető részben.</span><span class="sxs-lookup"><span data-stu-id="414c8-148">For a list of supported regions and services, see [What are Availability Zones in Azure?](/azure/availability-zones/az-overview).</span></span>

    <span data-ttu-id="414c8-149">Ha azt tervezi, a rendelkezésre állási zónák használjanak a környezetében, először ellenőrizze, hogy az alkalmazásarchitektúra és kódbázis támogatja ezt a konfigurációt.</span><span class="sxs-lookup"><span data-stu-id="414c8-149">If you plan to use Availability Zones in your deployment, first validate that your application architecture and codebase support this configuration.</span></span> <span data-ttu-id="414c8-150">Ha kereskedelmi szoftvert telepít központilag, vegye fel a kapcsolatot a szoftver gyártójához, és megfelelően tesztelése éles környezetbe való üzembe helyezés előtt.</span><span class="sxs-lookup"><span data-stu-id="414c8-150">If you deploy commercial software, consult with the software vendor and test adequately before deploying into production.</span></span> <span data-ttu-id="414c8-151">Egy alkalmazás-állapot karbantartásához kell, és az adatvesztés megelőzése szolgáltatáskiesés esetén a konfigurált zónán belül.</span><span class="sxs-lookup"><span data-stu-id="414c8-151">An application must maintain state and prevent loss of data during an outage within the configured zone.</span></span> <span data-ttu-id="414c8-152">Az alkalmazás fut egy rugalmas, és az elosztott infrastruktúra nem változtatható infrastruktúra összetevővel támogatniuk kell.</span><span class="sxs-lookup"><span data-stu-id="414c8-152">The application must support running in an elastic and distributed infrastructure with no hard-coded infrastructure components.</span></span>
- <span data-ttu-id="414c8-153">**Az Azure Site Recovery** replikákat Azure virtuális gépeket egy másik Azure-régióba (BC) üzletmenet-folytonossági és vészhelyreállítási (DR) van szüksége.</span><span class="sxs-lookup"><span data-stu-id="414c8-153">**Azure Site Recovery** replicates Azure Virtual Machines to another Azure region for business continuity (BC) and disaster recovery (DR) needs.</span></span> <span data-ttu-id="414c8-154">Hogy a megfelelőségi igények teljesítése érdekében rendszeres Vészhelyreállítási próbákat végezhet.</span><span class="sxs-lookup"><span data-stu-id="414c8-154">You can conduct periodic DR drills to ensure that you meet the compliance needs.</span></span> <span data-ttu-id="414c8-155">A virtuális gép replikálása a kiválasztott régióban a megadott beállításokkal, az alkalmazásokat a forrásrégióban szolgáltatáskimaradások esetén helyreállíthatja.</span><span class="sxs-lookup"><span data-stu-id="414c8-155">The VM is replicated with the specified settings to the selected region so you can recover your applications in the event of outages in the source region.</span></span> <span data-ttu-id="414c8-156">További információkért lásd: [egy másodlagos Azure-régióba történő vészhelyreállításának beállítása az egy Azure virtuális gép](/azure/site-recovery/azure-to-azure-quickstart/).</span><span class="sxs-lookup"><span data-stu-id="414c8-156">For more information, see [Set up disaster recovery to a secondary Azure region for an Azure VM](/azure/site-recovery/azure-to-azure-quickstart/).</span></span>

    <span data-ttu-id="414c8-157">Tesztelés során ellenőrizze, hogy a *helyreállítási időre vonatkozó célkitűzés* (RTO) és *helyreállításipont-célkitűzés* (RPO) az igényeinek.</span><span class="sxs-lookup"><span data-stu-id="414c8-157">During testing, verify that the *recovery time objective* (RTO) and *recovery point objective* (RPO) meet your needs.</span></span> <span data-ttu-id="414c8-158">RTO egy incidens után az alkalmazás nem érhető el a maximális időt, és RPO adatveszteség maximális időtartama katasztrófa során.</span><span class="sxs-lookup"><span data-stu-id="414c8-158">RTO is the maximum time an application is unavailable after an incident, and RPO is the maximum duration of data loss during a disaster.</span></span>
- <span data-ttu-id="414c8-159">**Párosított régiók** jönnek létre az Azure Traffic Managerrel a különböző régiókban, egy regionális kimaradás alkalmazás védelme internetes forgalom elosztását.</span><span class="sxs-lookup"><span data-stu-id="414c8-159">**Paired regions** are created using Azure Traffic Manager to distribute Internet traffic to different regions, protecting an application against a regional outage.</span></span> <span data-ttu-id="414c8-160">Minden egyes Azure-régió párban áll egy másikkal.</span><span class="sxs-lookup"><span data-stu-id="414c8-160">Each Azure region is paired with another region.</span></span> <span data-ttu-id="414c8-161">Együttesen ezen régiók űrlap egy [ *régiópárt*](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="414c8-161">Together, these regions form a [*regional pair*](/azure/best-practices-availability-paired-regions).</span></span> <span data-ttu-id="414c8-162">Adatok tárolási helyére vonatkozó előírásoknak, ami adóügyi és törvényi végrehajtás szempontjából joghatósága teljesítéséhez regionális párokról találhatók (kivéve Dél-Brazília) azonos földrajzi helyen belül.</span><span class="sxs-lookup"><span data-stu-id="414c8-162">To meet data residency requirements for tax and law enforcement jurisdiction purposes, regional pairs are located within the same geography (with the exception of Brazil South).</span></span>

    <span data-ttu-id="414c8-163">Rugalmas alkalmazások javításához az Azure platform frissítések (tervezett karbantartás) szerializálja között minden régiópárra, ezért csak egy párosított régióban egyszerre frissül.</span><span class="sxs-lookup"><span data-stu-id="414c8-163">To improve application resiliency, Azure serializes platform updates (planned maintenance) across each region pair, so only one paired region is updated at a time.</span></span>
- <span data-ttu-id="414c8-164">Többrégiós alkalmazás tervezésekor vegye figyelembe, hogy a régiók közötti hálózati késés magasabb, mint egy régión belül.</span><span class="sxs-lookup"><span data-stu-id="414c8-164">When you design a multiregion application, take into account that network latency across regions is higher than within a region.</span></span> <span data-ttu-id="414c8-165">Például a feladatátvétel helyévé adatbázis replikálása, használjon szinkron adatreplikációt a régión belül, míg aszinkron adatreplikációt régiók között elosztva.</span><span class="sxs-lookup"><span data-stu-id="414c8-165">For example, if you replicate a database to enable failover, use synchronous data replication within a region but asynchronous data replication across regions.</span></span>

<span data-ttu-id="414c8-166">A következő táblázat összehasonlítja a redundancia tényezők között számos rugalmassági stratégiák:</span><span class="sxs-lookup"><span data-stu-id="414c8-166">The following table compares the redundancy factors across several resiliency strategies:</span></span>

| &nbsp; | <span data-ttu-id="414c8-167">Rendelkezésre állási csoport</span><span class="sxs-lookup"><span data-stu-id="414c8-167">Availability set</span></span> | <span data-ttu-id="414c8-168">Rendelkezésre állási zóna</span><span class="sxs-lookup"><span data-stu-id="414c8-168">Availability Zone</span></span> | <span data-ttu-id="414c8-169">Azure Site Recovery/párosított régió</span><span class="sxs-lookup"><span data-stu-id="414c8-169">Azure Site Recovery/Paired region</span></span> |
|--------|------------------|-------------------|-----------------------------------|
| <span data-ttu-id="414c8-170">Hiba hatóköre</span><span class="sxs-lookup"><span data-stu-id="414c8-170">Scope of failure</span></span> | <span data-ttu-id="414c8-171">Kiszolgálószekrény</span><span class="sxs-lookup"><span data-stu-id="414c8-171">Rack</span></span>                  | <span data-ttu-id="414c8-172">Adatközpont</span><span class="sxs-lookup"><span data-stu-id="414c8-172">Datacenter</span></span>               | <span data-ttu-id="414c8-173">Régió</span><span class="sxs-lookup"><span data-stu-id="414c8-173">Region</span></span>                               |
| <span data-ttu-id="414c8-174">Kérések útválasztása</span><span class="sxs-lookup"><span data-stu-id="414c8-174">Request routing</span></span>  | <span data-ttu-id="414c8-175">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="414c8-175">Azure Load Balancer</span></span>   | <span data-ttu-id="414c8-176">Zónák közötti terheléselosztó</span><span class="sxs-lookup"><span data-stu-id="414c8-176">Cross-zone Load Balancer</span></span> | <span data-ttu-id="414c8-177">Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="414c8-177">Azure Traffic Manager</span></span>                |
| <span data-ttu-id="414c8-178">Hálózati késleltetés</span><span class="sxs-lookup"><span data-stu-id="414c8-178">Network latency</span></span>  | <span data-ttu-id="414c8-179">Nagyon alacsony</span><span class="sxs-lookup"><span data-stu-id="414c8-179">Very low</span></span>              | <span data-ttu-id="414c8-180">Alacsony</span><span class="sxs-lookup"><span data-stu-id="414c8-180">Low</span></span>                      | <span data-ttu-id="414c8-181">Közepes vagy magas</span><span class="sxs-lookup"><span data-stu-id="414c8-181">Mid to high</span></span>                          |
| <span data-ttu-id="414c8-182">Virtuális hálózat</span><span class="sxs-lookup"><span data-stu-id="414c8-182">Virtual network</span></span>  | <span data-ttu-id="414c8-183">Azure Virtual Network</span><span class="sxs-lookup"><span data-stu-id="414c8-183">Azure Virtual Network</span></span> | <span data-ttu-id="414c8-184">Azure Virtual Network</span><span class="sxs-lookup"><span data-stu-id="414c8-184">Azure Virtual Network</span></span>          | <span data-ttu-id="414c8-185">Régiók közötti virtuális hálózatok közötti társviszony</span><span class="sxs-lookup"><span data-stu-id="414c8-185">Cross-region Virtual Network peering</span></span> |

### <a name="complete-azure-redundancy-tasks"></a><span data-ttu-id="414c8-186">Teljes Azure-beli redundancia feladatok</span><span class="sxs-lookup"><span data-stu-id="414c8-186">Complete Azure redundancy tasks</span></span>

<span data-ttu-id="414c8-187">Használja a következő feladatokat redundancia követelményeinek:</span><span class="sxs-lookup"><span data-stu-id="414c8-187">Use the following tasks to meet redundancy requirements:</span></span>

- <span data-ttu-id="414c8-188">**Telepítse a szolgáltatások több példányát.**</span><span class="sxs-lookup"><span data-stu-id="414c8-188">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="414c8-189">Ha az alkalmazás egy szolgáltatás egyetlen példánya függ, a meghibásodási pontot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="414c8-189">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="414c8-190">Üzembe helyezett példányban több növeli a rugalmasságot és méretezhetőséget is.</span><span class="sxs-lookup"><span data-stu-id="414c8-190">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="414c8-191">A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amelynek keretében több példányt.</span><span class="sxs-lookup"><span data-stu-id="414c8-191">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="414c8-192">A [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy az architektúra egynél több virtuális gép rendelkezik-e, és minden virtuális gép szerepel egy [rendelkezésre állási csoport](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span><span class="sxs-lookup"><span data-stu-id="414c8-192">For [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your architecture has more than one VM and that each VM is included in an [availability set](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span></span>

- <span data-ttu-id="414c8-193">**Az Azure Site Recovery virtuális gépeket replikálni.**</span><span class="sxs-lookup"><span data-stu-id="414c8-193">**Replicate VMs using Azure Site Recovery.**</span></span> <span data-ttu-id="414c8-194">Amikor replikálhat Azure virtuális gépek [Site Recovery](/azure/site-recovery/), a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="414c8-194">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="414c8-195">A helyreállítási pontok jönnek létre néhány percenként jogosultságot ad sorrendjéről perc helyreállítási Időkorlátot.</span><span class="sxs-lookup"><span data-stu-id="414c8-195">The recovery points are created every few minutes, giving an RPO on the order of minutes.</span></span>

- <span data-ttu-id="414c8-196">**Vegye figyelembe, hogy az alkalmazás üzembe helyezése több régióban.**</span><span class="sxs-lookup"><span data-stu-id="414c8-196">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="414c8-197">Ha az alkalmazás egy adott régióban üzemel, és a régió elérhetetlenné válik, az alkalmazás nem érhető el is.</span><span class="sxs-lookup"><span data-stu-id="414c8-197">If your application is deployed to a single region, and the region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="414c8-198">Lehet, hogy ez elfogadhatatlan az alkalmazás szolgáltatásiszint-szerződés feltételei szerint.</span><span class="sxs-lookup"><span data-stu-id="414c8-198">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="414c8-199">Ha igen, fontolja meg az alkalmazás és a hozzá tartozó szolgáltatások telepítése több régióban.</span><span class="sxs-lookup"><span data-stu-id="414c8-199">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="414c8-200">Egy többrégiós üzembe helyezési használhatja egy *aktív-aktív* vagy *aktív-passzív* konfigurációja.</span><span class="sxs-lookup"><span data-stu-id="414c8-200">A multiregion deployment can use an *active-active* or *active-passive* configuration.</span></span> <span data-ttu-id="414c8-201">Egy aktív-aktív konfigurációban kérelmeket elosztja a több aktív régiók között.</span><span class="sxs-lookup"><span data-stu-id="414c8-201">An active-active configuration distributes requests across multiple active regions.</span></span> <span data-ttu-id="414c8-202">Egy aktív / passzív konfigurációt meleg példányok tartja a másodlagos régióban, de nem küld forgalmat van, kivéve, ha az elsődleges régió meghibásodik.</span><span class="sxs-lookup"><span data-stu-id="414c8-202">An active-passive configuration keeps warm instances in the secondary region, but doesn't send traffic there unless the primary region fails.</span></span> <span data-ttu-id="414c8-203">Többrégiós üzemelő példánya esetében javasoljuk, hogy a párosított régiókat, a fent leírt.</span><span class="sxs-lookup"><span data-stu-id="414c8-203">For multiregion deployments, we recommend deploying to paired regions, described above.</span></span> <span data-ttu-id="414c8-204">További információ: [Üzletmenet-folytonosság és vészhelyreállítás (BCDR): Azure – párosított régiók](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="414c8-204">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

- <span data-ttu-id="414c8-205">**Az Azure Traffic Manager használatával irányíthatja a forgalmat az alkalmazás különböző régiókban.**</span><span class="sxs-lookup"><span data-stu-id="414c8-205">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span> <span data-ttu-id="414c8-206">[Az Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) hajtja végre a terheléselosztó a DNS szintjén, és átirányítja a forgalmat a különböző régiókban alapján a [forgalom-útválasztást](/azure/traffic-manager/traffic-manager-routing-methods/) metódust, és az alkalmazás végpontok állapotát.</span><span class="sxs-lookup"><span data-stu-id="414c8-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) performs load-balancing at the DNS level and routes traffic to different regions based on the [traffic routing](/azure/traffic-manager/traffic-manager-routing-methods/) method and the health of your application's endpoints.</span></span> <span data-ttu-id="414c8-207">Nélkül Traffic Manager, pedig csak egyetlen régióban, amely korlátozza a skálázási, növeli az egyes felhasználók közel valós idejű, és régióra kiterjedő szolgáltatáskimaradás esetén alkalmazás állásidőt okoz az üzembe helyezéshez.</span><span class="sxs-lookup"><span data-stu-id="414c8-207">Without Traffic Manager, you are limited to a single region for your deployment, which constrains scale, increases latency for some users, and causes application downtime, in the case of a region-wide service disruption.</span></span>

- <span data-ttu-id="414c8-208">**Az Azure Application Gateway több példány használatára konfigurálja.**</span><span class="sxs-lookup"><span data-stu-id="414c8-208">**Configure Azure Application Gateway to use multiple instances.**</span></span> <span data-ttu-id="414c8-209">Az alkalmazás követelményeitől függően egy [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) előfordulhat, hogy lehet jobban megfelelnek az alkalmazás szolgáltatásokra irányuló kérések elosztása.</span><span class="sxs-lookup"><span data-stu-id="414c8-209">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="414c8-210">Azonban az Application Gateway szolgáltatás egyetlen példánya nem által garantált SLA-t, így lehetséges, hogy az alkalmazás sikertelen lehet, ha az Application Gateway-példány sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="414c8-210">However, single instances of the Application Gateway service are not guaranteed by an SLA, so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="414c8-211">Feltételei a szolgáltatás rendelkezésre állásának garantálása érdekében több közepes vagy nagy méretű példány üzembe helyezése a [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="414c8-211">Provision more than one medium or larger instance to guarantee availability of the service under the terms of the [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span></span>

## <a name="design-for-scalability"></a><span data-ttu-id="414c8-212">Méretezhetőség tervezése</span><span class="sxs-lookup"><span data-stu-id="414c8-212">Design for scalability</span></span>

<span data-ttu-id="414c8-213">*Méretezhetőség* rendszer azon képessége, a rendszer megnövekedett terhelés kezelésére, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-213">*Scalability* is the ability of a system to handle increased load and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="414c8-214">A tervezésére vonatkozó képesítést szerezni fázis során méretezhetőség feladatok a következők:</span><span class="sxs-lookup"><span data-stu-id="414c8-214">Scalability tasks during the architecting phase include:</span></span>

- <span data-ttu-id="414c8-215">**Partíció számítási feladatokhoz.**</span><span class="sxs-lookup"><span data-stu-id="414c8-215">**Partition workloads.**</span></span> <span data-ttu-id="414c8-216">Tervezze meg a folyamat diszkrét és decomposable részeit.</span><span class="sxs-lookup"><span data-stu-id="414c8-216">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="414c8-217">Egyes részek méretének minimalizálása.</span><span class="sxs-lookup"><span data-stu-id="414c8-217">Minimize the size of each part.</span></span> <span data-ttu-id="414c8-218">Ez lehetővé teszi, hogy úgy, hogy a lehető legnagyobbra növeli az egyes számítási egységek használata elosztani az összetevőit.</span><span class="sxs-lookup"><span data-stu-id="414c8-218">This allows the component parts to be distributed in a way that maximizes use of each compute unit.</span></span> <span data-ttu-id="414c8-219">Azt is megkönnyíti az alkalmazás méretezése az adott erőforrás-példányok hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="414c8-219">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="414c8-220">Az összetettebb tartományok esetében érdemes a bevezetése egy [mikroszolgáltatási architektúra](../guide/architecture-styles/microservices.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-220">For complex domains, consider adopting a [microservices architecture](../guide/architecture-styles/microservices.md).</span></span>
- <span data-ttu-id="414c8-221">**Méretezés tervezése.**</span><span class="sxs-lookup"><span data-stu-id="414c8-221">**Design for scaling.**</span></span> <span data-ttu-id="414c8-222">Méretezés lehetővé teszi az alkalmazások való reagálás a változó terheléssel növelése és a szerepkörök, üzenetsorok és egyéb szolgáltatások példányok számának csökkentésével.</span><span class="sxs-lookup"><span data-stu-id="414c8-222">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services.</span></span> <span data-ttu-id="414c8-223">Azonban az alkalmazást úgy kell megtervezni a szem előtt.</span><span class="sxs-lookup"><span data-stu-id="414c8-223">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="414c8-224">Például az alkalmazás és a szolgáltatásokat használ, hogy a kérelmek átirányíthatók tetszőleges példányra állapotmentes kell lennie.</span><span class="sxs-lookup"><span data-stu-id="414c8-224">For example, the application and the services it uses must be stateless to allow requests to be routed to any instance.</span></span> <span data-ttu-id="414c8-225">Állapotmentes szolgáltatások kellene is jelenti, hogy hozzáadásával vagy eltávolításával a példány nem negatívan befolyásolja a felhasználók jelenlegi száma.</span><span class="sxs-lookup"><span data-stu-id="414c8-225">Having stateless services also means that adding or removing an instance does not adversely impact current users.</span></span>
- <span data-ttu-id="414c8-226">**Felkészülés a növekedésre a skálázási egység.**</span><span class="sxs-lookup"><span data-stu-id="414c8-226">**Plan for growth with scale units.**</span></span> <span data-ttu-id="414c8-227">Az egyes erőforrások tudja, a méretezési korlátok felső, és ezek a korlátok túllépnek horizontális skálázást vagy felbontási használatával.</span><span class="sxs-lookup"><span data-stu-id="414c8-227">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond those limits.</span></span> <span data-ttu-id="414c8-228">Megtervezni az alkalmazást, így könnyen méretezése, egy vagy több skálázási egység.</span><span class="sxs-lookup"><span data-stu-id="414c8-228">Design the application so that it's easily scaled by adding one or more scale units.</span></span> <span data-ttu-id="414c8-229">Határozza meg, a rendszer jól meghatározott készletek az erőforrások tekintetében a méretezési egységeket.</span><span class="sxs-lookup"><span data-stu-id="414c8-229">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="414c8-230">Ez lehetővé teszi alkalmazása horizontális felskálázási műveletek könnyebben és kevesebb a hibalehetőség negatív hatással lehet a teljes rendszer egyes részei az erőforrások hiánya okozza.</span><span class="sxs-lookup"><span data-stu-id="414c8-230">This makes applying scale-out operations easier and less prone to negative impact caused by a lack of resources in some part of the overall system.</span></span> <span data-ttu-id="414c8-231">Például hozzáadása *X* előtérbeli virtuális gépek száma, szükség lehet *Y* további várólisták száma és *Z* a további számítási feladatok kezelése a storage-fiókok száma.</span><span class="sxs-lookup"><span data-stu-id="414c8-231">For example, adding *X* number of front-end VMs might require *Y* number of additional queues and *Z* number of storage accounts to handle the additional workload.</span></span> <span data-ttu-id="414c8-232">Így sikerült áll, a skálázási egység *X* Virtuálisgép-példányok *Y* várólisták, és *Z* storage-fiókok.</span><span class="sxs-lookup"><span data-stu-id="414c8-232">So a scale unit could consist of *X* VM instances, *Y* queues, and *Z* storage accounts.</span></span>
- <span data-ttu-id="414c8-233">**Kerülje az ügyfél affinitását.**</span><span class="sxs-lookup"><span data-stu-id="414c8-233">**Avoid client affinity.**</span></span> <span data-ttu-id="414c8-234">Ahol lehetséges, győződjön meg arról, hogy az alkalmazás a kapcsolat nem igényel.</span><span class="sxs-lookup"><span data-stu-id="414c8-234">Where possible, ensure that the application doesn't require affinity.</span></span> <span data-ttu-id="414c8-235">Kérelmek majd átirányítható bármelyik példányra, és a példányok száma nincs jelentősége.</span><span class="sxs-lookup"><span data-stu-id="414c8-235">Requests can then be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="414c8-236">Ezzel elkerülhető a terhelését, tárolása, lekérése és fenntartásának minden egyes felhasználó állapot adatait is.</span><span class="sxs-lookup"><span data-stu-id="414c8-236">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
- <span data-ttu-id="414c8-237">**A platform automatikus skálázási szolgáltatások előnyeit.**</span><span class="sxs-lookup"><span data-stu-id="414c8-237">**Take advantage of platform autoscaling features.**</span></span> <span data-ttu-id="414c8-238">Ha lehetséges, beépített automatikus skálázási szolgáltatások használata helyett egyéni vagy külső mechanizmusokat.</span><span class="sxs-lookup"><span data-stu-id="414c8-238">Use built-in autoscaling features when possible, rather than custom or third-party mechanisms.</span></span> <span data-ttu-id="414c8-239">Skálázási szabályok használata ütemezett, ahol lehetséges, győződjön meg arról, hogy az erőforrások egy indítási késleltetés nélkül érhető el, de adja hozzá a reaktív automatikus skálázást a szabályokat, hogy adott esetben az igénycsúcsok kielégítéséhez igény szerint a váratlan módosítások.</span><span class="sxs-lookup"><span data-stu-id="414c8-239">Use scheduled scaling rules, where possible, to ensure that resources are available without a startup delay, but add reactive autoscaling to the rules, where appropriate, to cope with unexpected changes in demand.</span></span> <span data-ttu-id="414c8-240">További információkért lásd: [útmutató az automatikus Skálázáshoz](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-240">For more information, see [Autoscaling guidance](../best-practices/auto-scaling.md).</span></span>  

  <span data-ttu-id="414c8-241">Ha az alkalmazás nincs konfigurálva a terhelés növekedése automatikus skálázáshoz, lehetséges, hogy az alkalmazás szolgáltatások sikertelen lesz, ha azok a felhasználói kérelmek legyen telített.</span><span class="sxs-lookup"><span data-stu-id="414c8-241">If your application isn't configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="414c8-242">További információkért tekintse át a következő cikkeket:</span><span class="sxs-lookup"><span data-stu-id="414c8-242">For more information, see the following articles:</span></span>

  - <span data-ttu-id="414c8-243">Általános: [Méretezési ellenőrzőlista](../checklist/scalability.md)</span><span class="sxs-lookup"><span data-stu-id="414c8-243">General: [Scalability checklist](../checklist/scalability.md)</span></span>
  - <span data-ttu-id="414c8-244">Azure App Service: [Példányszám manuális vagy automatikus méretezése](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="414c8-244">Azure App Service: [Scale instance count manually or automatically](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span></span>
  - <span data-ttu-id="414c8-245">A cloud Services: [Az automatikus skálázáshoz Felhőszolgáltatás](/azure/cloud-services/cloud-services-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="414c8-245">Cloud Services: [How to autoscale a Cloud Service](/azure/cloud-services/cloud-services-how-to-scale/)</span></span>
  - <span data-ttu-id="414c8-246">Virtuális gépek: [Az automatikus méretezés és virtuálisgép-méretezési csoportokban](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span><span class="sxs-lookup"><span data-stu-id="414c8-246">Virtual machines: [Automatic scaling and virtual machine scale sets](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span></span>

- <span data-ttu-id="414c8-247">**Intenzív CPU IO-feladatok kiszervezése háttérfeladatként.**</span><span class="sxs-lookup"><span data-stu-id="414c8-247">**Offload intensive CPU/IO tasks as background tasks.**</span></span> <span data-ttu-id="414c8-248">Ha egy szolgáltatási kérelmet kell egy hosszú időt vesz igénybe, vagy előfordulhat, hogy felvegye a jelentős erőforrásokat, kiszervezheti a feldolgozást egy külön feladat.</span><span class="sxs-lookup"><span data-stu-id="414c8-248">If a request to a service is expected to take a long time to run or may absorb considerable resources, offload the processing to a separate task.</span></span> <span data-ttu-id="414c8-249">A háttérben futó feladatok segítségével hajtsa végre ezeket a feladatokat.</span><span class="sxs-lookup"><span data-stu-id="414c8-249">Use background jobs to execute these tasks.</span></span> <span data-ttu-id="414c8-250">Ez a stratégia lehetővé teszi, hogy a szolgáltatás továbbra is megkapja a további kéréseket, és továbbra is válaszol-e.</span><span class="sxs-lookup"><span data-stu-id="414c8-250">This strategy enables the service to continue receiving further requests and to remain responsive.</span></span> <span data-ttu-id="414c8-251">További információkért lásd: [Háttérfeladatokhoz](../best-practices/background-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-251">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
- <span data-ttu-id="414c8-252">**Háttérfeladatok okozott terhelés elosztásához.**</span><span class="sxs-lookup"><span data-stu-id="414c8-252">**Distribute the workload for background tasks.**</span></span> <span data-ttu-id="414c8-253">Ha sok háttérfeladatokat, vagy ha a tevékenységek elvégzésére jelentős időt és erőforrásokat, a munkahelyi elosztva több számítási egységet.</span><span class="sxs-lookup"><span data-stu-id="414c8-253">If there are many background tasks or if the tasks require considerable time or resources, spread the work across multiple compute units.</span></span> <span data-ttu-id="414c8-254">Egy lehetséges megoldást találhat a [versengő felhasználók mintája](../patterns/competing-consumers.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-254">For one possible solution, see the [Competing Consumers pattern](../patterns/competing-consumers.md).</span></span>
- <span data-ttu-id="414c8-255">**Érdemes lehet felé helyez át egy *osztanak meg semmit* architektúra.**</span><span class="sxs-lookup"><span data-stu-id="414c8-255">**Consider moving toward a *shared-nothing* architecture.**</span></span> <span data-ttu-id="414c8-256">Ez az architektúra a versengés (például a megosztott szolgáltatások vagy a storage) nincs egyetlen ponttal rendelkező független, önellátó csomópontokat használ.</span><span class="sxs-lookup"><span data-stu-id="414c8-256">This architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="414c8-257">Ezt elméletileg egy olyan rendszer szinte végtelenül felskálázható méretezheti.</span><span class="sxs-lookup"><span data-stu-id="414c8-257">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="414c8-258">Bár a teljes körűen osztanak meg semmit megközelítést általában nem praktikus, tehet elérhetővé lehetőségek tervezhet a jobb méretezhetőség érdekében.</span><span class="sxs-lookup"><span data-stu-id="414c8-258">Although a fully shared-nothing approach is usually not practical, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="414c8-259">Jó példák egy megosztott mellőző architektúra felé közé tartozik az adatok particionálása és a kiszolgálóoldali munkamenet-állapot és az ügyfél-affinitás használatának elkerülése.</span><span class="sxs-lookup"><span data-stu-id="414c8-259">Good examples of moving toward a shared-nothing architecture include partitioning data and avoiding the use of server-side session state and client affinity.</span></span>
- <span data-ttu-id="414c8-260">**Tervezze meg a kiszolgálóalkalmazás tárolási követelményei az Azure Storage méretezhetőségi és teljesítménycéljai tartoznak.**</span><span class="sxs-lookup"><span data-stu-id="414c8-260">**Design your application's storage requirements to fall within Azure Storage scalability and performance targets.**</span></span> <span data-ttu-id="414c8-261">Az Azure Storage célja előre meghatározott méretezhetőségi és teljesítménycéljai belül működik, így tervezése az alkalmazás ezen célok belül használhatja.</span><span class="sxs-lookup"><span data-stu-id="414c8-261">Azure Storage is designed to function within predefined scalability and performance targets, so design your application to use storage within those targets.</span></span> <span data-ttu-id="414c8-262">Ha ezeken a célokon túllépi, az alkalmazás storage szabályozás fog tapasztalni.</span><span class="sxs-lookup"><span data-stu-id="414c8-262">If you exceed these targets, your application will experience storage throttling.</span></span> <span data-ttu-id="414c8-263">Szabályozás elkerülése építhet ki további tárfiókok.</span><span class="sxs-lookup"><span data-stu-id="414c8-263">To avoid throttling, provision additional storage accounts.</span></span> <span data-ttu-id="414c8-264">Ha futtatja a tárolási fiók kapacitása együtt, további Azure-előfizetések kiépítése, majd ott a további tárfiókok.</span><span class="sxs-lookup"><span data-stu-id="414c8-264">If you run up against the storage account limit, provision additional Azure subscriptions and then provision additional storage accounts there.</span></span> <span data-ttu-id="414c8-265">További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéljai](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="414c8-265">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>
- <span data-ttu-id="414c8-266">**Válassza ki a megfelelő Virtuálisgép-méret az alkalmazáshoz.**</span><span class="sxs-lookup"><span data-stu-id="414c8-266">**Select the right VM size for your application.**</span></span> <span data-ttu-id="414c8-267">A tényleges CPU, memória, lemez és a virtuális gépeket, éles környezetben i/o mérjük, és ellenőrizze, hogy elegendő-e a kiválasztott Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="414c8-267">Measure the actual CPU, memory, disk, and I/O of your VMs in production, and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="414c8-268">Ha nem, akkor az alkalmazás felhasználói problémákat tapasztalhatnak a kapacitás, a virtuális gépek korlátaikról megközelítést.</span><span class="sxs-lookup"><span data-stu-id="414c8-268">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="414c8-269">Virtuálisgép-méretek részletesen ismertetett [az Azure-beli virtuális gépek méretei](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="414c8-269">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="determine-subscription-and-service-requirements"></a><span data-ttu-id="414c8-270">Előfizetésekre és szolgáltatásokra követelmények meghatározása</span><span class="sxs-lookup"><span data-stu-id="414c8-270">Determine subscription and service requirements</span></span>

<span data-ttu-id="414c8-271">Válassza ki a megfelelő előfizetést, és a service szolgáltatásait az alkalmazás feldolgozása révén e feladatok:</span><span class="sxs-lookup"><span data-stu-id="414c8-271">Choose the right subscription and service features for your app by working through these tasks:</span></span>

- <span data-ttu-id="414c8-272">**Szembeni követelmények felmérése [Azure-előfizetés- és Szolgáltatáskorlátok](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="414c8-272">**Evaluate requirements against [Azure subscription and service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="414c8-273">*Az Azure-előfizetések* korlátokkal rendelkeznek az egyes erőforrástípusok, például az erőforráscsoportok, a magok és a storage-fiókok száma.</span><span class="sxs-lookup"><span data-stu-id="414c8-273">*Azure subscriptions* have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="414c8-274">Ha az alkalmazás követelményeinek meghaladja az Azure-előfizetés korlátai, hozzon létre egy másik Azure előfizetéssel, és üzembe helyezése elegendő erőforrás létezik.</span><span class="sxs-lookup"><span data-stu-id="414c8-274">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span> <span data-ttu-id="414c8-275">Egyes Azure-szolgáltatások használati korlátokkal rendelkeznek &mdash; például a storage, a átviteli sebesség, a kapcsolatok, a kérések száma másodpercenként és egyéb mérőszámok száma korlátozza.</span><span class="sxs-lookup"><span data-stu-id="414c8-275">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="414c8-276">Az alkalmazás sikertelen lesz, ha megkísérli a erőforrások túli ezeket a korlátokat, az érintett felhasználók sávszélesség-szabályozási és lehetséges járó eredményez.</span><span class="sxs-lookup"><span data-stu-id="414c8-276">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="414c8-277">Az adott szolgáltatás és a az alkalmazás követelményeitől függően gyakran elkerülheti ezeket a korlátokat (például egy másik tarifacsomag kiválasztása) vertikális felskálázásával, vagy a horizontális skálázás (például új erőforráspéldányok hozzáadását jelenti).</span><span class="sxs-lookup"><span data-stu-id="414c8-277">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (such as adding new instances).</span></span>
- <span data-ttu-id="414c8-278">**Határozza meg, hány tárfiókok van szüksége.**</span><span class="sxs-lookup"><span data-stu-id="414c8-278">**Determine how many storage accounts you need.**</span></span> <span data-ttu-id="414c8-279">Azure storage-fiókok előfizetésenként bizonyos számú lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="414c8-279">Azure allows a specific number of storage accounts per subscription.</span></span> <span data-ttu-id="414c8-280">További információkért lásd: [Azure-előfizetés és a szolgáltatások korlátozásai, kvótái és megkötései](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="414c8-280">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>
- <span data-ttu-id="414c8-281">**Válassza ki a megfelelő szolgáltatási rétegben az Azure SQL Database.**</span><span class="sxs-lookup"><span data-stu-id="414c8-281">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="414c8-282">Ha az alkalmazás az Azure SQL Database, válassza ki a megfelelő szolgáltatási rétegben.</span><span class="sxs-lookup"><span data-stu-id="414c8-282">If your application uses Azure SQL Database, select the appropriate service tier.</span></span> <span data-ttu-id="414c8-283">A réteg nem tudja kezelni az alkalmazás adatbázis-tranzakciós egységek (DTU) követelmények, ha az adatok használata szabályozva lesz.</span><span class="sxs-lookup"><span data-stu-id="414c8-283">If the tier cannot handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="414c8-284">A megfelelő service-csomag kiválasztásával további információkért lásd: [SQL Database beállításai és teljesítménye: Az egyes szolgáltatásszinteken elérhető ismertetése](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="414c8-284">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>
- <span data-ttu-id="414c8-285">**Elegendő kérelemegységet (RU) az Azure Cosmos DB üzembe helyezése**.</span><span class="sxs-lookup"><span data-stu-id="414c8-285">**Provision sufficient request units (RUs) in Azure Cosmos DB**.</span></span> <span data-ttu-id="414c8-286">Az Azure Cosmos DB kell fizetnie az átviteli sebességet, üzembe helyezése és az óránként felhasznált storage.</span><span class="sxs-lookup"><span data-stu-id="414c8-286">With Azure Cosmos DB, you pay for the throughput you provision and the storage you consume on an hourly basis.</span></span> <span data-ttu-id="414c8-287">Minden adatbázis-műveletek költségét, RUs, van normalizálva, amely kivonatolja a rendszererőforrásokat akadályozhatnak, mint a Processzor, az IOPS és a memória.</span><span class="sxs-lookup"><span data-stu-id="414c8-287">The cost of all database operations is normalized as RUs, which abstracts the system resources such as CPU, IOPS, and memory.</span></span> <span data-ttu-id="414c8-288">További információkért lásd: [Azure Cosmos DB-ben a kérelemegység](/azure/cosmos-db/request-units).</span><span class="sxs-lookup"><span data-stu-id="414c8-288">For more information, see [Request Units in Azure Cosmos DB](/azure/cosmos-db/request-units).</span></span>

## <a name="load-balance-as-needed"></a><span data-ttu-id="414c8-289">Terheléselosztás igény szerint</span><span class="sxs-lookup"><span data-stu-id="414c8-289">Load-balance as needed</span></span>

<span data-ttu-id="414c8-290">Megfelelő terheléselosztási lehetővé teszi a rendelkezésre állási követelményeinek és a rendelkezésre állási társított költségek minimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="414c8-290">Proper load-balancing allows you to meet availability requirements and to minimize costs associated with availability.</span></span>

- <span data-ttu-id="414c8-291">**Használja a terheléselosztási kérések elosztása.**</span><span class="sxs-lookup"><span data-stu-id="414c8-291">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="414c8-292">Terheléselosztó osztja el a kifogástalan állapotú szolgáltatási példányai kérelmeket az alkalmazás eltávolításával a nem megfelelő a rotációból.</span><span class="sxs-lookup"><span data-stu-id="414c8-292">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="414c8-293">Ha a szolgáltatás az Azure App Service vagy az Azure Cloud Services használ, már kiegyenlített terhelésű az Ön számára.</span><span class="sxs-lookup"><span data-stu-id="414c8-293">If your service uses Azure App Service or Azure Cloud Services, it's already load-balanced for you.</span></span> <span data-ttu-id="414c8-294">Azonban ha az alkalmazás Azure virtuális gépek, szüksége lehet kiépíteni egy terheléselosztót.</span><span class="sxs-lookup"><span data-stu-id="414c8-294">However, if your application uses Azure VMs, you need to provision a load-balancer.</span></span> <span data-ttu-id="414c8-295">További információkért lásd: [Mi az Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span><span class="sxs-lookup"><span data-stu-id="414c8-295">For more information, see [What is Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span></span>

  <span data-ttu-id="414c8-296">Az Azure Load Balancer funkciói:</span><span class="sxs-lookup"><span data-stu-id="414c8-296">You can use Azure Load Balancer to:</span></span>

  - <span data-ttu-id="414c8-297">Terheléselosztás a bejövő internetes forgalmat a virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="414c8-297">Load-balance incoming Internet traffic to your VMs.</span></span> <span data-ttu-id="414c8-298">Ebben a konfigurációban más néven egy [ *nyilvános Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="414c8-298">This configuration is known as a [*public Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span></span>
  - <span data-ttu-id="414c8-299">Virtuális gépek közötti forgalom terheléselosztása egy virtuális hálózaton belül.</span><span class="sxs-lookup"><span data-stu-id="414c8-299">Load-balance traffic across VMs inside a virtual network.</span></span> <span data-ttu-id="414c8-300">Egy hibrid forgatókönyv esetén egy helyszíni hálózatról is elérheti a Load Balancer előterét.</span><span class="sxs-lookup"><span data-stu-id="414c8-300">You can also reach a Load Balancer front end from an on-premises network in a hybrid scenario.</span></span> <span data-ttu-id="414c8-301">Mindkét forgatókönyv szerint konfigurációját használja egy [ *belső Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="414c8-301">Both scenarios use a configuration that is known as an [*internal Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span></span>
  - <span data-ttu-id="414c8-302">Port előre forgalom tételes portra bejövő hálózati címfordítási (NAT) szabályait használó meghatározott virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="414c8-302">Port forward traffic to an itemized port on specific VMs with inbound network address translation (NAT) rules.</span></span>
  - <span data-ttu-id="414c8-303">Nyilvános Load Balancer használatával biztosíthat [kimenő kapcsolatot](/azure/load-balancer/load-balancer-outbound-connections) a virtuális hálózat virtuális gépei számára.</span><span class="sxs-lookup"><span data-stu-id="414c8-303">Provide [outbound connectivity](/azure/load-balancer/load-balancer-outbound-connections) for VMs inside your virtual network by using a public Load Balancer.</span></span>

- <span data-ttu-id="414c8-304">**Egyenleg betölti a forgalomkezelővel, például az Azure Traffic Manager-régiók között.**</span><span class="sxs-lookup"><span data-stu-id="414c8-304">**Balance loads across regions with a traffic manager, such as Azure Traffic Manager.**</span></span> <span data-ttu-id="414c8-305">Terheléselosztás a régiók közötti forgalmat igényel a egy adatforgalom-kezelő megoldás, és az Azure biztosít [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="414c8-305">To load-balance traffic across regions requires a traffic management solution, and Azure provides [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="414c8-306">Emellett kihasználhatja a külső szolgáltatások, amelyek hasonló adatforgalom-felügyeleti képességeket biztosítják.</span><span class="sxs-lookup"><span data-stu-id="414c8-306">You can also take advantage of third-party services that provide similar traffic-management capabilities.</span></span>

## <a name="implement-resiliency-strategies"></a><span data-ttu-id="414c8-307">Rugalmassági stratégiák megvalósítása</span><span class="sxs-lookup"><span data-stu-id="414c8-307">Implement resiliency strategies</span></span>

<span data-ttu-id="414c8-308">Ez a szakasz néhány gyakori rugalmassági stratégiát ismerteti.</span><span class="sxs-lookup"><span data-stu-id="414c8-308">This section describes some common resiliency strategies.</span></span> <span data-ttu-id="414c8-309">Ezek a stratégiák többsége nem korlátozódnak egy alkalmazott technológiától függetlenül működik.</span><span class="sxs-lookup"><span data-stu-id="414c8-309">Most of these strategies are not limited to a particular technology.</span></span> <span data-ttu-id="414c8-310">A leírások egyes technikák általános működési összesítése, valamint a további olvasási mutató hivatkozásokat tartalmazzák.</span><span class="sxs-lookup"><span data-stu-id="414c8-310">The descriptions summarize the general idea behind each technique and include links to further reading.</span></span>

- <span data-ttu-id="414c8-311">**Rugalmassági minták megvalósítása** távoli műveletek végrehajtása, amennyiben szükséges.</span><span class="sxs-lookup"><span data-stu-id="414c8-311">**Implement resiliency patterns** for remote operations, where appropriate.</span></span> <span data-ttu-id="414c8-312">Ha az alkalmazása függ a távoli szolgáltatások közötti kommunikációt, hajtsa végre a [tervezési minták](../patterns/category/resiliency.md) átmeneti hibák kezelésével foglalkoznak.</span><span class="sxs-lookup"><span data-stu-id="414c8-312">If your application depends on communication between remote services, follow [design patterns](../patterns/category/resiliency.md) for dealing with transient failures.</span></span>

- <span data-ttu-id="414c8-313">**Újrapróbálkozás átmeneti meghibásodások esetén.**</span><span class="sxs-lookup"><span data-stu-id="414c8-313">**Retry transient failures.**</span></span> <span data-ttu-id="414c8-314">Ezek okozhatja hálózati kapcsolat, adatbázis-kapcsolat vagy időtúllépés pillanatnyi elvesztését foglalt szolgáltatás esetén.</span><span class="sxs-lookup"><span data-stu-id="414c8-314">These can be caused by momentary loss of network connectivity, a dropped database connection, or a timeout when a service is busy.</span></span> <span data-ttu-id="414c8-315">Átmeneti hiba gyakran előfordul, a kérelem ismételt megkísérlésével feloldható.</span><span class="sxs-lookup"><span data-stu-id="414c8-315">Often, a transient failure can be resolved by retrying the request.</span></span>

  - <span data-ttu-id="414c8-316">Sok Azure-szolgáltatások, az ügyfél szoftverfejlesztői készlet (SDK) automatikus újrapróbálkozásokat valósít meg, amely a hívó számára átlátható módon.</span><span class="sxs-lookup"><span data-stu-id="414c8-316">For many Azure services, the client software development kit (SDK) implements automatic retries in a way that is transparent to the caller.</span></span> <span data-ttu-id="414c8-317">Lásd: [újrapróbálkozási útmutatás adott szolgáltatásoknál](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-317">See [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>
  - <span data-ttu-id="414c8-318">Illetve végrehajtja a [újrapróbálkozási minta](../patterns/retry.md) jelentkező előre jelzett, átmeneti meghibásodások átlátható módon kezelni a csatlakozás a szolgáltatásokhoz vagy hálózati erőforrásokhoz való az alkalmazás segítségével.</span><span class="sxs-lookup"><span data-stu-id="414c8-318">Or implement the [Retry pattern](../patterns/retry.md) to help the application handle anticipated, temporary failures transparently when it tries to connect to a service or network resource.</span></span>

- <span data-ttu-id="414c8-319">**Áramköri megszakító használata** , előfordulhat, hogy igénybe, és hárítsa el a hibák kezelésére.</span><span class="sxs-lookup"><span data-stu-id="414c8-319">**Use a circuit breaker** to handle faults that might take a variable amount of time to fix.</span></span> <span data-ttu-id="414c8-320">A [áramkör-megszakító minta](../patterns/circuit-breaker.md) megakadályozhatja, hogy egy alkalmazás ismételten megpróbáljon egy műveletet, amely nagy eséllyel lesz sikertelen.</span><span class="sxs-lookup"><span data-stu-id="414c8-320">The [Circuit Breaker pattern](../patterns/circuit-breaker.md) can prevent an application from repeatedly trying an operation that is likely to fail.</span></span> <span data-ttu-id="414c8-321">Az áramköri megszakító egy szolgáltatás meghívásait burkolja, és nyomon követi a nemrégiben történt hibákat.</span><span class="sxs-lookup"><span data-stu-id="414c8-321">The circuit breaker wraps calls to a service and tracks the number of recent failures.</span></span> <span data-ttu-id="414c8-322">Ha a hibaszám túllépi a küszöbértéket, az áramköri megszakító egy hibakódot ad vissza a szolgáltatás hívása nélkül.</span><span class="sxs-lookup"><span data-stu-id="414c8-322">If the failure count exceeds a threshold, the circuit breaker starts returning an error code without calling the service.</span></span> <span data-ttu-id="414c8-323">Ez lehetővé teszi a helyreállítási szolgáltatás ideje, és elkerülhetők a lépcsőzetesen terjedő hibáktól.</span><span class="sxs-lookup"><span data-stu-id="414c8-323">This gives the service time to recover and helps avoid cascading failures.</span></span>
- <span data-ttu-id="414c8-324">**Kritikus erőforrások elkülönítése.**</span><span class="sxs-lookup"><span data-stu-id="414c8-324">**Isolate critical resources.**</span></span> <span data-ttu-id="414c8-325">Egy alrendszerben hibák is néha kaszkádolt, az alkalmazás más részein hibákat eredményez.</span><span class="sxs-lookup"><span data-stu-id="414c8-325">Failures in one subsystem can sometimes cascade, resulting in failures in other parts of the application.</span></span> <span data-ttu-id="414c8-326">Ez akkor fordulhat elő, ha egy hiba megakadályozza erőforrások, például szálak vagy szoftvercsatornák felszabadítását, ami erőforrásfogyáshoz.</span><span class="sxs-lookup"><span data-stu-id="414c8-326">This can happen if a failure prevents resources such as threads or sockets from being freed, leading to resource exhaustion.</span></span> <span data-ttu-id="414c8-327">Ennek elkerülése érdekében azt is particionálja a rendszert elkülönített csoportokra, hogy egy, az egy partícióban bekövetkező hiba nem a teljes rendszer leállásához.</span><span class="sxs-lookup"><span data-stu-id="414c8-327">To avoid this, you can partition a system into isolated groups so that a failure in one partition does not bring down the entire system.</span></span>

    <span data-ttu-id="414c8-328">Ez a módszer, amely néha néhány példa a [válaszfal minta](../patterns/bulkhead.md):</span><span class="sxs-lookup"><span data-stu-id="414c8-328">Here are some examples of this technique, which is sometimes called the [Bulkhead pattern](../patterns/bulkhead.md):</span></span>

  - <span data-ttu-id="414c8-329">Particionáljon egy adatbázist (például a bérlő), és rendelje hozzá az egyes partíciók webkiszolgálói példányok külön készletét.</span><span class="sxs-lookup"><span data-stu-id="414c8-329">Partition a database (for example, by tenant), and assign a separate pool of web server instances for each partition.</span></span>
  - <span data-ttu-id="414c8-330">Használjon külön szálkészleteket a különböző szolgáltatások meghívásainak elkülönítésére.</span><span class="sxs-lookup"><span data-stu-id="414c8-330">Use separate thread pools to isolate calls to different services.</span></span> <span data-ttu-id="414c8-331">Ez segít meggátolni a kaszkádolás révén terjedő hibákat, ha az egyik szolgáltatás meghibásodik.</span><span class="sxs-lookup"><span data-stu-id="414c8-331">This helps to prevent cascading failures if one of the services fails.</span></span> <span data-ttu-id="414c8-332">Egy vonatkozó példáért tekintse meg a Netflix [Hystrix könyvtárát](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span><span class="sxs-lookup"><span data-stu-id="414c8-332">For an example, see the Netflix [Hystrix library](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span></span>
  - <span data-ttu-id="414c8-333">Használat [tárolók](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) korlátozása egy adott alrendszer számára elérhető erőforrások.</span><span class="sxs-lookup"><span data-stu-id="414c8-333">Use [containers](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) to limit the resources available to a particular subsystem.</span></span>

      ![A Válaszfal minta ábrája](_images/bulkhead.png)

- <span data-ttu-id="414c8-335">**Alkalmazása [ *kompenzáló tranzakciók*](../patterns/compensating-transaction.md)**.</span><span class="sxs-lookup"><span data-stu-id="414c8-335">**Apply [*compensating transactions*](../patterns/compensating-transaction.md)**.</span></span> <span data-ttu-id="414c8-336">A kompenzáló tranzakciók más, befejezett tranzakciók hatásait szüntetik meg.</span><span class="sxs-lookup"><span data-stu-id="414c8-336">A compensating transaction is a transaction that undoes the effects of another completed transaction.</span></span> <span data-ttu-id="414c8-337">Az elosztott rendszerekben nehézkes lehet az erős tranzakció-konzisztencia megvalósítása.</span><span class="sxs-lookup"><span data-stu-id="414c8-337">In a distributed system, it can be difficult to achieve strong transactional consistency.</span></span> <span data-ttu-id="414c8-338">Kompenzáló tranzakciók segítenek megvalósítható a konzisztencia azáltal, hogy minden lépésnél visszavonható kisebb, különálló tranzakciókat használunk.</span><span class="sxs-lookup"><span data-stu-id="414c8-338">Compensating transactions help to achieve consistency by using a series of smaller, individual transactions that can be undone at each step.</span></span> <span data-ttu-id="414c8-339">Például utazásfoglalás esetében az ügyfél foglalhat autót, hotelszobát és repülőjegyet.</span><span class="sxs-lookup"><span data-stu-id="414c8-339">For example, to book a trip, a customer might reserve a car, a hotel room, and a flight.</span></span> <span data-ttu-id="414c8-340">Ha nem sikerül, az alábbi lépéseket az egész művelet meghiúsul.</span><span class="sxs-lookup"><span data-stu-id="414c8-340">If one of these steps fails, the entire operation fails.</span></span> <span data-ttu-id="414c8-341">Az egész művelet egyetlen elosztott tranzakcióval történő megvalósítása helyett definiálható kompenzáló tranzakció mindegyik lépéshez.</span><span class="sxs-lookup"><span data-stu-id="414c8-341">Instead of trying to use a single distributed transaction for the entire operation, you can define a compensating transaction for each step.</span></span>
- <span data-ttu-id="414c8-342">**Bemutatjuk az aszinkron műveletek, amikor csak lehetséges.**</span><span class="sxs-lookup"><span data-stu-id="414c8-342">**Implement asynchronous operations, whenever possible.**</span></span> <span data-ttu-id="414c8-343">A szinkron műveletek is tudják kisajátítani az erőforrásokat, és egyéb műveletek blokkolható, amíg a hívó megvárja, amíg a folyamat befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="414c8-343">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="414c8-344">Tervezze meg, amikor csak lehetséges aszinkron műveletek lehetővé az alkalmazás egyes részei.</span><span class="sxs-lookup"><span data-stu-id="414c8-344">Design each part of your application to allow for asynchronous operations, whenever possible.</span></span> <span data-ttu-id="414c8-345">További információ az aszinkron programozásba megvalósítása az C\#, lásd: [aszinkron programozás](/dotnet/articles/csharp/async).</span><span class="sxs-lookup"><span data-stu-id="414c8-345">For more information on how to implement asynchronous programming in C\#, see [Asynchronous Programming](/dotnet/articles/csharp/async).</span></span>

## <a name="ensure-that-availability-meets-slas"></a><span data-ttu-id="414c8-346">Győződjön meg arról, hogy megfelel-e a rendelkezésre állási SLA-k</span><span class="sxs-lookup"><span data-stu-id="414c8-346">Ensure that availability meets SLAs</span></span>

<span data-ttu-id="414c8-347">*Rendelkezésre állási* az időarány, amíg, ameddig a rendszer működik és üzemel, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-347">*Availability* is the proportion of time that a system is functional and working, and it is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="414c8-348">Ebben a szakaszban a feladatok segítségével, győződjön meg arról, hogy a rendelkezésre állási megfelel-e a szolgáltatói szerződésben foglalt rendelkezésre állási szempontból a az alkalmazás architektúra.</span><span class="sxs-lookup"><span data-stu-id="414c8-348">Use the tasks in this section to review your application architecture from an availability standpoint to make sure that your availability meets your SLAs.</span></span>

- <span data-ttu-id="414c8-349">**Kerülje el minden olyan hibaérzékeny pont.**</span><span class="sxs-lookup"><span data-stu-id="414c8-349">**Avoid any single point of failure.**</span></span> <span data-ttu-id="414c8-350">Több példány megakadályozza, hogy egy meghibásodási pont rendelkezésre állását érintő összetevők, szolgáltatások, erőforrások és számítási példányok kell telepíteni.</span><span class="sxs-lookup"><span data-stu-id="414c8-350">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="414c8-351">Hitelesítési mechanizmusok is egy meghibásodási pont lehet.</span><span class="sxs-lookup"><span data-stu-id="414c8-351">Authentication mechanisms can also be a single point of failure.</span></span> <span data-ttu-id="414c8-352">Tervezési konfigurálható több példány üzemeltetéséhez és a automatikusan észleli a hibákat, és kérelmek átirányítása a példányok nem sikertelen, ha a platform nem ezt automatikusan az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="414c8-352">Design the application to be configurable to use multiple instances and to automatically detect failures and redirect requests to non-failed instances, if the platform doesn't do this automatically.</span></span>
- <span data-ttu-id="414c8-353">**Számítási feladatok lebontása a szolgáltatásiszint-célkitűzés által.**</span><span class="sxs-lookup"><span data-stu-id="414c8-353">**Decompose workloads by service-level objective.**</span></span> <span data-ttu-id="414c8-354">Ha egy szolgáltatás áll, amelyek kritikus és a kevésbé kritikus fontosságú számítási feladatokhoz, eltérően kezelheti őket, és adja meg a service-szolgáltatások és a rendelkezésre állási követelményeinek-példányok számát.</span><span class="sxs-lookup"><span data-stu-id="414c8-354">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
- <span data-ttu-id="414c8-355">**Kis méret, és megismerheti a függőségei.**</span><span class="sxs-lookup"><span data-stu-id="414c8-355">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="414c8-356">Csökkentse a különböző szolgáltatások használják, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="414c8-356">Minimize the number of different services used, where possible.</span></span> <span data-ttu-id="414c8-357">Győződjön meg arról, hogy ismeri az összes funkció és szolgáltatás függőséget, amely létezik a rendszerben.</span><span class="sxs-lookup"><span data-stu-id="414c8-357">Ensure that you understand all the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="414c8-358">Ismerje meg, különösen, sikertelen vagy csökkentett teljesítmény az egyes függőségek általános hatását.</span><span class="sxs-lookup"><span data-stu-id="414c8-358">In particular, understand the overall impact of failure or reduced performance in each dependency.</span></span>
- <span data-ttu-id="414c8-359">**Tervezési feladatokat, és üzeneteket kell *idempotens*, ahol csak lehetséges.**</span><span class="sxs-lookup"><span data-stu-id="414c8-359">**Design tasks and messages to be *idempotent*, where possible.**</span></span> <span data-ttu-id="414c8-360">Egy művelet idempotens, ha többször is megismételhető, és ugyanazt az eredményt.</span><span class="sxs-lookup"><span data-stu-id="414c8-360">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="414c8-361">Ez biztosíthatja, hogy az ismétlődő kérelmek problémák nem okoznak.</span><span class="sxs-lookup"><span data-stu-id="414c8-361">This can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="414c8-362">Üzenet fogyasztók és az általuk végzett műveletek kell idempotens, hogy a korábban végrehajtott műveletet nem jelennek meg az eredmények érvénytelen.</span><span class="sxs-lookup"><span data-stu-id="414c8-362">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="414c8-363">Ez azt jelentheti, hogy észlelni a duplikált üzenetek vagy a konzisztencia biztosítása egy optimista megközelítéssel ütközések kezelése érdekében.</span><span class="sxs-lookup"><span data-stu-id="414c8-363">This may mean detecting duplicated messages or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
- <span data-ttu-id="414c8-364">**Konfigurálja a kérelem időtúllépése.**</span><span class="sxs-lookup"><span data-stu-id="414c8-364">**Configure request timeouts.**</span></span> <span data-ttu-id="414c8-365">Szolgáltatások és erőforrások miatt a kérelem sikertelen elérhetetlenné válhat.</span><span class="sxs-lookup"><span data-stu-id="414c8-365">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="414c8-366">Győződjön meg arról, hogy a alkalmazni, időtúllépések megfelelő minden szolgáltatáshoz vagy erőforráshoz, az ügyfél, amely fér hozzá őket.</span><span class="sxs-lookup"><span data-stu-id="414c8-366">Ensure that the timeouts you apply are appropriate for each service or resource and for the client that is accessing them.</span></span> <span data-ttu-id="414c8-367">Bizonyos esetekben előfordulhat, hogy engedélyezi a hosszabb időkorlát az ügyfélen, attól függően, a környezetet és más műveletek, amelyek az ügyfél hajt végre adott alkalmazáspéldány esetében.</span><span class="sxs-lookup"><span data-stu-id="414c8-367">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="414c8-368">Rövid időtúllépések okozhat túl sok újrapróbálkozás műveletek szolgáltatásokhoz és erőforrásokhoz, amelyek jelentős késéssel rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="414c8-368">Short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="414c8-369">Hosszú időtúllépések okozhat, blokkolja-e, ha nagy számú kérelem várólistára, Várakozás a szolgáltatás vagy erőforrás válaszolni.</span><span class="sxs-lookup"><span data-stu-id="414c8-369">Long timeouts can cause blocking, if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
- <span data-ttu-id="414c8-370">**A közvetítő, amely megvalósítja a magas rendelkezésre állású, kritikus fontosságú tranzakciók használja.**</span><span class="sxs-lookup"><span data-stu-id="414c8-370">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="414c8-371">Számos felhőalapú alkalmazások használatával üzenetkezelési elindíthatja aszinkron feladatokat.</span><span class="sxs-lookup"><span data-stu-id="414c8-371">Many cloud applications use messaging to trigger asynchronous tasks.</span></span> <span data-ttu-id="414c8-372">Garantálja az üzenetek kézbesítését, az üzenetkezelési rendszer magas rendelkezésre állást kell biztosítania.</span><span class="sxs-lookup"><span data-stu-id="414c8-372">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="414c8-373">[Az Azure Service Bus-üzenetkezelés](/azure/service-bus-messaging) valósít meg *legalább egyszer* szemantikát, ami azt jelenti, hogy egy üzenet garantáltan legalább egyszer elküldjön.</span><span class="sxs-lookup"><span data-stu-id="414c8-373">[Azure Service Bus messaging](/azure/service-bus-messaging) implements *at least once* semantics, which means that a message is guaranteed to be delivered at least once.</span></span> <span data-ttu-id="414c8-374">Ismétlődő üzenetek kézbesíteni bizonyos körülmények között lehet.</span><span class="sxs-lookup"><span data-stu-id="414c8-374">Duplicate messages may be delivered under certain circumstances.</span></span> <span data-ttu-id="414c8-375">Ha üzenet feldolgozás idempotens (lásd az előző elemet), ismétlődő kézbesítési nem lehet probléma.</span><span class="sxs-lookup"><span data-stu-id="414c8-375">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
- <span data-ttu-id="414c8-376">**Nagy forgalmú felhasználók szabályozása.**</span><span class="sxs-lookup"><span data-stu-id="414c8-376">**Throttle high-volume users.**</span></span> <span data-ttu-id="414c8-377">Egyes esetekben a felhasználók kis számú túlzott terhelést hoz létre.</span><span class="sxs-lookup"><span data-stu-id="414c8-377">Sometimes, a small number of users creates excessive load.</span></span> <span data-ttu-id="414c8-378">Ez más felhasználókra hatással lehetnek, és csökkentheti az alkalmazás rendelkezésre állását.</span><span class="sxs-lookup"><span data-stu-id="414c8-378">This can have an impact on other users and can reduce the overall availability of your application.</span></span> <span data-ttu-id="414c8-379">Egyetlen ügyfél túlzott mennyiségű kérelmet küld, amikor az az alkalmazás az ügyfél lehet, hogy bizonyos ideig szabályozás.</span><span class="sxs-lookup"><span data-stu-id="414c8-379">When a single client makes an excessive number of requests, the application might throttle the client for a certain period.</span></span> <span data-ttu-id="414c8-380">A szabályozási időszak alatt az alkalmazás visszautasítja az néhány vagy összes kérelmet az, hogy az ügyfél.</span><span class="sxs-lookup"><span data-stu-id="414c8-380">During the throttling period, the application refuses some or all of the requests from that client.</span></span> <span data-ttu-id="414c8-381">A szabályozási küszöbérték gyakran az ügyfél szolgáltatásszintjétől függ.</span><span class="sxs-lookup"><span data-stu-id="414c8-381">The threshold for throttling often depends on the customer's service tier.</span></span> <span data-ttu-id="414c8-382">További információkért lásd: [sávszélesség-szabályozási minta](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-382">For more information, see [Throttling pattern](../patterns/throttling.md).</span></span>

    <span data-ttu-id="414c8-383">Szabályozás nem jelenti azt, hogy az ügyfél jelent kártételi szándékot &mdash; csak, hogy túllépte a szolgáltatási kvótáját.</span><span class="sxs-lookup"><span data-stu-id="414c8-383">Throttling does not imply that the client was necessarily acting maliciously &mdash; only that it exceeded its service quota.</span></span> <span data-ttu-id="414c8-384">Egyes esetekben a fogyasztók rendszeresen túlléphetik a kvótájukat, vagy egyéb helytelen magatartást tanúsíthatnak.</span><span class="sxs-lookup"><span data-stu-id="414c8-384">In some cases, a consumer might consistently exceed their quota or otherwise behave badly.</span></span> <span data-ttu-id="414c8-385">Ilyen esetben további lépésként lehetséges a felhasználó blokkolása.</span><span class="sxs-lookup"><span data-stu-id="414c8-385">In that case, you might go further and block the user.</span></span> <span data-ttu-id="414c8-386">Ez általában API-kulcs vagy IP-címtartomány blokkolása révén történik.</span><span class="sxs-lookup"><span data-stu-id="414c8-386">Typically, this is done by blocking an API key or an IP address range.</span></span>
- <span data-ttu-id="414c8-387">**Szabályosan csökkeni alkalmazások tervezéséről.**</span><span class="sxs-lookup"><span data-stu-id="414c8-387">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="414c8-388">Az alkalmazás terhelésének haladhatja meg a kapacitás egy, vagy további alkatrészek, így csökken a rendelkezésre állás és a kapcsolatok meghiúsultak.</span><span class="sxs-lookup"><span data-stu-id="414c8-388">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="414c8-389">Skálázás is a probléma mérséklése, de a más tényezők, például az erőforrások elérhetőségét és a költségek által megszabott felső határértéket elérheti.</span><span class="sxs-lookup"><span data-stu-id="414c8-389">Scaling can mitigate this problem, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="414c8-390">Amikor egy alkalmazás eléri egy erőforráskorlátot, hogy minimalizálja a felhasználó a megfelelő műveletet kell vennie.</span><span class="sxs-lookup"><span data-stu-id="414c8-390">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="414c8-391">Például egy e-kereskedelmi rendszerben-e a feldolgozási sorrendben alrendszer törzs vagy meghiúsul, akkor ideiglenesen letiltható miközben lehetővé teszi az egyéb funkciókat, például a termékkatalógus tallózása.</span><span class="sxs-lookup"><span data-stu-id="414c8-391">For example, in an e-commerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="414c8-392">Érdemes lehet elhalasztani a kérelmeket egy sikertelen alrendszer &mdash; például így továbbra is az ügyfelek nyújthatnak be rendelést, de mentésével későbbi feldolgozás céljából, ha a rendelések alrendszer ismét elérhető.</span><span class="sxs-lookup"><span data-stu-id="414c8-392">It might be appropriate to postpone requests to a failing subsystem &mdash; for example, still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
- <span data-ttu-id="414c8-393">**Gyors burst események szabályosan kezelésére.**</span><span class="sxs-lookup"><span data-stu-id="414c8-393">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="414c8-394">A legtöbb alkalmazás idővel munkaterhelésű kezeléséhez szükséges.</span><span class="sxs-lookup"><span data-stu-id="414c8-394">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="414c8-395">Az automatikus skálázás segítségével a terhelés kezeléséhez, de eltarthat egy kis ideig további példányok online állapotba kerül, és a kérelmek kezelésére.</span><span class="sxs-lookup"><span data-stu-id="414c8-395">Autoscaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="414c8-396">Tevékenység adatlöketekkel megakadályozni az alkalmazás túlterhelve, tervezése a szolgáltatásokat használ, és amikor üzenetsorok buildjénél a kapacitás leállás nélküli teljesítménycsökkenés várólista-kérelmekre.</span><span class="sxs-lookup"><span data-stu-id="414c8-396">To prevent bursts of activity from overwhelming the application, design it to queue requests to the services it uses and to degrade gracefully when queues are near capacity.</span></span> <span data-ttu-id="414c8-397">Győződjön meg arról, ott érhető el elegendő teljesítményt és kapacitást kiürítési az üzenetsorokhoz és a szálankénti függőben lévő kérések kezelésére nem burst körülmények között.</span><span class="sxs-lookup"><span data-stu-id="414c8-397">Ensure there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="414c8-398">További információkért lásd: a [terhelés üzenetsor-alapú terheléskiegyenlítési minta](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-398">For more information, see the [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>
- <span data-ttu-id="414c8-399">**Compose, vagy a feladat-visszavételhez több összetevőt.**</span><span class="sxs-lookup"><span data-stu-id="414c8-399">**Compose or fail back to multiple components.**</span></span> <span data-ttu-id="414c8-400">Kialakítási alkalmazások általi használatát több példány nélkül érintő művelet és a meglévő kapcsolatokat, ahol csak lehetséges.</span><span class="sxs-lookup"><span data-stu-id="414c8-400">Design applications to use multiple instances without affecting operation and existing connections, where possible.</span></span> <span data-ttu-id="414c8-401">Rendelkezésre állás maximalizálása érdekében, hogy több példány üzemeltetéséhez kérelmek közöttük, terjesztése és felismeri és elkerülheti a kérések küldését sikertelen példányok.</span><span class="sxs-lookup"><span data-stu-id="414c8-401">To maximize availability, use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances.</span></span>
- <span data-ttu-id="414c8-402">**Feladat-visszavételhez egy másik szolgáltatás vagy a munkafolyamat.**</span><span class="sxs-lookup"><span data-stu-id="414c8-402">**Fail back to a different service or workflow.**</span></span> <span data-ttu-id="414c8-403">Például ha az SQL Database-adatbázisba írása sikertelen, ideiglenesen tárolja az adatokat a Blob storage vagy a Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="414c8-403">For example, if writing to SQL Database fails, temporarily store data in Blob storage or Redis Cache.</span></span> <span data-ttu-id="414c8-404">Visszajátszani az írást, az SQL Database-amikor elérhetővé válik a szolgáltatás lehetőséget biztosíthat.</span><span class="sxs-lookup"><span data-stu-id="414c8-404">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="414c8-405">Bizonyos esetekben egy meghiúsult művelet lehet egy valamilyen alternatív műveletet, amely lehetővé teszi az alkalmazás továbbra is működik, még ha egy összetevő vagy szolgáltatás sikertelen.</span><span class="sxs-lookup"><span data-stu-id="414c8-405">In some cases, a failed operation may have an alternative action that allows the application to continue to work, even when a component or service fails.</span></span> <span data-ttu-id="414c8-406">Ha lehetséges a hibák észlelése, és más szolgáltatásokba irányuló kérelmek átirányítása a szolgáltatás az elsődleges kapcsolat nélküli módban.</span><span class="sxs-lookup"><span data-stu-id="414c8-406">If possible, detect failures and redirect requests to other services while the primary service is offline.</span></span>
- <span data-ttu-id="414c8-407">**Terheléskiegyenlítés használatával adatforgalmi kiugrások forgalmat.**</span><span class="sxs-lookup"><span data-stu-id="414c8-407">**Use load leveling to smooth out spikes in traffic.**</span></span> <span data-ttu-id="414c8-408">Alkalmazások forgalmat, amely túlterhelhetik a háttérkiszolgálón szolgáltatások hirtelen kiugrások tapasztalhat.</span><span class="sxs-lookup"><span data-stu-id="414c8-408">Applications may experience sudden spikes in traffic, which can overwhelm services on the back end.</span></span> <span data-ttu-id="414c8-409">Ha egy háttérszolgáltatás nem gyorsan válaszolni a kérésekre ahhoz, a függőben lévő kérelmek halmozódnak előfordulhat, hogy vagy a szolgáltatás lehet szabályozni az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="414c8-409">If a back-end service cannot respond to requests quickly enough, the pending requests may accumulate or the service may throttle the application.</span></span> <span data-ttu-id="414c8-410">Ennek elkerülése végett az üzenetsor pufferként használható.</span><span class="sxs-lookup"><span data-stu-id="414c8-410">To avoid this, you can use a queue as a buffer.</span></span> <span data-ttu-id="414c8-411">Ha egy új munkaelem megjelenésekor a háttérszolgáltatás azonnali meghívása helyett a az alkalmazás sorba egy munkaelemet, történő futtatásukhoz.</span><span class="sxs-lookup"><span data-stu-id="414c8-411">When there is a new work item, instead of calling the back-end service immediately, the application queues a work item to run asynchronously.</span></span> <span data-ttu-id="414c8-412">Az üzenetsor pufferként működik, amely csökkenti a terhelési kiugrásokat.</span><span class="sxs-lookup"><span data-stu-id="414c8-412">The queue acts as a buffer that smooths out peaks in the load.</span></span> <span data-ttu-id="414c8-413">További információkért lásd: [terhelés üzenetsor-alapú terheléskiegyenlítési minta](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-413">For more information, see [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>

## <a name="manage-your-data"></a><span data-ttu-id="414c8-414">Adatok kezelése</span><span class="sxs-lookup"><span data-stu-id="414c8-414">Manage your data</span></span>

<span data-ttu-id="414c8-415">Az adatok kezelése játszik közvetlenül az alkalmazás rendelkezésre állását.</span><span class="sxs-lookup"><span data-stu-id="414c8-415">How you manage your data plays directly into the availability of your application.</span></span> <span data-ttu-id="414c8-416">Ebben a szakaszban a feladatok segítségével hozzon létre egy felügyeleti csomagot a rendelkezésre állás biztosítása érdekében.</span><span class="sxs-lookup"><span data-stu-id="414c8-416">The tasks in this section can help you create a management plan to help ensure availability.</span></span>

- <span data-ttu-id="414c8-417">**Adatok replikálása, és megismerheti az alkalmazás olyan adattárakban replikációs módszereket.**</span><span class="sxs-lookup"><span data-stu-id="414c8-417">**Replicate data and understand the replication methods for your application's data stores.**</span></span> <span data-ttu-id="414c8-418">Az adatok replikálása egy általános stratégia, amellyel az adattárak nem átmeneti meghibásodásai kezelhetők.</span><span class="sxs-lookup"><span data-stu-id="414c8-418">Replicating data is a general strategy for handling non-transient failures in a data store.</span></span> <span data-ttu-id="414c8-419">Fontolja meg az olvasási és írási elérési.</span><span class="sxs-lookup"><span data-stu-id="414c8-419">Consider both the read and write paths.</span></span> <span data-ttu-id="414c8-420">A tárolási technológiát függően előfordulhat, hogy több írható replikával, vagy lehetséges, hogy egy egyetlen írható és több írásvédett replikával.</span><span class="sxs-lookup"><span data-stu-id="414c8-420">Depending on the storage technology, you might have multiple writable replicas or you might have a single writable replica and multiple read-only replicas.</span></span> <span data-ttu-id="414c8-421">A rendelkezésre állás maximalizálása érdekében a replikákat több régióban is el lehet helyezni.</span><span class="sxs-lookup"><span data-stu-id="414c8-421">To maximize availability, replicas can be placed in multiple regions.</span></span> <span data-ttu-id="414c8-422">Ez a megközelítés azonban növeli a késés, az adatok replikálásával járó.</span><span class="sxs-lookup"><span data-stu-id="414c8-422">However, this approach increases the latency when replicating the data.</span></span> <span data-ttu-id="414c8-423">A régiók közötti replikálás általában aszinkron módon történik, ami végleges konzisztenciájú modellt jelent, valamint azt, hogy egy replika meghibásodása adatveszteséggel járhat.</span><span class="sxs-lookup"><span data-stu-id="414c8-423">Typically, replicating across regions is done asynchronously, which implies an eventual consistency model and potential data loss if a replica fails.</span></span>  

  <span data-ttu-id="414c8-424">Használhat [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) az Azure virtuális gépek replikálása egyik régióból a másikba.</span><span class="sxs-lookup"><span data-stu-id="414c8-424">You can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate Azure Virtual Machines from one region to another.</span></span> <span data-ttu-id="414c8-425">A Site Recovery folyamatosan végzi az adatok replikálását a célrégióba.</span><span class="sxs-lookup"><span data-stu-id="414c8-425">Site Recovery replicates data continuously to the target region.</span></span> <span data-ttu-id="414c8-426">Egy kimaradás esetén az elsődleges helyen átadja a feladatokat egy másodlagos helyre.</span><span class="sxs-lookup"><span data-stu-id="414c8-426">When an outage occurs at your primary site, you fail over to a secondary location.</span></span>

- <span data-ttu-id="414c8-427">**Győződjön meg arról, hogy nincs egyetlen felhasználói fiók rendelkezik-e éles és a biztonsági mentési adatokhoz való hozzáférés.**</span><span class="sxs-lookup"><span data-stu-id="414c8-427">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="414c8-428">A biztonsági mentések integritása sérül, ha egy egyetlen felhasználói fiók éles és a biztonsági mentési források írási engedéllyel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="414c8-428">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="414c8-429">Egy rosszindulatú felhasználó szándékosan sikerült törölni az összes adatot, és a egy normál felhasználói sikerült véletlenül törli.</span><span class="sxs-lookup"><span data-stu-id="414c8-429">A malicious user could purposely delete all your data, and a regular user could accidentally delete it.</span></span> <span data-ttu-id="414c8-430">Tervezze alkalmazását úgy korlátozhatja az egyes felhasználói fiókok engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="414c8-430">Design your application to limit the permissions of each user account.</span></span> <span data-ttu-id="414c8-431">Csak írási hozzáférést biztosít a felhasználók számára, akiknek nincs szükségük, és hozzáférést éles vagy a biztonsági mentés, de nem mindkettőt.</span><span class="sxs-lookup"><span data-stu-id="414c8-431">Only grant write access to users who require it, and grant access to either production or backup, but not both.</span></span>
- <span data-ttu-id="414c8-432">**Dokumentálja és tesztelje az adatok tárolási feladatátvétel és feladat-visszavételi folyamat.**</span><span class="sxs-lookup"><span data-stu-id="414c8-432">**Document and test your data store failover and failback process.**</span></span> <span data-ttu-id="414c8-433">Ha egy adattár meghibásodik ami katasztrofálisan, emberi beavatkozást utasításokat a átadja a feladatokat egy új adattároló készletét kell követnie.</span><span class="sxs-lookup"><span data-stu-id="414c8-433">If a data store fails catastrophically, a human operator must follow a set of documented instructions to fail over to a new data store.</span></span> <span data-ttu-id="414c8-434">Ha a dokumentált lépéseket hibásak, az operátornak nem lehet sikeresen kövesse azokat, és átadja a feladatokat az erőforrás.</span><span class="sxs-lookup"><span data-stu-id="414c8-434">If the documented steps have errors, an operator won't be able to successfully follow them and to fail over the resource.</span></span> <span data-ttu-id="414c8-435">Rendszeresen tesztelje a utasítás lépéseket, ellenőrizze, hogy az operátort, akik a dokumentáció a következő is sikeresen feladatátvételét és feladat-visszavételt.</span><span class="sxs-lookup"><span data-stu-id="414c8-435">Regularly test the instruction steps to verify that an operator who follows the documentation can successfully fail over and fail back.</span></span>
- <span data-ttu-id="414c8-436">**Az adatok biztonsági mentését, és ellenőrizze az adatok biztonsági mentése.**</span><span class="sxs-lookup"><span data-stu-id="414c8-436">**Back up your data and validate your data backups.**</span></span> <span data-ttu-id="414c8-437">Rendszeresen parancsfájllal történő ellenőrzése az adatok integritásának megőrzése, a sémát és a lekérdezések annak biztosításához, hogy biztonsági mentési adatokat várt.</span><span class="sxs-lookup"><span data-stu-id="414c8-437">Regularly run a script to validate data integrity, schema, and queries to ensure that backup data is what you expect.</span></span> <span data-ttu-id="414c8-438">Jelentkezzen, és bármely inkonzisztenciákról tesz jelentést, a biztonsági mentési szolgáltatás nem állítható helyre.</span><span class="sxs-lookup"><span data-stu-id="414c8-438">Log and report any inconsistencies so the backup service can be repaired.</span></span>
- <span data-ttu-id="414c8-439">**Rendszeres biztonsági mentés és időponthoz visszaállítás használatához.**</span><span class="sxs-lookup"><span data-stu-id="414c8-439">**Use periodic backup and point-in-time restore.**</span></span> <span data-ttu-id="414c8-440">Automatikusan és rendszeresen készítsen biztonsági másolatot, amely máshol nem őrződnek meg adatokat.</span><span class="sxs-lookup"><span data-stu-id="414c8-440">Regularly and automatically back up data that is not preserved elsewhere.</span></span> <span data-ttu-id="414c8-441">Győződjön meg arról, hogy megbízhatóan visszaállíthatja az adatokat és a magának az alkalmazásnak hiba esetén.</span><span class="sxs-lookup"><span data-stu-id="414c8-441">Verify that you can reliably restore both the data and the application itself if failure occurs.</span></span> <span data-ttu-id="414c8-442">Győződjön meg arról, hogy a biztonsági mentések megfelelnek a helyreállítási Időkorlát.</span><span class="sxs-lookup"><span data-stu-id="414c8-442">Ensure that backups meet your RPO.</span></span> <span data-ttu-id="414c8-443">Adatreplikálás nem egy biztonsági mentési funkcióval, mert a emberi hiba vagy rosszindulatú műveleteket is az adatok sérültek minden replika között.</span><span class="sxs-lookup"><span data-stu-id="414c8-443">Data replication isn't a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="414c8-444">Lehet, hogy a biztonsági mentési folyamat biztonságos az úton lévő és a storage-ban tárolt adatok védelméhez.</span><span class="sxs-lookup"><span data-stu-id="414c8-444">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="414c8-445">Adatbázisok általában visszaállíthatja egy korábbi időpontra időben tranzakciós naplók használatával.</span><span class="sxs-lookup"><span data-stu-id="414c8-445">Databases can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="414c8-446">További információkért lásd: [helyreállítás adatsérülés vagy véletlen törlés](../resiliency/recovery-data-corruption.md).</span><span class="sxs-lookup"><span data-stu-id="414c8-446">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md).</span></span>
- <span data-ttu-id="414c8-447">**Fontolja meg egy georedundáns tárfiókot.**</span><span class="sxs-lookup"><span data-stu-id="414c8-447">**Consider using a geo-redundant storage account.**</span></span> <span data-ttu-id="414c8-448">Egy Azure Storage-fiókban tárolt adatok mindig replikálódik helyileg.</span><span class="sxs-lookup"><span data-stu-id="414c8-448">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="414c8-449">Vannak azonban van egy tárfiók üzembe helyezésekor választhat replikációs néhány stratégiát.</span><span class="sxs-lookup"><span data-stu-id="414c8-449">However, there are multiple replication strategies to choose from when a storage account is provisioned.</span></span> <span data-ttu-id="414c8-450">Védelme érdekében az alkalmazás adatait a ritka esetben, ha egy teljes régió elérhetetlenné válik, válassza ki a [Azure írásvédett Georedundáns tárolás (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span><span class="sxs-lookup"><span data-stu-id="414c8-450">To protect your application data against the rare case when an entire region becomes unavailable, select [Azure Read-Access Geo-Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span></span>  

    > [!NOTE]
    > <span data-ttu-id="414c8-451">A virtuális gépek esetében ne támaszkodjon kizárólag RA-GRS replikáció visszaállítása a Virtuálisgép-lemezek (VHD-fájlok).</span><span class="sxs-lookup"><span data-stu-id="414c8-451">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="414c8-452">Ehelyett használjon [Azure Backup](/azure/backup).</span><span class="sxs-lookup"><span data-stu-id="414c8-452">Instead, use [Azure Backup](/azure/backup).</span></span>

- <span data-ttu-id="414c8-453">**Vegye fontolóra a referenciaadatok több régióban is üzembe helyeznek.**</span><span class="sxs-lookup"><span data-stu-id="414c8-453">**Consider deploying reference data to multiple regions.**</span></span> <span data-ttu-id="414c8-454">Referenciaadatok, amely támogatja az alkalmazás funkciói csak olvasható adatok.</span><span class="sxs-lookup"><span data-stu-id="414c8-454">Reference data is read-only data that supports application functionality.</span></span> <span data-ttu-id="414c8-455">Ez jellemzően nem változik gyakran.</span><span class="sxs-lookup"><span data-stu-id="414c8-455">It typically doesn't change often.</span></span> <span data-ttu-id="414c8-456">Bár a biztonsági másolatból történő visszaállítását úgy lehet kezelni a régióra kiterjedő szolgáltatáskimaradás, az RTO viszonylag hosszú.</span><span class="sxs-lookup"><span data-stu-id="414c8-456">Although restoring from backup is one way to handle region-wide service disruptions, the RTO is relatively long.</span></span> <span data-ttu-id="414c8-457">Az alkalmazás egy másodlagos régióba történő telepítésekor néhány stratégiát javíthatja az RTO a referenciaadatoknál.</span><span class="sxs-lookup"><span data-stu-id="414c8-457">When you deploy the application to a secondary region, some strategies can improve the RTO for reference data.</span></span>

    <span data-ttu-id="414c8-458">Mert az adatok változásának hivatkozhat ritkán, javíthatja az RTO végleges a másodlagos régió másolatának megtartásával.</span><span class="sxs-lookup"><span data-stu-id="414c8-458">Because reference data changes infrequently, you can improve the RTO by maintaining a permanent copy in the secondary region.</span></span> <span data-ttu-id="414c8-459">Ezzel elkerülhető, hogy egy vészhelyzetet követően a biztonsági másolatok visszaállításához szükséges időt.</span><span class="sxs-lookup"><span data-stu-id="414c8-459">This eliminates the time required to restore backups after a disaster.</span></span> <span data-ttu-id="414c8-460">A több régiók vész-helyreállítási követelmények teljesítéséhez telepítenie kell az alkalmazás és a referenciaadatok együtt több régióban.</span><span class="sxs-lookup"><span data-stu-id="414c8-460">To meet the multiple-region disaster recovery requirements, you must deploy the application and the reference data together in multiple regions.</span></span>

- <span data-ttu-id="414c8-461">**Használjon optimista egyidejűség és a végleges konzisztencia.**</span><span class="sxs-lookup"><span data-stu-id="414c8-461">**Use optimistic concurrency and eventual consistency.**</span></span> <span data-ttu-id="414c8-462">Tranzakciók, amelyek blokkolják az elérhető erőforrások zárolása keresztül (*pesszimista egyidejűségi*) gyenge teljesítményt okozhat és csökkentheti a rendelkezésre állást.</span><span class="sxs-lookup"><span data-stu-id="414c8-462">Transactions that block access to resources through locking (*pessimistic concurrency*) can cause poor performance and reduce availability.</span></span> <span data-ttu-id="414c8-463">Ezeket a problémákat az elosztott rendszerek különösen akuttá válhat.</span><span class="sxs-lookup"><span data-stu-id="414c8-463">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="414c8-464">Sok esetben gondos tervezés és technikák, például a particionálás, minimalizálhatja az előforduló ütköző frissítésének esélyét.</span><span class="sxs-lookup"><span data-stu-id="414c8-464">In many cases, careful design and techniques, such as partitioning, can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="414c8-465">Adatok replikálása, vagy külön-külön frissített áruházbeli olvassa el, ha az adatok csak akkor végül konzisztens.</span><span class="sxs-lookup"><span data-stu-id="414c8-465">If data is replicated or read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="414c8-466">Azonban az előnyei túlsúlyban vannak általában a tranzakciók azonnali konzisztencia biztosításához a rendelkezésre állási gyakorolt hatást.</span><span class="sxs-lookup"><span data-stu-id="414c8-466">But the advantages usually outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
- <span data-ttu-id="414c8-467">**Aktív georeplikáció az SQL Database használatával módosítások replikálása egy másodlagos adatbázist.**</span><span class="sxs-lookup"><span data-stu-id="414c8-467">**Use active geo-replication for SQL Database to replicate changes to a secondary database.**</span></span> <span data-ttu-id="414c8-468">SQL-adatbázis aktív georeplikációt automatikusan replikálja a másodlagos adatbázisok ugyanabban a régióban, vagy egy másik régióban található adatbázis-módosításokat.</span><span class="sxs-lookup"><span data-stu-id="414c8-468">Active geo-replication for SQL Database automatically replicates database changes to secondary databases in the same region or a different region.</span></span> <span data-ttu-id="414c8-469">További információkért lásd: [létrehozása és az aktív georeplikáció használatával](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="414c8-469">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

  <span data-ttu-id="414c8-470">Azt is megteheti, elvégezhető a több manuális módszer használatával a **adatbázis-másolat** az adatbázis biztonsági másolatának létrehozása tranzakció-konzisztencia a parancsot.</span><span class="sxs-lookup"><span data-stu-id="414c8-470">Alternatively, you can take a more manual approach by using the **DATABASE COPY** command to create a backup copy of the database with transactional consistency.</span></span> <span data-ttu-id="414c8-471">Az import/export szolgáltatás támogatja a exportálása BACPAC fájlok (az adatbázisséma és a társított adatokat tartalmazó tömörített fájlok), az Azure Blob storage-ban tárolt adatbázisok Azure SQL Database is használhatja.</span><span class="sxs-lookup"><span data-stu-id="414c8-471">You can also use the import/export service of Azure SQL Database, which supports exporting databases to BACPAC files (compressed files containing your database schema and associated data) that are stored in Azure Blob storage.</span></span> <span data-ttu-id="414c8-472">Az Azure Storage két replika a biztonságimásolat-fájl ugyanabban a régióban hoz létre.</span><span class="sxs-lookup"><span data-stu-id="414c8-472">Azure Storage creates two replicas of the backup file in the same region.</span></span> <span data-ttu-id="414c8-473">Azonban a biztonsági mentés gyakorisága határozza meg, a helyreállítási Időkorlát, amely vész elveszhetnek adatok mennyisége.</span><span class="sxs-lookup"><span data-stu-id="414c8-473">However, the frequency of the backup process determines your RPO, which is the amount of data you might lose in disaster scenarios.</span></span> <span data-ttu-id="414c8-474">Például ha az adatok biztonsági mentését óránként, és a egy katasztrófa történik a biztonsági mentés előtt két perc, 58 percnyi adat elveszíti.</span><span class="sxs-lookup"><span data-stu-id="414c8-474">For example, if you back up data every hour, and a disaster occurs two minutes before the backup, you will lose 58 minutes of data.</span></span> <span data-ttu-id="414c8-475">Ezenkívül régióra kiterjedő szolgáltatáskimaradás ellen, másolja a BACPAC-fájl egy másodlagos régióba.</span><span class="sxs-lookup"><span data-stu-id="414c8-475">Also, to protect against a region-wide service disruption, you should copy the BACPAC files to an alternate region.</span></span> <span data-ttu-id="414c8-476">További információkért lásd: [az Azure SQL Database üzletmenet-folytonossági funkcióinak áttekintése](/azure/sql-database/sql-database-business-continuity).</span><span class="sxs-lookup"><span data-stu-id="414c8-476">For more information, see [Overview of business continuity with Azure SQL Database](/azure/sql-database/sql-database-business-continuity).</span></span>

- <span data-ttu-id="414c8-477">**Geo-biztonsági mentések használja az SQL Data warehouse-hoz.**</span><span class="sxs-lookup"><span data-stu-id="414c8-477">**Use geo-backups for SQL Data Warehouse.**</span></span> <span data-ttu-id="414c8-478">Az SQL Data Warehouse használata [geo-biztonsági mentések](/azure/sql-data-warehouse/backup-and-restore) vész-helyreállítási párosított régióba visszaállításához.</span><span class="sxs-lookup"><span data-stu-id="414c8-478">For SQL Data Warehouse, use [geo-backups](/azure/sql-data-warehouse/backup-and-restore) to restore to a paired region for disaster recovery.</span></span> <span data-ttu-id="414c8-479">Ezeket a biztonsági másolatokat 24 óránként megnyílik, és vissza tudja állítani 20 percen belül a párosított régióban.</span><span class="sxs-lookup"><span data-stu-id="414c8-479">These backups are taken every 24 hours and can be restored within 20 minutes in the paired region.</span></span> <span data-ttu-id="414c8-480">Ez a funkció alapértelmezés szerint be van az összes SQL Data Warehouse-példányhoz.</span><span class="sxs-lookup"><span data-stu-id="414c8-480">This feature is on by default for all SQL Data Warehouse instances.</span></span> <span data-ttu-id="414c8-481">Az adattárház visszaállításával kapcsolatos további információkért lásd: [visszaállítása az Azure-régióból egy földrajzi PowerShell használatával.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span><span class="sxs-lookup"><span data-stu-id="414c8-481">For more information on how to restore your data warehouse, see [Restore from an Azure geographical region using PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span></span>

- <span data-ttu-id="414c8-482">**Az Azure Site Recovery Virtuálisgép-lemezek replikálásához.**</span><span class="sxs-lookup"><span data-stu-id="414c8-482">**Replicate VM disks using Azure Site Recovery.**</span></span> <span data-ttu-id="414c8-483">Amikor replikálhat Azure virtuális gépek [Site Recovery](/azure/site-recovery/), a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="414c8-483">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="414c8-484">A helyreállítási pontok jönnek létre néhány perces időközönként.</span><span class="sxs-lookup"><span data-stu-id="414c8-484">The recovery points are created every few minutes.</span></span> <span data-ttu-id="414c8-485">Ez lehetővé teszi egy RPO sorrendjéről perc.</span><span class="sxs-lookup"><span data-stu-id="414c8-485">This gives you an RPO on the order of minutes.</span></span>
- <span data-ttu-id="414c8-486">**Virtuális gépeken futó SQL Server biztonsági mentése, vagy konfigurálja a naplóküldés munkamenet.**</span><span class="sxs-lookup"><span data-stu-id="414c8-486">**Back up SQL Server running on VMs or configure a log-shipping session.**</span></span> <span data-ttu-id="414c8-487">A virtuális gépeken futó SQL Server, két lehetőség van: a hagyományos biztonsági mentéseket és a naplóküldésben.</span><span class="sxs-lookup"><span data-stu-id="414c8-487">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="414c8-488">A hagyományos biztonsági mentések engedélyezése, hogy egy adott időpontra való visszaállítása, de a helyreállítási folyamat lassú.</span><span class="sxs-lookup"><span data-stu-id="414c8-488">Traditional backups enable you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="414c8-489">A hagyományos biztonsági mentések visszaállítása szükséges, hogy egy kezdeti biztonsági mentés kezdődhet, és ezután alkalmazza az összes biztonsági másolatokat, amely után.</span><span class="sxs-lookup"><span data-stu-id="414c8-489">Restoring traditional backups requires that you start with an initial full backup and then apply any backups taken after that.</span></span> <span data-ttu-id="414c8-490">A második lehetőség, hogy konfigurálja a naplóküldés munkamenet késleltetheti a naplóalapú biztonsági mentések visszaállítása (például úgy, hogy két óra).</span><span class="sxs-lookup"><span data-stu-id="414c8-490">The second option is to configure a log-shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="414c8-491">Ez lehetővé teszi a hibák az elsődleges végzett ablakot.</span><span class="sxs-lookup"><span data-stu-id="414c8-491">This provides a window to recover from errors made on the primary.</span></span>
- <span data-ttu-id="414c8-492">**Egy egyedi folyamat vagy külső eszköz használatával Azure Storage biztonsági másolatot készíteni.**</span><span class="sxs-lookup"><span data-stu-id="414c8-492">**Use a custom process or third-party tool for Azure Storage backup.**</span></span> <span data-ttu-id="414c8-493">Az Azure Storage esetében egy egyéni biztonsági mentési folyamat fejleszthet, vagy egy külső biztonsági mentési eszköz.</span><span class="sxs-lookup"><span data-stu-id="414c8-493">For Azure Storage, you can develop a custom backup process or use a third-party backup tool.</span></span> <span data-ttu-id="414c8-494">A legtöbb alkalmazás tervek rendelkezik további hagyhatják, melyik storage-ban erőforrásokat hivatkozhat egymással.</span><span class="sxs-lookup"><span data-stu-id="414c8-494">Most application designs have additional complexities, in which storage resources reference each other.</span></span> <span data-ttu-id="414c8-495">Vegyük példaként SQL-adatbázis, az oszlop az Azure Storage-blob mutat.</span><span class="sxs-lookup"><span data-stu-id="414c8-495">For example, consider a SQL database with a column that links to a blob in Azure Storage.</span></span> <span data-ttu-id="414c8-496">A biztonsági mentések nem egyszerre következnek be, ha az adatbázis egy blobot, amely nem készült biztonsági másolat a hiba előtt mutató kell.</span><span class="sxs-lookup"><span data-stu-id="414c8-496">If the backups do not happen simultaneously, the database might have a pointer to a blob that was not backed up before the failure.</span></span> <span data-ttu-id="414c8-497">Az alkalmazás vagy a vész-helyreállítási terv musí implementovat rozhraní folyamatok kezeléséhez a inkonzisztenciát helyreállítás után.</span><span class="sxs-lookup"><span data-stu-id="414c8-497">The application or disaster recovery plan must implement processes to handle this inconsistency after a recovery.</span></span>
- <span data-ttu-id="414c8-498">**A natív replikációs vagy pillanatképkezelési funkciókat használja más virtuális gépeken tárolt adatokat platformok.**</span><span class="sxs-lookup"><span data-stu-id="414c8-498">**Use the native replication or snapshot capabilities for other data platforms hosted on VMs.**</span></span> <span data-ttu-id="414c8-499">Más adatplatformok, például az Elasticsearch vagy mongodb-hez, rendelkezik a saját képességek és szempontok az integrált biztonsági mentés létrehozásakor, és a visszaállítási folyamat.</span><span class="sxs-lookup"><span data-stu-id="414c8-499">Other data platforms, such as Elasticsearch or MongoDB, have their own capabilities and considerations when creating an integrated backup and restore process.</span></span> <span data-ttu-id="414c8-500">Ezek az adatplatformok az általános ajánlás, hogy minden olyan natív vagy elérhető integrációs-alapú replikálás vagy pillanatképkezelési funkciókat használja.</span><span class="sxs-lookup"><span data-stu-id="414c8-500">For these data platforms, the general recommendation is to use any native or available integration-based replication or snapshot capabilities.</span></span> <span data-ttu-id="414c8-501">Ha ezekre a képességekre még nem léteznek, vagy nem megfelelő, fontolja meg, az alkalmazásadatok időponthoz másolat létrehozása Azure Backup vagy a lemez-pillanatképek használatát.</span><span class="sxs-lookup"><span data-stu-id="414c8-501">If those capabilities don't exist or aren't suitable, consider using Azure Backup or disk snapshots to create a point-in-time copy of application data.</span></span> <span data-ttu-id="414c8-502">Minden esetben fontos hogyan érhető el alkalmazáskonzisztens biztonsági másolatok, különösen akkor, ha az alkalmazásadatok kiterjedő több fájlrendszerek vagy egy operációs rendszer mostantól több meghajtó megállapítani.</span><span class="sxs-lookup"><span data-stu-id="414c8-502">In all cases, it's important to determine how to achieve consistent backups, especially when application data spans multiple files systems or multiple drives are combined into a single file system.</span></span>
- <span data-ttu-id="414c8-503">**Ismerje meg az alkalmazás-adatforrások replikációs módszereket.**</span><span class="sxs-lookup"><span data-stu-id="414c8-503">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="414c8-504">Az alkalmazásadatok különböző adatforrások lesz tárolva, és fog különböző rendelkezésre állási követelmények vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="414c8-504">Your application data will be stored in different data sources and will have varied availability requirements.</span></span> <span data-ttu-id="414c8-505">Kiértékelheti a replikációs módszereket az egyes adattárolás az Azure-ban, többek között [Azure tárhely-redundancia](/azure/storage/storage-redundancy/) és [SQL-adatbázis aktív georeplikációt](/azure/sql-database/sql-database-geo-replication-overview/) annak biztosítására, hogy az alkalmazás adatokat követelmények teljesülnek.</span><span class="sxs-lookup"><span data-stu-id="414c8-505">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage redundancy](/azure/storage/storage-redundancy/) and [SQL Database active geo-replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span> <span data-ttu-id="414c8-506">Azure virtuális gépek replikálása [Site Recovery](/azure/site-recovery/), a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="414c8-506">If you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="414c8-507">A helyreállítási pontok jönnek létre néhány perces időközönként.</span><span class="sxs-lookup"><span data-stu-id="414c8-507">The recovery points are created every few minutes.</span></span>
- <span data-ttu-id="414c8-508">**Vész-helyreállítási stratégiát adatokat hoz létre.**</span><span class="sxs-lookup"><span data-stu-id="414c8-508">**Establish data strategies for disaster recovery.**</span></span> <span data-ttu-id="414c8-509">Megfelelő adatkezeléssel minden olyan vész-helyreállítási terv kihívást aspektusa.</span><span class="sxs-lookup"><span data-stu-id="414c8-509">Proper data handling is a challenging aspect of any disaster recovery plan.</span></span> <span data-ttu-id="414c8-510">A helyreállítási folyamat során adatok helyreállítása általában a legtöbb időt vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="414c8-510">During the recovery process, data restoration typically takes the most time.</span></span> <span data-ttu-id="414c8-511">Csökkenti a funkciók különböző lehetőségeit az adat-helyreállítás és a konzisztencia nehéz kihívások eredményez.</span><span class="sxs-lookup"><span data-stu-id="414c8-511">Different choices for reducing functionality result in difficult challenges for data recovery and consistency.</span></span>

## <a name="next-steps"></a><span data-ttu-id="414c8-512">További lépések</span><span class="sxs-lookup"><span data-stu-id="414c8-512">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="414c8-513">A rugalmasság és a rendelkezésre állási teszt</span><span class="sxs-lookup"><span data-stu-id="414c8-513">Test for resiliency and availability</span></span>](./testing.md)
