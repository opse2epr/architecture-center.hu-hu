---
title: A rugalmasság és a rendelkezésre állás az Azure-alkalmazások tervezése
description: Rugalmasság és a rendelkezésre állás beépítése az Azure-alkalmazások
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: ee4bb5b4a85e48fe0ff017297c31823c93a48f04
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646564"
---
# <a name="architecting-azure-applications-for-resiliency-and-availability"></a>A rugalmasság és a rendelkezésre állás az Azure-alkalmazások tervezése

Után az alkalmazás követelményeinek fejlesztett, a következő lépés az rugalmasság és a rendelkezésre állási építhet be azt. Ezek a tulajdonságok nem adható hozzá a végén &mdash; , az architektúra tervezése kell őket.

## <a name="conduct-a-failure-mode-analysis"></a>Hibaállapot-elemzést végezhet

*A hibaállapot elemzése* (FMA) hoz létre rugalmasságot a rendszerbe lehetséges meghibásodási pontok azonosításával, és a meghatározása, hogy az alkalmazás hogyan reagáljon azokat a hibákat. Az FMA architektúra és kialakítás fázisai részének kell lennie, ezért a rendszer az elejétől beépített hiba utáni helyreállítás. FMA célja a következők:

- Határozza meg, milyen típusú hibákat tapasztalhat az alkalmazás, és hogy az alkalmazás hogyan észleli azokat a hibákat.
- Rögzítheti a különböző típusú hiba lehetséges hatásait, és határozza meg, hogy az alkalmazás hogyan reagál.
- Tervezze meg a naplózás és figyelés a hibát, és stratégiák azonosítása.

Az alábbiakban néhány példa a hibaállapot és a egy adott meghibásodási pont észlelési stratégiák &mdash; egy külső webes szolgáltatás hívása:

| Hibaállapot           | Észlelési stratégia           |
|------------------------|------------------------------|
| A szolgáltatás nem érhető el | HTTP 5xx                     |
| Throttling             | HTTP 429 (Túl sok kérelem) |
| Authentication         | HTTP 401 (Jogosulatlan)      |
| Lassú válasz          | A kérés túllépi az időkorlátot            |

További információ a FMA-folyamat, Azure-ra vonatkozó ajánlásokkal együtt: [hibaállapot elemzése](../resiliency/failure-mode-analysis.md).

## <a name="plan-for-redundancy"></a>A redundancia tervezése

Hatókör ütközési hibák eltérő lehet. Bizonyos hardveres hibák, például egy meghibásodott lemez egy gazdagép hatással. Egy meghibásodott hálózati kapcsoló egy teljes kiszolgálószekrényt hatással lehetnek. Kevésbé gyakori hibák, például áramkimaradás, zavarja a teljes adatközpont. Ritkán egy teljes régió elérhetetlenné válik.

Redundancia érdekében az alkalmazások rugalmasságának egyik módja. A redundancia szintjét is függ, hogy az üzleti követelményeinek &mdash; nem minden alkalmazás regionális kimaradás régiók közötti redundancia van szüksége. Nincs általában nagyobb redundancia és megbízhatóság magasabb költségeket és összetettséget magával.

### <a name="review-azure-redundancy-features"></a>Tekintse át az Azure-beli redundancia funkciók

Azure egy egyéni virtuális gép (VM) egy teljes régió, a meghibásodási minden szinten redundanciával kapcsolatos szolgáltatásokat több rendelkezik.

- **Virtuális gépek egyetlen** rendelkezik egy [hasznos üzemidő szolgáltatási szinttel (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) Azure által biztosított. (A virtuális Gépet kell használnia a premium storage minden operációsrendszer-lemez és adatlemezek.) Bár magasabb SLA-t kaphat két vagy több virtuális gép futtatása esetén, egyetlen virtuális gép is elég megbízható lehet bizonyos számítási feladatokhoz. Az éles számítási feladatokhoz azonban két vagy több virtuális gép használatát javasoljuk a redundancia biztosítása érdekében.
- **A rendelkezésre állási csoportok** ellen a helyi hardverhibák, például a lemez vagy egy hálózati kapcsoló sikertelen. Virtuális gépet egy rendelkezésre állási csoportban vannak elosztva három *tartalék tartományok*. A tartalék tartomány közös áramforrással és hálózati kapcsolóval rendelkező virtuális gépek olyan csoportját határozza meg. Hardverhiba miatt nem érinti az egyik tartalék tartományt, ha hálózati adatforgalmat a többi tartalék tartományban található virtuális gépekhez. A rendelkezésre állási csoportok kapcsolatos további információkért lásd: [Azure-beli Windows virtuális gépek rendelkezésre állásának kezelése](/azure/virtual-machines/windows/manage-availability).
- **A rendelkezésre állási zónák** fizikailag különálló zónák egy Azure-régióban vannak. Mindegyik rendelkezésre állási zóna különálló áramforrással, hálózattal és hűtéssel rendelkezik. Virtuális gépek rendelkezésre állási zónában üzembe helyezéséhez segít megvédeni az alkalmazásokat a adatközpontra kiterjedő meghibásodásokkal szemben. Nem mindegyik régió támogatja a rendelkezésreállási zónákat. A támogatott régiók és szolgáltatások listáját lásd [az Azure rendelkezésreállási zónáit](/azure/availability-zones/az-overview) ismertető részben.

    Ha azt tervezi, a rendelkezésre állási zónák használjanak a környezetében, először ellenőrizze, hogy az alkalmazásarchitektúra és kódbázis támogatja ezt a konfigurációt. Ha kereskedelmi szoftvert telepít központilag, vegye fel a kapcsolatot a szoftver gyártójához, és megfelelően tesztelése éles környezetbe való üzembe helyezés előtt. Egy alkalmazás-állapot karbantartásához kell, és az adatvesztés megelőzése szolgáltatáskiesés esetén a konfigurált zónán belül. Az alkalmazás fut egy rugalmas, és az elosztott infrastruktúra nem változtatható infrastruktúra összetevővel támogatniuk kell.
- **Az Azure Site Recovery** replikákat Azure virtuális gépeket egy másik Azure-régióba (BC) üzletmenet-folytonossági és vészhelyreállítási (DR) van szüksége. Hogy a megfelelőségi igények teljesítése érdekében rendszeres Vészhelyreállítási próbákat végezhet. A virtuális gép replikálása a kiválasztott régióban a megadott beállításokkal, az alkalmazásokat a forrásrégióban szolgáltatáskimaradások esetén helyreállíthatja. További információkért lásd: [egy másodlagos Azure-régióba történő vészhelyreállításának beállítása az egy Azure virtuális gép](/azure/site-recovery/azure-to-azure-quickstart/).

    Tesztelés során ellenőrizze, hogy a *helyreállítási időre vonatkozó célkitűzés* (RTO) és *helyreállításipont-célkitűzés* (RPO) az igényeinek. RTO egy incidens után az alkalmazás nem érhető el a maximális időt, és RPO adatveszteség maximális időtartama katasztrófa során.
- **Párosított régiók** jönnek létre az Azure Traffic Managerrel a különböző régiókban, egy regionális kimaradás alkalmazás védelme internetes forgalom elosztását. Minden egyes Azure-régió párban áll egy másikkal. Együttesen ezen régiók űrlap egy [ *régiópárt*](/azure/best-practices-availability-paired-regions). Adatok tárolási helyére vonatkozó előírásoknak, ami adóügyi és törvényi végrehajtás szempontjából joghatósága teljesítéséhez regionális párokról találhatók (kivéve Dél-Brazília) azonos földrajzi helyen belül.

    Rugalmas alkalmazások javításához az Azure platform frissítések (tervezett karbantartás) szerializálja között minden régiópárra, ezért csak egy párosított régióban egyszerre frissül.
- Többrégiós alkalmazás tervezésekor vegye figyelembe, hogy a régiók közötti hálózati késés magasabb, mint egy régión belül. Például a feladatátvétel helyévé adatbázis replikálása, használjon szinkron adatreplikációt a régión belül, míg aszinkron adatreplikációt régiók között elosztva.

A következő táblázat összehasonlítja a redundancia tényezők között számos rugalmassági stratégiák:

| &nbsp; | Rendelkezésre állási csoport | Rendelkezésre állási zóna | Azure Site Recovery/párosított régió |
|--------|------------------|-------------------|-----------------------------------|
| Hiba hatóköre | Kiszolgálószekrény                  | Adatközpont               | Régió                               |
| Kérések útválasztása  | Azure Load Balancer   | Zónák közötti terheléselosztó | Azure Traffic Manager                |
| Hálózati késleltetés  | Nagyon alacsony              | Alacsony                      | Közepes vagy magas                          |
| Virtuális hálózat  | Azure Virtual Network | Azure Virtual Network          | Régiók közötti virtuális hálózatok közötti társviszony |

### <a name="complete-azure-redundancy-tasks"></a>Teljes Azure-beli redundancia feladatok

Használja a következő feladatokat redundancia követelményeinek:

- **Telepítse a szolgáltatások több példányát.** Ha az alkalmazás egy szolgáltatás egyetlen példánya függ, a meghibásodási pontot hoz létre. Üzembe helyezett példányban több növeli a rugalmasságot és méretezhetőséget is. A [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), jelölje be egy [App Service-csomag](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) , amelynek keretében több példányt. A [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), győződjön meg arról, hogy az architektúra egynél több virtuális gép rendelkezik-e, és minden virtuális gép szerepel egy [rendelkezésre állási csoport](/azure/virtual-machines/virtual-machines-windows-manage-availability/).

- **Az Azure Site Recovery virtuális gépeket replikálni.** Amikor replikálhat Azure virtuális gépek [Site Recovery](/azure/site-recovery/), a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik. A helyreállítási pontok jönnek létre néhány percenként jogosultságot ad sorrendjéről perc helyreállítási Időkorlátot.

- **Vegye figyelembe, hogy az alkalmazás üzembe helyezése több régióban.** Ha az alkalmazás egy adott régióban üzemel, és a régió elérhetetlenné válik, az alkalmazás nem érhető el is. Lehet, hogy ez elfogadhatatlan az alkalmazás szolgáltatásiszint-szerződés feltételei szerint. Ha igen, fontolja meg az alkalmazás és a hozzá tartozó szolgáltatások telepítése több régióban. Egy többrégiós üzembe helyezési használhatja egy *aktív-aktív* vagy *aktív-passzív* konfigurációja. Egy aktív-aktív konfigurációban kérelmeket elosztja a több aktív régiók között. Egy aktív / passzív konfigurációt meleg példányok tartja a másodlagos régióban, de nem küld forgalmat van, kivéve, ha az elsődleges régió meghibásodik. Többrégiós üzemelő példánya esetében javasoljuk, hogy a párosított régiókat, a fent leírt. További információ: [Üzletmenet-folytonosság és vészhelyreállítás (BCDR): Azure – párosított régiók](/azure/best-practices-availability-paired-regions).

- **Az Azure Traffic Manager használatával irányíthatja a forgalmat az alkalmazás különböző régiókban.** [Az Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) hajtja végre a terheléselosztó a DNS szintjén, és átirányítja a forgalmat a különböző régiókban alapján a [forgalom-útválasztást](/azure/traffic-manager/traffic-manager-routing-methods/) metódust, és az alkalmazás végpontok állapotát. Nélkül Traffic Manager, pedig csak egyetlen régióban, amely korlátozza a skálázási, növeli az egyes felhasználók közel valós idejű, és régióra kiterjedő szolgáltatáskimaradás esetén alkalmazás állásidőt okoz az üzembe helyezéshez.

- **Az Azure Application Gateway több példány használatára konfigurálja.** Az alkalmazás követelményeitől függően egy [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) előfordulhat, hogy lehet jobban megfelelnek az alkalmazás szolgáltatásokra irányuló kérések elosztása. Azonban az Application Gateway szolgáltatás egyetlen példánya nem által garantált SLA-t, így lehetséges, hogy az alkalmazás sikertelen lehet, ha az Application Gateway-példány sikertelen lesz. Feltételei a szolgáltatás rendelkezésre állásának garantálása érdekében több közepes vagy nagy méretű példány üzembe helyezése a [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).

## <a name="design-for-scalability"></a>Méretezhetőség tervezése

*Méretezhetőség* rendszer azon képessége, a rendszer megnövekedett terhelés kezelésére, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md). A tervezésére vonatkozó képesítést szerezni fázis során méretezhetőség feladatok a következők:

- **Partíció számítási feladatokhoz.** Tervezze meg a folyamat diszkrét és decomposable részeit. Egyes részek méretének minimalizálása. Ez lehetővé teszi, hogy úgy, hogy a lehető legnagyobbra növeli az egyes számítási egységek használata elosztani az összetevőit. Azt is megkönnyíti az alkalmazás méretezése az adott erőforrás-példányok hozzáadásával. Az összetettebb tartományok esetében érdemes a bevezetése egy [mikroszolgáltatási architektúra](../guide/architecture-styles/microservices.md).
- **Méretezés tervezése.** Méretezés lehetővé teszi az alkalmazások való reagálás a változó terheléssel növelése és a szerepkörök, üzenetsorok és egyéb szolgáltatások példányok számának csökkentésével. Azonban az alkalmazást úgy kell megtervezni a szem előtt. Például az alkalmazás és a szolgáltatásokat használ, hogy a kérelmek átirányíthatók tetszőleges példányra állapotmentes kell lennie. Állapotmentes szolgáltatások kellene is jelenti, hogy hozzáadásával vagy eltávolításával a példány nem negatívan befolyásolja a felhasználók jelenlegi száma.
- **Felkészülés a növekedésre a skálázási egység.** Az egyes erőforrások tudja, a méretezési korlátok felső, és ezek a korlátok túllépnek horizontális skálázást vagy felbontási használatával. Megtervezni az alkalmazást, így könnyen méretezése, egy vagy több skálázási egység. Határozza meg, a rendszer jól meghatározott készletek az erőforrások tekintetében a méretezési egységeket. Ez lehetővé teszi alkalmazása horizontális felskálázási műveletek könnyebben és kevesebb a hibalehetőség negatív hatással lehet a teljes rendszer egyes részei az erőforrások hiánya okozza. Például hozzáadása *X* előtérbeli virtuális gépek száma, szükség lehet *Y* további várólisták száma és *Z* a további számítási feladatok kezelése a storage-fiókok száma. Így sikerült áll, a skálázási egység *X* Virtuálisgép-példányok *Y* várólisták, és *Z* storage-fiókok.
- **Kerülje az ügyfél affinitását.** Ahol lehetséges, győződjön meg arról, hogy az alkalmazás a kapcsolat nem igényel. Kérelmek majd átirányítható bármelyik példányra, és a példányok száma nincs jelentősége. Ezzel elkerülhető a terhelését, tárolása, lekérése és fenntartásának minden egyes felhasználó állapot adatait is.
- **A platform automatikus skálázási szolgáltatások előnyeit.** Ha lehetséges, beépített automatikus skálázási szolgáltatások használata helyett egyéni vagy külső mechanizmusokat. Skálázási szabályok használata ütemezett, ahol lehetséges, győződjön meg arról, hogy az erőforrások egy indítási késleltetés nélkül érhető el, de adja hozzá a reaktív automatikus skálázást a szabályokat, hogy adott esetben az igénycsúcsok kielégítéséhez igény szerint a váratlan módosítások. További információkért lásd: [útmutató az automatikus Skálázáshoz](../best-practices/auto-scaling.md).  

  Ha az alkalmazás nincs konfigurálva a terhelés növekedése automatikus skálázáshoz, lehetséges, hogy az alkalmazás szolgáltatások sikertelen lesz, ha azok a felhasználói kérelmek legyen telített. További információkért tekintse át a következő cikkeket:

  - Általános: [Méretezési ellenőrzőlista](../checklist/scalability.md)
  - Azure App Service: [Példányszám manuális vagy automatikus méretezése](/azure/monitoring-and-diagnostics/insights-how-to-scale/)
  - A cloud Services: [Az automatikus skálázáshoz Felhőszolgáltatás](/azure/cloud-services/cloud-services-how-to-scale/)
  - Virtuális gépek: [Az automatikus méretezés és virtuálisgép-méretezési csoportokban](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)

- **Intenzív CPU IO-feladatok kiszervezése háttérfeladatként.** Ha egy szolgáltatási kérelmet kell egy hosszú időt vesz igénybe, vagy előfordulhat, hogy felvegye a jelentős erőforrásokat, kiszervezheti a feldolgozást egy külön feladat. A háttérben futó feladatok segítségével hajtsa végre ezeket a feladatokat. Ez a stratégia lehetővé teszi, hogy a szolgáltatás továbbra is megkapja a további kéréseket, és továbbra is válaszol-e. További információkért lásd: [Háttérfeladatokhoz](../best-practices/background-jobs.md).
- **Háttérfeladatok okozott terhelés elosztásához.** Ha sok háttérfeladatokat, vagy ha a tevékenységek elvégzésére jelentős időt és erőforrásokat, a munkahelyi elosztva több számítási egységet. Egy lehetséges megoldást találhat a [versengő felhasználók mintája](../patterns/competing-consumers.md).
- **Érdemes lehet felé helyez át egy *osztanak meg semmit* architektúra.** Ez az architektúra a versengés (például a megosztott szolgáltatások vagy a storage) nincs egyetlen ponttal rendelkező független, önellátó csomópontokat használ. Ezt elméletileg egy olyan rendszer szinte végtelenül felskálázható méretezheti. Bár a teljes körűen osztanak meg semmit megközelítést általában nem praktikus, tehet elérhetővé lehetőségek tervezhet a jobb méretezhetőség érdekében. Jó példák egy megosztott mellőző architektúra felé közé tartozik az adatok particionálása és a kiszolgálóoldali munkamenet-állapot és az ügyfél-affinitás használatának elkerülése.
- **Tervezze meg a kiszolgálóalkalmazás tárolási követelményei az Azure Storage méretezhetőségi és teljesítménycéljai tartoznak.** Az Azure Storage célja előre meghatározott méretezhetőségi és teljesítménycéljai belül működik, így tervezése az alkalmazás ezen célok belül használhatja. Ha ezeken a célokon túllépi, az alkalmazás storage szabályozás fog tapasztalni. Szabályozás elkerülése építhet ki további tárfiókok. Ha futtatja a tárolási fiók kapacitása együtt, további Azure-előfizetések kiépítése, majd ott a további tárfiókok. További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéljai](/azure/storage/storage-scalability-targets/).
- **Válassza ki a megfelelő Virtuálisgép-méret az alkalmazáshoz.** A tényleges CPU, memória, lemez és a virtuális gépeket, éles környezetben i/o mérjük, és ellenőrizze, hogy elegendő-e a kiválasztott Virtuálisgép-méretet. Ha nem, akkor az alkalmazás felhasználói problémákat tapasztalhatnak a kapacitás, a virtuális gépek korlátaikról megközelítést. Virtuálisgép-méretek részletesen ismertetett [az Azure-beli virtuális gépek méretei](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

## <a name="determine-subscription-and-service-requirements"></a>Előfizetésekre és szolgáltatásokra követelmények meghatározása

Válassza ki a megfelelő előfizetést, és a service szolgáltatásait az alkalmazás feldolgozása révén e feladatok:

- **Szembeni követelmények felmérése [Azure-előfizetés- és Szolgáltatáskorlátok](/azure/azure-subscription-service-limits/).** *Az Azure-előfizetések* korlátokkal rendelkeznek az egyes erőforrástípusok, például az erőforráscsoportok, a magok és a storage-fiókok száma. Ha az alkalmazás követelményeinek meghaladja az Azure-előfizetés korlátai, hozzon létre egy másik Azure előfizetéssel, és üzembe helyezése elegendő erőforrás létezik. Egyes Azure-szolgáltatások használati korlátokkal rendelkeznek &mdash; például a storage, a átviteli sebesség, a kapcsolatok, a kérések száma másodpercenként és egyéb mérőszámok száma korlátozza. Az alkalmazás sikertelen lesz, ha megkísérli a erőforrások túli ezeket a korlátokat, az érintett felhasználók sávszélesség-szabályozási és lehetséges járó eredményez. Az adott szolgáltatás és a az alkalmazás követelményeitől függően gyakran elkerülheti ezeket a korlátokat (például egy másik tarifacsomag kiválasztása) vertikális felskálázásával, vagy a horizontális skálázás (például új erőforráspéldányok hozzáadását jelenti).
- **Határozza meg, hány tárfiókok van szüksége.** Azure storage-fiókok előfizetésenként bizonyos számú lehetővé teszi. További információkért lásd: [Azure-előfizetés és a szolgáltatások korlátozásai, kvótái és megkötései](/azure/azure-subscription-service-limits/#storage-limits).
- **Válassza ki a megfelelő szolgáltatási rétegben az Azure SQL Database.** Ha az alkalmazás az Azure SQL Database, válassza ki a megfelelő szolgáltatási rétegben. A réteg nem tudja kezelni az alkalmazás adatbázis-tranzakciós egységek (DTU) követelmények, ha az adatok használata szabályozva lesz. A megfelelő service-csomag kiválasztásával további információkért lásd: [SQL Database beállításai és teljesítménye: Az egyes szolgáltatásszinteken elérhető ismertetése](/azure/sql-database/sql-database-service-tiers/).
- **Elegendő kérelemegységet (RU) az Azure Cosmos DB üzembe helyezése**. Az Azure Cosmos DB kell fizetnie az átviteli sebességet, üzembe helyezése és az óránként felhasznált storage. Minden adatbázis-műveletek költségét, RUs, van normalizálva, amely kivonatolja a rendszererőforrásokat akadályozhatnak, mint a Processzor, az IOPS és a memória. További információkért lásd: [Azure Cosmos DB-ben a kérelemegység](/azure/cosmos-db/request-units).

## <a name="load-balance-as-needed"></a>Terheléselosztás igény szerint

Megfelelő terheléselosztási lehetővé teszi a rendelkezésre állási követelményeinek és a rendelkezésre állási társított költségek minimalizálása érdekében.

- **Használja a terheléselosztási kérések elosztása.** Terheléselosztó osztja el a kifogástalan állapotú szolgáltatási példányai kérelmeket az alkalmazás eltávolításával a nem megfelelő a rotációból. Ha a szolgáltatás az Azure App Service vagy az Azure Cloud Services használ, már kiegyenlített terhelésű az Ön számára. Azonban ha az alkalmazás Azure virtuális gépek, szüksége lehet kiépíteni egy terheléselosztót. További információkért lásd: [Mi az Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)

  Az Azure Load Balancer funkciói:

  - Terheléselosztás a bejövő internetes forgalmat a virtuális gépek. Ebben a konfigurációban más néven egy [ *nyilvános Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).
  - Virtuális gépek közötti forgalom terheléselosztása egy virtuális hálózaton belül. Egy hibrid forgatókönyv esetén egy helyszíni hálózatról is elérheti a Load Balancer előterét. Mindkét forgatókönyv szerint konfigurációját használja egy [ *belső Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).
  - Port előre forgalom tételes portra bejövő hálózati címfordítási (NAT) szabályait használó meghatározott virtuális gépeken.
  - Nyilvános Load Balancer használatával biztosíthat [kimenő kapcsolatot](/azure/load-balancer/load-balancer-outbound-connections) a virtuális hálózat virtuális gépei számára.

- **Egyenleg betölti a forgalomkezelővel, például az Azure Traffic Manager-régiók között.** Terheléselosztás a régiók közötti forgalmat igényel a egy adatforgalom-kezelő megoldás, és az Azure biztosít [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/). Emellett kihasználhatja a külső szolgáltatások, amelyek hasonló adatforgalom-felügyeleti képességeket biztosítják.

## <a name="implement-resiliency-strategies"></a>Rugalmassági stratégiák megvalósítása

Ez a szakasz néhány gyakori rugalmassági stratégiát ismerteti. Ezek a stratégiák többsége nem korlátozódnak egy alkalmazott technológiától függetlenül működik. A leírások egyes technikák általános működési összesítése, valamint a további olvasási mutató hivatkozásokat tartalmazzák.

- **Rugalmassági minták megvalósítása** távoli műveletek végrehajtása, amennyiben szükséges. Ha az alkalmazása függ a távoli szolgáltatások közötti kommunikációt, hajtsa végre a [tervezési minták](../patterns/category/resiliency.md) átmeneti hibák kezelésével foglalkoznak.

- **Újrapróbálkozás átmeneti meghibásodások esetén.** Ezek okozhatja hálózati kapcsolat, adatbázis-kapcsolat vagy időtúllépés pillanatnyi elvesztését foglalt szolgáltatás esetén. Átmeneti hiba gyakran előfordul, a kérelem ismételt megkísérlésével feloldható.

  - Sok Azure-szolgáltatások, az ügyfél szoftverfejlesztői készlet (SDK) automatikus újrapróbálkozásokat valósít meg, amely a hívó számára átlátható módon. Lásd: [újrapróbálkozási útmutatás adott szolgáltatásoknál](../best-practices/retry-service-specific.md).
  - Illetve végrehajtja a [újrapróbálkozási minta](../patterns/retry.md) jelentkező előre jelzett, átmeneti meghibásodások átlátható módon kezelni a csatlakozás a szolgáltatásokhoz vagy hálózati erőforrásokhoz való az alkalmazás segítségével.

- **Áramköri megszakító használata** , előfordulhat, hogy igénybe, és hárítsa el a hibák kezelésére. A [áramkör-megszakító minta](../patterns/circuit-breaker.md) megakadályozhatja, hogy egy alkalmazás ismételten megpróbáljon egy műveletet, amely nagy eséllyel lesz sikertelen. Az áramköri megszakító egy szolgáltatás meghívásait burkolja, és nyomon követi a nemrégiben történt hibákat. Ha a hibaszám túllépi a küszöbértéket, az áramköri megszakító egy hibakódot ad vissza a szolgáltatás hívása nélkül. Ez lehetővé teszi a helyreállítási szolgáltatás ideje, és elkerülhetők a lépcsőzetesen terjedő hibáktól.
- **Kritikus erőforrások elkülönítése.** Egy alrendszerben hibák is néha kaszkádolt, az alkalmazás más részein hibákat eredményez. Ez akkor fordulhat elő, ha egy hiba megakadályozza erőforrások, például szálak vagy szoftvercsatornák felszabadítását, ami erőforrásfogyáshoz. Ennek elkerülése érdekében azt is particionálja a rendszert elkülönített csoportokra, hogy egy, az egy partícióban bekövetkező hiba nem a teljes rendszer leállásához.

    Ez a módszer, amely néha néhány példa a [válaszfal minta](../patterns/bulkhead.md):

  - Particionáljon egy adatbázist (például a bérlő), és rendelje hozzá az egyes partíciók webkiszolgálói példányok külön készletét.
  - Használjon külön szálkészleteket a különböző szolgáltatások meghívásainak elkülönítésére. Ez segít meggátolni a kaszkádolás révén terjedő hibákat, ha az egyik szolgáltatás meghibásodik. Egy vonatkozó példáért tekintse meg a Netflix [Hystrix könyvtárát](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).
  - Használat [tárolók](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) korlátozása egy adott alrendszer számára elérhető erőforrások.

      ![A Válaszfal minta ábrája](_images/bulkhead.png)

- **Alkalmazása [ *kompenzáló tranzakciók*](../patterns/compensating-transaction.md)**. A kompenzáló tranzakciók más, befejezett tranzakciók hatásait szüntetik meg. Az elosztott rendszerekben nehézkes lehet az erős tranzakció-konzisztencia megvalósítása. Kompenzáló tranzakciók segítenek megvalósítható a konzisztencia azáltal, hogy minden lépésnél visszavonható kisebb, különálló tranzakciókat használunk. Például utazásfoglalás esetében az ügyfél foglalhat autót, hotelszobát és repülőjegyet. Ha nem sikerül, az alábbi lépéseket az egész művelet meghiúsul. Az egész művelet egyetlen elosztott tranzakcióval történő megvalósítása helyett definiálható kompenzáló tranzakció mindegyik lépéshez.
- **Bemutatjuk az aszinkron műveletek, amikor csak lehetséges.** A szinkron műveletek is tudják kisajátítani az erőforrásokat, és egyéb műveletek blokkolható, amíg a hívó megvárja, amíg a folyamat befejezéséhez. Tervezze meg, amikor csak lehetséges aszinkron műveletek lehetővé az alkalmazás egyes részei. További információ az aszinkron programozásba megvalósítása az C\#, lásd: [aszinkron programozás](/dotnet/articles/csharp/async).

## <a name="ensure-that-availability-meets-slas"></a>Győződjön meg arról, hogy megfelel-e a rendelkezésre állási SLA-k

*Rendelkezésre állási* az időarány, amíg, ameddig a rendszer működik és üzemel, és az egyik a [szoftverminőség alappillérei](../guide/pillars.md). Ebben a szakaszban a feladatok segítségével, győződjön meg arról, hogy a rendelkezésre állási megfelel-e a szolgáltatói szerződésben foglalt rendelkezésre állási szempontból a az alkalmazás architektúra.

- **Kerülje el minden olyan hibaérzékeny pont.** Több példány megakadályozza, hogy egy meghibásodási pont rendelkezésre állását érintő összetevők, szolgáltatások, erőforrások és számítási példányok kell telepíteni. Hitelesítési mechanizmusok is egy meghibásodási pont lehet. Tervezési konfigurálható több példány üzemeltetéséhez és a automatikusan észleli a hibákat, és kérelmek átirányítása a példányok nem sikertelen, ha a platform nem ezt automatikusan az alkalmazást.
- **Számítási feladatok lebontása a szolgáltatásiszint-célkitűzés által.** Ha egy szolgáltatás áll, amelyek kritikus és a kevésbé kritikus fontosságú számítási feladatokhoz, eltérően kezelheti őket, és adja meg a service-szolgáltatások és a rendelkezésre állási követelményeinek-példányok számát.
- **Kis méret, és megismerheti a függőségei.** Csökkentse a különböző szolgáltatások használják, ahol csak lehetséges. Győződjön meg arról, hogy ismeri az összes funkció és szolgáltatás függőséget, amely létezik a rendszerben. Ismerje meg, különösen, sikertelen vagy csökkentett teljesítmény az egyes függőségek általános hatását.
- **Tervezési feladatokat, és üzeneteket kell *idempotens*, ahol csak lehetséges.** Egy művelet idempotens, ha többször is megismételhető, és ugyanazt az eredményt. Ez biztosíthatja, hogy az ismétlődő kérelmek problémák nem okoznak. Üzenet fogyasztók és az általuk végzett műveletek kell idempotens, hogy a korábban végrehajtott műveletet nem jelennek meg az eredmények érvénytelen. Ez azt jelentheti, hogy észlelni a duplikált üzenetek vagy a konzisztencia biztosítása egy optimista megközelítéssel ütközések kezelése érdekében.
- **Konfigurálja a kérelem időtúllépése.** Szolgáltatások és erőforrások miatt a kérelem sikertelen elérhetetlenné válhat. Győződjön meg arról, hogy a alkalmazni, időtúllépések megfelelő minden szolgáltatáshoz vagy erőforráshoz, az ügyfél, amely fér hozzá őket. Bizonyos esetekben előfordulhat, hogy engedélyezi a hosszabb időkorlát az ügyfélen, attól függően, a környezetet és más műveletek, amelyek az ügyfél hajt végre adott alkalmazáspéldány esetében. Rövid időtúllépések okozhat túl sok újrapróbálkozás műveletek szolgáltatásokhoz és erőforrásokhoz, amelyek jelentős késéssel rendelkeznek. Hosszú időtúllépések okozhat, blokkolja-e, ha nagy számú kérelem várólistára, Várakozás a szolgáltatás vagy erőforrás válaszolni.
- **A közvetítő, amely megvalósítja a magas rendelkezésre állású, kritikus fontosságú tranzakciók használja.** Számos felhőalapú alkalmazások használatával üzenetkezelési elindíthatja aszinkron feladatokat. Garantálja az üzenetek kézbesítését, az üzenetkezelési rendszer magas rendelkezésre állást kell biztosítania. [Az Azure Service Bus-üzenetkezelés](/azure/service-bus-messaging) valósít meg *legalább egyszer* szemantikát, ami azt jelenti, hogy egy üzenet garantáltan legalább egyszer elküldjön. Ismétlődő üzenetek kézbesíteni bizonyos körülmények között lehet. Ha üzenet feldolgozás idempotens (lásd az előző elemet), ismétlődő kézbesítési nem lehet probléma.
- **Nagy forgalmú felhasználók szabályozása.** Egyes esetekben a felhasználók kis számú túlzott terhelést hoz létre. Ez más felhasználókra hatással lehetnek, és csökkentheti az alkalmazás rendelkezésre állását. Egyetlen ügyfél túlzott mennyiségű kérelmet küld, amikor az az alkalmazás az ügyfél lehet, hogy bizonyos ideig szabályozás. A szabályozási időszak alatt az alkalmazás visszautasítja az néhány vagy összes kérelmet az, hogy az ügyfél. A szabályozási küszöbérték gyakran az ügyfél szolgáltatásszintjétől függ. További információkért lásd: [sávszélesség-szabályozási minta](../patterns/throttling.md).

    Szabályozás nem jelenti azt, hogy az ügyfél jelent kártételi szándékot &mdash; csak, hogy túllépte a szolgáltatási kvótáját. Egyes esetekben a fogyasztók rendszeresen túlléphetik a kvótájukat, vagy egyéb helytelen magatartást tanúsíthatnak. Ilyen esetben további lépésként lehetséges a felhasználó blokkolása. Ez általában API-kulcs vagy IP-címtartomány blokkolása révén történik.
- **Szabályosan csökkeni alkalmazások tervezéséről.** Az alkalmazás terhelésének haladhatja meg a kapacitás egy, vagy további alkatrészek, így csökken a rendelkezésre állás és a kapcsolatok meghiúsultak. Skálázás is a probléma mérséklése, de a más tényezők, például az erőforrások elérhetőségét és a költségek által megszabott felső határértéket elérheti. Amikor egy alkalmazás eléri egy erőforráskorlátot, hogy minimalizálja a felhasználó a megfelelő műveletet kell vennie. Például egy e-kereskedelmi rendszerben-e a feldolgozási sorrendben alrendszer törzs vagy meghiúsul, akkor ideiglenesen letiltható miközben lehetővé teszi az egyéb funkciókat, például a termékkatalógus tallózása. Érdemes lehet elhalasztani a kérelmeket egy sikertelen alrendszer &mdash; például így továbbra is az ügyfelek nyújthatnak be rendelést, de mentésével későbbi feldolgozás céljából, ha a rendelések alrendszer ismét elérhető.
- **Gyors burst események szabályosan kezelésére.** A legtöbb alkalmazás idővel munkaterhelésű kezeléséhez szükséges. Az automatikus skálázás segítségével a terhelés kezeléséhez, de eltarthat egy kis ideig további példányok online állapotba kerül, és a kérelmek kezelésére. Tevékenység adatlöketekkel megakadályozni az alkalmazás túlterhelve, tervezése a szolgáltatásokat használ, és amikor üzenetsorok buildjénél a kapacitás leállás nélküli teljesítménycsökkenés várólista-kérelmekre. Győződjön meg arról, ott érhető el elegendő teljesítményt és kapacitást kiürítési az üzenetsorokhoz és a szálankénti függőben lévő kérések kezelésére nem burst körülmények között. További információkért lásd: a [terhelés üzenetsor-alapú terheléskiegyenlítési minta](../patterns/queue-based-load-leveling.md).
- **Compose, vagy a feladat-visszavételhez több összetevőt.** Kialakítási alkalmazások általi használatát több példány nélkül érintő művelet és a meglévő kapcsolatokat, ahol csak lehetséges. Rendelkezésre állás maximalizálása érdekében, hogy több példány üzemeltetéséhez kérelmek közöttük, terjesztése és felismeri és elkerülheti a kérések küldését sikertelen példányok.
- **Feladat-visszavételhez egy másik szolgáltatás vagy a munkafolyamat.** Például ha az SQL Database-adatbázisba írása sikertelen, ideiglenesen tárolja az adatokat a Blob storage vagy a Redis Cache. Visszajátszani az írást, az SQL Database-amikor elérhetővé válik a szolgáltatás lehetőséget biztosíthat. Bizonyos esetekben egy meghiúsult művelet lehet egy valamilyen alternatív műveletet, amely lehetővé teszi az alkalmazás továbbra is működik, még ha egy összetevő vagy szolgáltatás sikertelen. Ha lehetséges a hibák észlelése, és más szolgáltatásokba irányuló kérelmek átirányítása a szolgáltatás az elsődleges kapcsolat nélküli módban.
- **Terheléskiegyenlítés használatával adatforgalmi kiugrások forgalmat.** Alkalmazások forgalmat, amely túlterhelhetik a háttérkiszolgálón szolgáltatások hirtelen kiugrások tapasztalhat. Ha egy háttérszolgáltatás nem gyorsan válaszolni a kérésekre ahhoz, a függőben lévő kérelmek halmozódnak előfordulhat, hogy vagy a szolgáltatás lehet szabályozni az alkalmazás. Ennek elkerülése végett az üzenetsor pufferként használható. Ha egy új munkaelem megjelenésekor a háttérszolgáltatás azonnali meghívása helyett a az alkalmazás sorba egy munkaelemet, történő futtatásukhoz. Az üzenetsor pufferként működik, amely csökkenti a terhelési kiugrásokat. További információkért lásd: [terhelés üzenetsor-alapú terheléskiegyenlítési minta](../patterns/queue-based-load-leveling.md).

## <a name="manage-your-data"></a>Adatok kezelése

Az adatok kezelése játszik közvetlenül az alkalmazás rendelkezésre állását. Ebben a szakaszban a feladatok segítségével hozzon létre egy felügyeleti csomagot a rendelkezésre állás biztosítása érdekében.

- **Adatok replikálása, és megismerheti az alkalmazás olyan adattárakban replikációs módszereket.** Az adatok replikálása egy általános stratégia, amellyel az adattárak nem átmeneti meghibásodásai kezelhetők. Fontolja meg az olvasási és írási elérési. A tárolási technológiát függően előfordulhat, hogy több írható replikával, vagy lehetséges, hogy egy egyetlen írható és több írásvédett replikával. A rendelkezésre állás maximalizálása érdekében a replikákat több régióban is el lehet helyezni. Ez a megközelítés azonban növeli a késés, az adatok replikálásával járó. A régiók közötti replikálás általában aszinkron módon történik, ami végleges konzisztenciájú modellt jelent, valamint azt, hogy egy replika meghibásodása adatveszteséggel járhat.  

  Használhat [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) az Azure virtuális gépek replikálása egyik régióból a másikba. A Site Recovery folyamatosan végzi az adatok replikálását a célrégióba. Egy kimaradás esetén az elsődleges helyen átadja a feladatokat egy másodlagos helyre.

- **Győződjön meg arról, hogy nincs egyetlen felhasználói fiók rendelkezik-e éles és a biztonsági mentési adatokhoz való hozzáférés.** A biztonsági mentések integritása sérül, ha egy egyetlen felhasználói fiók éles és a biztonsági mentési források írási engedéllyel rendelkezik. Egy rosszindulatú felhasználó szándékosan sikerült törölni az összes adatot, és a egy normál felhasználói sikerült véletlenül törli. Tervezze alkalmazását úgy korlátozhatja az egyes felhasználói fiókok engedélyeket. Csak írási hozzáférést biztosít a felhasználók számára, akiknek nincs szükségük, és hozzáférést éles vagy a biztonsági mentés, de nem mindkettőt.
- **Dokumentálja és tesztelje az adatok tárolási feladatátvétel és feladat-visszavételi folyamat.** Ha egy adattár meghibásodik ami katasztrofálisan, emberi beavatkozást utasításokat a átadja a feladatokat egy új adattároló készletét kell követnie. Ha a dokumentált lépéseket hibásak, az operátornak nem lehet sikeresen kövesse azokat, és átadja a feladatokat az erőforrás. Rendszeresen tesztelje a utasítás lépéseket, ellenőrizze, hogy az operátort, akik a dokumentáció a következő is sikeresen feladatátvételét és feladat-visszavételt.
- **Az adatok biztonsági mentését, és ellenőrizze az adatok biztonsági mentése.** Rendszeresen parancsfájllal történő ellenőrzése az adatok integritásának megőrzése, a sémát és a lekérdezések annak biztosításához, hogy biztonsági mentési adatokat várt. Jelentkezzen, és bármely inkonzisztenciákról tesz jelentést, a biztonsági mentési szolgáltatás nem állítható helyre.
- **Rendszeres biztonsági mentés és időponthoz visszaállítás használatához.** Automatikusan és rendszeresen készítsen biztonsági másolatot, amely máshol nem őrződnek meg adatokat. Győződjön meg arról, hogy megbízhatóan visszaállíthatja az adatokat és a magának az alkalmazásnak hiba esetén. Győződjön meg arról, hogy a biztonsági mentések megfelelnek a helyreállítási Időkorlát. Adatreplikálás nem egy biztonsági mentési funkcióval, mert a emberi hiba vagy rosszindulatú műveleteket is az adatok sérültek minden replika között. Lehet, hogy a biztonsági mentési folyamat biztonságos az úton lévő és a storage-ban tárolt adatok védelméhez. Adatbázisok általában visszaállíthatja egy korábbi időpontra időben tranzakciós naplók használatával. További információkért lásd: [helyreállítás adatsérülés vagy véletlen törlés](../resiliency/recovery-data-corruption.md).
- **Fontolja meg egy georedundáns tárfiókot.** Egy Azure Storage-fiókban tárolt adatok mindig replikálódik helyileg. Vannak azonban van egy tárfiók üzembe helyezésekor választhat replikációs néhány stratégiát. Védelme érdekében az alkalmazás adatait a ritka esetben, ha egy teljes régió elérhetetlenné válik, válassza ki a [Azure írásvédett Georedundáns tárolás (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).  

    > [!NOTE]
    > A virtuális gépek esetében ne támaszkodjon kizárólag RA-GRS replikáció visszaállítása a Virtuálisgép-lemezek (VHD-fájlok). Ehelyett használjon [Azure Backup](/azure/backup).

- **Vegye fontolóra a referenciaadatok több régióban is üzembe helyeznek.** Referenciaadatok, amely támogatja az alkalmazás funkciói csak olvasható adatok. Ez jellemzően nem változik gyakran. Bár a biztonsági másolatból történő visszaállítását úgy lehet kezelni a régióra kiterjedő szolgáltatáskimaradás, az RTO viszonylag hosszú. Az alkalmazás egy másodlagos régióba történő telepítésekor néhány stratégiát javíthatja az RTO a referenciaadatoknál.

    Mert az adatok változásának hivatkozhat ritkán, javíthatja az RTO végleges a másodlagos régió másolatának megtartásával. Ezzel elkerülhető, hogy egy vészhelyzetet követően a biztonsági másolatok visszaállításához szükséges időt. A több régiók vész-helyreállítási követelmények teljesítéséhez telepítenie kell az alkalmazás és a referenciaadatok együtt több régióban.

- **Használjon optimista egyidejűség és a végleges konzisztencia.** Tranzakciók, amelyek blokkolják az elérhető erőforrások zárolása keresztül (*pesszimista egyidejűségi*) gyenge teljesítményt okozhat és csökkentheti a rendelkezésre állást. Ezeket a problémákat az elosztott rendszerek különösen akuttá válhat. Sok esetben gondos tervezés és technikák, például a particionálás, minimalizálhatja az előforduló ütköző frissítésének esélyét. Adatok replikálása, vagy külön-külön frissített áruházbeli olvassa el, ha az adatok csak akkor végül konzisztens. Azonban az előnyei túlsúlyban vannak általában a tranzakciók azonnali konzisztencia biztosításához a rendelkezésre állási gyakorolt hatást.
- **Aktív georeplikáció az SQL Database használatával módosítások replikálása egy másodlagos adatbázist.** SQL-adatbázis aktív georeplikációt automatikusan replikálja a másodlagos adatbázisok ugyanabban a régióban, vagy egy másik régióban található adatbázis-módosításokat. További információkért lásd: [létrehozása és az aktív georeplikáció használatával](/azure/sql-database/sql-database-active-geo-replication).

  Azt is megteheti, elvégezhető a több manuális módszer használatával a **adatbázis-másolat** az adatbázis biztonsági másolatának létrehozása tranzakció-konzisztencia a parancsot. Az import/export szolgáltatás támogatja a exportálása BACPAC fájlok (az adatbázisséma és a társított adatokat tartalmazó tömörített fájlok), az Azure Blob storage-ban tárolt adatbázisok Azure SQL Database is használhatja. Az Azure Storage két replika a biztonságimásolat-fájl ugyanabban a régióban hoz létre. Azonban a biztonsági mentés gyakorisága határozza meg, a helyreállítási Időkorlát, amely vész elveszhetnek adatok mennyisége. Például ha az adatok biztonsági mentését óránként, és a egy katasztrófa történik a biztonsági mentés előtt két perc, 58 percnyi adat elveszíti. Ezenkívül régióra kiterjedő szolgáltatáskimaradás ellen, másolja a BACPAC-fájl egy másodlagos régióba. További információkért lásd: [az Azure SQL Database üzletmenet-folytonossági funkcióinak áttekintése](/azure/sql-database/sql-database-business-continuity).

- **Geo-biztonsági mentések használja az SQL Data warehouse-hoz.** Az SQL Data Warehouse használata [geo-biztonsági mentések](/azure/sql-data-warehouse/backup-and-restore) vész-helyreállítási párosított régióba visszaállításához. Ezeket a biztonsági másolatokat 24 óránként megnyílik, és vissza tudja állítani 20 percen belül a párosított régióban. Ez a funkció alapértelmezés szerint be van az összes SQL Data Warehouse-példányhoz. Az adattárház visszaállításával kapcsolatos további információkért lásd: [visszaállítása az Azure-régióból egy földrajzi PowerShell használatával.](/azure/sql-data-warehouse/sql-data-warehouse-restore)

- **Az Azure Site Recovery Virtuálisgép-lemezek replikálásához.** Amikor replikálhat Azure virtuális gépek [Site Recovery](/azure/site-recovery/), a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik. A helyreállítási pontok jönnek létre néhány perces időközönként. Ez lehetővé teszi egy RPO sorrendjéről perc.
- **Virtuális gépeken futó SQL Server biztonsági mentése, vagy konfigurálja a naplóküldés munkamenet.** A virtuális gépeken futó SQL Server, két lehetőség van: a hagyományos biztonsági mentéseket és a naplóküldésben. A hagyományos biztonsági mentések engedélyezése, hogy egy adott időpontra való visszaállítása, de a helyreállítási folyamat lassú. A hagyományos biztonsági mentések visszaállítása szükséges, hogy egy kezdeti biztonsági mentés kezdődhet, és ezután alkalmazza az összes biztonsági másolatokat, amely után. A második lehetőség, hogy konfigurálja a naplóküldés munkamenet késleltetheti a naplóalapú biztonsági mentések visszaállítása (például úgy, hogy két óra). Ez lehetővé teszi a hibák az elsődleges végzett ablakot.
- **Egy egyedi folyamat vagy külső eszköz használatával Azure Storage biztonsági másolatot készíteni.** Az Azure Storage esetében egy egyéni biztonsági mentési folyamat fejleszthet, vagy egy külső biztonsági mentési eszköz. A legtöbb alkalmazás tervek rendelkezik további hagyhatják, melyik storage-ban erőforrásokat hivatkozhat egymással. Vegyük példaként SQL-adatbázis, az oszlop az Azure Storage-blob mutat. A biztonsági mentések nem egyszerre következnek be, ha az adatbázis egy blobot, amely nem készült biztonsági másolat a hiba előtt mutató kell. Az alkalmazás vagy a vész-helyreállítási terv musí implementovat rozhraní folyamatok kezeléséhez a inkonzisztenciát helyreállítás után.
- **A natív replikációs vagy pillanatképkezelési funkciókat használja más virtuális gépeken tárolt adatokat platformok.** Más adatplatformok, például az Elasticsearch vagy mongodb-hez, rendelkezik a saját képességek és szempontok az integrált biztonsági mentés létrehozásakor, és a visszaállítási folyamat. Ezek az adatplatformok az általános ajánlás, hogy minden olyan natív vagy elérhető integrációs-alapú replikálás vagy pillanatképkezelési funkciókat használja. Ha ezekre a képességekre még nem léteznek, vagy nem megfelelő, fontolja meg, az alkalmazásadatok időponthoz másolat létrehozása Azure Backup vagy a lemez-pillanatképek használatát. Minden esetben fontos hogyan érhető el alkalmazáskonzisztens biztonsági másolatok, különösen akkor, ha az alkalmazásadatok kiterjedő több fájlrendszerek vagy egy operációs rendszer mostantól több meghajtó megállapítani.
- **Ismerje meg az alkalmazás-adatforrások replikációs módszereket.** Az alkalmazásadatok különböző adatforrások lesz tárolva, és fog különböző rendelkezésre állási követelmények vonatkoznak. Kiértékelheti a replikációs módszereket az egyes adattárolás az Azure-ban, többek között [Azure tárhely-redundancia](/azure/storage/storage-redundancy/) és [SQL-adatbázis aktív georeplikációt](/azure/sql-database/sql-database-geo-replication-overview/) annak biztosítására, hogy az alkalmazás adatokat követelmények teljesülnek. Azure virtuális gépek replikálása [Site Recovery](/azure/site-recovery/), a Virtuálisgép-lemezek folyamatosan replikálja a rendszer a célként megadott régióban aszinkron módon történik. A helyreállítási pontok jönnek létre néhány perces időközönként.
- **Vész-helyreállítási stratégiát adatokat hoz létre.** Megfelelő adatkezeléssel minden olyan vész-helyreállítási terv kihívást aspektusa. A helyreállítási folyamat során adatok helyreállítása általában a legtöbb időt vesz igénybe. Csökkenti a funkciók különböző lehetőségeit az adat-helyreállítás és a konzisztencia nehéz kihívások eredményez.

## <a name="next-steps"></a>További lépések

> [!div class="nextstepaction"]
> [A rugalmasság és a rendelkezésre állási teszt](./testing.md)
