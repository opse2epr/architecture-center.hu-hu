---
title: A megbízhatóság az Azure-beli alkalmazások állapotának monitorozása
description: Figyelés használata alkalmazások megbízhatóságát, az Azure-ban
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: 46f9f3fb623a2facf4b9f9c6ec57376ae59e41dc
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646569"
---
# <a name="monitoring-application-health-for-reliability-in-azure"></a><span data-ttu-id="77524-103">A megbízhatóság az Azure-beli alkalmazások állapotának monitorozása</span><span class="sxs-lookup"><span data-stu-id="77524-103">Monitoring application health for reliability in Azure</span></span>

<span data-ttu-id="77524-104">A megfigyelés és a diagnosztika létfontosságú a rugalmasság szempontjából.</span><span class="sxs-lookup"><span data-stu-id="77524-104">Monitoring and diagnostics are crucial for resiliency.</span></span> <span data-ttu-id="77524-105">Ha hiba lép fel, akkor ismernie kell *, amely* sikertelen volt, *amikor* nem sikerült &mdash; és *miért*.</span><span class="sxs-lookup"><span data-stu-id="77524-105">If something fails, you need to know *that* it failed, *when* it failed &mdash; and *why*.</span></span>

<span data-ttu-id="77524-106">*Figyelés* nem ugyanaz, mint *hibaészlelés*.</span><span class="sxs-lookup"><span data-stu-id="77524-106">*Monitoring* is not the same as *failure detection*.</span></span> <span data-ttu-id="77524-107">Hogy az alkalmazás például észlelhet átmeneti hibát, majd próbálkozzon újra, állásidő elkerülése.</span><span class="sxs-lookup"><span data-stu-id="77524-107">For example, your application might detect a transient error and retry, avoiding downtime.</span></span> <span data-ttu-id="77524-108">De naplóznia is kell a próbálja megismételni a műveletet úgy, hogy figyelemmel kísérheti a hibák aránya az átfogó képet az alkalmazás állapotáról.</span><span class="sxs-lookup"><span data-stu-id="77524-108">But it should also log the retry operation so that you can monitor the error rate to get an overall picture of application health.</span></span>

<span data-ttu-id="77524-109">Úgy gondolja, hogy a monitorozási és diagnosztikai folyamat mint négy különböző szakaszból rendelkező folyamatot: Kialakítási, gyűjtemény és a tárolási, elemzési és elemzés céljából, és a Vizualizáció és riasztások.</span><span class="sxs-lookup"><span data-stu-id="77524-109">Think of the monitoring and diagnostics process as a pipeline with four distinct stages: Instrumentation, collection and storage, analysis and diagnosis, and visualization and alerts.</span></span>

## <a name="instrumentation"></a><span data-ttu-id="77524-110">Rendszerállapot</span><span class="sxs-lookup"><span data-stu-id="77524-110">Instrumentation</span></span>

<span data-ttu-id="77524-111">Nem célszerű, monitorozhatók az alkalmazások közvetlenül, így kialakítási kulcsot.</span><span class="sxs-lookup"><span data-stu-id="77524-111">It's not practical to monitor your application directly, so instrumentation is key.</span></span> <span data-ttu-id="77524-112">Virtuális gépeken (VM), amely hozzáadása és eltávolítása idővel több tucatnyi nagy méretű elosztott rendszerek előfordulhat, hogy futtassa.</span><span class="sxs-lookup"><span data-stu-id="77524-112">A large-scale distributed system might run on dozens of virtual machines (VMs), which are added and removed over time.</span></span> <span data-ttu-id="77524-113">Hasonlóképpen felhőalapú alkalmazások előfordulhat, hogy használjon adattárak számos, és egyetlen felhasználói művelet előfordulhat, hogy több alrendszerre is kiterjedhet.</span><span class="sxs-lookup"><span data-stu-id="77524-113">Likewise, a cloud application might use a number of data stores and a single user action might span multiple subsystems.</span></span>

<span data-ttu-id="77524-114">Adja meg a részletes rendszerállapot:</span><span class="sxs-lookup"><span data-stu-id="77524-114">Provide rich instrumentation:</span></span>

- <span data-ttu-id="77524-115">Hibák az valószínűleg, de nem rendelkezik még történt, hogy a hiba okának megállapításához, csökkentheti a helyzet elegendő adatot biztosítson, és győződjön meg arról, hogy a rendszer továbbra is elérhető.</span><span class="sxs-lookup"><span data-stu-id="77524-115">For failures that are likely but have not yet occurred, provide enough data to determine the cause, mitigate the situation, and ensure that the system remains available.</span></span>
- <span data-ttu-id="77524-116">Már bekövetkezett hibák az alkalmazás a felhasználó a megfelelő hibaüzenetet adja vissza, de érdemes próbálja folytatni, fut, jóllehet az korlátozott funkciókkal.</span><span class="sxs-lookup"><span data-stu-id="77524-116">For failures that have already occurred, the application should return an appropriate error message to the user but should attempt to continue running, albeit with reduced functionality.</span></span>

<span data-ttu-id="77524-117">Megfigyelő rendszere rögzíteni kell átfogó részleteit, hogy az alkalmazások hatékonyan tudja állítani, és ha szükséges, tervezők és fejlesztők módosíthatja a rendszer ismétlődő az a helyzet elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="77524-117">Monitoring systems should capture comprehensive details so that applications can be restored efficiently and, if necessary, designers and developers can modify the system to prevent the situation from recurring.</span></span>

<span data-ttu-id="77524-118">Figyelés a nyers adatok különböző forrásokból, beleértve a származhatnak:</span><span class="sxs-lookup"><span data-stu-id="77524-118">The raw data for monitoring can come from a variety of sources, including:</span></span>

- <span data-ttu-id="77524-119">Alkalmazásnaplók, mint például amelyek által előállított a [Azure Application Insights](/azure/azure-monitor/app/app-insights-overview) szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="77524-119">Application logs, such as those produced by the [Azure Application Insights](/azure/azure-monitor/app/app-insights-overview) service.</span></span>
- <span data-ttu-id="77524-120">Teljesítmény-mérőszámok operációs rendszer által gyűjtött [Azure monitorozási ügynökök](/azure/azure-monitor/platform/agents-overview).</span><span class="sxs-lookup"><span data-stu-id="77524-120">Operating system performance metrics collected by [Azure monitoring agents](/azure/azure-monitor/platform/agents-overview).</span></span>
- <span data-ttu-id="77524-121">[Azure-erőforrások](/azure/azure-monitor/platform/metrics-supported), az Azure Monitor által gyűjtött metrikák többek között.</span><span class="sxs-lookup"><span data-stu-id="77524-121">[Azure resources](/azure/azure-monitor/platform/metrics-supported), including metrics collected by Azure Monitor.</span></span>
- <span data-ttu-id="77524-122">[Az Azure Service Health](/azure/service-health/service-health-overview), amely aktív események nyomon követéséhez irányítópult kínál.</span><span class="sxs-lookup"><span data-stu-id="77524-122">[Azure Service Health](/azure/service-health/service-health-overview), which offers a dashboard to help you track active events.</span></span>
- <span data-ttu-id="77524-123">[Az Azure AD-naplók](/azure/active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics) az Azure platformba beépítve.</span><span class="sxs-lookup"><span data-stu-id="77524-123">[Azure AD logs](/azure/active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics) built into the Azure platform.</span></span>

<span data-ttu-id="77524-124">A legtöbb Azure-szolgáltatások rendelkezik mérőszámai és diagnosztikái konfigurálható elemzésére és a probléma okának megállapításához.</span><span class="sxs-lookup"><span data-stu-id="77524-124">Most Azure services have metrics and diagnostics that you can configure to analyze and determine the cause of problems.</span></span> <span data-ttu-id="77524-125">További tudnivalókért lásd: [figyelési adatokat gyűjtött az Azure Monitor](/azure/azure-monitor/platform/data-collection).</span><span class="sxs-lookup"><span data-stu-id="77524-125">To learn more, see [Monitoring data collected by Azure Monitor](/azure/azure-monitor/platform/data-collection).</span></span>

## <a name="collection-and-storage"></a><span data-ttu-id="77524-126">Gyűjtés és tárolás</span><span class="sxs-lookup"><span data-stu-id="77524-126">Collection and storage</span></span>

<span data-ttu-id="77524-127">Különböző helyeken és formátumokban, beleértve a nyers rendszerállapot-adatok tárolhatók:</span><span class="sxs-lookup"><span data-stu-id="77524-127">Raw instrumentation data can be held in various locations and formats, including:</span></span>

- <span data-ttu-id="77524-128">Alkalmazások nyomkövetési naplói</span><span class="sxs-lookup"><span data-stu-id="77524-128">Application trace logs</span></span>
- <span data-ttu-id="77524-129">IIS-naplók</span><span class="sxs-lookup"><span data-stu-id="77524-129">IIS logs</span></span>
- <span data-ttu-id="77524-130">Teljesítményszámlálók</span><span class="sxs-lookup"><span data-stu-id="77524-130">Performance counters</span></span>

<span data-ttu-id="77524-131">E különálló forrásokat gyűjtött, konszolidált, és az Azure-ban, mint például az Application Insights, az Azure Monitor metrikák, a Service Health, tárfiókok és Azure Log Analytics megbízható adattárak helyezi el.</span><span class="sxs-lookup"><span data-stu-id="77524-131">These disparate sources are collected, consolidated, and placed in reliable data stores in Azure, such as Application Insights, Azure Monitor metrics, Service Health, storage accounts, and Azure Log Analytics.</span></span>

## <a name="analysis-and-diagnosis"></a><span data-ttu-id="77524-132">Elemzés és diagnosztika</span><span class="sxs-lookup"><span data-stu-id="77524-132">Analysis and diagnosis</span></span>

<span data-ttu-id="77524-133">Ezek adattárak problémák elhárításához és az alkalmazás állapotának átfogó képet kaphat az összesített adatok elemzéséhez.</span><span class="sxs-lookup"><span data-stu-id="77524-133">Analyze data consolidated in these data stores to troubleshoot issues and gain an overall view of application health.</span></span> <span data-ttu-id="77524-134">Általában a is [keresse meg és elemezheti](/azure/azure-monitor/log-query/log-query-overview) az Application Insights és a Log Analytics használatával Kusto-lekérdezés és a nézet az előre konfigurált ábrák használatával az adatok [felügyeleti megoldások](/azure/azure-monitor/insights/solutions-inventory).</span><span class="sxs-lookup"><span data-stu-id="77524-134">Generally, you can [search for and analyze](/azure/azure-monitor/log-query/log-query-overview) the data in Application Insights and Log Analytics using Kusto queries or view preconfigured graphs using [management solutions](/azure/azure-monitor/insights/solutions-inventory).</span></span> <span data-ttu-id="77524-135">Vagy egy az aktuális javaslatok megtekintése az Azure Advisor használatával [rugalmasság](/azure/advisor/advisor-high-availability-recommendations) és [teljesítmény](/azure/advisor/advisor-performance-recommendations).</span><span class="sxs-lookup"><span data-stu-id="77524-135">Or use Azure Advisor to view recommendations with a focus on [resiliency](/azure/advisor/advisor-high-availability-recommendations) and [performance](/azure/advisor/advisor-performance-recommendations).</span></span>

## <a name="visualization-and-alerts"></a><span data-ttu-id="77524-136">Megjelenítés és riasztások</span><span class="sxs-lookup"><span data-stu-id="77524-136">Visualization and alerts</span></span>

<span data-ttu-id="77524-137">Jelen a telemetriai adatokat, amely megkönnyíti az olyan operátorra, figyelje meg, hogy problémákat vagy tendenciákat, például egy irányítópulton vagy e-mail-értesítés formátuma.</span><span class="sxs-lookup"><span data-stu-id="77524-137">Present telemetry data in a format that makes it easy for an operator to notice problems or trends quickly, such as a dashboard or email alert.</span></span>

<span data-ttu-id="77524-138">Alkalmazásállapot teljes képet kaphat a [Azure-irányítópultok](/azure/azure-portal/azure-portal-dashboards) nézetet jelenít meg a figyelés az Application Insights, a Log Analytics, az Azure Monitor-metrikák és a Service Health gráfok létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="77524-138">Get a full-stack view of application state by using [Azure dashboards](/azure/azure-portal/azure-portal-dashboards) to create a consolidated view of monitoring graphs from Application Insights, Log Analytics, Azure Monitor metrics, and Service Health.</span></span> <span data-ttu-id="77524-139">És [Azure Monitor riasztások](/azure/azure-monitor/platform/alerts-overview) értesítések létrehozása a Service Health, a resource health, az Azure Monitor-metrikák, a rendszer a Log Analytics és az Application Insights.</span><span class="sxs-lookup"><span data-stu-id="77524-139">And use [Azure Monitor alerts](/azure/azure-monitor/platform/alerts-overview) to create notifications on Service Health, resource health, Azure Monitor metrics, logs in Log Analytics, and Application Insights.</span></span>

<span data-ttu-id="77524-140">Figyelési és diagnosztikai funkciókkal kapcsolatos további információkért lásd: [Monitorozási és diagnosztikai](../best-practices/monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="77524-140">For more information about monitoring and diagnostics, see [Monitoring and diagnostics](../best-practices/monitoring.md).</span></span>

## <a name="health-probes-and-check-functions"></a><span data-ttu-id="77524-141">Állapot-mintavételei és ellenőrzési funkciók</span><span class="sxs-lookup"><span data-stu-id="77524-141">Health probes and check functions</span></span>

<span data-ttu-id="77524-142">Az állapotát és a egy alkalmazás teljesítményének idővel romoljon, és a teljesítménycsökkenés lehet, hogy nem észlelhető mindaddig, amíg az alkalmazás nem tudja.</span><span class="sxs-lookup"><span data-stu-id="77524-142">The health and performance of an application can degrade over time, and degradation might not be noticeable until the application fails.</span></span>

<span data-ttu-id="77524-143">Mintavételezők megvalósítása vagy ellenőrizze a functions, és az alkalmazáson kívüli rendszeresen a futtathatók.</span><span class="sxs-lookup"><span data-stu-id="77524-143">Implement probes or check functions, and run them regularly from outside the application.</span></span> <span data-ttu-id="77524-144">Az ellenőrzések egyszerű: az alkalmazás egészére, az alkalmazás egyes részei, az alkalmazás által használt egyes szolgáltatások számára, vagy külön összetevők válaszidő mérése is lehet.</span><span class="sxs-lookup"><span data-stu-id="77524-144">These checks can be as simple as measuring response time for the application as a whole, for individual parts of the application, for specific services that the application uses, or for separate components.</span></span>

<span data-ttu-id="77524-145">Ellenőrizze a functions futtathatja a folyamatokat, így biztosíthatja, hogy azok érvényes eredményeket, mérheti a késés és rendelkezésre állásának ellenőrzése és információk nyerhetők a rendszer.</span><span class="sxs-lookup"><span data-stu-id="77524-145">Check functions can run processes to ensure that they produce valid results, measure latency and check availability, and extract information from the system.</span></span>

## <a name="long-running-workflow-failures"></a><span data-ttu-id="77524-146">Hosszan futó munkafolyamatok hibája</span><span class="sxs-lookup"><span data-stu-id="77524-146">Long-running workflow failures</span></span>

<span data-ttu-id="77524-147">Hosszan futó munkafolyamatok tartozhat több lépést, amelyek mindegyike függetlennek kell lenniük.</span><span class="sxs-lookup"><span data-stu-id="77524-147">Long-running workflows often include multiple steps, each of which should be independent.</span></span>

<span data-ttu-id="77524-148">Hosszú futású folyamatok, azzal csökkenthető a, hogy a teljes munkafolyamatot kell vissza lesz állítva, illetve, hogy több kompenzáló tranzakciót kell hajtható végre, az előrehaladását úgy követheti nyomon.</span><span class="sxs-lookup"><span data-stu-id="77524-148">Track the progress of long-running processes to minimize the likelihood that the entire workflow will need to be rolled back or that multiple compensating transactions will need to be executed.</span></span>

>[!TIP]
> <span data-ttu-id="77524-149">Figyelheti és kezelheti a hosszan futó munkafolyamatok előrehaladását egy minta megvalósításával [Feladatütemező ügynök felügyeleti](../patterns/scheduler-agent-supervisor.md).</span><span class="sxs-lookup"><span data-stu-id="77524-149">Monitor and manage the progress of long-running workflows by implementing a pattern such as [Scheduler Agent Supervisor](../patterns/scheduler-agent-supervisor.md).</span></span>

## <a name="application-logs"></a><span data-ttu-id="77524-150">Alkalmazásnaplók</span><span class="sxs-lookup"><span data-stu-id="77524-150">Application logs</span></span>

<span data-ttu-id="77524-151">Az alkalmazásnaplók a diagnosztikai adatok fontos forrását képezik.</span><span class="sxs-lookup"><span data-stu-id="77524-151">Application logs are an important source of diagnostics data.</span></span> <span data-ttu-id="77524-152">Betekintést nyerhet szükség esetén a legtöbb, kövesse az ajánlott eljárások az alkalmazásnaplózáshoz.</span><span class="sxs-lookup"><span data-stu-id="77524-152">To gain insight when you need it most, follow best practices for application logging.</span></span>

### <a name="log-data-in-the-production-environment"></a><span data-ttu-id="77524-153">Naplóadatok az éles környezetben</span><span class="sxs-lookup"><span data-stu-id="77524-153">Log data in the production environment</span></span>

<span data-ttu-id="77524-154">Robusztus telemetriai adatok rögzítése, amíg az alkalmazás az éles környezetben fut, így diagnosztizálhatja a problémákat a termelési állapotban okának elegendő információt kell.</span><span class="sxs-lookup"><span data-stu-id="77524-154">Capture robust telemetry data while the application is running in the production environment, so you have sufficient information to diagnose the cause of issues in the production state.</span></span>

### <a name="log-events-at-service-boundaries"></a><span data-ttu-id="77524-155">Alkalmazásnapló-események szolgáltatáshatárokon</span><span class="sxs-lookup"><span data-stu-id="77524-155">Log events at service boundaries</span></span>

<span data-ttu-id="77524-156">Használjon korrelációs azonosítót, amely átnyúlik a szolgáltatáshatárokon.</span><span class="sxs-lookup"><span data-stu-id="77524-156">Include a correlation ID that flows across service boundaries.</span></span> <span data-ttu-id="77524-157">Ha egy tranzakció több szolgáltatást és az egyik keresztüláramló meghiúsul, a korrelációs azonosító segítségével nyomon követheti a kéréseket az alkalmazás- és miért nem sikerült a tranzakció pinpoints között.</span><span class="sxs-lookup"><span data-stu-id="77524-157">If a transaction flows through multiple services and one of them fails, the correlation ID helps you track requests across your application and pinpoints why the transaction failed.</span></span>

### <a name="use-semantic-structured-logging"></a><span data-ttu-id="77524-158">Szemantikai (strukturált) naplózás</span><span class="sxs-lookup"><span data-stu-id="77524-158">Use semantic (structured) logging</span></span>

<span data-ttu-id="77524-159">Strukturált naplók és különösen fontos felhőszinten naplóadatok elemzésének automatizálását könnyebbé válik.</span><span class="sxs-lookup"><span data-stu-id="77524-159">With structured logs, it's easier to automate the consumption and analysis of the log data, which is especially important at cloud scale.</span></span> <span data-ttu-id="77524-160">Általában javasoljuk, hogy Azure-erőforrások metrikák és diagnosztikai adatok tárolására, a Log Analytics-munkaterületen, nem pedig a storage-fiókban.</span><span class="sxs-lookup"><span data-stu-id="77524-160">Generally, we recommend storing Azure resources metrics and diagnostics data in a Log Analytics workspace rather than in a storage account.</span></span> <span data-ttu-id="77524-161">Ezzel a módszerrel Kusto-lekérdezés használhatja a gyors és strukturált formátumban szeretne adatokat lekérdezni.</span><span class="sxs-lookup"><span data-stu-id="77524-161">This way, you can use Kusto queries to obtain the data you want quickly and in a structured format.</span></span> <span data-ttu-id="77524-162">Az Azure Monitor API-k és az Azure Log Analytics API-k is használhatja.</span><span class="sxs-lookup"><span data-stu-id="77524-162">You can also use Azure Monitor APIs and Azure Log Analytics APIs.</span></span>

### <a name="use-asynchronous-logging"></a><span data-ttu-id="77524-163">Használjon aszinkron naplózást</span><span class="sxs-lookup"><span data-stu-id="77524-163">Use asynchronous logging</span></span>

<span data-ttu-id="77524-164">Szinkron naplózási műveletek néha letiltása az alkalmazás kódjában, biztonsági mentése, a naplók írt kérelmeket okozza.</span><span class="sxs-lookup"><span data-stu-id="77524-164">Synchronous logging operations sometimes block your application code, causing requests to back up as logs are written.</span></span> <span data-ttu-id="77524-165">Használjon aszinkron naplózást alkalmazásnaplózás során rendelkezésre állás megőrzéséhez.</span><span class="sxs-lookup"><span data-stu-id="77524-165">Use asynchronous logging to preserve availability during application logging.</span></span>

### <a name="separate-application-logging-from-auditing"></a><span data-ttu-id="77524-166">A naplózás külön alkalmazásnaplózás</span><span class="sxs-lookup"><span data-stu-id="77524-166">Separate application logging from auditing</span></span>

<span data-ttu-id="77524-167">Naplórekordok gyakran karbantartása megfelelőségi vagy jogszabályi követelményeknek, és be kell fejeződnie.</span><span class="sxs-lookup"><span data-stu-id="77524-167">Audit records are commonly maintained for compliance or regulatory requirements and must be complete.</span></span> <span data-ttu-id="77524-168">Eldobott tranzakciók elkerülése érdekében külön, a diagnosztikai naplókat a naplók kezelése.</span><span class="sxs-lookup"><span data-stu-id="77524-168">To avoid dropped transactions, maintain audit logs separately from diagnostic logs.</span></span>

## <a name="remote-call-statistics"></a><span data-ttu-id="77524-169">Távoli hívás statisztika</span><span class="sxs-lookup"><span data-stu-id="77524-169">Remote call statistics</span></span>

<span data-ttu-id="77524-170">Követése és jelentése távoli valós idejű statisztikák hívja, és adjon meg egy egyszerű módja annak, hogy tekintse át ezt az információt, így az üzemeltetési csapat egy azonnali betekintést az alkalmazás állapotát.</span><span class="sxs-lookup"><span data-stu-id="77524-170">Track and report remote call statistics in real time and provide an easy way to review this information, so the operations team has an instantaneous view into the health of your application.</span></span> <span data-ttu-id="77524-171">Távoli hívás mérőszámokat, például a késés, átviteli sebesség és a 99 és a 95. percentilisei hibáinak összegzése.</span><span class="sxs-lookup"><span data-stu-id="77524-171">Summarize remote call metrics, such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span>

## <a name="transient-exceptions-and-retries"></a><span data-ttu-id="77524-172">Átmeneti kivételek és az újrapróbálkozások</span><span class="sxs-lookup"><span data-stu-id="77524-172">Transient exceptions and retries</span></span>

<span data-ttu-id="77524-173">Nyomon követheti az átmeneti kivételek és az újrapróbálkozások számát elvégzésével nyújt betekintést a problémák és hibák az alkalmazás újrapróbálkozási logikát az idő függvényében.</span><span class="sxs-lookup"><span data-stu-id="77524-173">Track the number of transient exceptions and retries over time to uncover issues or failures in your application's retry logic.</span></span> <span data-ttu-id="77524-174">Kivételek növekszik az idő múlásával trendjének arra utalhat, hogy a szolgáltatás, hogy a probléma, és sikertelen lehet.</span><span class="sxs-lookup"><span data-stu-id="77524-174">A trend of increasing exceptions over time may indicate that the service is having an issue and may fail.</span></span> <span data-ttu-id="77524-175">További információkért lásd: [az újrapróbálkozási mechanizmushoz adott](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="77524-175">For more information, see [Retry service specific guidance](../best-practices/retry-service-specific.md).</span></span>

## <a name="early-warning-system"></a><span data-ttu-id="77524-176">Korai figyelmeztető rendszert</span><span class="sxs-lookup"><span data-stu-id="77524-176">Early warning system</span></span>

<span data-ttu-id="77524-177">Figyelje az alkalmazása olyan figyelmeztető jeleit, amelyek proaktív beavatkozást igényelnek.</span><span class="sxs-lookup"><span data-stu-id="77524-177">Monitor your application for warning signs that might require proactive intervention.</span></span> <span data-ttu-id="77524-178">Felmérheti az általános állapotát, az alkalmazást és annak függőségeit, eszközöket segítenek gyorsan felismerni, amikor a rendszer vagy összetevőinek hirtelen elérhetetlenné válik.</span><span class="sxs-lookup"><span data-stu-id="77524-178">Tools that assess the overall health of the application and its dependencies help you to recognize quickly when a system or its components suddenly become unavailable.</span></span> <span data-ttu-id="77524-179">Ezek segítségével megvalósítani egy korai figyelmeztető rendszert.</span><span class="sxs-lookup"><span data-stu-id="77524-179">Use them to implement an early warning system.</span></span>

1. <span data-ttu-id="77524-180">Az alkalmazás állapotának, például átmeneti kivételeket és a távoli hívás késés a fő teljesítménymutatók azonosításához.</span><span class="sxs-lookup"><span data-stu-id="77524-180">Identify the key performance indicators of your application's health, such as transient exceptions and remote call latency.</span></span>
1. <span data-ttu-id="77524-181">Állítsa be a küszöbértékeket, hogy az azonosíthatja a problémákat, mielőtt válik a kritikus fontosságú, és a egy helyreállítási válasz igényelnek.</span><span class="sxs-lookup"><span data-stu-id="77524-181">Set thresholds at levels that identify issues before they become critical and require a recovery response.</span></span>
1. <span data-ttu-id="77524-182">Riasztást küld a műveletek a küszöbérték elérésekor.</span><span class="sxs-lookup"><span data-stu-id="77524-182">Send an alert to operations when the threshold value is reached.</span></span>

<span data-ttu-id="77524-183">Érdemes lehet [Microsoft System Center 2016](https://www.microsoft.com/cloud-platform/system-center) vagy harmadik felektől származó eszközök figyelési képességeket biztosít.</span><span class="sxs-lookup"><span data-stu-id="77524-183">Consider [Microsoft System Center 2016](https://www.microsoft.com/cloud-platform/system-center) or third-party tools to provide monitoring capabilities.</span></span> <span data-ttu-id="77524-184">A legtöbb figyelési megoldások nyomon követheti a kulcsfontosságú teljesítményszámlálók és szolgáltatás rendelkezésre állása.</span><span class="sxs-lookup"><span data-stu-id="77524-184">Most monitoring solutions track key performance counters and service availability.</span></span> <span data-ttu-id="77524-185">[Az Azure resource health](/azure/service-health/resource-health-checks-resource-types) tartalmaz néhány beépített állapot állapot-ellenőrzések, amely megkönnyíti a szabályozás, az Azure-szolgáltatások diagnosztizálása.</span><span class="sxs-lookup"><span data-stu-id="77524-185">[Azure resource health](/azure/service-health/resource-health-checks-resource-types) provides some built-in health status checks, which can help diagnose throttling of Azure services.</span></span>

## <a name="subscription-and-service-limitations"></a><span data-ttu-id="77524-186">Előfizetés és a szolgáltatás korlátozásai</span><span class="sxs-lookup"><span data-stu-id="77524-186">Subscription and service limitations</span></span>

<span data-ttu-id="77524-187">Az Azure-előfizetések korlátokkal rendelkeznek az egyes erőforrástípusok, például az erőforráscsoportok, a magok és a storage-fiókok száma.</span><span class="sxs-lookup"><span data-stu-id="77524-187">Azure subscriptions have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="77524-188">Győződjön meg arról, hogy az alkalmazás nem fut a személyzetet Azure-előfizetés korlátai, hozzon létre riasztásokat, amelyek a szolgáltatás hamarosan megszűnik a korlátok és kvóták lekérdezéséhez.</span><span class="sxs-lookup"><span data-stu-id="77524-188">To ensure that your application doesn't run up against Azure subscription limits, create alerts that poll for services nearing their limits and quotas.</span></span>

<span data-ttu-id="77524-189">Oldja meg a riasztások a következő előfizetési korlátozásait.</span><span class="sxs-lookup"><span data-stu-id="77524-189">Address the following subscription limits with alerts.</span></span>

### <a name="individual-services"></a><span data-ttu-id="77524-190">Egyes szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="77524-190">Individual services</span></span>

<span data-ttu-id="77524-191">Egyes Azure-szolgáltatások a storage, átviteli sebesség, kapcsolatok, a kérések száma másodpercenként és egyéb mérőszámok száma használati korlátokkal rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="77524-191">Individual Azure services have consumption limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="77524-192">Az alkalmazás sikertelen lesz, ha megkísérli a erőforrások túli ezeket a korlátokat, szolgáltatás-szabályozási és esetleges leállást eredményez.</span><span class="sxs-lookup"><span data-stu-id="77524-192">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime.</span></span>

<span data-ttu-id="77524-193">Az adott szolgáltatás és a az alkalmazás követelményeitől függően gyakran maradhat, ha ezek a korlátok alapján (egy másik tarifacsomagra, például kiválasztása) vertikális vagy horizontális felskálázás (új erőforráspéldányok hozzáadását jelenti).</span><span class="sxs-lookup"><span data-stu-id="77524-193">Depending on the specific service and your application requirements, you can often stay under these limits by scaling up (choosing another pricing tier, for example) or scaling out (adding new instances).</span></span>

### <a name="azure-storage-scalability-and-performance-targets"></a><span data-ttu-id="77524-194">Az Azure storage méretezhetőségi és teljesítménycéljai</span><span class="sxs-lookup"><span data-stu-id="77524-194">Azure storage scalability and performance targets</span></span>

<span data-ttu-id="77524-195">Az Azure lehetővé teszi, hogy előfizetésenként storage-fiókok maximális számát.</span><span class="sxs-lookup"><span data-stu-id="77524-195">Azure allows a maximum number of storage accounts per subscription.</span></span> <span data-ttu-id="77524-196">Ha az alkalmazás további tárfiókok, mint amennyi az előfizetésben jelenleg elérhető igényel, további tárfiókok hozzon létre egy új előfizetést.</span><span class="sxs-lookup"><span data-stu-id="77524-196">If your application requires more storage accounts than are currently available in your subscription, create a new subscription with additional storage accounts.</span></span> <span data-ttu-id="77524-197">További információkért lásd: [Azure-előfizetés és a szolgáltatások korlátozásai, kvótái és megkötései](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="77524-197">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>

<span data-ttu-id="77524-198">Ha az Azure storage méretezhetőségi és teljesítménycéljai túllépi, az alkalmazás storage szabályozás fog tapasztalni.</span><span class="sxs-lookup"><span data-stu-id="77524-198">If you exceed Azure storage scalability and performance targets, your application will experience storage throttling.</span></span> <span data-ttu-id="77524-199">További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéljai](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="77524-199">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>

### <a name="scalability-targets-for-virtual-machine-disks"></a><span data-ttu-id="77524-200">Virtuálisgép-lemezek skálázási célértékei</span><span class="sxs-lookup"><span data-stu-id="77524-200">Scalability targets for virtual machine disks</span></span>

<span data-ttu-id="77524-201">Az Azure infrastruktúra-szolgáltatás (IaaS) virtuális gép egy több adatlemez, attól függően számos tényező befolyásolja, többek között a virtuális gép méretétől és a tárfiók típusát csatolását támogatja.</span><span class="sxs-lookup"><span data-stu-id="77524-201">An Azure infrastructure as a service (IaaS) VM supports attaching a number of data disks, depending on several factors, including the VM size and the type of storage account.</span></span> <span data-ttu-id="77524-202">Ha az alkalmazás meghaladja a virtuálisgép-lemezek skálázási célértékei, további tárfiókok üzembe, és ott a virtuálisgép-lemezek létrehozása.</span><span class="sxs-lookup"><span data-stu-id="77524-202">If your application exceeds the scalability targets for virtual machine disks, provision additional storage accounts and create the virtual machine disks there.</span></span> <span data-ttu-id="77524-203">További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéljai](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks).</span><span class="sxs-lookup"><span data-stu-id="77524-203">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks).</span></span>

### <a name="vm-size"></a><span data-ttu-id="77524-204">Virtuális gép mérete</span><span class="sxs-lookup"><span data-stu-id="77524-204">VM size</span></span>

<span data-ttu-id="77524-205">A tényleges CPU, memória, lemez és a virtuális gépek i/o megközelítés korlátairól a Virtuálisgép-méretet, ha az alkalmazás felhasználói problémákat tapasztalhatnak a kapacitást.</span><span class="sxs-lookup"><span data-stu-id="77524-205">If the actual CPU, memory, disk, and I/O of your VMs approach the limits of the VM size, your application may experience capacity issues.</span></span> <span data-ttu-id="77524-206">Javítsa ki a hibákat, növelje meg a Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="77524-206">To correct the issues, increase the VM size.</span></span> <span data-ttu-id="77524-207">Virtuálisgép-méretek ismertetett [az Azure-beli virtuális gépek méretei](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="77524-207">VM sizes are described in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="77524-208">Ha a munkaterhelés időbeli ingadozik, fontolja meg a virtuálisgép-méretezési csoport használatával beállítja a Virtuálisgép-példányok számának automatikus skálázása.</span><span class="sxs-lookup"><span data-stu-id="77524-208">If your workload fluctuates over time, consider using virtual machine scale sets to automatically scale the number of VM instances.</span></span> <span data-ttu-id="77524-209">Ellenkező esetben kell manuálisan növelheti vagy csökkentheti a virtuális gépek számát.</span><span class="sxs-lookup"><span data-stu-id="77524-209">Otherwise, you need to manually increase or decrease the number of VMs.</span></span> <span data-ttu-id="77524-210">További információkért lásd: a [virtuálisgép-méretezési csoportok – áttekintés](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span><span class="sxs-lookup"><span data-stu-id="77524-210">For more information, see the [virtual machine scale sets overview](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="77524-211">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="77524-211">Azure SQL Database</span></span>

<span data-ttu-id="77524-212">Ha az Azure SQL Database-szintre nem megfelelő az alkalmazás-adatbázis tranzakciós egységek (DTU) megbízhatóan kezelni, az adatok használata szabályozva lesz.</span><span class="sxs-lookup"><span data-stu-id="77524-212">If your Azure SQL Database tier isn't adequate to handle your application's Database Transaction Unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="77524-213">A megfelelő service-csomag kiválasztásával további információkért lásd: [vásárlási modellek az Azure SQL Database](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="77524-213">For more information on selecting the correct service plan, see [Azure SQL Database purchasing models](/azure/sql-database/sql-database-service-tiers/).</span></span>

## <a name="third-party-services"></a><span data-ttu-id="77524-214">Külső szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="77524-214">Third-party services</span></span>

<span data-ttu-id="77524-215">Ha az alkalmazás függőségeit a harmadik féltől származó szolgáltatásokkal, hogyan meghiúsulhat, ezek a szolgáltatások, és milyen hatása sikertelen lesz az alkalmazás a azonosítása.</span><span class="sxs-lookup"><span data-stu-id="77524-215">If your application has dependencies on third-party services, identify how these services can fail and what effect failures will have on your application.</span></span>

<span data-ttu-id="77524-216">Egy külső szolgáltatás nem tartalmazhat, monitorozásához és diagnosztizálásához.</span><span class="sxs-lookup"><span data-stu-id="77524-216">A third-party service might not include monitoring and diagnostics.</span></span> <span data-ttu-id="77524-217">Jelentkezzen be a hívások ezeket a szolgáltatásokat, és összefüggésbe hozva azokat az alkalmazás állapotát és a egy egyedi azonosító segítségével diagnosztikai naplózás az.</span><span class="sxs-lookup"><span data-stu-id="77524-217">Log calls to these services and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="77524-218">A monitorozási és diagnosztikai bevált gyakorlatokat további információkért lásd: [figyelési és diagnosztikai útmutató](../best-practices/monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="77524-218">For more information on proven practices for monitoring and diagnostics, see [Monitoring and diagnostics guidance](../best-practices/monitoring.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="77524-219">További lépések</span><span class="sxs-lookup"><span data-stu-id="77524-219">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="77524-220">Vész-helyreállítási terv</span><span class="sxs-lookup"><span data-stu-id="77524-220">Plan for disaster recovery</span></span>](./disaster-recovery.md)
