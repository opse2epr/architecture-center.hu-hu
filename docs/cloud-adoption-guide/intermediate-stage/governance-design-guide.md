---
title: 'Cégirányítási kialakítási Útmutató: az Azure-ban több csapat az új fejlesztési'
description: Útmutató a Azure irányítás vezérlők több csapat, több munkaterhelés és több környezet konfigurálása
author: petertay
ms.openlocfilehash: 05f1f9bb24af4f4da55b15c1aca2c71bc0b65411
ms.sourcegitcommit: b3d74d8a89b2224fc796ce0e89cea447af43a0d4
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 06/11/2018
ms.locfileid: "35290722"
---
# <a name="governance-design-guide-new-development-in-azure-for-multiple-teams"></a><span data-ttu-id="01820-103">Cégirányítási kialakítási Útmutató: az Azure-ban több csapat az új fejlesztési</span><span class="sxs-lookup"><span data-stu-id="01820-103">Governance design guide: new development in Azure for multiple teams</span></span>

<span data-ttu-id="01820-104">Ez az útmutató célja, ismerje meg, a folyamat az Azure-erőforrás irányítás modell tervezéséhez nyújt segítséget.</span><span class="sxs-lookup"><span data-stu-id="01820-104">The goal of this guidance is to help you learn the process for designing a resource governance model in Azure.</span></span>  <span data-ttu-id="01820-105">Azt fogja nézze meg adott elméleti cégirányítási követelményeket, majd a halad át néhány példa megvalósításokhoz, amelyek ezen igények kielégítéséhez.</span><span class="sxs-lookup"><span data-stu-id="01820-105">We'll look at a set of hypothetical governance requirements, then go through several example implementations that satisfy those requirements.</span></span> 

<span data-ttu-id="01820-106">A követelmények a következők:</span><span class="sxs-lookup"><span data-stu-id="01820-106">Our requirements are:</span></span>
* <span data-ttu-id="01820-107">Az Identitáskezelés több csoportokat, az Azure-ban a különböző erőforrás-hozzáférési követelmények.</span><span class="sxs-lookup"><span data-stu-id="01820-107">Identity management for multiple teams with different resource access requirements in Azure.</span></span> <span data-ttu-id="01820-108">Az identity management rendszer tárolja a következő felhasználók identitásának:</span><span class="sxs-lookup"><span data-stu-id="01820-108">The identity management system stores the identity of the following users:</span></span>
  1. <span data-ttu-id="01820-109">A szervezet tulajdonjogát felelős az egyes **előfizetések**.</span><span class="sxs-lookup"><span data-stu-id="01820-109">The individual in our organization responsible for ownership of **subscriptions**.</span></span>
  2. <span data-ttu-id="01820-110">Az egyes felelős a szervezet a **megosztott infrastruktúra erőforrások** a helyszíni hálózat egy Azure virtuális hálózathoz való kapcsolódáshoz használt.</span><span class="sxs-lookup"><span data-stu-id="01820-110">The individual in our organization responsible for the **shared infrastructure resources** used to connect our on-premises network to an Azure virtual network.</span></span> 
  3. <span data-ttu-id="01820-111">Két egyéni felhasználók számára a szervezetében kezeléséért egy **munkaterhelés**.</span><span class="sxs-lookup"><span data-stu-id="01820-111">Two individuals in our organization responsible for managing a **workload**.</span></span> 
* <span data-ttu-id="01820-112">Több **környezetek**.</span><span class="sxs-lookup"><span data-stu-id="01820-112">Support for multiple **environments**.</span></span> <span data-ttu-id="01820-113">Korábban megtanulta, mivel egy olyan környezetben a hasonló felügyeleti és biztonsági követelmények erőforrások logikai csoportosítása.</span><span class="sxs-lookup"><span data-stu-id="01820-113">As you learned earlier, an environment is a logical grouping of resources with similar management and security requirements.</span></span> <span data-ttu-id="01820-114">Három környezetekben szükséges:</span><span class="sxs-lookup"><span data-stu-id="01820-114">We require three environments:</span></span>
  1. <span data-ttu-id="01820-115">A **megosztott hálózatiinfrastruktúra-környezeten** , amely tartalmazza az erőforrások más környezetekben munkaterhelés osztozik.</span><span class="sxs-lookup"><span data-stu-id="01820-115">A **shared infrastructure environment** that includes resources shared by workloads in other environments.</span></span> <span data-ttu-id="01820-116">Például egy virtuális hálózati átjáró alhálózattal, amely kapcsolatot biztosít a helyszínen.</span><span class="sxs-lookup"><span data-stu-id="01820-116">For example, a virtual network with a gateway subnet that provides connectivity to on-premises.</span></span>
  2. <span data-ttu-id="01820-117">A **éles környezetben** a leginkább korlátozó biztonsági házirendek.</span><span class="sxs-lookup"><span data-stu-id="01820-117">A **production environment** with the most restrictive security policies.</span></span> <span data-ttu-id="01820-118">Belső vagy külső irányuló munkaterhelések is tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="01820-118">May include internal or external facing workloads.</span></span>
  3. <span data-ttu-id="01820-119">A **fejlesztőkörnyezet** a koncepció igazolása és tesztelési munka.</span><span class="sxs-lookup"><span data-stu-id="01820-119">A **development environment** for proof-of-concept and testing work.</span></span> <span data-ttu-id="01820-120">Ebben a környezetben van biztonsági, megfelelőségi és költség házirendek, amelyek eltérnek a termelési környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-120">This environment has security, compliance, and cost policies that differ from those in the production environment.</span></span>
* <span data-ttu-id="01820-121">A **legalacsonyabb jogosultsági szint engedélymodelljét** mely felhasználók engedélye nincs alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="01820-121">A **permissions model of least privilege** in which users have no permissions by default.</span></span> <span data-ttu-id="01820-122">A modell a következőket kell támogatnia:</span><span class="sxs-lookup"><span data-stu-id="01820-122">The model must support the following:</span></span>
  * <span data-ttu-id="01820-123">Erőforrás-hozzáférési engedélyek hozzárendelése engedéllyel rendelkező előfizetés hatókörben egy megbízható felhasználó.</span><span class="sxs-lookup"><span data-stu-id="01820-123">A single trusted user at the subscription scope with permission to assign resource access rights.</span></span>
  * <span data-ttu-id="01820-124">Minden számítási feladatok felelőse alapértelmezés szerint erőforrásokhoz való hozzáférés megtagadva.</span><span class="sxs-lookup"><span data-stu-id="01820-124">Each workload owner is denied access to resources by default.</span></span> <span data-ttu-id="01820-125">Erőforrás hozzáférési jogok explicit módon a egyetlen megbízható felhasználó azon az előfizetési hatókört.</span><span class="sxs-lookup"><span data-stu-id="01820-125">Resource access rights are granted explicitly by the single trusted user at the subscription scope.</span></span>
  * <span data-ttu-id="01820-126">A kezelési hozzáférés a megosztott infrastruktúra erőforrásokhoz, a megosztott infrastruktúra tulajdonosa korlátozódik.</span><span class="sxs-lookup"><span data-stu-id="01820-126">Management access for the shared infrastructure resources limited to the shared infrastructure owner.</span></span>  
  * <span data-ttu-id="01820-127">A kezelési hozzáférés korlátozva van a számítási feladatok felelőse minden munkaterhelés számára.</span><span class="sxs-lookup"><span data-stu-id="01820-127">Management access for each workload restricted to the workload owner.</span></span>
  * <span data-ttu-id="01820-128">A használatára [beépített RBAC-szerepkörök] [ rbac-built-in-roles] csak.</span><span class="sxs-lookup"><span data-stu-id="01820-128">Use of [built-in RBAC roles][rbac-built-in-roles] only.</span></span> <span data-ttu-id="01820-129">Nem egyedi az RBAC-szerepkörök.</span><span class="sxs-lookup"><span data-stu-id="01820-129">No custom RBAC roles.</span></span>
* <span data-ttu-id="01820-130">Költségek nyomon követése munkaterhelés tulajdonos neve vagy környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-130">Cost tracking by workload owner name, environment, or both.</span></span> 

## <a name="identity-management"></a><span data-ttu-id="01820-131">Identitáskezelés</span><span class="sxs-lookup"><span data-stu-id="01820-131">Identity management</span></span>

<span data-ttu-id="01820-132">Identitáskezelés irányítás tekinthetők azt kialakítani, mielőtt fontos tudni, hogy a négy főbb területet, a szerepkör magában:</span><span class="sxs-lookup"><span data-stu-id="01820-132">Before we can design identity management for our governance model, it's important to understand the four major areas it encompasses:</span></span>

* <span data-ttu-id="01820-133">Felügyelete: a folyamatokat és eszközöket a létrehozása, szerkesztése és törlése a felhasználó identitása.</span><span class="sxs-lookup"><span data-stu-id="01820-133">Administration: the processes and tools for creating, editing, and deleting user identity.</span></span>
* <span data-ttu-id="01820-134">Hitelesítési: felhasználó hitelesítő adatait, például egy felhasználónév és jelszó érvényesítésével ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="01820-134">Authentication: verifying user identity by validating credentials, such as a user name and password.</span></span>
* <span data-ttu-id="01820-135">Engedélyezési: erőforrások meghatározása hitelesített felhasználók számára engedélyezett hozzáférési és/vagy milyen műveletek elvégzésére jogosultságot.</span><span class="sxs-lookup"><span data-stu-id="01820-135">Authorization: determining which resources an authenticated user is allowed to access or what operations they have permission to perform.</span></span>
* <span data-ttu-id="01820-136">Naplózás: rendszeres időközönként a naplók és a biztonsági problémák felderítéséhez adatok megtekintésével kapcsolatos felhasználói azonosító.</span><span class="sxs-lookup"><span data-stu-id="01820-136">Auditing: periodically reviewing logs and other information to discover security issues related to user identity.</span></span> <span data-ttu-id="01820-137">Ez magában foglalja, gyanús használati szokásokról, rendszeresen tekintse át a felhasználói engedélyek ellenőrzéséhez, hogy pontosak, és egyéb funkcióinak áttekintése.</span><span class="sxs-lookup"><span data-stu-id="01820-137">This includes reviewing suspicious usage patterns, periodically reviewing user permissions to verify they are accurate, and other functions.</span></span>

<span data-ttu-id="01820-138">Az Azure-identitás megbízható csak egy szolgáltatás, és amely Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="01820-138">There is only one service trusted by Azure for identity, and that is Azure Active Directory (AD).</span></span> <span data-ttu-id="01820-139">A Microsoft felhasználók hozzáadása az Azure AD és használja azt az összes fent felsorolt funkciók lesz.</span><span class="sxs-lookup"><span data-stu-id="01820-139">We'll be adding users to Azure AD and using it for all of the functions listed above.</span></span> <span data-ttu-id="01820-140">Fontos azonban, mielőtt úgy tekintünk, hogyan konfigurálását végezzük el az Azure AD, fontos tudni, hogy a kiemelt jogosultságú fiókok, amely segítségével a szolgáltatásokhoz való hozzáférés kezelése.</span><span class="sxs-lookup"><span data-stu-id="01820-140">But before we look at how we'll configure Azure AD, it's important to understand the privileged accounts that are used to manage access to these services.</span></span>

<span data-ttu-id="01820-141">Ha a szervezet regisztrált az Azure-fiók esetén legalább egy Azure **fiók tulajdonosának** hozzá lett rendelve, és az Azure AD **bérlői** hozták létre, ha nincs már társított Azure AD-bérlő a egyéb Microsoft-szolgáltatásokat, például az Office 365 szervezet használatát.</span><span class="sxs-lookup"><span data-stu-id="01820-141">When your organization signed up for an Azure account, at least one Azure **account owner** was assigned and an Azure AD **tenant** was created if there was not already an Azure AD tenant associated with your organization's use of other Microsoft services such as Office 365.</span></span> <span data-ttu-id="01820-142">A **globális rendszergazda** teljes körű engedélyekkel a az Azure AD bérlő van társítva a létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="01820-142">A **global administrator** with full permissions on the Azure AD tenant was associated when it was created.</span></span> 

<span data-ttu-id="01820-143">Mind az Azure-fiók tulajdonosának és az Azure AD globális rendszergazda felhasználói identitások a Microsoft által felügyelt rendkívül biztonságos identitásrendszere tárolja.</span><span class="sxs-lookup"><span data-stu-id="01820-143">Both of the Azure Account Owner and Azure AD global administrator user identities are stored in a highly secure identity system that is managed by Microsoft.</span></span> <span data-ttu-id="01820-144">Az Azure-fiók tulajdonosának jogosult létrehozása, frissítése és előfizetések törlése.</span><span class="sxs-lookup"><span data-stu-id="01820-144">The Azure Account Owner is authorized to create, update, and delete subscriptions.</span></span> <span data-ttu-id="01820-145">Az Azure AD globális rendszergazda Azure AD-ben sok műveletek végrehajtására jogosult, de a jelen tervezési útmutató azt kell összpontosítania létrehozását és törlését a felhasználói identitás.</span><span class="sxs-lookup"><span data-stu-id="01820-145">The Azure AD global administrator is authorized to perform many actions in Azure AD, but for this design guide we'll focus on the creation and deletion of user identity.</span></span> 

> [!NOTE]
> <span data-ttu-id="01820-146">A szervezet már meglévő Azure AD-bérlő előfordulhat, hogy rendelkezik, ha egy meglévő Office 365 vagy a fiókjához társított Intune-licenc.</span><span class="sxs-lookup"><span data-stu-id="01820-146">Your organization may already have an existing Azure AD tenant if there's an existing Office 365 or Intune license associated with your account.</span></span>

<span data-ttu-id="01820-147">Az Azure-fiók tulajdonosának jogosult létrehozása, frissítése és előfizetések törlése:</span><span class="sxs-lookup"><span data-stu-id="01820-147">The Azure Account Owner has permission to create, update, and delete subscriptions:</span></span> 

<span data-ttu-id="01820-148">![Az Azure-fiókot kezelő és az Azure AD globális rendszergazda Azure-fiók](../_images/governance-3-0.png)
*1. ábra. Azure-fiókot Ügyfélfelelőshöz és az Azure AD globális rendszergazda.*</span><span class="sxs-lookup"><span data-stu-id="01820-148">![Azure account with Azure Account Manager and Azure AD global admin](../_images/governance-3-0.png)
*Figure 1. An Azure account with an Account Manager and Azure AD Global Administrator.*</span></span>

<span data-ttu-id="01820-149">Az Azure AD **globális rendszergazda** jogosult felhasználói fiókokat hozhat létre:</span><span class="sxs-lookup"><span data-stu-id="01820-149">The Azure AD **global administrator** has permission to create user accounts:</span></span>  

<span data-ttu-id="01820-150">![Az Azure-fiókot kezelő és az Azure AD globális rendszergazda Azure-fiók](../_images/governance-3-0a.png)
*2. ábra. Az Azure AD globális rendszergazda a szükséges felhasználói fiókokat a bérlő hoz létre.*</span><span class="sxs-lookup"><span data-stu-id="01820-150">![Azure account with Azure Account Manager and Azure AD global admin](../_images/governance-3-0a.png)
*Figure 2. The Azure AD Global Administrator creates the required user accounts in the tenant.*</span></span>

<span data-ttu-id="01820-151">Az első két fiókok **App1 számítási feladatok felelőse** és **App2 számítási feladatok felelőse** azok minden a szervezetében, a munkaterhelés kezeléséért egy adott társított.</span><span class="sxs-lookup"><span data-stu-id="01820-151">The first two accounts, **App1 Workload Owner** and **App2 Workload Owner** are each associated with an individual in our organization responsible for managing a workload.</span></span> <span data-ttu-id="01820-152">A **hálózati műveletek** az egyes, a megosztott infrastruktúra erőforrásainak felelős a fiók tulajdonosa.</span><span class="sxs-lookup"><span data-stu-id="01820-152">The **network operations** account is owned by the individual that is responsible for the shared infrastructure resources.</span></span> <span data-ttu-id="01820-153">Végezetül a **előfizetés tulajdonosa** fiókkal társítva az előfizetések tulajdonjogát felelős személy.</span><span class="sxs-lookup"><span data-stu-id="01820-153">Finally, the **subscription owner** account is associated with the individual responsible for ownership of subscriptions.</span></span>

## <a name="resource-access-permissions-model-of-least-privilege"></a><span data-ttu-id="01820-154">Erőforrás hozzáférés engedélymodelljét legalacsonyabb jogosultsági szint</span><span class="sxs-lookup"><span data-stu-id="01820-154">Resource access permissions model of least privilege</span></span>

<span data-ttu-id="01820-155">Most, hogy az identitás felügyeleti rendszer- és felhasználói fiókok létrehozása, döntse el, hogyan fog érvénybe lépni szerepköralapú hozzáférés-vezérlést (RBAC) szerepkörök a legalacsonyabb jogosultsági szint engedélymodelljét támogatásához minden felhasználói fiókhoz kell.</span><span class="sxs-lookup"><span data-stu-id="01820-155">Now that we have our identity management system and user accounts created, we have to decide how we'll apply role-based access control (RBAC) roles to each account to support a permissions model of least privilege.</span></span>

<span data-ttu-id="01820-156">Az egyes munkaterhelésekhez tartozó erőforrások el legyen különítve egymástól úgy, hogy nem egy számítási feladatok felelőse bármely más munkaterhelés nem saját felügyeleti hozzáfér a többi követelmény van.</span><span class="sxs-lookup"><span data-stu-id="01820-156">Our other requirement is for the resources associated with each workload be isolated from one another such that no one workload owner has management access to any other workload they do not own.</span></span> <span data-ttu-id="01820-157">Ez kizárólag a modell megvalósításához követelmény tudunk [beépített szerepkörök az Azure RBAC][rbac-built-in-roles].</span><span class="sxs-lookup"><span data-stu-id="01820-157">We have a requirement to implement this model using only [built-in roles for Azure RBAC][rbac-built-in-roles].</span></span>

<span data-ttu-id="01820-158">Egy Azure-ban három hatókörök RBAC szerepkörönként vonatkozik: **előfizetés**, **erőforráscsoport**, majd egy adott **erőforrás**.</span><span class="sxs-lookup"><span data-stu-id="01820-158">Each RBAC role is applied at one of three scopes in Azure: **subscription**, **resource group**, then an individual **resource**.</span></span> <span data-ttu-id="01820-159">Szerepkörök, alacsonyabb hatókörök örökölt.</span><span class="sxs-lookup"><span data-stu-id="01820-159">Roles are inherited at lower scopes.</span></span> <span data-ttu-id="01820-160">Például, ha a felhasználó hozzá van rendelve a [beépített tulajdonosi szerepkör] [ rbac-built-in-owner] az előfizetési szinten, hogy a szerepkör is hozzá van rendelve az erőforráscsoportot és az egyes erőforrások szintjén felhasználó kivéve, ha azt felülbírálja.</span><span class="sxs-lookup"><span data-stu-id="01820-160">For example, if a user is assigned the [built-in owner role][rbac-built-in-owner] at the subscription level, that role is also assigned to that user at the resource group and individual resource level unless it's overridden.</span></span>

<span data-ttu-id="01820-161">Ezért legalább jogosultság hozzáférési kell döntse el, a műveleteket csak egy modell létrehozásához egy bizonyos típusú felhasználó engedélyezett mindegyik ezen három hatókörök érvénybe.</span><span class="sxs-lookup"><span data-stu-id="01820-161">Therefore, to create a model of least privilege access we have to decide the actions a particular type of user is allowed to take at each of these three scopes.</span></span> <span data-ttu-id="01820-162">Például a követelmény csak a munkaterhelés, és nincs más társított erőforrásokhoz való hozzáférés kezelése engedéllyel kell rendelkeznie a munkaterhelés tulajdonosa van.</span><span class="sxs-lookup"><span data-stu-id="01820-162">For example, our requirement is for a workload owner to have permission to manage access to only the resources associated with their workload and no others.</span></span> <span data-ttu-id="01820-163">Ha rendelhető hozzá a rendszer a [beépített tulajdonosi szerepkör] [ rbac-built-in-owner] előfizetés hatókörből minden számítási feladatok felelőse felügyeleti hozzáférés az összes munkaterheléseknek kellene lennie.</span><span class="sxs-lookup"><span data-stu-id="01820-163">If we were to assign the [built-in owner role][rbac-built-in-owner] at the subscription scope, each workload owner would have management access to all workloads.</span></span>

<span data-ttu-id="01820-164">Vessen egy pillantást a fogalom megértéséhez még jobban két példa engedély modellek.</span><span class="sxs-lookup"><span data-stu-id="01820-164">Let's take a look at two example permission models to understand this concept a little better.</span></span> <span data-ttu-id="01820-165">Az első példában tekinthetők megbízhatónak tekinti csak a szolgáltatás-rendszergazda erőforráscsoportokat létrehozni.</span><span class="sxs-lookup"><span data-stu-id="01820-165">In the first example, our model trusts only the service administrator to create resource groups.</span></span> <span data-ttu-id="01820-166">A második példában az tekinthetők a beépített tulajdonosi szerepkört rendel minden számítási feladatok felelőse előfizetés hatókörben.</span><span class="sxs-lookup"><span data-stu-id="01820-166">In the second example, our model assigns the built-in owner role to each workload owner at the subscription scope.</span></span> 

<span data-ttu-id="01820-167">Mindkét példákban hozzárendelt előfizetés szolgáltatás-rendszergazda van a [beépített tulajdonosi szerepkör] [ rbac-built-in-owner] előfizetés hatókörben.</span><span class="sxs-lookup"><span data-stu-id="01820-167">In both examples, we have a subscription service administrator that is assigned the [built-in owner role][rbac-built-in-owner] at the subscription scope.</span></span> <span data-ttu-id="01820-168">Visszahívása, amely a [beépített tulajdonosi szerepkör] [ rbac-built-in-owner] erőforrásokhoz való hozzáférés felügyeletét beleértve minden engedélyt megad a.</span><span class="sxs-lookup"><span data-stu-id="01820-168">Recall that the [built-in owner role][rbac-built-in-owner] grants all permissions including the management of access to resources.</span></span>
<span data-ttu-id="01820-169">![tulajdonosi szerepkör rendelkező előfizetés szolgáltatás-rendszergazda](../_images/governance-2-1.png)
*3. ábra. Egy előfizetés szolgáltatás-rendszergazda a beépített tulajdonosi szerepét.*</span><span class="sxs-lookup"><span data-stu-id="01820-169">![subscription service administrator with owner role](../_images/governance-2-1.png)
*Figure 3. A subscription with a service administrator assigned the built-in owner role.*</span></span> 

1. <span data-ttu-id="01820-170">Az első példában tudunk **A számítási feladatok felelőse** rendelkező nincs engedélye az előfizetési hatókört - alapértelmezés szerint rendelkeznek nincs erőforrás hozzáférési jogosultságait.</span><span class="sxs-lookup"><span data-stu-id="01820-170">In our first example, we have **workload owner A** with no permissions at the subscription scope - they have no resource access management rights by default.</span></span> <span data-ttu-id="01820-171">Ez a felhasználó azt szeretné, telepítheti és kezelheti az erőforrásokat a terhelés.</span><span class="sxs-lookup"><span data-stu-id="01820-171">This user wants to deploy and manage the resources for their workload.</span></span> <span data-ttu-id="01820-172">Kapcsolatba kell lépnie a **szolgáltatás-rendszergazda** kérelem létrejön egy erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="01820-172">They must contact the **service administrator** to request creation of a resource group.</span></span>
<span data-ttu-id="01820-173">![erőforrás-csoport A munkaterhelés tulajdonos kérelmek létrehozása](../_images/governance-2-2.png)</span><span class="sxs-lookup"><span data-stu-id="01820-173">![workload owner requests creation of resource group A](../_images/governance-2-2.png)</span></span>  

2. <span data-ttu-id="01820-174">A **szolgáltatás-rendszergazda** ellenőrzi, hogy a kérelmet, és létrehoz **erőforrás csoport A**. Ezen a ponton **A számítási feladatok felelőse** még nem rendelkezik engedélyekkel ahhoz, hogy semmit.</span><span class="sxs-lookup"><span data-stu-id="01820-174">The **service administrator** reviews their request and creates **resource group A**. At this point, **workload owner A** still doesn't have permission to do anything.</span></span>
<span data-ttu-id="01820-175">![szolgáltatás-rendszergazda létrehoz erőforrás csoport A](../_images/governance-2-3.png)</span><span class="sxs-lookup"><span data-stu-id="01820-175">![service administrator creates resource group A](../_images/governance-2-3.png)</span></span>

3. <span data-ttu-id="01820-176">A **szolgáltatás-rendszergazda** hozzáadja **A számítási feladatok felelőse** való **erőforrás csoport A** és hozzárendeli a [beépített közreműködői szerepkör](/azure/role-based-access-control/built-in-roles#contributor).</span><span class="sxs-lookup"><span data-stu-id="01820-176">The **service administrator** adds **workload owner A** to **resource group A** and assigns the [built-in contributor role](/azure/role-based-access-control/built-in-roles#contributor).</span></span> <span data-ttu-id="01820-177">A közreműködői szerepkör minden engedélyt megad a **erőforrás csoport A** kivéve kezelése engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="01820-177">The contributor role grants all permissions on **resource group A** except managing access permission.</span></span>
<span data-ttu-id="01820-178">![szolgáltatás-rendszergazda számítási feladatok felelőse ad hozzá egy erőforráscsoporthoz egy](../_images/governance-2-4.png)</span><span class="sxs-lookup"><span data-stu-id="01820-178">![service administrator adds workload owner a to resource group a](../_images/governance-2-4.png)</span></span>

4. <span data-ttu-id="01820-179">Tegyük fel, amelyek **A számítási feladatok felelőse** van szükség a csoport tagjai két megtekintése a figyelési adatok az alkalmazások és szolgáltatások kapacitástervezését részeként Processzor- és hálózati forgalmat.</span><span class="sxs-lookup"><span data-stu-id="01820-179">Let's assume that **Workload owner A** has a requirement for a pair of team members to view the CPU and network traffic monitoring data as part of capacity planning for the workload.</span></span> <span data-ttu-id="01820-180">Mivel **A számítási feladatok felelőse** van hozzárendelve a közreműködő szerepkört, nem rendelkeznek a felhasználó-hozzáadási jogosultsággal **erőforráscsoport A**. Azok a kérést kell küldenie a **szolgáltatás-rendszergazda**.</span><span class="sxs-lookup"><span data-stu-id="01820-180">Because **workload owner A** is assigned the contributor role, they do not have permission to add a user to **resource group A**. They must send this request to the **service administrator**.</span></span>
<span data-ttu-id="01820-181">![munkaterhelés tulajdonos kérések munkaterhelési közreműködők csoportjába vehető fel erőforrás](../_images/governance-2-5.png)</span><span class="sxs-lookup"><span data-stu-id="01820-181">![workload owner requests workload contributors be added to resource group](../_images/governance-2-5.png)</span></span>

5. <span data-ttu-id="01820-182">A **szolgáltatás-rendszergazda** ellenőrzi, hogy a kérelmet, és hozzáadja a két **munkaterhelés közreműködői** felhasználók **erőforrás csoport A**. A két felhasználó egyike sem kezelheti az erőforrásokat, így hozzárendeli az engedély szükséges a [beépített olvasó szerepkört](/azure/role-based-access-control/built-in-roles#contributor).</span><span class="sxs-lookup"><span data-stu-id="01820-182">The **service administrator** reviews the request, and adds the two **workload contributor** users to **resource group A**. Neither of these two users require permission to manage resources, so they are assigned the [built-in reader role](/azure/role-based-access-control/built-in-roles#contributor).</span></span> 
<span data-ttu-id="01820-183">![szolgáltatás-rendszergazda erőforrás csoport A munkaterhelés közreműködők hozzáadása](../_images/governance-2-6.png)</span><span class="sxs-lookup"><span data-stu-id="01820-183">![service administrator adds workload contributors to resource group A](../_images/governance-2-6.png)</span></span>

6. <span data-ttu-id="01820-184">Ezt követően **számítási feladatok felelőse B** feltételt is igényli egy erőforráscsoportot a munkaterhelés számára az erőforrások tárolásához.</span><span class="sxs-lookup"><span data-stu-id="01820-184">Next, **workload owner B** also requires a resource group to contain the resources for their workload.</span></span> <span data-ttu-id="01820-185">A **A számítási feladatok felelőse**, **számítási feladatok felelőse B** eredetileg nem rendelkezik engedéllyel semmilyen művelet végrehajtására az előfizetés hatókörben, így azok a kérést kell küldenie a **szolgáltatás-rendszergazda**.</span><span class="sxs-lookup"><span data-stu-id="01820-185">As with **workload owner A**, **workload owner B** initially does not have permission to take any action at the subscription scope so they must send a request to the **service administrator**.</span></span> 
<span data-ttu-id="01820-186">![számítási feladatok felelőse B kérelmek B erőforráscsoport létrehozása](../_images/governance-2-7.png)</span><span class="sxs-lookup"><span data-stu-id="01820-186">![workload owner B requests creation of resource group B](../_images/governance-2-7.png)</span></span>

7. <span data-ttu-id="01820-187">A **szolgáltatás-rendszergazda** ellenőrzi, hogy a kérelmet, és létrehoz **erőforráscsoport B**. ![Szolgáltatás-rendszergazda B erőforráscsoport létrehozása](../_images/governance-2-8.png)</span><span class="sxs-lookup"><span data-stu-id="01820-187">The **service administrator** reviews the request and creates **resource group B**. ![Service Administrator creates resource group B](../_images/governance-2-8.png)</span></span>

8. <span data-ttu-id="01820-188">A **szolgáltatás-rendszergazda** hozzáadja **számítási feladatok felelőse B** való **erőforráscsoport B** és hozzárendeli a [beépített közreműködői szerepkör](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor).</span><span class="sxs-lookup"><span data-stu-id="01820-188">The **service administrator** then adds **workload owner B** to **resource group B** and assigns the [built-in contributor role](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor).</span></span> 
<span data-ttu-id="01820-189">![Szolgáltatás-rendszergazda erőforráscsoport B munkaterhelés tulajdonos B hozzáadása](../_images/governance-2-9.png)</span><span class="sxs-lookup"><span data-stu-id="01820-189">![Service Administrator adds Workload Owner B to resource group B](../_images/governance-2-9.png)</span></span>

<span data-ttu-id="01820-190">Ezen a ponton a munkaterhelések tulajdonosai mindegyikének elkülönül a saját erőforráscsoportban.</span><span class="sxs-lookup"><span data-stu-id="01820-190">At this point, each of the workload owners is isolated in their own resource group.</span></span> <span data-ttu-id="01820-191">Egy másik erőforráscsoportban az erőforrásokhoz való hozzáférés a munkaterhelések tulajdonosai vagy a csoport tagjai közül egyikhez sem tartozik.</span><span class="sxs-lookup"><span data-stu-id="01820-191">None of the workload owners or their team members have management access to the resources in any other resource group.</span></span> 

<span data-ttu-id="01820-192">![az A és B erőforráscsoportokhoz előfizetés](../_images/governance-2-10.png)
*4. ábra. Két, saját erőforrás csoporttal elkülönített munkaterhelések tulajdonosai rendelkező előfizetés.*</span><span class="sxs-lookup"><span data-stu-id="01820-192">![subscription with resource groups A and B](../_images/governance-2-10.png)
*Figure 4. A subscription with two workload owners isolated with their own resource group.*</span></span>

<span data-ttu-id="01820-193">Ebben a modellben viszont egy legalacsonyabb jogosultsági modell - minden felhasználó a megfelelő engedéllyel a helyes erőforrás felügyeleti hatókörben van hozzárendelve.</span><span class="sxs-lookup"><span data-stu-id="01820-193">This model is a least privilege model - each user is assigned the correct permission at the correct resource management scope.</span></span>

<span data-ttu-id="01820-194">Azonban vegye figyelembe, hogy minden feladat ebben a példában végzett el a **szolgáltatás-rendszergazda**.</span><span class="sxs-lookup"><span data-stu-id="01820-194">However, consider that every task in this example was performed by the **service administrator**.</span></span> <span data-ttu-id="01820-195">Ez egy egyszerű példa, és előfordulhat, hogy tűnik, hogy egy probléma miatt csak két munkaterhelések tulajdonosai, de napjainkban könnyen képzelhető el a problémákat, amelyek egy nagy szervezet eredményezne típusú.</span><span class="sxs-lookup"><span data-stu-id="01820-195">While this is a simple example and may not appear to be an issue because there were only two workload owners, it's easy to imagine the types of issues that would result for a large organization.</span></span> <span data-ttu-id="01820-196">Például a **szolgáltatás-rendszergazda** szűk keresztmetszetet jelenthet a kérések késleltetése eredményező nagy hátralék.</span><span class="sxs-lookup"><span data-stu-id="01820-196">For example, the **service administrator** can become a bottleneck with a large backlog of requests that result in delays.</span></span>  

<span data-ttu-id="01820-197">Vessen egy pillantást csökkenthető a feladatok által végrehajtott második példáját a **szolgáltatás-rendszergazda**.</span><span class="sxs-lookup"><span data-stu-id="01820-197">Let's take a look at second example that reduces the number of tasks performed by the **service administrator**.</span></span> 

1. <span data-ttu-id="01820-198">Ebben a modellben **A számítási feladatok felelőse** hozzá van rendelve a [beépített tulajdonosi szerepkör] [ rbac-built-in-owner] az előfizetési hatókört, lehetővé téve a saját erőforráscsoport létrehozásához:  **erőforrás-csoport A**. ![Szolgáltatás-rendszergazda hozzáadja A számítási feladatok felelőse előfizetés](../_images/governance-2-11.png)</span><span class="sxs-lookup"><span data-stu-id="01820-198">In this model, **workload owner A** is assigned the [built-in owner role][rbac-built-in-owner] at the subscription scope, enabling them to create their own resource group: **resource group A**. ![Service Administrator adds Workload Owner A to subscription](../_images/governance-2-11.png)</span></span>

2. <span data-ttu-id="01820-199">Ha **erőforrás csoport A** jön létre, **A számítási feladatok felelőse** alapértelmezés szerint hozzáadva, és örököl a [beépített tulajdonos] [ rbac-built-in-owner] szerepkörnek a előfizetési hatókört.</span><span class="sxs-lookup"><span data-stu-id="01820-199">When **resource group A** is created, **workload owner A** is added by default and inherits the [built-in owner][rbac-built-in-owner] role from the subscription scope.</span></span>
<span data-ttu-id="01820-200">![A számítási feladatok felelőse erőforrás csoportba tartozó hoz létre.](../_images/governance-2-12.png)</span><span class="sxs-lookup"><span data-stu-id="01820-200">![Workload Owner A creates resource group A](../_images/governance-2-12.png)</span></span>

3. <span data-ttu-id="01820-201">A [beépített tulajdonosi szerepkör] [ rbac-built-in-owner] biztosít **A számítási feladatok felelőse** az erőforráscsoport való hozzáférés kezelésére jogosult.</span><span class="sxs-lookup"><span data-stu-id="01820-201">The [built-in owner role][rbac-built-in-owner] grants **workload owner A** permission to manage access to the resource group.</span></span> <span data-ttu-id="01820-202">**A számítási feladatok felelőse** hozzáadja két **munkaterhelés közreműködők** és hozzárendeli a [beépített olvasó szerepkört] [ rbac-built-in-owner] hozzájuk.</span><span class="sxs-lookup"><span data-stu-id="01820-202">**Workload owner A** adds two **workload contributors** and assigns the [built-in reader role][rbac-built-in-owner] to each of them.</span></span> 
<span data-ttu-id="01820-203">![A számítási feladatok felelőse munkaterhelés közreműködők hozzáadása](../_images/governance-2-13.png)</span><span class="sxs-lookup"><span data-stu-id="01820-203">![Workload Owner A adds Workload Contributors](../_images/governance-2-13.png)</span></span>

4. <span data-ttu-id="01820-204">**Szolgáltatás-rendszergazda** most hozzáadja **számítási feladatok felelőse B** a beépített tulajdonosi szerepkört az előfizetés számára.</span><span class="sxs-lookup"><span data-stu-id="01820-204">**Service administrator** now adds **workload owner B** to the subscription with the built-in owner role.</span></span> 
<span data-ttu-id="01820-205">![Szolgáltatás-rendszergazda hozzáadja a munkaterhelések tulajdonosai B előfizetéshez](../_images/governance-2-14.png)</span><span class="sxs-lookup"><span data-stu-id="01820-205">![Service Administrator adds Workload Owners B to subscription](../_images/governance-2-14.png)</span></span>

5. <span data-ttu-id="01820-206">**Számítási feladatok felelőse B** hoz létre **erőforráscsoport B** és alapértelmezés szerint hozzáadva.</span><span class="sxs-lookup"><span data-stu-id="01820-206">**Workload owner B** creates **resource group B** and is added by default.</span></span> <span data-ttu-id="01820-207">Ebben az esetben **számítási feladatok felelőse B** beépített tulajdonosi szerepkör örökli az előfizetési hatókört.</span><span class="sxs-lookup"><span data-stu-id="01820-207">Again, **workload owner B** inherits the built-in owner role from the subscription scope.</span></span>
<span data-ttu-id="01820-208">![Munkaterhelés tulajdonos B erőforráscsoport B hoz létre.](../_images/governance-2-15.png)</span><span class="sxs-lookup"><span data-stu-id="01820-208">![Workload Owner B creates resource group B](../_images/governance-2-15.png)</span></span>

<span data-ttu-id="01820-209">Vegye figyelembe, hogy ebben a modellben a **szolgáltatás-rendszergazda** végrehajtott műveletek kevesebb, mint az első delegálását a kezelési hozzáférés miatt az egyes az egyes munkaterhelések tulajdonosai.</span><span class="sxs-lookup"><span data-stu-id="01820-209">Note that in this model, the **service administrator** performed fewer actions than they did in the first example due to the delegation of management access to each of the individual workload owners.</span></span>

<span data-ttu-id="01820-210">![az A és B erőforráscsoportokhoz előfizetés](../_images/governance-2-16.png)
*5. ábra. Egy előfizetés szolgáltatás-rendszergazda és a két munkaterhelések tulajdonosai, az összes hozzárendelt a beépített tulajdonosi szerepkört.*</span><span class="sxs-lookup"><span data-stu-id="01820-210">![subscription with resource groups A and B](../_images/governance-2-16.png)
*Figure 5. A subscription with a service administrator and two workload owners, all assigned the built-in owner role.*</span></span>

<span data-ttu-id="01820-211">Azonban mivel mindkét **A számítási feladatok felelőse** és **számítási feladatok felelőse B** a beépített tulajdonos szerepkör az előfizetési hatókört, akkor minden egyes örökölt vannak egymás erőforrás beépített tulajdonosi szerepkör a csoport.</span><span class="sxs-lookup"><span data-stu-id="01820-211">However, because both **workload owner A** and **workload owner B** are assigned the built-in owner role at the subscription scope, they have each inherited the built-in owner role for each other's resource group.</span></span> <span data-ttu-id="01820-212">Ez azt jelenti, hogy nem csak rendelkeznek teljes hozzáféréssel egy másik erőforrásokat is képesek egymás erőforráscsoportok felügyeleti hozzáférés delegálásához.</span><span class="sxs-lookup"><span data-stu-id="01820-212">This means that not only do they have full access to one another's resources, they are also able to delegate management access to each other's resource groups.</span></span> <span data-ttu-id="01820-213">Például **számítási feladatok felelőse B** rendelkezik más felhasználók hozzáadására vonatkozó jogok **erőforrás csoport A** és rendelhet szerepköröket azokat, beleértve a beépített tulajdonosi szerepkört.</span><span class="sxs-lookup"><span data-stu-id="01820-213">For example, **workload owner B** has rights to add any other user to **resource group A** and can assign any role to them, including the built-in owner role.</span></span>

<span data-ttu-id="01820-214">Ha azt hasonlítsa össze az egyes például, hogy a követelmények, látható, hogy mindkét példák támogatja-e az előfizetési hatókört, amely jogosult erőforrás hozzáférési jogot a két munkaterhelések tulajdonosai egyetlen megbízható felhasználója.</span><span class="sxs-lookup"><span data-stu-id="01820-214">If we compare each example to our requirements, we see that both examples support a single trusted user at the subscription scope with permission to grant resource access rights to our two workload owners.</span></span> <span data-ttu-id="01820-215">A két munkaterhelések tulajdonosai mindegyikének erőforrás-felügyelet elérésének nem rendelkezett alapértelmezés szerint, és szükséges az **szolgáltatás-rendszergazda** explicit módon engedélyek hozzárendelése őket.</span><span class="sxs-lookup"><span data-stu-id="01820-215">Each of the two workload owners did not have access to resource management by default and required the **service administrator** to explicitly assign permissions to them.</span></span> <span data-ttu-id="01820-216">Azonban csak az első példában támogatja a követelmény, hogy az egyes munkaterhelésekhez tartozó erőforrások el különítve egymástól úgy, hogy nincs számítási feladatok felelőse hozzáfér minden egyéb munkaterhelés erőforrásaihoz.</span><span class="sxs-lookup"><span data-stu-id="01820-216">However, only the first example supports the requirement that the resources associated with each workload are isolated from one another such that no workload owner has access to the resources of any other workload.</span></span>

## <a name="resource-management-model"></a><span data-ttu-id="01820-217">Felügyeleti modell</span><span class="sxs-lookup"><span data-stu-id="01820-217">Resource management model</span></span>

<span data-ttu-id="01820-218">Most, hogy azt már úgy tervezték, a legalacsonyabb jogosultsági szint engedélymodelljét, most lépjen tovább vessen egy pillantást az irányítás modellek gyakorlati alkalmazásai.</span><span class="sxs-lookup"><span data-stu-id="01820-218">Now that we've designed a permissions model of least privilege, let's move on to take a look at some practical applications of these governance models.</span></span> <span data-ttu-id="01820-219">A követelmények, hogy a következő három környezetekben támogatott kell a visszahívás:</span><span class="sxs-lookup"><span data-stu-id="01820-219">Recall from our requirements that we must support the following three environments:</span></span>
1. <span data-ttu-id="01820-220">**A megosztott infrastruktúra:** egy különálló csoportot az összes munkaterhelés osztozik rajtuk erőforrások.</span><span class="sxs-lookup"><span data-stu-id="01820-220">**Shared infrastructure:** a single group of resources shared by all workloads.</span></span> <span data-ttu-id="01820-221">Ezek azok az erőforrások, például a hálózati átjárók, tűzfalak és biztonsági szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="01820-221">These are resources such as network gateways, firewalls, and security services.</span></span>  
2. <span data-ttu-id="01820-222">**Fejlesztési:** több, nem éles képviselő erőforrások több csoport készen áll a munkaterhelések.</span><span class="sxs-lookup"><span data-stu-id="01820-222">**Development:** multiple groups of resources representing multiple non-production ready workloads.</span></span> <span data-ttu-id="01820-223">Ezeket az erőforrásokat a koncepció igazolása, tesztelését és egyéb fejlesztői tevékenységek érvényesek.</span><span class="sxs-lookup"><span data-stu-id="01820-223">These resources are used for proof-of-concept, testing, and other developer activities.</span></span> <span data-ttu-id="01820-224">Ezeket az erőforrásokat is lehetnek több laza irányítás modell, mert ahhoz, hogy áttelepíthesse nőtt fejlesztői agilitást.</span><span class="sxs-lookup"><span data-stu-id="01820-224">These resources may have a more relaxed governance model because to allow for increased developer agility.</span></span>
3. <span data-ttu-id="01820-225">**Éles:** több termelési számítási feladatokhoz képviselő erőforrások több csoporthoz.</span><span class="sxs-lookup"><span data-stu-id="01820-225">**Production:** multiple groups of resources representing multiple production workloads.</span></span> <span data-ttu-id="01820-226">A privát és nyilvános irányuló kérelem összetevők üzemeltetéséhez használt ezeket az erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="01820-226">These resources are used to host the private and public facing application artifacts.</span></span> <span data-ttu-id="01820-227">Ezeket az erőforrásokat a legfontosabb irányítás és biztonsági modellek számára az erőforrások, az alkalmazás kódja és az adatok védelme a jogosulatlan hozzáférés általában rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="01820-227">These resources typically have the tightest governance and security models to protect the resources, application code, and data from unauthorized access.</span></span>

<span data-ttu-id="01820-228">Az egyes ezekhez a környezetekhez, nyomon követheti költség által követelmény tudunk **számítási feladatok felelőse**, **környezet**, vagy mindkettőt.</span><span class="sxs-lookup"><span data-stu-id="01820-228">For each of these three environments, we have a requirement to track cost data by **workload owner**, **environment**, or both.</span></span> <span data-ttu-id="01820-229">Ez azt jelenti, hogy szeretnénk tudni, hogy a folyamatban lévő költségét az **megosztott infrastruktúra**, az egyéni felhasználók számára is költségeit a **fejlesztési** és **éles** környezetekben, és végül a teljes költségének **fejlesztési** és **éles**.</span><span class="sxs-lookup"><span data-stu-id="01820-229">That is, we want to know the ongoing cost of our **shared infrastructure**, the costs incurred by individuals in both the **development** and **production** environments, and finally the overall cost of **development** and **production**.</span></span> 

<span data-ttu-id="01820-230">Már megtanulta, hogy két szinttel elhelyezkedő erőforrások hatóköre: **előfizetés** és **erőforráscsoport**.</span><span class="sxs-lookup"><span data-stu-id="01820-230">You have already learned that resources are scoped to two levels: **subscription** and **resource group**.</span></span> <span data-ttu-id="01820-231">Az első döntési ezért rendezése a környezetek által **előfizetés**.</span><span class="sxs-lookup"><span data-stu-id="01820-231">Therefore, our first decision is how to organize our environments by **subscription**.</span></span> <span data-ttu-id="01820-232">Csak két lehetőség közül választhat: egy-egy előfizetéshez, vagy több előfizetés.</span><span class="sxs-lookup"><span data-stu-id="01820-232">There are only two possibilities: a single subscription, or, multiple subscriptions.</span></span> 

<span data-ttu-id="01820-233">Mielőtt úgy tekintünk, ezek a modellek egyes példák, tekintsük át, az Azure-előfizetések struktúra.</span><span class="sxs-lookup"><span data-stu-id="01820-233">Before we look at examples of each of these models, let's review the management structure for subscriptions in Azure.</span></span> 

<span data-ttu-id="01820-234">A követelmények, hogy a szervezet, amely felelős az előfizetések egy adott van, és a felhasználó tulajdonában előhívja a **előfizetés tulajdonosa** -fiókba az Azure AD-bérlő.</span><span class="sxs-lookup"><span data-stu-id="01820-234">Recall from our requirements that we have an individual in our organization that is responsible for subscriptions, and this user owns the **subscription owner** account in our Azure AD tenant.</span></span> <span data-ttu-id="01820-235">Azonban ennek a fióknak nincs engedélye előfizetést létrehozni.</span><span class="sxs-lookup"><span data-stu-id="01820-235">However, this account does not have permission to create subscriptions.</span></span> <span data-ttu-id="01820-236">Csak a **Azure fiók tulajdonosának** jogosult-e ehhez: ![](../_images/governance-3-0b.png) 
 *6. ábra. Egy Azure-fiók tulajdonosának egy előfizetést hoz létre.*</span><span class="sxs-lookup"><span data-stu-id="01820-236">Only the **Azure Account Owner** has permission to do this: ![](../_images/governance-3-0b.png)
*Figure 6. An Azure Account Owner creates a subscription.*</span></span>

<span data-ttu-id="01820-237">Miután létrehozta az előfizetést, a **Azure fiók tulajdonosának** adhat hozzá a **előfizetés tulajdonosa** fiókot az előfizetés a **tulajdonos** szerepkör:</span><span class="sxs-lookup"><span data-stu-id="01820-237">Once the subscription has been created, the **Azure Account Owner** can add the **subscription owner** account to the subscription with the **owner** role:</span></span>

<span data-ttu-id="01820-238">![](../_images/governance-3-0c.png)
*7. ábra. Az Azure-fiók tulajdonosának hozzáadja a **előfizetés tulajdonosa** felhasználói fiókot az előfizetés a **tulajdonos** szerepkör.*</span><span class="sxs-lookup"><span data-stu-id="01820-238">![](../_images/governance-3-0c.png)
*Figure 7. The Azure Account Owner adds the **subscription owner** user account to the subscription with the **owner** role.*</span></span>

<span data-ttu-id="01820-239">A **előfizetés tulajdonosa** hozhatók létre **erőforráscsoportok** és delegálása erőforrás hozzáférés-kezelés.</span><span class="sxs-lookup"><span data-stu-id="01820-239">The **subscription owner** can now create **resource groups** and delegate resource access management.</span></span>

<span data-ttu-id="01820-240">Első egy példa felügyeleti modell segítségével egyetlen előfizetéssel vizsgáljuk meg.</span><span class="sxs-lookup"><span data-stu-id="01820-240">First let's look at an example resource management model using a single subscription.</span></span> <span data-ttu-id="01820-241">Az első döntési, hogyan erőforráscsoportok három környezetekhez igazítása.</span><span class="sxs-lookup"><span data-stu-id="01820-241">Our first decision is how to align resource groups to the three environments.</span></span> <span data-ttu-id="01820-242">Jelenleg két lehetőség közül választhat:</span><span class="sxs-lookup"><span data-stu-id="01820-242">We have two options:</span></span>
1. <span data-ttu-id="01820-243">Igazítás minden környezet egyetlen erőforráscsoportként működnek.</span><span class="sxs-lookup"><span data-stu-id="01820-243">Align each environment to a single resource group.</span></span> <span data-ttu-id="01820-244">Az összes megosztott infrastruktúra-erőforrások telepítése egyetlen **megosztott infrastruktúra** erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="01820-244">All shared infrastructure resources are deployed to a single **shared infrastructure** resource group.</span></span> <span data-ttu-id="01820-245">Fejlesztési munkaterhelések társított összes erőforrás egyetlen telepített **fejlesztési** erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="01820-245">All resources associated with development workloads are deployed to a single **development** resource group.</span></span> <span data-ttu-id="01820-246">Termelési számítási feladatokhoz tartozó összes erőforrások telepítése egyetlen **éles** tartozó erőforráscsoport a **éles** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-246">All resources associated with production workloads are deployed into a single **production** resource group for the **production** environment.</span></span> 
2. <span data-ttu-id="01820-247">Egy külön erőforráscsoporttal, elnevezési és címkék használatával való megfelelés érdekében a három környezetek egyes erőforráscsoportok munkaterhelések igazítása.</span><span class="sxs-lookup"><span data-stu-id="01820-247">Align workloads with a separate resource group, using a naming convention and tags to align resource groups with each of the three environments.</span></span>  

<span data-ttu-id="01820-248">Hozzuk, az első lehetőség kiértékelése.</span><span class="sxs-lookup"><span data-stu-id="01820-248">Let's begin by evaluating the first option.</span></span> <span data-ttu-id="01820-249">Fogjuk használni az engedélyek modelljét, amiről beszéltünk az előző szakaszban az erőforráscsoportok létrehozó, és hozzáadja a felhasználókat számukra a beépített vagy egyetlen előfizetés szolgáltatás-rendszergazda **közreműködő** vagy **olvasó** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-249">We'll be using the permissions model that we discussed in the previous section, with a single subscription service administrator that creates resource groups and adds users to them with either the built-in **contributor** or **reader** role.</span></span> 

1. <span data-ttu-id="01820-250">Az első erőforráscsoport telepített jelöli a **megosztott infrastruktúra** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-250">The first resource group deployed represents the **shared infrastructure** environment.</span></span> <span data-ttu-id="01820-251">A **előfizetés tulajdonosa** hoz létre egy erőforráscsoportot a megosztott infrastruktúra erőforrásainak nevű **netops megosztott rg**.</span><span class="sxs-lookup"><span data-stu-id="01820-251">The **subscription owner** creates a resource group for the shared infrastructure resources named **netops-shared-rg**.</span></span> 
![](../_images/governance-3-0d.png)
2. <span data-ttu-id="01820-252">A **előfizetés tulajdonosa** hozzáadja a **hálózati műveletek felhasználói** fiókot az erőforráscsoportot és rendel a **közreműködő** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-252">The **subscription owner** adds the **network operations user** account to the resource group and assigns the **contributor** role.</span></span> 
![](../_images/governance-3-0e.png)
3. <span data-ttu-id="01820-253">A **hálózati műveletek felhasználói** létrehoz egy [VPN-átjáró](/azure/vpn-gateway/vpn-gateway-about-vpngateways) és konfigurálja a helyszíni VPN-készülék való kapcsolódáshoz.</span><span class="sxs-lookup"><span data-stu-id="01820-253">The **network operations user** creates a [VPN gateway](/azure/vpn-gateway/vpn-gateway-about-vpngateways) and configures it to connect to the on-premises VPN appliance.</span></span> <span data-ttu-id="01820-254">A **hálózati műveletek** felhasználói is vonatkozik két [címkék](/azure/azure-resource-manager/resource-group-using-tags) az erőforrások mindegyikének: *környezet: megosztott* és *managedBy:netOps* .</span><span class="sxs-lookup"><span data-stu-id="01820-254">The **network operations** user also applies a pair of [tags](/azure/azure-resource-manager/resource-group-using-tags) to each of the resources: *environment:shared* and *managedBy:netOps*.</span></span> <span data-ttu-id="01820-255">Ha a **előfizetés szolgáltatás-rendszergazda** export költségekkel jelentéssel költségek fog egyeztetni az összes ezekkel a címkékkel.</span><span class="sxs-lookup"><span data-stu-id="01820-255">When the **subscription service administrator** exports a cost report, costs will be aligned with each of these tags.</span></span> <span data-ttu-id="01820-256">Ez lehetővé teszi a **előfizetés szolgáltatás-rendszergazda** forgáspont költségek a használatával a *környezet* címke és a *felügyeli* címke.</span><span class="sxs-lookup"><span data-stu-id="01820-256">This allows the **subscription service administrator** to pivot costs using the *environment* tag and the *managedBy* tag.</span></span> <span data-ttu-id="01820-257">Figyelje meg a **erőforrás korlátok** számláló, a felső sarkában található ábra.</span><span class="sxs-lookup"><span data-stu-id="01820-257">Notice the **resource limits** counter at the top right-hand side of the figure.</span></span> <span data-ttu-id="01820-258">Minden Azure-előfizetéssel rendelkezik [szolgáltatási korlátait](/azure/azure-subscription-service-limits), és megismerheti a hatását, hogy ezek a korlátozások a virtuális hálózatok korlátozását, az egyes előfizetésekhez fogjuk követni.</span><span class="sxs-lookup"><span data-stu-id="01820-258">Each Azure subscription has [service limits](/azure/azure-subscription-service-limits), and to help you understand the effect of these limits we'll follow the virtual network limit for each subscription.</span></span> <span data-ttu-id="01820-259">Alapértelmezett maximális előfizetésenként 50 virtuális hálózatok, és az első virtuális hálózat telepítését követően érhetők el most 49.</span><span class="sxs-lookup"><span data-stu-id="01820-259">There is a default limit of 50 virtual networks per subscription, and after the first virtual network is deployed there are now 49 available.</span></span>
![](../_images/governance-3-1.png)
4. <span data-ttu-id="01820-260">Két további erőforráscsoportok vannak telepítve, az első nevű *termék-rg*.</span><span class="sxs-lookup"><span data-stu-id="01820-260">Two more resource groups are deployed, the first is named *prod-rg*.</span></span> <span data-ttu-id="01820-261">Ez az erőforráscsoport igazodik a **éles** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-261">This resource group is aligned with the **production** environment.</span></span> <span data-ttu-id="01820-262">A második nevű *fejlesztői-rg* és igazodik a **fejlesztési** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-262">The second is named *dev-rg* and is aligned with the **development** environment.</span></span> <span data-ttu-id="01820-263">Termelési számítási feladatokhoz tartozó összes erőforrást a rendszer telepíti a **éles** környezet és a fejlesztői munkaterhelések társított összes erőforrás telepít a **fejlesztési** környezet .</span><span class="sxs-lookup"><span data-stu-id="01820-263">All resources associated with production workloads are deployed to the **production** environment and all resources associated with development workloads are deployed to the **development** environment.</span></span> <span data-ttu-id="01820-264">Ebben a példában azt fogja csak két munkaterhelések telepítése minden egyes két környezetben, azt nem előforduló bármely Azure-előfizetés szolgáltatásra vonatkozó korlátozások.</span><span class="sxs-lookup"><span data-stu-id="01820-264">In this example we'll only deploy two workloads to each of these two environments so we won't encounter any Azure subscription service limits.</span></span> <span data-ttu-id="01820-265">Azonban fontos figyelembe venni, hogy rendelkezik-e az adott erőforráscsoport 800 erőforrások legfeljebb minden erőforráscsoportban.</span><span class="sxs-lookup"><span data-stu-id="01820-265">However, it's important to consider that each resource group has a limit of 800 resources per resource group.</span></span> <span data-ttu-id="01820-266">Ezért azt tartsa csoportba való felvételekor munkaterhelések minden erőforrás esetén lehetséges, hogy elérhető-e ezt a határt.</span><span class="sxs-lookup"><span data-stu-id="01820-266">Therefore, if we keep adding workloads to each resource group it is possible that this limit will be reached.</span></span> 
![](../_images/governance-3-2.png)
5. <span data-ttu-id="01820-267">Az első **számítási feladatok felelőse** egy kérést küld a **előfizetés szolgáltatás-rendszergazda** , és az egyes ad hozzá a **fejlesztési** és **éles** környezet erőforráscsoportokat rendelkező a **közreműködő** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-267">The first **workload owner** sends a request to the **subscription service administrator** and is added to each of the **development** and **production** environment resource groups with the **contributor** role.</span></span> <span data-ttu-id="01820-268">Mivel korábban megjegyzett a **közreműködő** szerepkör lehetővé teszi a felhasználói szerepkört rendel egy másik felhasználó eltérő bármilyen művelet végrehajtására.</span><span class="sxs-lookup"><span data-stu-id="01820-268">As you learned earlier, the **contributor** role allows the user to perform any operation other than assigning a role to another user.</span></span> <span data-ttu-id="01820-269">Az első **számítási feladatok felelőse** hozhatók létre az alkalmazások és szolgáltatások társított erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="01820-269">The first **workload owner** can now create the resources associated with their workload.</span></span>
![](../_images/governance-3-3.png)
6. <span data-ttu-id="01820-270">Az első **számítási feladatok felelőse** egy virtuális hálózatot hoz létre minden egyes virtuális gépek két két erőforráscsoport.</span><span class="sxs-lookup"><span data-stu-id="01820-270">The first **workload owner** creates a virtual network in each of the two resource groups with a pair of virtual machines in each.</span></span> <span data-ttu-id="01820-271">Az első **számítási feladatok felelőse** alkalmazza a *környezet* és *felügyeli* címkék minden erőforráshoz.</span><span class="sxs-lookup"><span data-stu-id="01820-271">The first **workload owner** applies the *environment* and *managedBy* tags to all resources.</span></span> <span data-ttu-id="01820-272">Vegye figyelembe, hogy az Azure-szolgáltatások korlát számláló most a hátralévő 47 virtuális hálózatok.</span><span class="sxs-lookup"><span data-stu-id="01820-272">Note that the Azure service limit counter is now at 47 virtual networks remaining.</span></span>
![](../_images/governance-3-4.png)
7. <span data-ttu-id="01820-273">Minden virtuális hálózaton nincs kapcsolat a helyszíni, amikor létrehozzák őket.</span><span class="sxs-lookup"><span data-stu-id="01820-273">Each of the virtual networks does not have connectivity to on-premises when they are created.</span></span> <span data-ttu-id="01820-274">Az ilyen típusú architektúra, minden egyes virtuális hálózati kell társítottak, hogy a *hub-vnet* a a **megosztott infrastruktúra** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-274">In this type of architecture, each virtual network must be peered to the *hub-vnet* in the **shared infrastructure** environment.</span></span> <span data-ttu-id="01820-275">Virtuális hálózati társviszony-létesítés kapcsolatot hoz létre két külön virtuális hálózatok között, és lehetővé teszi, hogy a hálózati forgalom áramlását közöttük.</span><span class="sxs-lookup"><span data-stu-id="01820-275">Virtual network peering creates a connection between two separate virtual networks and allows network traffic to travel between them.</span></span> <span data-ttu-id="01820-276">Vegye figyelembe, hogy virtuális hálózati társviszony-létesítés nem eredendően tranzitív.</span><span class="sxs-lookup"><span data-stu-id="01820-276">Note that virtual network peering is not inherently transitive.</span></span> <span data-ttu-id="01820-277">Társviszony-létesítés kell megadni minden csatlakoztatott két virtuális hálózaton, és ha csak egy virtuális hálózathoz társviszony-létesítés határozza meg a kapcsolat nem fejeződött be.</span><span class="sxs-lookup"><span data-stu-id="01820-277">A peering must be specified in each of the two virtual networks that are connected, and if only one of the virtual networks specifies a peering the connection is incomplete.</span></span> <span data-ttu-id="01820-278">Mutatja be, ennek hatását az első **számítási feladatok felelőse** megadja a társviszony-létesítés közötti **termék-vnet** és **hub-vnet**.</span><span class="sxs-lookup"><span data-stu-id="01820-278">To illustrate the effect of this, the first **workload owner** specifies a peering between **prod-vnet** and **hub-vnet**.</span></span> <span data-ttu-id="01820-279">Az első társviszony-létesítés létrejött, de nincs forgalmat, mert a kiegészítő társviszony **hub-vnet** való **termék-vnet** még nincs megadva.</span><span class="sxs-lookup"><span data-stu-id="01820-279">The first peering is created, but no traffic flows because the complementary peering from **hub-vnet** to **prod-vnet** has not yet been specified.</span></span> <span data-ttu-id="01820-280">Az első **számítási feladatok felelőse** névjegyeket a **hálózati műveletek** felhasználói és a kiegészítő kapcsolat társviszony kérelmek.</span><span class="sxs-lookup"><span data-stu-id="01820-280">The first **workload owner** contacts the **network operations** user and requests this complementary peering connection.</span></span>
![](../_images/governance-3-5.png)
8. <span data-ttu-id="01820-281">A **hálózati műveletek** felhasználói ellenőrzi, hogy a kérelem, hagyja, majd adja meg a társviszony-létesítés beállításai a **hub-vnet**.</span><span class="sxs-lookup"><span data-stu-id="01820-281">The **network operations** user reviews the request, approves it, then specifies the peering in the settings for the **hub-vnet**.</span></span> <span data-ttu-id="01820-282">A társviszony-létesítési kapcsolat befejeződött, és hálózati forgalmat a két virtuális hálózatok között.</span><span class="sxs-lookup"><span data-stu-id="01820-282">The peering connection is now complete and network traffic flows between the two virtual networks.</span></span>
![](../_images/governance-3-6.png)
9. <span data-ttu-id="01820-283">Most, egy második **számítási feladatok felelőse** egy kérést küld a **előfizetés szolgáltatás-rendszergazda** , és a meglévő **éles** és **fejlesztési**  környezet erőforráscsoportokat rendelkező a **közreműködő** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-283">Now, a second **workload owner** sends a request to the **subscription service administrator** and is added to the existing **production** and **development** environment resource groups with the **contributor** role.</span></span> <span data-ttu-id="01820-284">A második **számítási feladatok felelőse** ugyanazokkal az engedélyekkel rendelkezik az összes erőforrás az első **számítási feladatok felelőse** minden erőforráscsoportban.</span><span class="sxs-lookup"><span data-stu-id="01820-284">The second **workload owner** has the same permissions on all resources as the first **workload owner** in each resource group.</span></span> 
![](../_images/governance-3-7.png)
10. <span data-ttu-id="01820-285">A második **számítási feladatok felelőse** lévő alhálózatot hoz létre a **termék-vnet** virtuális hálózatot, majd hozzáadja a két virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="01820-285">The second **workload owner** creates a subnet in the **prod-vnet** virtual network, then adds two virtual machines.</span></span> <span data-ttu-id="01820-286">A második **számítási feladatok felelőse** alkalmazza a *környezet* és *felügyeli* címkék az egyes erőforrásokhoz.</span><span class="sxs-lookup"><span data-stu-id="01820-286">The second **workload owner** applies the *environment* and *managedBy* tags to each resource.</span></span>
![](../_images/governance-3-8.png) 

<span data-ttu-id="01820-287">A példa felügyeleti modell lehetővé teszi, hogy a három kötelező környezetekben az erőforrások kezelése.</span><span class="sxs-lookup"><span data-stu-id="01820-287">This example resource management model enables us to manage our resources in the three required environments.</span></span> <span data-ttu-id="01820-288">A megosztott infrastruktúra erőforrásainak védettek, mivel ezen erőforrások hozzáférése az előfizetés csak egy-egy felhasználóhoz.</span><span class="sxs-lookup"><span data-stu-id="01820-288">Our shared infrastructure resources are protected because there's only a single user in the subscription with permission to access those resources.</span></span> <span data-ttu-id="01820-289">A munkaterhelések tulajdonosai egy anélkül, hogy azokat az engedélyeket a tényleges megosztott erőforrások magukat az erőforrások megosztása infrastruktúra használatára képesek.</span><span class="sxs-lookup"><span data-stu-id="01820-289">Each of our workload owners is able to utilize the share infrastructure resources without having any permissions on the actual shared resources themselves.</span></span> <span data-ttu-id="01820-290">Ez a felügyeleti modell nem sikerül a követelmény az alkalmazások és szolgáltatások elkülönítés – minden, a két **munkaterhelések tulajdonosai** férhetnek hozzá az erőforrásokat, a másik fél munkaterhelés.</span><span class="sxs-lookup"><span data-stu-id="01820-290">This management model fails our requirement for workload isolation - each of the two **workload owners** are able to access the resources of the other's workload.</span></span> 

<span data-ttu-id="01820-291">Nincs egy másik fontos szempont, előfordulhat, hogy azonnal nem válik egyértelművé ebben a modellben.</span><span class="sxs-lookup"><span data-stu-id="01820-291">There's another important consideration with this model that may not be immediately obvious.</span></span> <span data-ttu-id="01820-292">A jelen példában volt **app1 számítási feladatok felelőse** a hálózati társviszony-létesítési kapcsolatot kért, amely a **hub-vnet** helyszíni kapcsolatot biztosít.</span><span class="sxs-lookup"><span data-stu-id="01820-292">In our example, it was **app1 workload owner** that requested the network peering connection with the **hub-vnet** to provide connectivity to on-premises.</span></span> <span data-ttu-id="01820-293">A **hálózati műveletek** felhasználói értékeli ki, hogy a munkaterhelés telepített erőforrások alapuló kérelem.</span><span class="sxs-lookup"><span data-stu-id="01820-293">The **network operations** user evaluated that request based on the resources deployed with that workload.</span></span> <span data-ttu-id="01820-294">Ha a **előfizetés tulajdonosa** hozzáadott **app2 számítási feladatok felelőse** rendelkező a **közreműködő** szerepkör, a felhasználó rendelkezik-e felügyeleti hozzáférési jogosultsága ahhoz, hogy az összes erőforrást a  **termék-rg** erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="01820-294">When the **subscription owner** added **app2 workload owner** with the **contributor** role, that user had management access rights to all resources in the **prod-rg** resource group.</span></span> 

![](../_images/governance-3-10.png)

<span data-ttu-id="01820-295">Ez azt jelenti, hogy **app2 számítási feladatok felelőse** kellett engedéllyel való üzembe helyezéshez saját alhálózat virtuális gépek a **termék-vnet** virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="01820-295">This means **app2 workload owner** had permission to deploy their own subnet with virtual machines in the **prod-vnet** virtual network.</span></span> <span data-ttu-id="01820-296">Alapértelmezés szerint azon virtuális gépek most már rendelkezik a helyszíni hálózat elérését.</span><span class="sxs-lookup"><span data-stu-id="01820-296">By default, those virtual machines now have access to the on-premises network.</span></span> <span data-ttu-id="01820-297">A **hálózati műveletek** felhasználó nem ismeri a ezeket a gépeket, és nem találta megfelelőnek a csatlakozásukat a helyszínen.</span><span class="sxs-lookup"><span data-stu-id="01820-297">The **network operations** user is not aware of those machines and did not approve their connectivity to on-premises.</span></span>

<span data-ttu-id="01820-298">Ezt követően a különböző környezetek és a munkaterhelések több erőforrások csoportokkal egyetlen előfizetéssel vizsgáljuk meg.</span><span class="sxs-lookup"><span data-stu-id="01820-298">Next, let's look at a single subscription with multiple resources groups for different environments and workloads.</span></span> <span data-ttu-id="01820-299">Vegye figyelembe, hogy az előző példában szereplő, az egyes környezet erőforrásait könnyen azonosítható volt, mert ugyanazt az erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="01820-299">Note that in the previous example, the resources for each environment were easily identifiable because they were in the same resource group.</span></span> <span data-ttu-id="01820-300">Most, hogy már nem adott csoportosítás, igazolnia kell erőforrás csoport elnevezési funkció támaszkodnak.</span><span class="sxs-lookup"><span data-stu-id="01820-300">Now that we no longer have that grouping, we will have to rely on a resource group naming convention to provide that functionality.</span></span> 

1. <span data-ttu-id="01820-301">A **megosztott infrastruktúra** változatlan marad, így erőforrások továbbra is fennáll külön erőforráscsoport ebben a modellben.</span><span class="sxs-lookup"><span data-stu-id="01820-301">Our **shared infrastructure** resources will still have a separate resource group in this model, so that remains the same.</span></span> <span data-ttu-id="01820-302">Minden számítási feladat által igényelt két erőforráscsoport - beli a **fejlesztési** és **éles** környezetekben.</span><span class="sxs-lookup"><span data-stu-id="01820-302">Each workload requires two resource groups - one for each of the **development** and **production** environments.</span></span> <span data-ttu-id="01820-303">Az első munkaterhelés a **előfizetés tulajdonosa** hoz létre két erőforráscsoport.</span><span class="sxs-lookup"><span data-stu-id="01820-303">For the first workload, the **subscription owner** creates two resource groups.</span></span> <span data-ttu-id="01820-304">Az első nevű **app1-termék-rg** és a második érték nevű **app1-fejlesztői-rg**.</span><span class="sxs-lookup"><span data-stu-id="01820-304">The first is named **app1-prod-rg** and the second one is named **app1-dev-rg**.</span></span> <span data-ttu-id="01820-305">A fentiekben taglaltak, ezt az elnevezési konvenciót azonosítja az erőforrások, mint az első munkaterhelés társított **app1**, és vagy a **fejlesztői** vagy **termék** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-305">As discussed earlier, this naming convention identifies the resources as being associated with the first workload, **app1**, and either the **dev** or **prod** environment.</span></span> <span data-ttu-id="01820-306">Ebben az esetben a *előfizetés* tulajdonos hozzáadja **app1 számítási feladatok felelőse** az erőforrás-csoport számára a **közreműködői** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-306">Again, the *subscription* owner adds **app1 workload owner** to the resource group with the **contributor** role.</span></span>
![](../_images/governance-3-12.png)
2. <span data-ttu-id="01820-307">Az első példához hasonló **app1 számítási feladatok felelőse** nevű virtuális hálózat telepíti **app1-termék-vnet** számára a **éles** környezetben, és egy másik nevesített **app1-fejlesztői-vnet** számára a **fejlesztési** környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-307">Similar to the first example, **app1 workload owner** deploys a virtual network named **app1-prod-vnet** to the **production** environment, and another named **app1-dev-vnet** to the **development** environment.</span></span> <span data-ttu-id="01820-308">Ebben az esetben **app1 számítási feladatok felelőse** egy kérést küld a **hálózati műveletek** felhasználói társviszony-létesítési VPN-kapcsolat létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="01820-308">Again, **app1 workload owner** sends a request to the **network operations** user to create a peering connection.</span></span> <span data-ttu-id="01820-309">Vegye figyelembe, hogy **app1 számítási feladatok felelőse** adja ugyanazt a címkét az első példában, és a kapacitás a számláló az előfizetés fennmaradó 47 virtuális hálózatok száma csökken új.</span><span class="sxs-lookup"><span data-stu-id="01820-309">Note that **app1 workload owner** adds the same tags as in the first example, and the limit counter has been decremented to 47 virtual networks remaining in the subscription.</span></span>
![](../_images/governance-3-13.png)
3. <span data-ttu-id="01820-310">A **előfizetés tulajdonosa** most létrehozza a két erőforráscsoport **app2 számítási feladatok felelőse**.</span><span class="sxs-lookup"><span data-stu-id="01820-310">The **subscription owner** now creates two resource groups for **app2 workload owner**.</span></span> <span data-ttu-id="01820-311">Az azonos egyezmények megegyezik a következő **app1 számítási feladatok felelőse**, az erőforráscsoportok megnevezett **app2-termék-rg** és **app2-fejlesztői-rg**.</span><span class="sxs-lookup"><span data-stu-id="01820-311">Following the same conventions as for **app1 workload owner**, the resource groups are named **app2-prod-rg** and **app2-dev-rg**.</span></span> <span data-ttu-id="01820-312">A **előfizetés tulajdonosa** hozzáadja **app2 számítási feladatok felelőse** az egyes tartalmazó erőforráscsoportokat a **közreműködő** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-312">The **subscription owner** adds **app2 workload owner** to each of the resource groups with the **contributor** role.</span></span>
![](../_images/governance-3-14.png)
4. <span data-ttu-id="01820-313">*App2 számítási feladatok felelőse* telepíti a virtuális hálózatok és virtuális gépek az erőforráscsoportok az ugyanazokat az elnevezési konvenciókat.</span><span class="sxs-lookup"><span data-stu-id="01820-313">*App2 workload owner* deploys virtual networks and virtual machines to the resource groups with the same naming conventions.</span></span> <span data-ttu-id="01820-314">Címkék ad hozzá, és a korlát számláló száma csökken, a fennmaradó 45 virtuális hálózatokhoz a *előfizetés*.</span><span class="sxs-lookup"><span data-stu-id="01820-314">Tags are added and the limit counter has been decremented to 45 virtual networks remaining in the *subscription*.</span></span>
![](../_images/governance-3-15.png)
5. <span data-ttu-id="01820-315">*App2 számítási feladatok felelőse* egy kérést küld a *hálózati műveletek* egyenrangú felhasználói a *app2-termék-vnet* rendelkező a *hub-vnet*.</span><span class="sxs-lookup"><span data-stu-id="01820-315">*App2 workload owner* sends a request to the *network operations* user to peer the *app2-prod-vnet* with the *hub-vnet*.</span></span> <span data-ttu-id="01820-316">A *hálózati műveletek* felhasználó a társviszony-létesítési kapcsolatot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="01820-316">The *network operations* user creates the peering connection.</span></span>
![](../_images/governance-3-16.png)

<span data-ttu-id="01820-317">Az eredményül kapott felügyeleti modell hasonlít az első példában több kulcs eltérésekkel:</span><span class="sxs-lookup"><span data-stu-id="01820-317">The resulting management model is similar to the first example, with several key differences:</span></span>
* <span data-ttu-id="01820-318">A két munkaterhelések egy elkülönített munkaterhelés és a környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-318">Each of the two workloads is isolated by workload and by environment.</span></span>
* <span data-ttu-id="01820-319">Ez a modell két további virtuális hálózatok, mint az első példában modell szükséges.</span><span class="sxs-lookup"><span data-stu-id="01820-319">This model required two more virtual networks than the first example model.</span></span> <span data-ttu-id="01820-320">Ez nem fontos különbség a két munkaterhelések, a munkaterhelések ehhez a modellhez elméleti korlátot: 24.</span><span class="sxs-lookup"><span data-stu-id="01820-320">While this is not an important distinction with only two workloads, the theoretical limit on the number of workloads for this model is 24.</span></span> 
* <span data-ttu-id="01820-321">Erőforrások többé nem egyetlen erőforráscsoportként működnek környezetben vannak csoportosítva.</span><span class="sxs-lookup"><span data-stu-id="01820-321">Resources are no longer grouped in a single resource group for each environment.</span></span> <span data-ttu-id="01820-322">Erőforrások csoportosítása a környezetben használt elnevezési konvenciókat ismeretét igényli.</span><span class="sxs-lookup"><span data-stu-id="01820-322">Grouping resources requires an understanding of the naming conventions used for each environment.</span></span> 
* <span data-ttu-id="01820-323">A virtuális hálózati társviszonyban kapcsolatok mindegyikének lett vizsgálni és jóvá a *hálózati műveletek* felhasználó.</span><span class="sxs-lookup"><span data-stu-id="01820-323">Each of the peered virtual network connections was reviewed and approved by the *network operations* user.</span></span>

<span data-ttu-id="01820-324">Most már a felügyeleti modell használatával több előfizetéssel vizsgáljuk meg.</span><span class="sxs-lookup"><span data-stu-id="01820-324">Now let's look at a resource management model using multiple subscriptions.</span></span> <span data-ttu-id="01820-325">Ebben a modellben, azt fogja igazítása a három különálló előfizetés környezetek mindegyikének: egy **megosztott szolgáltatások** előfizetés, **éles** előfizetés, és végül a **fejlesztési** előfizetés.</span><span class="sxs-lookup"><span data-stu-id="01820-325">In this model, we'll align each of the three environments to a separate subscription: a **shared services** subscription, **production** subscription, and finally a **development** subscription.</span></span> <span data-ttu-id="01820-326">Ez a modell szempontjai hasonlóak a modell használatával egy-egy előfizetéshez abban, hogy döntse el, hogy a munkaterhelések erőforráscsoportra igazítása.</span><span class="sxs-lookup"><span data-stu-id="01820-326">The considerations for this model are similar to a model using a single subscription in that we have to decide how to align resource groups to workloads.</span></span> <span data-ttu-id="01820-327">A Microsoft már meghatározta, hogy az egyes munkaterhelésekhez tartozó erőforráscsoport létrehozása megfelel a munkaterhelés elkülönítési követelmény, azt fogja odatapadjon ebben a példában a modellt.</span><span class="sxs-lookup"><span data-stu-id="01820-327">We've already determined that creating a resource group for each workload satisfies our workload isolation requirement, so we'll stick with that model in this example.</span></span>

1. <span data-ttu-id="01820-328">Ebben a modellben van három *előfizetések*: *megosztott infrastruktúra*, *éles*, és *fejlesztési*.</span><span class="sxs-lookup"><span data-stu-id="01820-328">In this model, there are three *subscriptions*: *shared infrastructure*, *production*, and *development*.</span></span> <span data-ttu-id="01820-329">Az alábbi három előfizetések igényel a *előfizetés tulajdonosa*, és az egyszerű példában ugyanazt a felhasználói fiókot mind a három fogjuk használni.</span><span class="sxs-lookup"><span data-stu-id="01820-329">Each of these three subscriptions requires a *subscription owner*, and in our simple example we'll use the same user account for all three.</span></span> <span data-ttu-id="01820-330">A *megosztott infrastruktúra* erőforrások az első két fenti példák a hasonló módon kezelik, és az első munkaterhelés társítva van a *app1-rg* a a *éles* bejövő csoportosítás környezet és az azonos nevű erőforrás a *fejlesztési* környezetben.</span><span class="sxs-lookup"><span data-stu-id="01820-330">The *shared infrastructure* resources are managed similarly to the first two examples above, and the first workload is associated with the *app1-rg* in the *production* environment and the same-named resource group in the *development* environment.</span></span> <span data-ttu-id="01820-331">A *app1 számítási feladatok felelőse* minden az erőforráscsoport a *közreműködő* szerepkör.</span><span class="sxs-lookup"><span data-stu-id="01820-331">The *app1 workload owner* is added to each of the resource group with the *contributor* role.</span></span> 
![](../_images/governance-3-17.png)
2. <span data-ttu-id="01820-332">Csakúgy, mint a korábbi példában, *app1 számítási feladatok felelőse* hoz létre az erőforrásokat, és a társviszony-létesítési kapcsolatot igényel a *megosztott infrastruktúra* virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="01820-332">As with the earlier examples, *app1 workload owner* creates the resources and requests the peering connection with the *shared infrastructure* virtual network.</span></span> <span data-ttu-id="01820-333">*Az App1 számítási feladatok felelőse* csak hozzáadja a *felügyeli* címkét, mert már nincs szükség a *környezet* címke.</span><span class="sxs-lookup"><span data-stu-id="01820-333">*App1 workload owner* adds only the *managedBy* tag because there is no longer a need for the *environment* tag.</span></span> <span data-ttu-id="01820-334">Ez azt jelenti, hogy erőforrások vannak az egyes környezetekben csoportba kerülnek, ugyanúgy *előfizetés* és a *környezet* címke már redundáns.</span><span class="sxs-lookup"><span data-stu-id="01820-334">That is, resources are for each environment are now grouped in the same *subscription* and the *environment* tag is redundant.</span></span> <span data-ttu-id="01820-335">A korlát a számláló akkor száma csökken, a fennmaradó 49 virtuális hálózatokhoz.</span><span class="sxs-lookup"><span data-stu-id="01820-335">The limit counter is decremented to 49 virtual networks remaining.</span></span>
![](../_images/governance-3-18.png)
3. <span data-ttu-id="01820-336">Végezetül a *előfizetés tulajdonosa* a folyamat ismétlődik a második terheléshez, tartalmazó erőforráscsoportokat hozzáadása a *app2 számítási feladatok felelőse* a a \* közreműködői szerepkört.</span><span class="sxs-lookup"><span data-stu-id="01820-336">Finally, the *subscription owner* repeats the process for the second workload, adding the resource groups with the *app2 workload owner* in the \*contributor role.</span></span> <span data-ttu-id="01820-337">A korlát a számláló az egyes a környezet előfizetések akkor száma csökken, a fennmaradó 48 virtuális hálózatokhoz.</span><span class="sxs-lookup"><span data-stu-id="01820-337">The limit counter for each of the environment subscriptions is decremented to 48 virtual networks remaining.</span></span> 

<span data-ttu-id="01820-338">A felügyeleti modellnek a második példában előnyeit.</span><span class="sxs-lookup"><span data-stu-id="01820-338">This management model has the benefits of the second example above.</span></span> <span data-ttu-id="01820-339">Azonban a legfontosabb különbség az, hogy korlátok kisebbek, a probléma oka az oka, hogy azok van elosztva, több mint két *előfizetések*.</span><span class="sxs-lookup"><span data-stu-id="01820-339">However, the key difference is that limits are less of an issue due to the fact that they are spread over two *subscriptions*.</span></span> <span data-ttu-id="01820-340">A hátránya, hogy a címkék követik költség adatokat kell gyűjtődnek mind a hármat *előfizetések*.</span><span class="sxs-lookup"><span data-stu-id="01820-340">The drawback is that the cost data tracked by tags must be aggregated across all three *subscriptions*.</span></span> 

<span data-ttu-id="01820-341">Ezért kiválaszthatja, bármely ezek két példa erőforrás modell attól függően, hogy a követelmények prioritását.</span><span class="sxs-lookup"><span data-stu-id="01820-341">Therefore, you can select any of these two examples resource management models depending on the priority of your requirements.</span></span> <span data-ttu-id="01820-342">Ha várhatóan, hogy a szervezet nem érte el a szolgáltatásra vonatkozó korlátozások egy-egy előfizetéshez tartozó, egy-egy előfizetéshez több erőforráscsoportok használható.</span><span class="sxs-lookup"><span data-stu-id="01820-342">If you anticipate that your organization will not reach the service limits for a single subscription, you can use a single subscription with multiple resource groups.</span></span> <span data-ttu-id="01820-343">Ezzel szemben ha a szervezet azt feltételezi, hogy számos különféle munkaterheléshez, környezetben több előfizetéssel jobb megoldás lehet.</span><span class="sxs-lookup"><span data-stu-id="01820-343">Conversely, if your organization anticipates many workloads, multiple subscriptions for each environment may be better.</span></span>

<!-- ## Summary



## Next steps -->


<!-- links -->

[rbac-built-in-owner]: /azure/role-based-access-control/built-in-roles#owner
[rbac-built-in-roles]: /azure/role-based-access-control/built-in-roles
