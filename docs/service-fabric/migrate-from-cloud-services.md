---
title: Az Azure Cloud Services alkalmazás Azure Service Fabric áttelepítése
description: Megtudhatja, hogyan telepíthetők át az alkalmazás Azure Cloud Services Azure Service Fabric.
author: MikeWasson
ms.date: 04/27/2017
ms.openlocfilehash: ce9c138a6b093fb7f0329c619c75bd4f4aacc2e7
ms.sourcegitcommit: 3d9ee03e2dda23753661a80c7106d1789f5223bb
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 02/23/2018
---
# <a name="migrate-an-azure-cloud-services-application-to-azure-service-fabric"></a><span data-ttu-id="241a6-103">Az Azure Cloud Services alkalmazás Azure Service Fabric áttelepítése</span><span class="sxs-lookup"><span data-stu-id="241a6-103">Migrate an Azure Cloud Services application to Azure Service Fabric</span></span> 

<span data-ttu-id="241a6-104">[![GitHub](../_images/github.png) Mintakód][sample-code]</span><span class="sxs-lookup"><span data-stu-id="241a6-104">[![GitHub](../_images/github.png) Sample code][sample-code]</span></span>

<span data-ttu-id="241a6-105">Ez a cikk ismerteti, hogy egy alkalmazás áttelepítése Azure Cloud Services Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="241a6-105">This article describes migrating an application from Azure Cloud Services to Azure Service Fabric.</span></span> <span data-ttu-id="241a6-106">Az architektúra döntések összpontosít, és ajánlott eljárások.</span><span class="sxs-lookup"><span data-stu-id="241a6-106">It focuses on architectural decisions and recommended practices.</span></span> 

<span data-ttu-id="241a6-107">Ebben a projektben azt egy felmérések nevű Felhőszolgáltatás alkalmazás használatába és használatát. Ez a Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="241a6-107">For this project, we started with a Cloud Services application called Surveys and ported it to Service Fabric.</span></span> <span data-ttu-id="241a6-108">A cél volt a lehető legkevesebb módosítások az alkalmazás áttelepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="241a6-108">The goal was to migrate the application with as few changes as possible.</span></span> <span data-ttu-id="241a6-109">Egy újabb cikkben azt fogja az alkalmazás optimalizálása a Service Fabric egy mikroszolgáltatások architektúra elfogadásával.</span><span class="sxs-lookup"><span data-stu-id="241a6-109">In a later article, we will optimize the application for Service Fabric by adopting a microservices architecture.</span></span>

<span data-ttu-id="241a6-110">A cikk elolvasása előtt kell a Service Fabric és mikroszolgáltatások architektúrák alapjait általában működésének megértése.</span><span class="sxs-lookup"><span data-stu-id="241a6-110">Before reading this article, it will be useful to understand the basics of Service Fabric and microservices architectures in general.</span></span> <span data-ttu-id="241a6-111">Lásd az alábbi cikkeket:</span><span class="sxs-lookup"><span data-stu-id="241a6-111">See the following articles:</span></span>

- <span data-ttu-id="241a6-112">[Az Azure Service Fabric áttekintése][sf-overview]</span><span class="sxs-lookup"><span data-stu-id="241a6-112">[Overview of Azure Service Fabric][sf-overview]</span></span>
- <span data-ttu-id="241a6-113">[Miért egy mikroszolgáltatások közelítik meg az alkalmazások?][sf-why-microservices]</span><span class="sxs-lookup"><span data-stu-id="241a6-113">[Why a microservices approach to building applications?][sf-why-microservices]</span></span>


## <a name="about-the-surveys-application"></a><span data-ttu-id="241a6-114">A felmérések alkalmazással kapcsolatos</span><span class="sxs-lookup"><span data-stu-id="241a6-114">About the Surveys application</span></span>

<span data-ttu-id="241a6-115">A 2012-ben a minták és gyakorlatok csoport létrehozása felmérésekkel, egy könyv nevű alkalmazás [több-bérlős alkalmazások fejlesztése a felhő][tailspin-book].</span><span class="sxs-lookup"><span data-stu-id="241a6-115">In 2012, the patterns & practices group created an application called Surveys, for a book called [Developing Multi-tenant Applications for the Cloud][tailspin-book].</span></span> <span data-ttu-id="241a6-116">A címjegyzék-alkalmazásával, amely tervez, és megvalósítja az felmérések alkalmazás Dejójáték nevű fiktív vállalat ismerteti.</span><span class="sxs-lookup"><span data-stu-id="241a6-116">The book describes a fictitious company named Tailspin that designs and implements the Surveys application.</span></span>

<span data-ttu-id="241a6-117">Felmérések egy több-bérlős alkalmazás, amely lehetővé teszi az ügyfelek felmérések létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="241a6-117">Surveys is a multitenant application that allows customers to create surveys.</span></span> <span data-ttu-id="241a6-118">Miután az ügyfél előfizet az alkalmazást, az ügyfél szervezetében tagjai létrehozását és felmérések közzétételét és az eredményeket elemzéshez gyűjtése.</span><span class="sxs-lookup"><span data-stu-id="241a6-118">After a customer signs up for the application,  members of the customer's organization can create and publish surveys, and collect the results for analysis.</span></span> <span data-ttu-id="241a6-119">Az alkalmazás egy nyilvános webhely, ahol személyek is igénybe vehet egy felmérés tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="241a6-119">The application includes a public website where people can take a survey.</span></span> <span data-ttu-id="241a6-120">További információk az eredeti Dejójáték forgatókönyv [Itt][tailspin-scenario].</span><span class="sxs-lookup"><span data-stu-id="241a6-120">Read more about the original Tailspin scenario [here][tailspin-scenario].</span></span>

<span data-ttu-id="241a6-121">Most Dejójáték szeretné a felmérések alkalmazást, a mikroszolgáltatások architektúrára épülő Azure-on futó Service Fabric használatával.</span><span class="sxs-lookup"><span data-stu-id="241a6-121">Now Tailspin wants to move the Surveys application to a microservices architecture, using Service Fabric running on Azure.</span></span> <span data-ttu-id="241a6-122">Az alkalmazás már üzembe van helyezve a Felhőszolgáltatások alkalmazásként, mert a Dejójáték egy több fázisban megközelítés fogad el:</span><span class="sxs-lookup"><span data-stu-id="241a6-122">Because the application is already deployed as a Cloud Services application, Tailspin adopts a multi-phase approach:</span></span>

1.  <span data-ttu-id="241a6-123">Port a felhőszolgáltatások, hogy a Service Fabric, ugyanakkor minimalizálja a módosításokat.</span><span class="sxs-lookup"><span data-stu-id="241a6-123">Port the cloud services to Service Fabric, while minimizing changes to the application.</span></span>
2.  <span data-ttu-id="241a6-124">Az alkalmazás optimalizálása a Service Fabric egy mikroszolgáltatások architektúra áthelyezésével.</span><span class="sxs-lookup"><span data-stu-id="241a6-124">Optimize the application for Service Fabric, by moving to a microservices architecture.</span></span>

<span data-ttu-id="241a6-125">Ez a cikk ismerteti az első fázisban.</span><span class="sxs-lookup"><span data-stu-id="241a6-125">This article describes the first phase.</span></span> <span data-ttu-id="241a6-126">Egy újabb cikk ismerteti, a második fázisa.</span><span class="sxs-lookup"><span data-stu-id="241a6-126">A later article will describe the second phase.</span></span> <span data-ttu-id="241a6-127">Valós projektben valószínű, hogy mindkét szakaszból átfedésben lenne.</span><span class="sxs-lookup"><span data-stu-id="241a6-127">In a real-world project, it's likely that both stages would overlap.</span></span> <span data-ttu-id="241a6-128">A Service Fabric eljárás, miközben is kezdenie Újratervezés micro-szolgáltatások az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="241a6-128">While porting to Service Fabric, you would also start to re-architect the application into micro-services.</span></span> <span data-ttu-id="241a6-129">Később, előfordulhat, hogy pontosítsa az architektúra emellett esetleg felosztásával coarse-grained szolgáltatások kisebb-szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="241a6-129">Later you might refine the architecture further, perhaps dividing coarse-grained services into smaller services.</span></span>  

<span data-ttu-id="241a6-130">Az alkalmazás kódja megtalálható [GitHub][sample-code].</span><span class="sxs-lookup"><span data-stu-id="241a6-130">The application code is available on [GitHub][sample-code].</span></span> <span data-ttu-id="241a6-131">A tárház tartalmaz, a Cloud Services alkalmazás és a Service Fabric-verzió.</span><span class="sxs-lookup"><span data-stu-id="241a6-131">This repo contains both the Cloud Services application and the Service Fabric version.</span></span> 

> <span data-ttu-id="241a6-132">A felhőalapú szolgáltatás nem az eredeti alkalmazás frissített verzióját a *több-bérlős alkalmazások fejlesztése* címjegyzék-alkalmazásával.</span><span class="sxs-lookup"><span data-stu-id="241a6-132">The cloud service is an updated version of the original application from the *Developing Multi-tenant Applications* book.</span></span>

## <a name="why-microservices"></a><span data-ttu-id="241a6-133">Miért mikroszolgáltatások létrehozására?</span><span class="sxs-lookup"><span data-stu-id="241a6-133">Why Microservices?</span></span>

<span data-ttu-id="241a6-134">Egy részletes ismertető a mikroszolgáltatások nem ez a cikk terjed, de itt Dejójáték reméli mikroszolgáltatások-architektúra mozgatásával megszerezni előnyöket nyújtja:</span><span class="sxs-lookup"><span data-stu-id="241a6-134">An in-depth discussion of microservices is beyond scope of this article, but here are some of the benefits that Tailspin hopes to get by moving to a microservices architecture:</span></span>

- <span data-ttu-id="241a6-135">**Alkalmazásfrissítések**.</span><span class="sxs-lookup"><span data-stu-id="241a6-135">**Application upgrades**.</span></span> <span data-ttu-id="241a6-136">Szolgáltatások egymástól függetlenül, telepíthető, így egy alkalmazás frissítése egy növekményes módszert is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="241a6-136">Services can be deployed independently, so you can take an incremental approach to upgrading an application.</span></span>
- <span data-ttu-id="241a6-137">**Rugalmasság és a hibatűrés elkülönítési**.</span><span class="sxs-lookup"><span data-stu-id="241a6-137">**Resiliency and fault isolation**.</span></span> <span data-ttu-id="241a6-138">Ha nem sikerül egy szolgáltatás, más szolgáltatásokkal tovább futnak.</span><span class="sxs-lookup"><span data-stu-id="241a6-138">If a service fails, other services continue to run.</span></span>
- <span data-ttu-id="241a6-139">**Méretezhetőség**.</span><span class="sxs-lookup"><span data-stu-id="241a6-139">**Scalability**.</span></span> <span data-ttu-id="241a6-140">Szolgáltatások egymástól függetlenül lehet méretezni.</span><span class="sxs-lookup"><span data-stu-id="241a6-140">Services can be scaled independently.</span></span>
- <span data-ttu-id="241a6-141">**Rugalmasság**.</span><span class="sxs-lookup"><span data-stu-id="241a6-141">**Flexibility**.</span></span> <span data-ttu-id="241a6-142">Üzleti forgatókönyvek, nem egy technológia csomagokat, így könnyebben szolgáltatások áttelepítése új technológiákat, a keretrendszer vagy tárolók körül szolgáltatást tervezték.</span><span class="sxs-lookup"><span data-stu-id="241a6-142">Services are designed around business scenarios, not technology stacks, making it easier to migrate services to new technologies, frameworks, or data stores.</span></span>
- <span data-ttu-id="241a6-143">**Gyors fejlesztési**.</span><span class="sxs-lookup"><span data-stu-id="241a6-143">**Agile development**.</span></span> <span data-ttu-id="241a6-144">Egyes szolgáltatások kevesebb mint egy egységes alkalmazás kódot, a kód alap könnyebb megismerkedett, okát, és teszteléséhez.</span><span class="sxs-lookup"><span data-stu-id="241a6-144">Individual services have less code than a monolithic application, making the code base easier to understand, reason about, and test.</span></span>
- <span data-ttu-id="241a6-145">**Kisméretű, célzott csoportok**.</span><span class="sxs-lookup"><span data-stu-id="241a6-145">**Small, focused teams**.</span></span> <span data-ttu-id="241a6-146">Az alkalmazás számos kis szolgáltatás bontani, mert minden egyes szolgáltatás épül fel egy kis célzott csoportnak.</span><span class="sxs-lookup"><span data-stu-id="241a6-146">Because the application is broken down into many small services, each service can be built by a small focused team.</span></span>

## <a name="why-service-fabric"></a><span data-ttu-id="241a6-147">Miért Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="241a6-147">Why Service Fabric?</span></span>
      
<span data-ttu-id="241a6-148">A Service Fabric remekül beválik, ha egy mikroszolgáltatások architektúrája miatt a szükséges elosztott rendszer szolgáltatások többsége a Service Fabric, beleértve a beépített:</span><span class="sxs-lookup"><span data-stu-id="241a6-148">Service Fabric is a good fit for a microservices architecture, because most of the features needed in a distributed system are built into Service Fabric, including:</span></span>

- <span data-ttu-id="241a6-149">**Felügyeleti fürt**.</span><span class="sxs-lookup"><span data-stu-id="241a6-149">**Cluster management**.</span></span> <span data-ttu-id="241a6-150">A Service Fabric automatikusan kezeli a csomópontok feladatátvételét hiba, állapotfigyelést és egyéb fürt felügyeleti funkciót.</span><span class="sxs-lookup"><span data-stu-id="241a6-150">Service Fabric automatically handles node failover, health monitoring, and other cluster management functions.</span></span>
- <span data-ttu-id="241a6-151">**Horizontális skálázás**.</span><span class="sxs-lookup"><span data-stu-id="241a6-151">**Horizontal scaling**.</span></span> <span data-ttu-id="241a6-152">Amikor csomópontot ad hozzá a Service Fabric-fürt, az alkalmazás automatikusan arányosan, ahogy a szolgáltatásokat az új csomópontok különböző pontjain.</span><span class="sxs-lookup"><span data-stu-id="241a6-152">When you add nodes to a Service Fabric cluster, the application automatically scales, as services are distributed across the new nodes.</span></span>
- <span data-ttu-id="241a6-153">**A szolgáltatásészlelés**.</span><span class="sxs-lookup"><span data-stu-id="241a6-153">**Service discovery**.</span></span> <span data-ttu-id="241a6-154">A Service Fabric egy tudja oldani az elnevezett szolgáltatás felderítési szolgáltatást biztosít.</span><span class="sxs-lookup"><span data-stu-id="241a6-154">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>
- <span data-ttu-id="241a6-155">**Állapot nélküli és állapotalapú szolgáltatással**.</span><span class="sxs-lookup"><span data-stu-id="241a6-155">**Stateless and stateful services**.</span></span> <span data-ttu-id="241a6-156">Állapotalapú szolgáltatások használata [megbízható gyűjtemények][sf-reliable-collections], amely egy gyorsítótár-vagy várólista végrehajthatók, és lehet particionálni.</span><span class="sxs-lookup"><span data-stu-id="241a6-156">Stateful services use [reliable collections][sf-reliable-collections], which can take the place of a cache or queue, and can be partitioned.</span></span>
- <span data-ttu-id="241a6-157">**Alkalmazás-életciklus kezelésének**.</span><span class="sxs-lookup"><span data-stu-id="241a6-157">**Application lifecycle management**.</span></span> <span data-ttu-id="241a6-158">Szolgáltatások frissítése egymástól függetlenül és az alkalmazás leállítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="241a6-158">Services can be upgraded independently and without application downtime.</span></span>
- <span data-ttu-id="241a6-159">**Vezénylési szolgáltatás** gépet fürtön belül.</span><span class="sxs-lookup"><span data-stu-id="241a6-159">**Service orchestration** across a cluster of machines.</span></span>
- <span data-ttu-id="241a6-160">**Magasabb sűrűség** optimalizálási hálózatierőforrás-fogyasztás.</span><span class="sxs-lookup"><span data-stu-id="241a6-160">**Higher density** for optimizing resource consumption.</span></span> <span data-ttu-id="241a6-161">Egyetlen csomópont, rendelkezhet több szolgáltatásra.</span><span class="sxs-lookup"><span data-stu-id="241a6-161">A single node can host multiple services.</span></span>

<span data-ttu-id="241a6-162">A Service Fabric használják különböző szolgáltatások, a Microsoft Azure SQL Database, a Cosmos DB, az Azure Event Hubs és mások számára, beleértve a bevált platformmá elosztott felhőalapú alkalmazások így.</span><span class="sxs-lookup"><span data-stu-id="241a6-162">Service Fabric is used by various Microsoft services, including Azure SQL Database, Cosmos DB, Azure Event Hubs, and others, making it a proven platform for building distributed cloud applications.</span></span> 

## <a name="comparing-cloud-services-with-service-fabric"></a><span data-ttu-id="241a6-163">A Service Fabric felhőalapú szolgáltatások összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="241a6-163">Comparing Cloud Services with Service Fabric</span></span>

<span data-ttu-id="241a6-164">A következő táblázat összefoglalja néhány fontos Cloud Services és a Service Fabric-alkalmazások közötti különbséget.</span><span class="sxs-lookup"><span data-stu-id="241a6-164">The following table summarizes some of the important differences between Cloud Services and Service Fabric applications.</span></span> <span data-ttu-id="241a6-165">Részletesebb leírását, lásd: [áttelepítése előtt Cloud Services és a Service Fabric közötti különbségekről további alkalmazások][sf-compare-cloud-services].</span><span class="sxs-lookup"><span data-stu-id="241a6-165">For a more in-depth discussion, see [Learn about the differences between Cloud Services and Service Fabric before migrating applications][sf-compare-cloud-services].</span></span>

|        | <span data-ttu-id="241a6-166">Cloud Services</span><span class="sxs-lookup"><span data-stu-id="241a6-166">Cloud Services</span></span> | <span data-ttu-id="241a6-167">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="241a6-167">Service Fabric</span></span> |
|--------|---------------|----------------|
| <span data-ttu-id="241a6-168">Alkalmazás összeállítás</span><span class="sxs-lookup"><span data-stu-id="241a6-168">Application composition</span></span> | <span data-ttu-id="241a6-169">Szerepkörök</span><span class="sxs-lookup"><span data-stu-id="241a6-169">Roles</span></span>| <span data-ttu-id="241a6-170">Szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="241a6-170">Services</span></span> |
| <span data-ttu-id="241a6-171">Sűrűség</span><span class="sxs-lookup"><span data-stu-id="241a6-171">Density</span></span> |<span data-ttu-id="241a6-172">Egy szerepkör példánya virtuális gépenként</span><span class="sxs-lookup"><span data-stu-id="241a6-172">One role instance per VM</span></span> | <span data-ttu-id="241a6-173">Az egyetlen csomópont több szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="241a6-173">Multiple services in a single node</span></span> |
| <span data-ttu-id="241a6-174">Csomópontok minimális száma</span><span class="sxs-lookup"><span data-stu-id="241a6-174">Minimum number of nodes</span></span> | <span data-ttu-id="241a6-175">2 / szerepkör</span><span class="sxs-lookup"><span data-stu-id="241a6-175">2 per role</span></span> | <span data-ttu-id="241a6-176">az üzemi környezetek fürtönként 5</span><span class="sxs-lookup"><span data-stu-id="241a6-176">5 per cluster, for production deployments</span></span> |
| <span data-ttu-id="241a6-177">Állapotkezelés</span><span class="sxs-lookup"><span data-stu-id="241a6-177">State management</span></span> | <span data-ttu-id="241a6-178">Állapot nélküli</span><span class="sxs-lookup"><span data-stu-id="241a6-178">Stateless</span></span> | <span data-ttu-id="241a6-179">Stateless vagy állapotalapú alkalmazások és szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="241a6-179">Stateless or stateful\*</span></span> |
| <span data-ttu-id="241a6-180">Hosting</span><span class="sxs-lookup"><span data-stu-id="241a6-180">Hosting</span></span> | <span data-ttu-id="241a6-181">Azure</span><span class="sxs-lookup"><span data-stu-id="241a6-181">Azure</span></span> | <span data-ttu-id="241a6-182">Felhőalapú vagy helyszíni</span><span class="sxs-lookup"><span data-stu-id="241a6-182">Cloud or on-premises</span></span> |
| <span data-ttu-id="241a6-183">Webtároláshoz</span><span class="sxs-lookup"><span data-stu-id="241a6-183">Web hosting</span></span> | <span data-ttu-id="241a6-184">IIS**</span><span class="sxs-lookup"><span data-stu-id="241a6-184">IIS**</span></span> | <span data-ttu-id="241a6-185">Self-hosting</span><span class="sxs-lookup"><span data-stu-id="241a6-185">Self-hosting</span></span> |
| <span data-ttu-id="241a6-186">Üzemi modell</span><span class="sxs-lookup"><span data-stu-id="241a6-186">Deployment model</span></span> | <span data-ttu-id="241a6-187">[Klasszikus telepítési modell][azure-deployment-models]</span><span class="sxs-lookup"><span data-stu-id="241a6-187">[Classic deployment model][azure-deployment-models]</span></span> | <span data-ttu-id="241a6-188">[Erőforrás-kezelő][azure-deployment-models]</span><span class="sxs-lookup"><span data-stu-id="241a6-188">[Resource Manager][azure-deployment-models]</span></span>  |
| <span data-ttu-id="241a6-189">Csomagolás</span><span class="sxs-lookup"><span data-stu-id="241a6-189">Packaging</span></span> | <span data-ttu-id="241a6-190">Cloud service csomagfájlok (.cspkg)</span><span class="sxs-lookup"><span data-stu-id="241a6-190">Cloud service package files (.cspkg)</span></span> | <span data-ttu-id="241a6-191">Alkalmazás- és szervizcsomagok</span><span class="sxs-lookup"><span data-stu-id="241a6-191">Application and service packages</span></span> |
| <span data-ttu-id="241a6-192">Alkalmazás frissítése</span><span class="sxs-lookup"><span data-stu-id="241a6-192">Application update</span></span> | <span data-ttu-id="241a6-193">Virtuális IP-címcsere vagy a működés közbeni frissítés</span><span class="sxs-lookup"><span data-stu-id="241a6-193">VIP swap or rolling update</span></span> | <span data-ttu-id="241a6-194">Működés közbeni frissítés</span><span class="sxs-lookup"><span data-stu-id="241a6-194">Rolling update</span></span> |
| <span data-ttu-id="241a6-195">Automatikus méretezés</span><span class="sxs-lookup"><span data-stu-id="241a6-195">Auto-scaling</span></span> | <span data-ttu-id="241a6-196">[Beépített szolgáltatás][cloud-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="241a6-196">[Built-in service][cloud-service-autoscale]</span></span> | <span data-ttu-id="241a6-197">Automatikus Virtuálisgép-méretezési készlet horizontális felskálázása</span><span class="sxs-lookup"><span data-stu-id="241a6-197">VM Scale Sets for auto scale out</span></span> |
| <span data-ttu-id="241a6-198">Hibakeresés</span><span class="sxs-lookup"><span data-stu-id="241a6-198">Debugging</span></span> | <span data-ttu-id="241a6-199">Helyi emulátor</span><span class="sxs-lookup"><span data-stu-id="241a6-199">Local emulator</span></span> | <span data-ttu-id="241a6-200">Helyi fürt</span><span class="sxs-lookup"><span data-stu-id="241a6-200">Local cluster</span></span> |


<span data-ttu-id="241a6-201">\* Állapotalapú alkalmazások és szolgáltatások használatát szolgáltatások [megbízható gyűjtemények] [ sf-reliable-collections] állapot tárolására replikák között, amelyek minden olvasási helyi a fürt csomópontjaihoz.</span><span class="sxs-lookup"><span data-stu-id="241a6-201">\* Stateful services use [reliable collections][sf-reliable-collections] to store state across replicas, so that all reads are local to the nodes in the cluster.</span></span> <span data-ttu-id="241a6-202">Írás a megbízhatóság csomópontok replikálódnak.</span><span class="sxs-lookup"><span data-stu-id="241a6-202">Writes are replicated across nodes for reliability.</span></span> <span data-ttu-id="241a6-203">Állapotmentes szolgáltatások rendelkezhet külső állapotot, egy adatbázist, vagy más külső tárolási.</span><span class="sxs-lookup"><span data-stu-id="241a6-203">Stateless services can have external state, using a database or other external storage.</span></span>

<span data-ttu-id="241a6-204">** Feldolgozói szerepkörök saját maguk is tárolhatja, ASP.NET Web API OWIN használatával.</span><span class="sxs-lookup"><span data-stu-id="241a6-204">** Worker roles can also self-host ASP.NET Web API using OWIN.</span></span>

## <a name="the-surveys-application-on-cloud-services"></a><span data-ttu-id="241a6-205">Az felmérések alkalmazást, a Cloud Services csomag</span><span class="sxs-lookup"><span data-stu-id="241a6-205">The Surveys application on Cloud Services</span></span>

<span data-ttu-id="241a6-206">Az alábbi ábrán az a Cloud Services felmérések alkalmazás architektúráját mutatja be.</span><span class="sxs-lookup"><span data-stu-id="241a6-206">The following diagram shows the architecture of the Surveys application running on Cloud Services.</span></span> 

![](./images/tailspin01.png)

<span data-ttu-id="241a6-207">Az alkalmazás két webes és feldolgozói szerepkörök áll.</span><span class="sxs-lookup"><span data-stu-id="241a6-207">The application consists of two web roles and a worker role.</span></span>

- <span data-ttu-id="241a6-208">A **Tailspin.Web** webes szerepkör egy ASP.NET-webhely Dejójáték a felhasználók által használt létrehozásához és kezeléséhez felmérések futtatja.</span><span class="sxs-lookup"><span data-stu-id="241a6-208">The **Tailspin.Web** web role hosts an ASP.NET website that Tailspin customers use to create and manage surveys.</span></span> <span data-ttu-id="241a6-209">Az ügyfelek is alkalmas erre a webhelyre iratkozzon fel az alkalmazás és az előfizetések kezelése.</span><span class="sxs-lookup"><span data-stu-id="241a6-209">Customers also use this website to sign up for the application and manage their subscriptions.</span></span> <span data-ttu-id="241a6-210">Végezetül Dejójáték rendszergazdái azt a bérlők listáját és kezeli a bérlői adatforgalom.</span><span class="sxs-lookup"><span data-stu-id="241a6-210">Finally, Tailspin administrators can use it to see the list of tenants and manage tenant data.</span></span> 

- <span data-ttu-id="241a6-211">A **Tailspin.Web.Survey.Public** webes szerepkör futtatja egy ASP.NET-webhely, ahol személyek Dejójáték ügyfelek közzététele felmérések vehet igénybe.</span><span class="sxs-lookup"><span data-stu-id="241a6-211">The **Tailspin.Web.Survey.Public** web role hosts an ASP.NET website where people can take the surveys that Tailspin customers publish.</span></span> 

- <span data-ttu-id="241a6-212">A **Tailspin.Workers.Survey** feldolgozói szerepkör háttérbeli feldolgozás.</span><span class="sxs-lookup"><span data-stu-id="241a6-212">The **Tailspin.Workers.Survey** worker role does background processing.</span></span> <span data-ttu-id="241a6-213">A webes szerepkörök munkaelemek helyezze a várólista-kiszolgálóra, és a feldolgozói szerepkör feldolgozza az elemeket.</span><span class="sxs-lookup"><span data-stu-id="241a6-213">The web roles put work items onto a queue, and the worker role processes the items.</span></span> <span data-ttu-id="241a6-214">Két háttérfeladatok meghatározott: felmérés exportálása megválaszolja az Azure SQL Database, és kiszámításának statisztikája megtekintheti a válaszokat.</span><span class="sxs-lookup"><span data-stu-id="241a6-214">Two background tasks are defined: Exporting survey answers to Azure SQL Database, and calculating statistics for survey answers.</span></span>

<span data-ttu-id="241a6-215">Cloud Services mellett a felmérések alkalmazás használja a néhány más Azure-szolgáltatásokkal:</span><span class="sxs-lookup"><span data-stu-id="241a6-215">In addition to Cloud Services, the Surveys application uses some other Azure services:</span></span>

- <span data-ttu-id="241a6-216">**Az Azure Storage** tároló felmérésekkel, felmérésekkel válaszok és bérlői kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="241a6-216">**Azure Storage** to store surveys, surveys answers, and tenant information.</span></span>

- <span data-ttu-id="241a6-217">**Azure Redis Cache** gyorsítótárazza a gyorsabb olvasási hozzáférés az Azure Storage tárolt adatok egy részét.</span><span class="sxs-lookup"><span data-stu-id="241a6-217">**Azure Redis Cache** to cache some of the data that is stored in Azure Storage, for faster read access.</span></span> 

- <span data-ttu-id="241a6-218">**Az Azure Active Directory** (az Azure AD) segítségével hitelesíti az ügyfelek és Dejójáték rendszergazdák.</span><span class="sxs-lookup"><span data-stu-id="241a6-218">**Azure Active Directory** (Azure AD) to authenticate customers and Tailspin administrators.</span></span>

- <span data-ttu-id="241a6-219">**Az Azure SQL Database** elemzés felmérés válaszait tárolásához.</span><span class="sxs-lookup"><span data-stu-id="241a6-219">**Azure SQL Database** to store the survey answers for analysis.</span></span> 

## <a name="moving-to-service-fabric"></a><span data-ttu-id="241a6-220">A Service Fabric áthelyezése</span><span class="sxs-lookup"><span data-stu-id="241a6-220">Moving to Service Fabric</span></span>

<span data-ttu-id="241a6-221">Ahogy azt korábban említettük, a cél az ebben a fázisban a minimálisan szükséges változtatásokat a Service Fabric lett áttelepíti.</span><span class="sxs-lookup"><span data-stu-id="241a6-221">As mentioned, the goal of this phase was migrating to Service Fabric with the minimum necessary changes.</span></span> <span data-ttu-id="241a6-222">Ebből a célból létrehozott minden felhőalapú szolgáltatás szerepkör az eredeti alkalmazásban megfelelő állapotmentes szolgáltatásokhoz:</span><span class="sxs-lookup"><span data-stu-id="241a6-222">To that end, we created stateless services corresponding to each cloud service role in the original application:</span></span>

![](./images/tailspin02.png)

<span data-ttu-id="241a6-223">Szándékosan Ez az architektúra nagyon hasonlít az eredeti alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="241a6-223">Intentionally, this architecture is very similar to the original application.</span></span> <span data-ttu-id="241a6-224">A diagram azonban néhány fontos különbség elrejti.</span><span class="sxs-lookup"><span data-stu-id="241a6-224">However, the diagram hides some important differences.</span></span> <span data-ttu-id="241a6-225">Ez a cikk a többi azt fogja megismerkedhet ezen eltérésekhez.</span><span class="sxs-lookup"><span data-stu-id="241a6-225">In the rest of this article, we'll explore those differences.</span></span> 


## <a name="converting-the-cloud-service-roles-to-services"></a><span data-ttu-id="241a6-226">A felhőszolgáltatás szerepköreit konvertálása szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="241a6-226">Converting the cloud service roles to services</span></span>

<span data-ttu-id="241a6-227">Ahogy azt korábban említettük, a Microsoft minden felhő szerepkör-szolgáltatás a Service Fabric-szolgáltatás át.</span><span class="sxs-lookup"><span data-stu-id="241a6-227">As mentioned, we migrated each cloud service role to a Service Fabric service.</span></span> <span data-ttu-id="241a6-228">Mivel a felhőszolgáltatás szerepköreit állapotmentes, ebben a szakaszban azt végrehajtott állapotmentes szolgáltatások létrehozására a Service Fabric logika.</span><span class="sxs-lookup"><span data-stu-id="241a6-228">Because cloud service roles are stateless, for this phase it made sense to create stateless services in Service Fabric.</span></span> 

<span data-ttu-id="241a6-229">Az áttelepítés azt leírt lépéseket követte [útmutató a webes és feldolgozói szerepkörök konvertálása a Service Fabric állapotmentes szolgáltatások][sf-migration].</span><span class="sxs-lookup"><span data-stu-id="241a6-229">For the migration, we followed the steps outlined in [Guide to converting Web and Worker Roles to Service Fabric stateless services][sf-migration].</span></span> 

### <a name="creating-the-web-front-end-services"></a><span data-ttu-id="241a6-230">A webes előtér-szolgáltatás létrehozása</span><span class="sxs-lookup"><span data-stu-id="241a6-230">Creating the web front-end services</span></span>

<span data-ttu-id="241a6-231">A Service Fabric szolgáltatás egy folyamatot, a Service Fabric-futtatókörnyezet által létrehozott belül fut.</span><span class="sxs-lookup"><span data-stu-id="241a6-231">In Service Fabric, a service runs inside a process created by the Service Fabric runtime.</span></span> <span data-ttu-id="241a6-232">A webes előtér, amely azt jelenti, hogy a szolgáltatás nem fut az IIS belül.</span><span class="sxs-lookup"><span data-stu-id="241a6-232">For a web front end, that means the service is not running inside IIS.</span></span> <span data-ttu-id="241a6-233">Ehelyett a szolgáltatás egy webkiszolgálót kell tárolni.</span><span class="sxs-lookup"><span data-stu-id="241a6-233">Instead, the service must host a web server.</span></span> <span data-ttu-id="241a6-234">Ezt a módszert nevezik *önálló üzemeltető*, mert a kódot, amely belül a folyamat fut gazdaként a web server.</span><span class="sxs-lookup"><span data-stu-id="241a6-234">This approach is called *self-hosting*, because the code that runs inside the process acts as the web server host.</span></span> 

<span data-ttu-id="241a6-235">Önálló gazdagép követelmény azt jelenti, hogy a Service Fabric-szolgáltatás nem használható az ASP.NET MVC vagy ASP.NET Web Forms keretrendszerre, mivel ezen keretrendszerek IIS-t igényelnek, és nem támogatják az önálló üzemeltető.</span><span class="sxs-lookup"><span data-stu-id="241a6-235">The requirement to self-host means that a Service Fabric service can't use ASP.NET MVC or ASP.NET Web Forms, because those frameworks require IIS and do not support self-hosting.</span></span> <span data-ttu-id="241a6-236">Az önálló üzemeltetési lehetőségek a következők:</span><span class="sxs-lookup"><span data-stu-id="241a6-236">Options for self-hosting include:</span></span>

- <span data-ttu-id="241a6-237">[Az ASP.NET Core][aspnet-core], önálló üzemeltetett használatával a [vércse] [ kestrel] webkiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="241a6-237">[ASP.NET Core][aspnet-core], self-hosted using the [Kestrel][kestrel] web server.</span></span> 
- <span data-ttu-id="241a6-238">[ASP.NET webes API-k][aspnet-webapi], önálló üzemeltetett használatával [OWIN][owin].</span><span class="sxs-lookup"><span data-stu-id="241a6-238">[ASP.NET Web API][aspnet-webapi], self-hosted using [OWIN][owin].</span></span>
- <span data-ttu-id="241a6-239">Többek között külső keretrendszerek [Nancy](http://nancyfx.org/).</span><span class="sxs-lookup"><span data-stu-id="241a6-239">Third-party frameworks such as [Nancy](http://nancyfx.org/).</span></span>

<span data-ttu-id="241a6-240">Az eredeti felmérések alkalmazást ASP.NET MVC használja.</span><span class="sxs-lookup"><span data-stu-id="241a6-240">The original Surveys application uses ASP.NET MVC.</span></span> <span data-ttu-id="241a6-241">ASP.NET MVC a Service Fabric önálló nem futhat, mert azt az alább áttelepítési lehetőségek figyelembe venni:</span><span class="sxs-lookup"><span data-stu-id="241a6-241">Because ASP.NET MVC cannot be self-hosted in Service Fabric, we considered the following migration options:</span></span>

- <span data-ttu-id="241a6-242">A webes szerepkörök az ASP.NET Core, amely lehet önálló központi portot.</span><span class="sxs-lookup"><span data-stu-id="241a6-242">Port the web roles to ASP.NET Core, which can be self-hosted.</span></span>
- <span data-ttu-id="241a6-243">A webhely átalakítása egy egyoldalas alkalmazás (SPA), amely meghívja a webes API-k megvalósított ASP.NET Web API használatával.</span><span class="sxs-lookup"><span data-stu-id="241a6-243">Convert the web site into a single-page application (SPA) that calls a web API implemented using ASP.NET Web API.</span></span> <span data-ttu-id="241a6-244">Ez igényelt volna az előtér-webkiszolgáló teljes újratervezése.</span><span class="sxs-lookup"><span data-stu-id="241a6-244">This would have required a complete redesign of the web front end.</span></span>
- <span data-ttu-id="241a6-245">Tartsa a meglévő ASP.NET MVC-kódot, és telepítheti a Windows Server tárolóban lévő IIS Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="241a6-245">Keep the existing ASP.NET MVC code and deploy IIS in a Windows Server container to Service Fabric.</span></span> <span data-ttu-id="241a6-246">Ez a megközelítés igényelnének kevéssé vagy egyáltalán ne kód módosítása.</span><span class="sxs-lookup"><span data-stu-id="241a6-246">This approach would require little or no code change.</span></span> <span data-ttu-id="241a6-247">Azonban [tároló támogatási] [ sf-containers] a Service Fabric jelenleg még előzetes verzió.</span><span class="sxs-lookup"><span data-stu-id="241a6-247">However, [container support][sf-containers] in Service Fabric is currently still in preview.</span></span>

<span data-ttu-id="241a6-248">E szempontok alapján, azt első használatát választotta, az ASP.NET Core eljárás.</span><span class="sxs-lookup"><span data-stu-id="241a6-248">Based on these considerations, we selected the first option, porting to ASP.NET Core.</span></span> <span data-ttu-id="241a6-249">Ehhez a leírt lépések azt követni [áttelepítése az ASP.NET MVC az ASP.NET Core MVC][aspnet-migration].</span><span class="sxs-lookup"><span data-stu-id="241a6-249">To do so, we followed the steps described in [Migrating From ASP.NET MVC to ASP.NET Core MVC][aspnet-migration].</span></span> 

> [!NOTE]
> <span data-ttu-id="241a6-250">Ha az ASP.NET Core használ vércse, helyezze elé, biztonsági okokból az internetről érkező forgalmat fog kezelni vércse fordított proxykiszolgálójaként.</span><span class="sxs-lookup"><span data-stu-id="241a6-250">When using ASP.NET Core with Kestrel, you should place a reverse proxy in front of Kestrel to handle traffic from the Internet, for security reasons.</span></span> <span data-ttu-id="241a6-251">További információkért lásd: [vércse web server ASP.NET Core implementációjában][kestrel].</span><span class="sxs-lookup"><span data-stu-id="241a6-251">For more information, see [Kestrel web server implementation in ASP.NET Core][kestrel].</span></span> <span data-ttu-id="241a6-252">A szakasz [az alkalmazás telepítése](#deploying-the-application) ajánlott az Azure-telepítés ismerteti.</span><span class="sxs-lookup"><span data-stu-id="241a6-252">The section [Deploying the application](#deploying-the-application) describes a recommended Azure deployment.</span></span>

### <a name="http-listeners"></a><span data-ttu-id="241a6-253">HTTP-figyelője</span><span class="sxs-lookup"><span data-stu-id="241a6-253">HTTP listeners</span></span>

<span data-ttu-id="241a6-254">A felhőalapú szolgáltatások egy webes vagy feldolgozói szerepkör HTTP-végponttal mutatja is deklarálni kell legyen a [szolgáltatásdefiníciós fájl][cloud-service-endpoints].</span><span class="sxs-lookup"><span data-stu-id="241a6-254">In Cloud Services, a web or worker role exposes an HTTP endpoint by declaring it in the [service definition file][cloud-service-endpoints].</span></span> <span data-ttu-id="241a6-255">A webes szerepkörnek rendelkeznie kell legalább egy végpontot.</span><span class="sxs-lookup"><span data-stu-id="241a6-255">A web role must have at least one endpoint.</span></span>

```xml
<!-- Cloud service endpoint -->
<Endpoints>
    <InputEndpoint name="HttpIn" protocol="http" port="80" />
</Endpoints>
```

<span data-ttu-id="241a6-256">Hasonlóképpen a Service Fabric-végpontok egy szolgáltatás jegyzékfájlban deklarált:</span><span class="sxs-lookup"><span data-stu-id="241a6-256">Similarly, Service Fabric endpoints are declared in a service manifest:</span></span> 

```xml
<!-- Service Fabric endpoint -->
<Endpoints>
    <Endpoint Protocol="http" Name="ServiceEndpoint" Type="Input" Port="8002" />
</Endpoints>
```

<span data-ttu-id="241a6-257">Egy felhőalapú szolgáltatás szerepkör eltérően azonban a Service Fabric-szolgáltatások is elhelyezhető belül ugyanahhoz a csomóponthoz.</span><span class="sxs-lookup"><span data-stu-id="241a6-257">Unlike a cloud service role, however, Service Fabric services can be co-located within the same node.</span></span> <span data-ttu-id="241a6-258">Minden szolgáltatás, ezért egy különálló porttal kell figyelni.</span><span class="sxs-lookup"><span data-stu-id="241a6-258">Therefore, every service must listen on a distinct port.</span></span> <span data-ttu-id="241a6-259">A cikk későbbi részében mutatjuk hogyan beolvasása irányított ügyfélkéréseket a 80-as port vagy a 443-as portot a szolgáltatás a megfelelő porthoz.</span><span class="sxs-lookup"><span data-stu-id="241a6-259">Later in this article, we'll discuss how client requests on port 80 or port 443 get routed to the correct port for the service.</span></span>

<span data-ttu-id="241a6-260">Egy szolgáltatás, explicit módon létre kell hoznia figyelői végpontok.</span><span class="sxs-lookup"><span data-stu-id="241a6-260">A service must explicitly create listeners for each endpoint.</span></span> <span data-ttu-id="241a6-261">A hiba oka, hogy a Service Fabric független kommunikációs verem kapcsolatban-e.</span><span class="sxs-lookup"><span data-stu-id="241a6-261">The reason is that Service Fabric is agnostic about communication stacks.</span></span> <span data-ttu-id="241a6-262">További információkért lásd: [egy szolgáltatás előtér-webkiszolgáló az ASP.NET Core segítségével az alkalmazás összeállítása][sf-aspnet-core].</span><span class="sxs-lookup"><span data-stu-id="241a6-262">For more information, see [Build a web service front end for your application using ASP.NET Core][sf-aspnet-core].</span></span>

## <a name="packaging-and-configuration"></a><span data-ttu-id="241a6-263">Csomagolás és konfigurálása</span><span class="sxs-lookup"><span data-stu-id="241a6-263">Packaging and configuration</span></span>

 <span data-ttu-id="241a6-264">Egy felhőalapú szolgáltatás a következő konfigurációs és a csomag fájlokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="241a6-264">A cloud service contains the following configuration and package files:</span></span>

| <span data-ttu-id="241a6-265">Fájl</span><span class="sxs-lookup"><span data-stu-id="241a6-265">File</span></span> | <span data-ttu-id="241a6-266">Leírás</span><span class="sxs-lookup"><span data-stu-id="241a6-266">Description</span></span> |
|------|-------------|
| <span data-ttu-id="241a6-267">Service definition (.csdef)</span><span class="sxs-lookup"><span data-stu-id="241a6-267">Service definition (.csdef)</span></span> | <span data-ttu-id="241a6-268">A felhőszolgáltatás konfigurálása az Azure-ban használt beállításokat.</span><span class="sxs-lookup"><span data-stu-id="241a6-268">Settings used by Azure to configure the cloud service.</span></span> <span data-ttu-id="241a6-269">Határozza meg a szerepköröket, végpontok, indítási feladatok és a konfigurációs beállítások neveit.</span><span class="sxs-lookup"><span data-stu-id="241a6-269">Defines the roles, endpoints, startup tasks, and the names of configuration settings.</span></span> |
| <span data-ttu-id="241a6-270">Szolgáltatás konfigurációs (.cscfg)</span><span class="sxs-lookup"><span data-stu-id="241a6-270">Service configuration (.cscfg)</span></span> | <span data-ttu-id="241a6-271">Egy központi telepítési beállításokat, beleértve a szerepkörpéldányok számát, a végpont portszámok és a konfigurációs beállítások értékeit.</span><span class="sxs-lookup"><span data-stu-id="241a6-271">Per-deployment settings, including the number of role instances, endpoint port numbers, and the values of configuration settings.</span></span> 
| <span data-ttu-id="241a6-272">Szolgáltatás csomagba (.cspkg)</span><span class="sxs-lookup"><span data-stu-id="241a6-272">Service package (.cspkg)</span></span> | <span data-ttu-id="241a6-273">Tartalmazza az alkalmazás kódjában és konfigurációk és a szolgáltatásdefiníciós fájlban.</span><span class="sxs-lookup"><span data-stu-id="241a6-273">Contains the application code and configurations, and the service definition file.</span></span>  |

<span data-ttu-id="241a6-274">Van egy .csdef fájl a teljes alkalmazás esetében.</span><span class="sxs-lookup"><span data-stu-id="241a6-274">There is one .csdef file for the entire application.</span></span> <span data-ttu-id="241a6-275">Több különböző környezetekben, például helyi .cscfg-fájlok, tesztelési vagy éles lehet.</span><span class="sxs-lookup"><span data-stu-id="241a6-275">You can have multiple .cscfg files for different environments, such as local, test, or production.</span></span> <span data-ttu-id="241a6-276">Ha a szolgáltatás fut, a .cscfg, de a .csdef nem frissíthető.</span><span class="sxs-lookup"><span data-stu-id="241a6-276">When the service is running, you can update the .cscfg but not the .csdef.</span></span> <span data-ttu-id="241a6-277">További információkért lásd: [Mi a felhőalapú szolgáltatás modell, és hogyan tegye csomag azt?][cloud-service-config]</span><span class="sxs-lookup"><span data-stu-id="241a6-277">For more information, see [What is the Cloud Service model and how do I package it?][cloud-service-config]</span></span>

<span data-ttu-id="241a6-278">A Service Fabric rendelkezik egy hasonló osztás szolgáltatás közötti *definition* és szolgáltatás *beállítások*, de a struktúra részletesebb.</span><span class="sxs-lookup"><span data-stu-id="241a6-278">Service Fabric has a similar division between a service *definition* and service *settings*, but the structure is more granular.</span></span> <span data-ttu-id="241a6-279">Szeretné megtudni, a Service Fabric konfigurációs modell, segít megérteni, hogyan lesz csomagolva a Service Fabric-alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="241a6-279">To understand Service Fabric's configuration model, it helps to understand how a Service Fabric application is packaged.</span></span> <span data-ttu-id="241a6-280">Ez a struktúra:</span><span class="sxs-lookup"><span data-stu-id="241a6-280">Here is the structure:</span></span>

```
Application package
  - Service packages
    - Code package
    - Configuration package
    - Data package (optional)
```

<span data-ttu-id="241a6-281">Az alkalmazáscsomag, akkor telepíteni.</span><span class="sxs-lookup"><span data-stu-id="241a6-281">The application package is what you deploy.</span></span> <span data-ttu-id="241a6-282">Egy vagy több szolgáltatás csomagokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="241a6-282">It contains one or more service packages.</span></span> <span data-ttu-id="241a6-283">A szolgáltatáscsomagot a kódot, a konfiguráció és az adatok csomagot tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="241a6-283">A service package contains code, configuration, and data packages.</span></span> <span data-ttu-id="241a6-284">A kódcsomag a szolgáltatások bináris fájljait tartalmazza, és a konfigurációs csomag konfigurációs beállításait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="241a6-284">The code package contains the binaries for the services, and the configuration package contains configuration settings.</span></span> <span data-ttu-id="241a6-285">Ez a modell lehetővé teszi a teljes alkalmazás üzembe helyezésével egyedi szolgáltatások frissítésére.</span><span class="sxs-lookup"><span data-stu-id="241a6-285">This model allows you to upgrade individual services without redeploying the entire application.</span></span> <span data-ttu-id="241a6-286">Lehetővé teszi a frissítés csak a konfigurációs beállításokat, ismételt üzembe helyezéssel a kódot, vagy a szolgáltatás újraindítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="241a6-286">It also lets you update just the configuration settings, without redeploying the code or restarting the service.</span></span>

<span data-ttu-id="241a6-287">A Service Fabric-alkalmazás a következő konfigurációs fájlokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="241a6-287">A Service Fabric application contains the following configuration files:</span></span>

| <span data-ttu-id="241a6-288">Fájl</span><span class="sxs-lookup"><span data-stu-id="241a6-288">File</span></span> | <span data-ttu-id="241a6-289">Hely</span><span class="sxs-lookup"><span data-stu-id="241a6-289">Location</span></span> | <span data-ttu-id="241a6-290">Leírás</span><span class="sxs-lookup"><span data-stu-id="241a6-290">Description</span></span> |
|------|----------|-------------|
| <span data-ttu-id="241a6-291">ApplicationManifest.xml</span><span class="sxs-lookup"><span data-stu-id="241a6-291">ApplicationManifest.xml</span></span> | <span data-ttu-id="241a6-292">Alkalmazáscsomag</span><span class="sxs-lookup"><span data-stu-id="241a6-292">Application package</span></span> | <span data-ttu-id="241a6-293">Határozza meg a szolgáltatásokat, amelyeket az alkalmazás összeállítása.</span><span class="sxs-lookup"><span data-stu-id="241a6-293">Defines the services that compose the application.</span></span> |
| <span data-ttu-id="241a6-294">ServiceManifest.xml</span><span class="sxs-lookup"><span data-stu-id="241a6-294">ServiceManifest.xml</span></span> | <span data-ttu-id="241a6-295">Szolgáltatáscsomag</span><span class="sxs-lookup"><span data-stu-id="241a6-295">Service package</span></span>| <span data-ttu-id="241a6-296">Egy vagy több szolgáltatást ismerteti.</span><span class="sxs-lookup"><span data-stu-id="241a6-296">Describes one or more services.</span></span> |
| <span data-ttu-id="241a6-297">Settings.XML</span><span class="sxs-lookup"><span data-stu-id="241a6-297">Settings.xml</span></span> | <span data-ttu-id="241a6-298">Konfigurációs csomag</span><span class="sxs-lookup"><span data-stu-id="241a6-298">Configuration package</span></span> | <span data-ttu-id="241a6-299">A szolgáltatások a szolgáltatás csomagban meghatározott konfigurációs beállításait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="241a6-299">Contains configuration settings for the services defined in the service package.</span></span> |

<span data-ttu-id="241a6-300">További információkért lásd: [egy alkalmazás a Service Fabric modell][sf-application-model].</span><span class="sxs-lookup"><span data-stu-id="241a6-300">For more information, see [Model an application in Service Fabric][sf-application-model].</span></span>

<span data-ttu-id="241a6-301">A különböző konfigurációs beállítások több környezetek támogatásához a következő módszert használja, leírt [alkalmazás paramétereinek több környezet kezelése][sf-multiple-environments]:</span><span class="sxs-lookup"><span data-stu-id="241a6-301">To support different configuration settings for multiple environments, use the following approach, described in [Manage application parameters for multiple environments][sf-multiple-environments]:</span></span>

1. <span data-ttu-id="241a6-302">A szolgáltatás Setting.xml fájlban adja meg a beállítást.</span><span class="sxs-lookup"><span data-stu-id="241a6-302">Define the setting in the Setting.xml file for the service.</span></span>
2. <span data-ttu-id="241a6-303">Az alkalmazás jegyzékében egy felülbírálást a beállítás határozza meg.</span><span class="sxs-lookup"><span data-stu-id="241a6-303">In the application manifest, define an override for the setting.</span></span>
3. <span data-ttu-id="241a6-304">Környezet beállításokat alkalmazásparaméter-fájlokat kell helyezni.</span><span class="sxs-lookup"><span data-stu-id="241a6-304">Put environment-specific settings into application parameter files.</span></span>


## <a name="deploying-the-application"></a><span data-ttu-id="241a6-305">Az alkalmazás telepítése</span><span class="sxs-lookup"><span data-stu-id="241a6-305">Deploying the application</span></span>

<span data-ttu-id="241a6-306">Azure Cloud Services egy olyan felügyelt szolgáltatás, mivel a Service Fabric futtatókörnyezettel.</span><span class="sxs-lookup"><span data-stu-id="241a6-306">Whereas Azure Cloud Services is a managed service, Service Fabric is a runtime.</span></span> <span data-ttu-id="241a6-307">Service Fabric-fürtök hozhat létre, sok környezetben, beleértve az Azure és a helyszínen.</span><span class="sxs-lookup"><span data-stu-id="241a6-307">You can create Service Fabric clusters in many environments, including Azure and on premises.</span></span> <span data-ttu-id="241a6-308">Ez a cikk azt összpontosítani üzembe helyezése az Azure-bA.</span><span class="sxs-lookup"><span data-stu-id="241a6-308">In this article, we focus on deploying to Azure.</span></span> 

<span data-ttu-id="241a6-309">Az alábbi ábrán látható javasolt üzembe helyezési forgatókönyv:</span><span class="sxs-lookup"><span data-stu-id="241a6-309">The following diagram shows a recommended deployment:</span></span>

![](./images/tailspin-cluster.png)

<span data-ttu-id="241a6-310">A Service Fabric-fürt központi telepítése egy [Virtuálisgép-méretezési készlet][vm-scale-sets].</span><span class="sxs-lookup"><span data-stu-id="241a6-310">The Service Fabric cluster is deployed to a [VM scale set][vm-scale-sets].</span></span> <span data-ttu-id="241a6-311">Méretezési csoportok az Azure számítási erőforrás üzembe helyezését, és az azonos virtuális gépek kezelésére használható.</span><span class="sxs-lookup"><span data-stu-id="241a6-311">Scale sets are an Azure Compute resource that can be used to deploy and manage a set of identical VMs.</span></span> 

<span data-ttu-id="241a6-312">Ahogy azt korábban említettük, a vércse webkiszolgáló fordított proxy biztonsági okokból szükséges.</span><span class="sxs-lookup"><span data-stu-id="241a6-312">As mentioned, the Kestrel web server requires a reverse proxy for security reasons.</span></span> <span data-ttu-id="241a6-313">Ez az ábra mutatja [Azure Application Gateway][application-gateway], vagyis az Azure-szolgáltatások, amelyek különböző réteg 7 terheléselosztási képességeket biztosít.</span><span class="sxs-lookup"><span data-stu-id="241a6-313">This diagram shows [Azure Application Gateway][application-gateway], which is an Azure service that offers various layer 7 load balancing capabilities.</span></span> <span data-ttu-id="241a6-314">Fordított proxyszolgáltatásként működik, az ügyfélkapcsolatok leállítását és a kérelmek háttérvégpontokhoz való továbbítását végzi.</span><span class="sxs-lookup"><span data-stu-id="241a6-314">It acts as a reverse-proxy service, terminating the client connection and forwarding requests to back-end endpoints.</span></span> <span data-ttu-id="241a6-315">Egy másik fordított proxy megoldással, például az nginx használhatja.</span><span class="sxs-lookup"><span data-stu-id="241a6-315">You might use a different reverse proxy solution, such as nginx.</span></span>  

### <a name="layer-7-routing"></a><span data-ttu-id="241a6-316">7 útválasztási. réteg</span><span class="sxs-lookup"><span data-stu-id="241a6-316">Layer 7 routing</span></span>

<span data-ttu-id="241a6-317">Az a [eredeti felmérések alkalmazás](https://msdn.microsoft.com/library/hh534477.aspx#sec21), a 80-as porton figyel egy webes szerepkör, és a 443-as porton figyel a webes szerepkör.</span><span class="sxs-lookup"><span data-stu-id="241a6-317">In the [original Surveys application](https://msdn.microsoft.com/library/hh534477.aspx#sec21), one web role listened on port 80, and the other web role listened on port 443.</span></span> 

| <span data-ttu-id="241a6-318">Nyilvános webhely</span><span class="sxs-lookup"><span data-stu-id="241a6-318">Public site</span></span> | <span data-ttu-id="241a6-319">Felmérés felügyeleti webhely</span><span class="sxs-lookup"><span data-stu-id="241a6-319">Survey management site</span></span> |
|-------------|------------------------|
| `http://tailspin.cloudapp.net` | `https://tailspin.cloudapp.net` |

<span data-ttu-id="241a6-320">Egy másik lehetőség, hogy használja a réteg 7 útválasztást.</span><span class="sxs-lookup"><span data-stu-id="241a6-320">Another option is to use layer 7 routing.</span></span> <span data-ttu-id="241a6-321">Ezt a módszert használja, az URL-cím elérési útja eltér a háttérben futó különböző portszámokat beolvasása irányítja.</span><span class="sxs-lookup"><span data-stu-id="241a6-321">In this approach, different URL paths get routed to different port numbers on the back end.</span></span> <span data-ttu-id="241a6-322">Például a nyilvános webhely használhatja kezdetű URL-cím elérési utak `/public/`.</span><span class="sxs-lookup"><span data-stu-id="241a6-322">For example, the public site might use URL paths starting with `/public/`.</span></span> 

<span data-ttu-id="241a6-323">A réteg 7 útválasztáshoz lehetőségek a következők:</span><span class="sxs-lookup"><span data-stu-id="241a6-323">Options for layer 7 routing include:</span></span>

- <span data-ttu-id="241a6-324">Alkalmazásátjáró használja.</span><span class="sxs-lookup"><span data-stu-id="241a6-324">Use Application Gateway.</span></span> 

- <span data-ttu-id="241a6-325">A hálózati virtuális készülék (NVA), például az nginx használja.</span><span class="sxs-lookup"><span data-stu-id="241a6-325">Use a network virtual appliance (NVA), such as nginx.</span></span>

- <span data-ttu-id="241a6-326">Egy egyéni átjáró írható állapotmentes szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="241a6-326">Write a custom gateway as a stateless service.</span></span>

<span data-ttu-id="241a6-327">Vegye figyelembe ezt a módszert használja, ha két vagy több szolgáltatás nyilvános HTTP végpontokon rendelkezik, de szeretné, hogy egy hely egy egyetlen tartománynév jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="241a6-327">Consider this approach if you have two or more services with public HTTP endpoints, but want them to appear as one site with a single domain name.</span></span>

> <span data-ttu-id="241a6-328">Egy közelítik meg, hogy azt *nem* ajánlott engedélyezi, hogy a Service Fabric keresztül kérelmek küldésére külső ügyfelek [fordított proxy][sf-reverse-proxy].</span><span class="sxs-lookup"><span data-stu-id="241a6-328">One approach that we *don't* recommend is allowing external clients to send requests through the Service Fabric [reverse proxy][sf-reverse-proxy].</span></span> <span data-ttu-id="241a6-329">Bár ez lehetséges, a fordított proxy szolgáltatások közötti kommunikációs számára készült.</span><span class="sxs-lookup"><span data-stu-id="241a6-329">Although this is possible, the reverse proxy is intended for service-to-service communication.</span></span> <span data-ttu-id="241a6-330">Nyissa meg a külső ügyfeleknek közzététele *bármely* szolgáltatás fut, amely HTTP-végponttal rendelkezik a fürtben.</span><span class="sxs-lookup"><span data-stu-id="241a6-330">Opening it to external clients exposes *any* service running in the cluster that has an HTTP endpoint.</span></span>

### <a name="node-types-and-placement-constraints"></a><span data-ttu-id="241a6-331">Csomóponttípusok és elhelyezési korlátozás</span><span class="sxs-lookup"><span data-stu-id="241a6-331">Node types and placement constraints</span></span>

<span data-ttu-id="241a6-332">A fent látható, a szolgáltatások futnak a csomóponton.</span><span class="sxs-lookup"><span data-stu-id="241a6-332">In the deployment shown above, all the services run on all the nodes.</span></span> <span data-ttu-id="241a6-333">Azonban szerint is csoportosíthatók-szolgáltatások, hogy bizonyos szolgáltatásokat csak az adott csomóponton a fürtön belül.</span><span class="sxs-lookup"><span data-stu-id="241a6-333">However, you can also group services, so that certain services run only on particular nodes within the cluster.</span></span> <span data-ttu-id="241a6-334">Ezt a módszert használja az okai:</span><span class="sxs-lookup"><span data-stu-id="241a6-334">Reasons to use this approach include:</span></span>

- <span data-ttu-id="241a6-335">Egyes szolgáltatások futtatnak különböző Virtuálisgép-típusokon.</span><span class="sxs-lookup"><span data-stu-id="241a6-335">Run some services on different VM types.</span></span> <span data-ttu-id="241a6-336">Például bizonyos szolgáltatásokat lehet, hogy számítási igényű vagy Feldolgozóegységekkel igényelnek.</span><span class="sxs-lookup"><span data-stu-id="241a6-336">For example, some services might be compute-intensive or require GPUs.</span></span> <span data-ttu-id="241a6-337">A Service Fabric-fürt Virtuálisgép-típusokon vegyesen lehet.</span><span class="sxs-lookup"><span data-stu-id="241a6-337">You can have a mix of VM types in your Service Fabric cluster.</span></span>
- <span data-ttu-id="241a6-338">Különítse el a háttér-szolgáltatásaihoz, biztonsági okokból az előtér-szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="241a6-338">Isolate front-end services from back-end services, for security reasons.</span></span> <span data-ttu-id="241a6-339">Az előtér-szolgáltatások fog futni, a csomópontok egy készletét, és a háttérszolgáltatások ugyanabban a fürtben lévő különböző csomópontokon fog futni.</span><span class="sxs-lookup"><span data-stu-id="241a6-339">All the front-end services will run on one set of nodes, and the back-end services will run on different nodes in the same cluster.</span></span>
- <span data-ttu-id="241a6-340">Különböző méretkövetelményekhez.</span><span class="sxs-lookup"><span data-stu-id="241a6-340">Different scale requirements.</span></span> <span data-ttu-id="241a6-341">Egyes szolgáltatások módosítania kell további csomópontján, mint más szolgáltatások futtatásához.</span><span class="sxs-lookup"><span data-stu-id="241a6-341">Some services might need to run on more nodes than other services.</span></span> <span data-ttu-id="241a6-342">Például ha megadja az előtér-csomópontok és a háttér-csomópontok, minden is méretezhető egymástól függetlenül.</span><span class="sxs-lookup"><span data-stu-id="241a6-342">For example, if you define front-end nodes and back-end nodes, each set can be scaled independently.</span></span>

<span data-ttu-id="241a6-343">Az alábbi ábrán látható, amely elválasztja az előtér- és szolgáltatások fürt:</span><span class="sxs-lookup"><span data-stu-id="241a6-343">The following diagram shows a cluster that separates front-end and back-end services:</span></span>

![](././images/node-placement.png)

<span data-ttu-id="241a6-344">Ez a megközelítés megvalósításához:</span><span class="sxs-lookup"><span data-stu-id="241a6-344">To implement this approach:</span></span>

1.  <span data-ttu-id="241a6-345">Ha a fürt létrehozása két vagy több csomópont típust határoznak meg.</span><span class="sxs-lookup"><span data-stu-id="241a6-345">When you create the cluster, define two or more node types.</span></span> 
2.  <span data-ttu-id="241a6-346">Az egyes szolgáltatásokhoz, használjon [placement Constraints korlátozásokat] [ sf-placement-constraints] a szolgáltatás hozzárendelése csomóponttípus.</span><span class="sxs-lookup"><span data-stu-id="241a6-346">For each service, use [placement constraints][sf-placement-constraints] to assign the service to a node type.</span></span>

<span data-ttu-id="241a6-347">Központi telepítésekor az Azure-ba, az egyes csomóponttípusok telepítve van egy külön Virtuálisgép-méretezési készlet.</span><span class="sxs-lookup"><span data-stu-id="241a6-347">When you deploy to Azure, each node type is deployed to a separate VM scale set.</span></span> <span data-ttu-id="241a6-348">A Service Fabric-fürt minden csomópont esetében is.</span><span class="sxs-lookup"><span data-stu-id="241a6-348">The Service Fabric cluster spans all node types.</span></span> <span data-ttu-id="241a6-349">További információkért lásd: [Service Fabric csomóponttípusok és a virtuálisgép-méretezési csoportok közötti kapcsolat][sf-node-types].</span><span class="sxs-lookup"><span data-stu-id="241a6-349">For more information, see [The relationship between Service Fabric node types and Virtual Machine Scale Sets][sf-node-types].</span></span>

> <span data-ttu-id="241a6-350">Ha egy fürtben több csomóponttípus, egy csomóponttípus van kijelölve a *elsődleges* csomóponttípus.</span><span class="sxs-lookup"><span data-stu-id="241a6-350">If a cluster has multiple node types, one node type is designated as the *primary* node type.</span></span> <span data-ttu-id="241a6-351">A Service Fabric futásidejű szolgáltatás, a fürt felügyeleti szolgáltatás, például az elsődleges csomóponttípusok futtatható.</span><span class="sxs-lookup"><span data-stu-id="241a6-351">Service Fabric runtime services, such as the Cluster Management Service, run on the primary node type.</span></span> <span data-ttu-id="241a6-352">Az elsődleges csomóponttípusok éles környezetben legalább 5-csomópont kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="241a6-352">Provision at least 5 nodes for the primary node type in a production environment.</span></span> <span data-ttu-id="241a6-353">A más típusú csomópont rendelkeznie kell legalább 2 csomópontok.</span><span class="sxs-lookup"><span data-stu-id="241a6-353">The other node type should have at least 2 nodes.</span></span>

## <a name="configuring-and-managing-the-cluster"></a><span data-ttu-id="241a6-354">A fürt kezelése és konfigurálása</span><span class="sxs-lookup"><span data-stu-id="241a6-354">Configuring and managing the cluster</span></span>

<span data-ttu-id="241a6-355">Fürtök védetté kell tennie, hogy jogosulatlan felhasználók csatlakozzon a fürthöz.</span><span class="sxs-lookup"><span data-stu-id="241a6-355">Clusters must be secured to prevent unauthorized users from connecting to your cluster.</span></span> <span data-ttu-id="241a6-356">Javasoljuk, hogy az Azure AD segítségével hitelesíti az ügyfeleket, és az-csomópontok biztonsági X.509-tanúsítványokat.</span><span class="sxs-lookup"><span data-stu-id="241a6-356">It is recommended to use Azure AD to authenticate clients, and X.509 certificates for node-to-node security.</span></span> <span data-ttu-id="241a6-357">További információkért lásd: [Service Fabric-fürt biztonsági forgatókönyvek][sf-security].</span><span class="sxs-lookup"><span data-stu-id="241a6-357">For more information, see [Service Fabric cluster security scenarios][sf-security].</span></span>

<span data-ttu-id="241a6-358">Egy nyilvános HTTPS-végpont konfigurálásához lásd: [adja meg az erőforrásokat. a szolgáltatás jegyzékben][sf-manifest-resources].</span><span class="sxs-lookup"><span data-stu-id="241a6-358">To configure a public HTTPS endpoint, see [Specify resources in a service manifest][sf-manifest-resources].</span></span>

<span data-ttu-id="241a6-359">Az alkalmazás horizontális virtuális gépek felvétele a fürtbe.</span><span class="sxs-lookup"><span data-stu-id="241a6-359">You can scale out the application by adding VMs to the cluster.</span></span> <span data-ttu-id="241a6-360">VM skálázási készletekben támogatási automatikus skálázást alapján teljesítményszámlálók automatikus méretezése szabályokkal.</span><span class="sxs-lookup"><span data-stu-id="241a6-360">VM scale sets support auto-scaling using auto-scale rules based on performance counters.</span></span> <span data-ttu-id="241a6-361">További információkért lásd: [bejövő vagy kimenő automatikus méretezése szabályok használatával a Service Fabric-fürt méretezése][sf-auto-scale].</span><span class="sxs-lookup"><span data-stu-id="241a6-361">For more information, see [Scale a Service Fabric cluster in or out using auto-scale rules][sf-auto-scale].</span></span>

<span data-ttu-id="241a6-362">A fürt futása közben, akkor kell gyűjteni a egy központi helyen található minden csomópontot.</span><span class="sxs-lookup"><span data-stu-id="241a6-362">While the cluster is running, you should collect logs from all the nodes in a central location.</span></span> <span data-ttu-id="241a6-363">További információkért lásd: [Naplógyűjtéshez Azure Diagnostics használatával][sf-logs].</span><span class="sxs-lookup"><span data-stu-id="241a6-363">For more information, see [Collect logs by using Azure Diagnostics][sf-logs].</span></span>   


## <a name="conclusion"></a><span data-ttu-id="241a6-364">Összegzés</span><span class="sxs-lookup"><span data-stu-id="241a6-364">Conclusion</span></span>

<span data-ttu-id="241a6-365">A Service Fabric felmérések alkalmazás eljárás lett meglehetősen egyszerű.</span><span class="sxs-lookup"><span data-stu-id="241a6-365">Porting the Surveys application to Service Fabric was fairly straightforward.</span></span> <span data-ttu-id="241a6-366">Összefoglalva, hogy a következő volt:</span><span class="sxs-lookup"><span data-stu-id="241a6-366">To summarize, we did the following:</span></span>

- <span data-ttu-id="241a6-367">A szerepkörök konvertálva állapotmentes szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="241a6-367">Converted the roles to stateless services.</span></span>
- <span data-ttu-id="241a6-368">Az előtér-webkiszolgálók alakítja át az ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="241a6-368">Converted the web front ends to ASP.NET Core.</span></span>
- <span data-ttu-id="241a6-369">A csomag- és konfigurációs fájljait megváltozott a Service Fabric-modellbe.</span><span class="sxs-lookup"><span data-stu-id="241a6-369">Changed the packaging and configuration files to the Service Fabric model.</span></span>

<span data-ttu-id="241a6-370">Emellett a telepítési állapotról Felhőszolgáltatások egy Virtuálisgép-méretezési csoportban futó Service Fabric-fürt.</span><span class="sxs-lookup"><span data-stu-id="241a6-370">In addition, the deployment changed from Cloud Services to a Service Fabric cluster running in a VM Scale Set.</span></span>

## <a name="next-steps"></a><span data-ttu-id="241a6-371">További lépések</span><span class="sxs-lookup"><span data-stu-id="241a6-371">Next steps</span></span>

<span data-ttu-id="241a6-372">Most, hogy a felmérések alkalmazás legelterjedtebb sikeresen megtörtént, a Dejójáték szeretné kihasználni a Service Fabric-szolgáltatások, például független szolgáltatástelepítés és versioning.</span><span class="sxs-lookup"><span data-stu-id="241a6-372">Now that the Surveys application has been successfully ported, Tailspin wants to take advantage of Service Fabric features such as independent service deployment and versioning.</span></span> <span data-ttu-id="241a6-373">Ismerje meg, hogyan Dejójáték kiválasztott ezek a szolgáltatások számára, hogy kihasználja a Service Fabric funkciók részletesebb architektúrát [Azonosítóterületen egy Azure Service Fabric-alkalmazás átemelt Azure Cloud Services csomag][refactor-surveys]</span><span class="sxs-lookup"><span data-stu-id="241a6-373">Learn how Tailspin decomposed these services to a more granular architecture to take advantage of these Service Fabric features in [Refactor an Azure Service Fabric Application migrated from Azure Cloud Services][refactor-surveys]</span></span>

<!-- links -->

[application-gateway]: /azure/application-gateway/
[aspnet-core]: /aspnet/core/
[aspnet-webapi]: https://www.asp.net/web-api
[aspnet-migration]: /aspnet/core/migration/mvc
[aspnet-hosting]: /aspnet/core/fundamentals/hosting
[aspnet-webapi]: https://www.asp.net/web-api
[azure-deployment-models]: /azure/azure-resource-manager/resource-manager-deployment-model
[cloud-service-autoscale]: /azure/cloud-services/cloud-services-how-to-scale-portal
[cloud-service-config]: /azure/cloud-services/cloud-services-model-and-package
[cloud-service-endpoints]: /azure/cloud-services/cloud-services-enable-communication-role-instances#worker-roles-vs-web-roles
[kestrel]: https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel
[lb-probes]: /azure/load-balancer/load-balancer-custom-probe-overview
[owin]: https://www.asp.net/aspnet/overview/owin-and-katana
[refactor-surveys]: refactor-migrated-app.md
[sample-code]: https://github.com/mspnp/cloud-services-to-service-fabric
[sf-application-model]: /azure/service-fabric/service-fabric-application-model
[sf-aspnet-core]: /azure/service-fabric/service-fabric-add-a-web-frontend
[sf-auto-scale]: /azure/service-fabric/service-fabric-cluster-scale-up-down
[sf-compare-cloud-services]: /azure/service-fabric/service-fabric-cloud-services-migration-differences
[sf-connect-and-communicate]: /azure/service-fabric/service-fabric-connect-and-communicate-with-services
[sf-containers]: /azure/service-fabric/service-fabric-containers-overview
[sf-logs]: /azure/service-fabric/service-fabric-diagnostics-how-to-setup-wad
[sf-manifest-resources]: /azure/service-fabric/service-fabric-service-manifest-resources
[sf-migration]: /azure/service-fabric/service-fabric-cloud-services-migration-worker-role-stateless-service
[sf-multiple-environments]: /azure/service-fabric/service-fabric-manage-multiple-environment-app-configuration
[sf-node-types]: /azure/service-fabric/service-fabric-cluster-nodetypes
[sf-overview]: /azure/service-fabric/service-fabric-overview
[sf-placement-constraints]: /azure/service-fabric/service-fabric-cluster-resource-manager-cluster-description
[sf-reliable-collections]: /azure/service-fabric/service-fabric-reliable-services-reliable-collections
[sf-reliable-services]: /azure/service-fabric/service-fabric-reliable-services-introduction
[sf-reverse-proxy]: /azure/service-fabric/service-fabric-reverseproxy
[sf-security]: /azure/service-fabric/service-fabric-cluster-security
[sf-why-microservices]: /azure/service-fabric/service-fabric-overview-microservices
[tailspin-book]: https://msdn.microsoft.com/library/ff966499.aspx
[tailspin-scenario]: https://msdn.microsoft.com/library/hh534482.aspx
[unity]: https://msdn.microsoft.com/library/ff647202.aspx
[vm-scale-sets]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
