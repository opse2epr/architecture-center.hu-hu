---
title: Egy Azure Cloud Services az Azure Service Fabric-alkalmazás migrálása
description: Hogyan telepíthet át egy alkalmazást az Azure Cloud Services az Azure Service Fabric.
author: MikeWasson
ms.date: 04/11/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.openlocfilehash: e2b89fa51abdb7be6124ded6e64889b5b54854a4
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54487899"
---
# <a name="migrate-an-azure-cloud-services-application-to-azure-service-fabric"></a><span data-ttu-id="44e5b-103">Egy Azure Cloud Services az Azure Service Fabric-alkalmazás migrálása</span><span class="sxs-lookup"><span data-stu-id="44e5b-103">Migrate an Azure Cloud Services application to Azure Service Fabric</span></span> 

<span data-ttu-id="44e5b-104">[![GitHub](../_images/github.png) Mintakód][sample-code]</span><span class="sxs-lookup"><span data-stu-id="44e5b-104">[![GitHub](../_images/github.png) Sample code][sample-code]</span></span>

<span data-ttu-id="44e5b-105">Ez a cikk ismerteti, hogy egy alkalmazás áttelepítés az Azure Cloud Services az Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="44e5b-105">This article describes migrating an application from Azure Cloud Services to Azure Service Fabric.</span></span> <span data-ttu-id="44e5b-106">Ez a architekturális döntések összpontosít, és ajánlott eljárásokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-106">It focuses on architectural decisions and recommended practices.</span></span> 

<span data-ttu-id="44e5b-107">Ehhez a projekthez és amelyet a lépések a Cloud Services-alkalmazás Surveys nevű ültették át a Service fabric.</span><span class="sxs-lookup"><span data-stu-id="44e5b-107">For this project, we started with a Cloud Services application called Surveys and ported it to Service Fabric.</span></span> <span data-ttu-id="44e5b-108">A cél volt a alkalmazás, néhány módosítással a lehető áttelepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="44e5b-108">The goal was to migrate the application with as few changes as possible.</span></span> <span data-ttu-id="44e5b-109">Egy újabb a cikkben azt optimalizálja az alkalmazást a Service Fabric által a mikroszolgáltatási architektúra bevezetésének.</span><span class="sxs-lookup"><span data-stu-id="44e5b-109">In a later article, we will optimize the application for Service Fabric by adopting a microservices architecture.</span></span>

<span data-ttu-id="44e5b-110">A cikk elolvasása előtt lesz a Service Fabric- és mikroszolgáltatás-architektúrák alapjait általában megismeréséhez.</span><span class="sxs-lookup"><span data-stu-id="44e5b-110">Before reading this article, it will be useful to understand the basics of Service Fabric and microservices architectures in general.</span></span> <span data-ttu-id="44e5b-111">Lásd az alábbi cikkeket:</span><span class="sxs-lookup"><span data-stu-id="44e5b-111">See the following articles:</span></span>

- <span data-ttu-id="44e5b-112">[Az Azure Service Fabric áttekintése][sf-overview]</span><span class="sxs-lookup"><span data-stu-id="44e5b-112">[Overview of Azure Service Fabric][sf-overview]</span></span>
- <span data-ttu-id="44e5b-113">[Miért érdemes a mikroszolgáltatás-alapú megközelítést választani alkalmazások?][sf-why-microservices]</span><span class="sxs-lookup"><span data-stu-id="44e5b-113">[Why a microservices approach to building applications?][sf-why-microservices]</span></span>


## <a name="about-the-surveys-application"></a><span data-ttu-id="44e5b-114">Tudnivalók a Surveys alkalmazás</span><span class="sxs-lookup"><span data-stu-id="44e5b-114">About the Surveys application</span></span>

<span data-ttu-id="44e5b-115">A 2012-ben a minták és gyakorlatok csoport létrehozása nevű könyvekhez Surveys, nevű alkalmazás [több-bérlős alkalmazások fejlesztése a felhőhöz][tailspin-book].</span><span class="sxs-lookup"><span data-stu-id="44e5b-115">In 2012, the patterns & practices group created an application called Surveys, for a book called [Developing Multi-tenant Applications for the Cloud][tailspin-book].</span></span> <span data-ttu-id="44e5b-116">A könyv tervez, és implementálja a Surveys alkalmazás Tailspin nevű fiktív vállalat ismerteti.</span><span class="sxs-lookup"><span data-stu-id="44e5b-116">The book describes a fictitious company named Tailspin that designs and implements the Surveys application.</span></span>

<span data-ttu-id="44e5b-117">Felmérések egy több-bérlős alkalmazásban, amely lehetővé teszi az ügyfelek számára, hogy felmérések létrehozása.</span><span class="sxs-lookup"><span data-stu-id="44e5b-117">Surveys is a multitenant application that allows customers to create surveys.</span></span> <span data-ttu-id="44e5b-118">Után az alkalmazás regisztrál egy ügyfél, az ügyfél a szervezet tagjai létrehozása és közzététele felmérések, és az elemzési eredmények gyűjtése.</span><span class="sxs-lookup"><span data-stu-id="44e5b-118">After a customer signs up for the application,  members of the customer's organization can create and publish surveys, and collect the results for analysis.</span></span> <span data-ttu-id="44e5b-119">Az alkalmazás egy nyilvános webhely, ahol személyek is igénybe vehet egy kérdőív tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-119">The application includes a public website where people can take a survey.</span></span> <span data-ttu-id="44e5b-120">További információ az eredeti Tailspin forgatókönyv [Itt][tailspin-scenario].</span><span class="sxs-lookup"><span data-stu-id="44e5b-120">Read more about the original Tailspin scenario [here][tailspin-scenario].</span></span>

<span data-ttu-id="44e5b-121">Most Tailspin szeretne áthelyezni a Surveys alkalmazás mikroszolgáltatási architektúrára, az Azure-ban futó Service Fabric használatával.</span><span class="sxs-lookup"><span data-stu-id="44e5b-121">Now Tailspin wants to move the Surveys application to a microservices architecture, using Service Fabric running on Azure.</span></span> <span data-ttu-id="44e5b-122">Az alkalmazás a Cloud Services-alkalmazás már telepítve van, mert a Tailspin a többfázisú megközelítés fogad el:</span><span class="sxs-lookup"><span data-stu-id="44e5b-122">Because the application is already deployed as a Cloud Services application, Tailspin adopts a multi-phase approach:</span></span>

1.  <span data-ttu-id="44e5b-123">Port a cloud services, Service fabric, miközben minimálisra csökkentik a módosításokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-123">Port the cloud services to Service Fabric, while minimizing changes to the application.</span></span>
2.  <span data-ttu-id="44e5b-124">A Service fabric, az alkalmazás optimalizálása a mikroszolgáltatási architektúra való váltással.</span><span class="sxs-lookup"><span data-stu-id="44e5b-124">Optimize the application for Service Fabric, by moving to a microservices architecture.</span></span>

<span data-ttu-id="44e5b-125">Ez a cikk bemutatja az első fázisa.</span><span class="sxs-lookup"><span data-stu-id="44e5b-125">This article describes the first phase.</span></span> <span data-ttu-id="44e5b-126">Egy újabb cikk azt ismerteti, a második fázisa.</span><span class="sxs-lookup"><span data-stu-id="44e5b-126">A later article will describe the second phase.</span></span> <span data-ttu-id="44e5b-127">A való életből vett projektben akkor valószínű, hogy mindkét szakaszok átfedésben lenne.</span><span class="sxs-lookup"><span data-stu-id="44e5b-127">In a real-world project, it's likely that both stages would overlap.</span></span> <span data-ttu-id="44e5b-128">A Service Fabric-re portol, miközben is el Újratervezés mikroszolgáltatások az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="44e5b-128">While porting to Service Fabric, you would also start to re-architect the application into micro-services.</span></span> <span data-ttu-id="44e5b-129">Később, előfordulhat, hogy finomíthatja az architektúra emellett talán értékkel való osztásának coarse-grained szolgáltatások kisebb szolgáltatásba.</span><span class="sxs-lookup"><span data-stu-id="44e5b-129">Later you might refine the architecture further, perhaps dividing coarse-grained services into smaller services.</span></span>  

<span data-ttu-id="44e5b-130">Az alkalmazás kódja megtalálható [GitHub][sample-code].</span><span class="sxs-lookup"><span data-stu-id="44e5b-130">The application code is available on [GitHub][sample-code].</span></span> <span data-ttu-id="44e5b-131">Ebben a tárházban a Cloud Services-alkalmazás és a Service Fabric-verziót is tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="44e5b-131">This repo contains both the Cloud Services application and the Service Fabric version.</span></span> 

> <span data-ttu-id="44e5b-132">A felhőszolgáltatások, az eredeti alkalmazás frissített verzióját a *több-bérlős alkalmazások fejlesztése* címjegyzék-alkalmazásával.</span><span class="sxs-lookup"><span data-stu-id="44e5b-132">The cloud service is an updated version of the original application from the *Developing Multi-tenant Applications* book.</span></span>

## <a name="why-microservices"></a><span data-ttu-id="44e5b-133">Miért érdemes Mikroszolgáltatásokat?</span><span class="sxs-lookup"><span data-stu-id="44e5b-133">Why Microservices?</span></span>

<span data-ttu-id="44e5b-134">Mikroszolgáltatások veszik górcső alá nem ez a cikk terjed, de Íme néhány a Tailspin reméli beszerezni a mikroszolgáltatási architektúra helyezi át a szolgáltatásokat:</span><span class="sxs-lookup"><span data-stu-id="44e5b-134">An in-depth discussion of microservices is beyond scope of this article, but here are some of the benefits that Tailspin hopes to get by moving to a microservices architecture:</span></span>

- <span data-ttu-id="44e5b-135">**Alkalmazásfrissítések**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-135">**Application upgrades**.</span></span> <span data-ttu-id="44e5b-136">Szolgáltatások egymástól függetlenül, telepíthető, így egy alkalmazás frissítéséhez, egy növekményes módszert is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="44e5b-136">Services can be deployed independently, so you can take an incremental approach to upgrading an application.</span></span>
- <span data-ttu-id="44e5b-137">**Rugalmasság és a tartalék elkülönítési**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-137">**Resiliency and fault isolation**.</span></span> <span data-ttu-id="44e5b-138">Ha egy szolgáltatás meghibásodik, más szolgáltatások tovább futnak.</span><span class="sxs-lookup"><span data-stu-id="44e5b-138">If a service fails, other services continue to run.</span></span>
- <span data-ttu-id="44e5b-139">**Méretezhetőség**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-139">**Scalability**.</span></span> <span data-ttu-id="44e5b-140">A szolgáltatások egymástól függetlenül skálázhatók.</span><span class="sxs-lookup"><span data-stu-id="44e5b-140">Services can be scaled independently.</span></span>
- <span data-ttu-id="44e5b-141">**Rugalmasság**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-141">**Flexibility**.</span></span> <span data-ttu-id="44e5b-142">Szolgáltatások köré üzleti forgatókönyvek esetén nem elegyét, ami megkönnyíti az új technológiák, keretrendszerek, vagy adattárakon szolgáltatások áttelepítése.</span><span class="sxs-lookup"><span data-stu-id="44e5b-142">Services are designed around business scenarios, not technology stacks, making it easier to migrate services to new technologies, frameworks, or data stores.</span></span>
- <span data-ttu-id="44e5b-143">**Rugalmas fejlesztés**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-143">**Agile development**.</span></span> <span data-ttu-id="44e5b-144">Egyes szolgáltatások kevesebb, mint a monolitikus alkalmazásoké kód, így a kód alap egyszerűbb való megértéséhez, OK, és tesztelése.</span><span class="sxs-lookup"><span data-stu-id="44e5b-144">Individual services have less code than a monolithic application, making the code base easier to understand, reason about, and test.</span></span>
- <span data-ttu-id="44e5b-145">**Kis méretű, célzott csapatok**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-145">**Small, focused teams**.</span></span> <span data-ttu-id="44e5b-146">Az alkalmazást több kis szolgáltatásra bontani, mert a is egy kis célzott fejlesztőcsapata által készített minden szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-146">Because the application is broken down into many small services, each service can be built by a small focused team.</span></span>

## <a name="why-service-fabric"></a><span data-ttu-id="44e5b-147">Miért érdemes a Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="44e5b-147">Why Service Fabric?</span></span>
      
<span data-ttu-id="44e5b-148">A Service Fabric jó megoldás lehet a mikroszolgáltatási architektúra, azért, mert a Service Fabric, beleértve az elosztott rendszerekben szolgáltatásait a legtöbb beépített:</span><span class="sxs-lookup"><span data-stu-id="44e5b-148">Service Fabric is a good fit for a microservices architecture, because most of the features needed in a distributed system are built into Service Fabric, including:</span></span>

- <span data-ttu-id="44e5b-149">**A fürt felügyeleti**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-149">**Cluster management**.</span></span> <span data-ttu-id="44e5b-150">A Service Fabric automatikusan kezeli a csomópontok feladatátvételét hiba, szolgáltatásállapot-figyelést és más fürt felügyeleti funkcióit.</span><span class="sxs-lookup"><span data-stu-id="44e5b-150">Service Fabric automatically handles node failover, health monitoring, and other cluster management functions.</span></span>
- <span data-ttu-id="44e5b-151">**Horizontális skálázás**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-151">**Horizontal scaling**.</span></span> <span data-ttu-id="44e5b-152">Ha csomópontot ad hozzá egy Service Fabric-fürtöt, az alkalmazás automatikusan skálázza a kapacitást, módon szolgáltatásokat az új csomópontok között oszlanak meg.</span><span class="sxs-lookup"><span data-stu-id="44e5b-152">When you add nodes to a Service Fabric cluster, the application automatically scales, as services are distributed across the new nodes.</span></span>
- <span data-ttu-id="44e5b-153">**A szolgáltatásészlelés**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-153">**Service discovery**.</span></span> <span data-ttu-id="44e5b-154">A Service Fabric egy olyan felderítési szolgáltatást nyújt, amellyel feloldható egy elnevezett szolgáltatás végpontja.</span><span class="sxs-lookup"><span data-stu-id="44e5b-154">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>
- <span data-ttu-id="44e5b-155">**Állapot nélküli és állapotalapú szolgáltatások**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-155">**Stateless and stateful services**.</span></span> <span data-ttu-id="44e5b-156">Állapotalapú szolgáltatások használatát [a reliable collections][sf-reliable-collections], amely egy gyorsítótárban vagy üzenetsor helye is igénybe vehet, és lehet particionálni.</span><span class="sxs-lookup"><span data-stu-id="44e5b-156">Stateful services use [reliable collections][sf-reliable-collections], which can take the place of a cache or queue, and can be partitioned.</span></span>
- <span data-ttu-id="44e5b-157">**Alkalmazáséletciklus-kezelés**.</span><span class="sxs-lookup"><span data-stu-id="44e5b-157">**Application lifecycle management**.</span></span> <span data-ttu-id="44e5b-158">Szolgáltatások egymástól függetlenül, az alkalmazás leállás nélkül frissíthetők.</span><span class="sxs-lookup"><span data-stu-id="44e5b-158">Services can be upgraded independently and without application downtime.</span></span>
- <span data-ttu-id="44e5b-159">**Vezénylési szolgáltatás** Vezényel számítógépfürtökön.</span><span class="sxs-lookup"><span data-stu-id="44e5b-159">**Service orchestration** across a cluster of machines.</span></span>
- <span data-ttu-id="44e5b-160">**Nagyobb sűrűsége** az erőforrás-használat optimalizálására.</span><span class="sxs-lookup"><span data-stu-id="44e5b-160">**Higher density** for optimizing resource consumption.</span></span> <span data-ttu-id="44e5b-161">Egyetlen csomópont több szolgáltatást is üzemeltethet.</span><span class="sxs-lookup"><span data-stu-id="44e5b-161">A single node can host multiple services.</span></span>

<span data-ttu-id="44e5b-162">A Service Fabric egy elosztott felhőalkalmazások létrehozásához már bizonyítottan megbízható platformra így számos Microsoft-szolgáltatás, beleértve az Azure SQL Database, Cosmos DB, az Azure Event Hubs és mások, használatára szolgál.</span><span class="sxs-lookup"><span data-stu-id="44e5b-162">Service Fabric is used by various Microsoft services, including Azure SQL Database, Cosmos DB, Azure Event Hubs, and others, making it a proven platform for building distributed cloud applications.</span></span> 

## <a name="comparing-cloud-services-with-service-fabric"></a><span data-ttu-id="44e5b-163">Cloud Services és a Service Fabric összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="44e5b-163">Comparing Cloud Services with Service Fabric</span></span>

<span data-ttu-id="44e5b-164">Az alábbi táblázatban összefoglaltuk a Cloud Services és a Service Fabric-alkalmazások közötti különbség.</span><span class="sxs-lookup"><span data-stu-id="44e5b-164">The following table summarizes some of the important differences between Cloud Services and Service Fabric applications.</span></span> <span data-ttu-id="44e5b-165">Részletesebb, lásd: [való migrálás előtt a Cloud Services és a Service Fabric közötti különbségekről további alkalmazások][sf-compare-cloud-services].</span><span class="sxs-lookup"><span data-stu-id="44e5b-165">For a more in-depth discussion, see [Learn about the differences between Cloud Services and Service Fabric before migrating applications][sf-compare-cloud-services].</span></span>

|        | <span data-ttu-id="44e5b-166">Cloud Services</span><span class="sxs-lookup"><span data-stu-id="44e5b-166">Cloud Services</span></span> | <span data-ttu-id="44e5b-167">Service Fabric-példány</span><span class="sxs-lookup"><span data-stu-id="44e5b-167">Service Fabric</span></span> |
|--------|---------------|----------------|
| <span data-ttu-id="44e5b-168">Alkalmazás összeállítása</span><span class="sxs-lookup"><span data-stu-id="44e5b-168">Application composition</span></span> | <span data-ttu-id="44e5b-169">Szerepkörök</span><span class="sxs-lookup"><span data-stu-id="44e5b-169">Roles</span></span>| <span data-ttu-id="44e5b-170">Szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="44e5b-170">Services</span></span> |
| <span data-ttu-id="44e5b-171">Sűrűség</span><span class="sxs-lookup"><span data-stu-id="44e5b-171">Density</span></span> |<span data-ttu-id="44e5b-172">Egy szerepkörpéldány virtuális gépenként</span><span class="sxs-lookup"><span data-stu-id="44e5b-172">One role instance per VM</span></span> | <span data-ttu-id="44e5b-173">Az egyetlen csomópont több szolgáltatást</span><span class="sxs-lookup"><span data-stu-id="44e5b-173">Multiple services in a single node</span></span> |
| <span data-ttu-id="44e5b-174">Csomópontok minimális száma</span><span class="sxs-lookup"><span data-stu-id="44e5b-174">Minimum number of nodes</span></span> | <span data-ttu-id="44e5b-175">2 / szerepkör</span><span class="sxs-lookup"><span data-stu-id="44e5b-175">2 per role</span></span> | <span data-ttu-id="44e5b-176">fürtönként, éles környezetekben üzemelő példányok 5</span><span class="sxs-lookup"><span data-stu-id="44e5b-176">5 per cluster, for production deployments</span></span> |
| <span data-ttu-id="44e5b-177">Állapotkezelés</span><span class="sxs-lookup"><span data-stu-id="44e5b-177">State management</span></span> | <span data-ttu-id="44e5b-178">Állapot nélküli</span><span class="sxs-lookup"><span data-stu-id="44e5b-178">Stateless</span></span> | <span data-ttu-id="44e5b-179">Állapot nélküli vagy állapotalapú</span><span class="sxs-lookup"><span data-stu-id="44e5b-179">Stateless or stateful\*</span></span> |
| <span data-ttu-id="44e5b-180">Hosting</span><span class="sxs-lookup"><span data-stu-id="44e5b-180">Hosting</span></span> | <span data-ttu-id="44e5b-181">Azure</span><span class="sxs-lookup"><span data-stu-id="44e5b-181">Azure</span></span> | <span data-ttu-id="44e5b-182">Felhőalapú vagy helyszíni.</span><span class="sxs-lookup"><span data-stu-id="44e5b-182">Cloud or on-premises</span></span> |
| <span data-ttu-id="44e5b-183">Webes üzemeltetés</span><span class="sxs-lookup"><span data-stu-id="44e5b-183">Web hosting</span></span> | <span data-ttu-id="44e5b-184">IIS\*\*</span><span class="sxs-lookup"><span data-stu-id="44e5b-184">IIS\*\*</span></span> | <span data-ttu-id="44e5b-185">Self-hosting</span><span class="sxs-lookup"><span data-stu-id="44e5b-185">Self-hosting</span></span> |
| <span data-ttu-id="44e5b-186">Telepítési modell</span><span class="sxs-lookup"><span data-stu-id="44e5b-186">Deployment model</span></span> | <span data-ttu-id="44e5b-187">[Klasszikus üzemi modellben][azure-deployment-models]</span><span class="sxs-lookup"><span data-stu-id="44e5b-187">[Classic deployment model][azure-deployment-models]</span></span> | <span data-ttu-id="44e5b-188">[Resource Manager][azure-deployment-models]</span><span class="sxs-lookup"><span data-stu-id="44e5b-188">[Resource Manager][azure-deployment-models]</span></span>  |
| <span data-ttu-id="44e5b-189">Csomagolás</span><span class="sxs-lookup"><span data-stu-id="44e5b-189">Packaging</span></span> | <span data-ttu-id="44e5b-190">Cloud service csomagfájlok (.cspkg)</span><span class="sxs-lookup"><span data-stu-id="44e5b-190">Cloud service package files (.cspkg)</span></span> | <span data-ttu-id="44e5b-191">Alkalmazás- és szolgáltatási csomagok</span><span class="sxs-lookup"><span data-stu-id="44e5b-191">Application and service packages</span></span> |
| <span data-ttu-id="44e5b-192">Alkalmazás frissítése</span><span class="sxs-lookup"><span data-stu-id="44e5b-192">Application update</span></span> | <span data-ttu-id="44e5b-193">Virtuális IP-címek felcserélése vagy működés közbeni frissítés</span><span class="sxs-lookup"><span data-stu-id="44e5b-193">VIP swap or rolling update</span></span> | <span data-ttu-id="44e5b-194">A működés közbeni frissítés</span><span class="sxs-lookup"><span data-stu-id="44e5b-194">Rolling update</span></span> |
| <span data-ttu-id="44e5b-195">Automatikus méretezés</span><span class="sxs-lookup"><span data-stu-id="44e5b-195">Auto-scaling</span></span> | <span data-ttu-id="44e5b-196">[Beépített szolgáltatás][cloud-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="44e5b-196">[Built-in service][cloud-service-autoscale]</span></span> | <span data-ttu-id="44e5b-197">Az automatikus Virtuálisgép-méretezési csoportok horizontális felskálázás</span><span class="sxs-lookup"><span data-stu-id="44e5b-197">VM Scale Sets for auto scale out</span></span> |
| <span data-ttu-id="44e5b-198">Hibakeresés</span><span class="sxs-lookup"><span data-stu-id="44e5b-198">Debugging</span></span> | <span data-ttu-id="44e5b-199">Helyi emulátor</span><span class="sxs-lookup"><span data-stu-id="44e5b-199">Local emulator</span></span> | <span data-ttu-id="44e5b-200">Helyi fürt</span><span class="sxs-lookup"><span data-stu-id="44e5b-200">Local cluster</span></span> |


<span data-ttu-id="44e5b-201">\* Állapotalapú szolgáltatások használatát [a reliable collections] [ sf-reliable-collections] -állapotának tárolására replikák között, hogy olvasások helyi a fürt csomópontjaihoz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-201">\* Stateful services use [reliable collections][sf-reliable-collections] to store state across replicas, so that all reads are local to the nodes in the cluster.</span></span> <span data-ttu-id="44e5b-202">Írási műveletek replikálódnak a megbízhatóság csomópontok között.</span><span class="sxs-lookup"><span data-stu-id="44e5b-202">Writes are replicated across nodes for reliability.</span></span> <span data-ttu-id="44e5b-203">Állapotmentes szolgáltatások rendelkezhet külső állapotuk, adatbázis vagy más külső tárolási használatával.</span><span class="sxs-lookup"><span data-stu-id="44e5b-203">Stateless services can have external state, using a database or other external storage.</span></span>

<span data-ttu-id="44e5b-204">\*\* Feldolgozói szerepkörök is üzemeltethető helyi ASP.NET Web API OWIN-t használ.</span><span class="sxs-lookup"><span data-stu-id="44e5b-204">\*\* Worker roles can also self-host ASP.NET Web API using OWIN.</span></span>

## <a name="the-surveys-application-on-cloud-services"></a><span data-ttu-id="44e5b-205">A Surveys alkalmazás a Cloud Services</span><span class="sxs-lookup"><span data-stu-id="44e5b-205">The Surveys application on Cloud Services</span></span>

<span data-ttu-id="44e5b-206">Az alábbi ábrán a Surveys alkalmazás futtatása a Cloud Services architektúráját mutatja be.</span><span class="sxs-lookup"><span data-stu-id="44e5b-206">The following diagram shows the architecture of the Surveys application running on Cloud Services.</span></span> 

![](./images/tailspin01.png)

<span data-ttu-id="44e5b-207">Az alkalmazás két webes és feldolgozói szerepkör áll.</span><span class="sxs-lookup"><span data-stu-id="44e5b-207">The application consists of two web roles and a worker role.</span></span>

- <span data-ttu-id="44e5b-208">A **Tailspin.Web** webes szerepkör futtatja az ASP.NET-webhely Tailspin ügyfelek által használt hozhat létre és kezelhet felmérések.</span><span class="sxs-lookup"><span data-stu-id="44e5b-208">The **Tailspin.Web** web role hosts an ASP.NET website that Tailspin customers use to create and manage surveys.</span></span> <span data-ttu-id="44e5b-209">Ügyfelek is használhatja ezt a webhelyet az alkalmazás regisztráljon, és előfizetéseiket.</span><span class="sxs-lookup"><span data-stu-id="44e5b-209">Customers also use this website to sign up for the application and manage their subscriptions.</span></span> <span data-ttu-id="44e5b-210">Végül Tailspin rendszergazdák használhatják azt bérlők listájának megtekintéséhez, és a bérlői adatok kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="44e5b-210">Finally, Tailspin administrators can use it to see the list of tenants and manage tenant data.</span></span> 

- <span data-ttu-id="44e5b-211">A **Tailspin.Web.Survey.Public** webes szerepkör futtatja az ASP.NET-webhely, ahol személyek is igénybe vehet a felmérések, amelyek a Tailspin ügyfelek közzététele.</span><span class="sxs-lookup"><span data-stu-id="44e5b-211">The **Tailspin.Web.Survey.Public** web role hosts an ASP.NET website where people can take the surveys that Tailspin customers publish.</span></span> 

- <span data-ttu-id="44e5b-212">A **Tailspin.Workers.Survey** feldolgozói szerepkör háttérbeli feldolgozásra.</span><span class="sxs-lookup"><span data-stu-id="44e5b-212">The **Tailspin.Workers.Survey** worker role does background processing.</span></span> <span data-ttu-id="44e5b-213">A webes szerepkörök munkaelemek helyezzen be egy üzenetsort, és a feldolgozói szerepkör feldolgozza az elemeket.</span><span class="sxs-lookup"><span data-stu-id="44e5b-213">The web roles put work items onto a queue, and the worker role processes the items.</span></span> <span data-ttu-id="44e5b-214">Két háttérfeladatokat vannak meghatározva: Azure SQL Database és a felmérésre adott válaszok kiszámításának statisztikája felmérés exportálása választ.</span><span class="sxs-lookup"><span data-stu-id="44e5b-214">Two background tasks are defined: Exporting survey answers to Azure SQL Database, and calculating statistics for survey answers.</span></span>

<span data-ttu-id="44e5b-215">Mellett a Cloud Services a Surveys alkalmazás egyes más Azure-szolgáltatásokat használja:</span><span class="sxs-lookup"><span data-stu-id="44e5b-215">In addition to Cloud Services, the Surveys application uses some other Azure services:</span></span>

- <span data-ttu-id="44e5b-216">**Az Azure Storage** store felmérések, surveys válaszokat és bérlői kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-216">**Azure Storage** to store surveys, surveys answers, and tenant information.</span></span>

- <span data-ttu-id="44e5b-217">**Az Azure Redis Cache** egyes gyorsabb olvasási hozzáféréssel az Azure Storage, tárolt adatok gyorsítótárazásához.</span><span class="sxs-lookup"><span data-stu-id="44e5b-217">**Azure Redis Cache** to cache some of the data that is stored in Azure Storage, for faster read access.</span></span> 

- <span data-ttu-id="44e5b-218">**Az Azure Active Directory** hitelesítésére az ügyfelek és a Tailspin rendszergazdák (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="44e5b-218">**Azure Active Directory** (Azure AD) to authenticate customers and Tailspin administrators.</span></span>

- <span data-ttu-id="44e5b-219">**Az Azure SQL Database** tárolására elemzés céljából a felmérés válaszokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-219">**Azure SQL Database** to store the survey answers for analysis.</span></span> 

## <a name="moving-to-service-fabric"></a><span data-ttu-id="44e5b-220">A Service Fabric áthelyezése</span><span class="sxs-lookup"><span data-stu-id="44e5b-220">Moving to Service Fabric</span></span>

<span data-ttu-id="44e5b-221">Ahogy már említettük, a cél az ebben a fázisban a minimálisan szükséges módosításokat a Service Fabric volt áttelepítés.</span><span class="sxs-lookup"><span data-stu-id="44e5b-221">As mentioned, the goal of this phase was migrating to Service Fabric with the minimum necessary changes.</span></span> <span data-ttu-id="44e5b-222">Ebből a célból létrehozott minden egyes felhőszolgáltatási szerepkör az eredeti alkalmazás megfelelő állapotmentes szolgáltatások:</span><span class="sxs-lookup"><span data-stu-id="44e5b-222">To that end, we created stateless services corresponding to each cloud service role in the original application:</span></span>

![](./images/tailspin02.png)

<span data-ttu-id="44e5b-223">Ez az architektúra szándékosan nagyon hasonlít az eredeti alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="44e5b-223">Intentionally, this architecture is very similar to the original application.</span></span> <span data-ttu-id="44e5b-224">A diagram elrejti a azonban néhány fontos eltérés.</span><span class="sxs-lookup"><span data-stu-id="44e5b-224">However, the diagram hides some important differences.</span></span> <span data-ttu-id="44e5b-225">Ez a cikk a többi azt vizsgáljuk meg ezeket a különbségeket.</span><span class="sxs-lookup"><span data-stu-id="44e5b-225">In the rest of this article, we'll explore those differences.</span></span> 


## <a name="converting-the-cloud-service-roles-to-services"></a><span data-ttu-id="44e5b-226">A cloud service szerepkörök konvertálása szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="44e5b-226">Converting the cloud service roles to services</span></span>

<span data-ttu-id="44e5b-227">Ahogy már említettük, hogy minden egyes felhőszolgáltatási szerepkör Service Fabric-szolgáltatás át.</span><span class="sxs-lookup"><span data-stu-id="44e5b-227">As mentioned, we migrated each cloud service role to a Service Fabric service.</span></span> <span data-ttu-id="44e5b-228">Mivel a felhőszolgáltatásokhoz tartozó szerepkörök állapot nélküli, ebben a szakaszban azt kézenfekvő választás a Service Fabric állapotmentes szolgáltatások létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="44e5b-228">Because cloud service roles are stateless, for this phase it made sense to create stateless services in Service Fabric.</span></span> 

<span data-ttu-id="44e5b-229">Az áttelepítés, hogy követte a lépéseket leírt [útmutató a webes és feldolgozói szerepkörök a Service Fabric állapotmentes szolgáltatások konvertálása][sf-migration].</span><span class="sxs-lookup"><span data-stu-id="44e5b-229">For the migration, we followed the steps outlined in [Guide to converting Web and Worker Roles to Service Fabric stateless services][sf-migration].</span></span> 

### <a name="creating-the-web-front-end-services"></a><span data-ttu-id="44e5b-230">A webes előtér-szolgáltatás létrehozása</span><span class="sxs-lookup"><span data-stu-id="44e5b-230">Creating the web front-end services</span></span>

<span data-ttu-id="44e5b-231">A Service Fabric segítségével a szolgáltatás fut a folyamat hozta létre a Service Fabric-futtatókörnyezet.</span><span class="sxs-lookup"><span data-stu-id="44e5b-231">In Service Fabric, a service runs inside a process created by the Service Fabric runtime.</span></span> <span data-ttu-id="44e5b-232">Egy előtér-webkiszolgáló, az azt jelenti, hogy a szolgáltatás nem fut az IIS belül.</span><span class="sxs-lookup"><span data-stu-id="44e5b-232">For a web front end, that means the service is not running inside IIS.</span></span> <span data-ttu-id="44e5b-233">Ehelyett a szolgáltatás egy webkiszolgáló kell futtatni.</span><span class="sxs-lookup"><span data-stu-id="44e5b-233">Instead, the service must host a web server.</span></span> <span data-ttu-id="44e5b-234">Ezt a módszert nevezik *helyi üzemeltetés*, mert a kódot, amely a folyamat fut a web server gazdagép funkcionál.</span><span class="sxs-lookup"><span data-stu-id="44e5b-234">This approach is called *self-hosting*, because the code that runs inside the process acts as the web server host.</span></span> 

<span data-ttu-id="44e5b-235">Az a követelmény integrációsmodul azt jelenti, Service Fabric-szolgáltatás nem használható az ASP.NET MVC- vagy ASP.NET Web Forms, mert ezek a keretrendszerek IIS-t igényelnek, és nem támogatja a helyi tároló.</span><span class="sxs-lookup"><span data-stu-id="44e5b-235">The requirement to self-host means that a Service Fabric service can't use ASP.NET MVC or ASP.NET Web Forms, because those frameworks require IIS and do not support self-hosting.</span></span> <span data-ttu-id="44e5b-236">A helyi üzemeltetési lehetőségek a következők:</span><span class="sxs-lookup"><span data-stu-id="44e5b-236">Options for self-hosting include:</span></span>

- <span data-ttu-id="44e5b-237">[ASP.NET Core][aspnet-core], saját üzemeltetésű használatával a [Kestrel] [ kestrel] webkiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="44e5b-237">[ASP.NET Core][aspnet-core], self-hosted using the [Kestrel][kestrel] web server.</span></span> 
- <span data-ttu-id="44e5b-238">[ASP.NET webes API-k][aspnet-webapi], saját üzemeltetésű használatával [OWIN][owin].</span><span class="sxs-lookup"><span data-stu-id="44e5b-238">[ASP.NET Web API][aspnet-webapi], self-hosted using [OWIN][owin].</span></span>
- <span data-ttu-id="44e5b-239">Külső keretrendszereket, mint például [Nancy](http://nancyfx.org/).</span><span class="sxs-lookup"><span data-stu-id="44e5b-239">Third-party frameworks such as [Nancy](http://nancyfx.org/).</span></span>

<span data-ttu-id="44e5b-240">Az eredeti Surveys alkalmazás ASP.NET MVC használ.</span><span class="sxs-lookup"><span data-stu-id="44e5b-240">The original Surveys application uses ASP.NET MVC.</span></span> <span data-ttu-id="44e5b-241">ASP.NET MVC a Service Fabric helyi nem futhat, mert azt az alábbi áttelepítési lehetőségek figyelembe venni:</span><span class="sxs-lookup"><span data-stu-id="44e5b-241">Because ASP.NET MVC cannot be self-hosted in Service Fabric, we considered the following migration options:</span></span>

- <span data-ttu-id="44e5b-242">A webes szerepkörök, az ASP.NET Core, amely lehet helyi portot.</span><span class="sxs-lookup"><span data-stu-id="44e5b-242">Port the web roles to ASP.NET Core, which can be self-hosted.</span></span>
- <span data-ttu-id="44e5b-243">A webhely átalakítása egy egyoldalas alkalmazás (SPA), amely meghívja a webes API-k ASP.NET Web API használatával implementált.</span><span class="sxs-lookup"><span data-stu-id="44e5b-243">Convert the web site into a single-page application (SPA) that calls a web API implemented using ASP.NET Web API.</span></span> <span data-ttu-id="44e5b-244">Ez a következőkre lenne szükség a webes kezelőfelület teljes újratervezése.</span><span class="sxs-lookup"><span data-stu-id="44e5b-244">This would have required a complete redesign of the web front end.</span></span>
- <span data-ttu-id="44e5b-245">Tartani a meglévő ASP.NET MVC-kódot, és a egy Windows Server-tárolót az IIS telepítése Service Fabricre.</span><span class="sxs-lookup"><span data-stu-id="44e5b-245">Keep the existing ASP.NET MVC code and deploy IIS in a Windows Server container to Service Fabric.</span></span> <span data-ttu-id="44e5b-246">Ez a megközelítés kellene vagy kód módosítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="44e5b-246">This approach would require little or no code change.</span></span> 

<span data-ttu-id="44e5b-247">Az első lehetőség, az ASP.NET Core, portolása engedélyezett számunkra, hogy az ASP.NET Core a legújabb funkciók előnyeinek kihasználása.</span><span class="sxs-lookup"><span data-stu-id="44e5b-247">The first option, porting to ASP.NET Core, allowed us to take advantage of the latest features in ASP.NET Core.</span></span> <span data-ttu-id="44e5b-248">Ehhez a konvertálási, hogy követte a lépéseket, ismertetett [áttelepítése az ASP.NET MVC, ASP.NET Core MVC][aspnet-migration].</span><span class="sxs-lookup"><span data-stu-id="44e5b-248">To do the conversion, we followed the steps described in [Migrating From ASP.NET MVC to ASP.NET Core MVC][aspnet-migration].</span></span> 

> [!NOTE]
> <span data-ttu-id="44e5b-249">A Kestrel az ASP.NET Core használatakor egy fordított proxy forgalom az internetről, biztonsági okokból kezeléséhez a Kestrel elé helyezze.</span><span class="sxs-lookup"><span data-stu-id="44e5b-249">When using ASP.NET Core with Kestrel, you should place a reverse proxy in front of Kestrel to handle traffic from the Internet, for security reasons.</span></span> <span data-ttu-id="44e5b-250">További információkért lásd: [Kestrel web server implementáció, az ASP.NET Core][kestrel].</span><span class="sxs-lookup"><span data-stu-id="44e5b-250">For more information, see [Kestrel web server implementation in ASP.NET Core][kestrel].</span></span> <span data-ttu-id="44e5b-251">A szakasz [az alkalmazás üzembe helyezése](#deploying-the-application) ismerteti az Azure az üzembe helyezés javasolt.</span><span class="sxs-lookup"><span data-stu-id="44e5b-251">The section [Deploying the application](#deploying-the-application) describes a recommended Azure deployment.</span></span>

### <a name="http-listeners"></a><span data-ttu-id="44e5b-252">HTTP-figyelők</span><span class="sxs-lookup"><span data-stu-id="44e5b-252">HTTP listeners</span></span>

<span data-ttu-id="44e5b-253">A Cloud Services, egy webes vagy feldolgozói szerepkör tesz közzé egy HTTP-végpontot a deklarálásával a [szolgáltatásdefiníciós fájl][cloud-service-endpoints].</span><span class="sxs-lookup"><span data-stu-id="44e5b-253">In Cloud Services, a web or worker role exposes an HTTP endpoint by declaring it in the [service definition file][cloud-service-endpoints].</span></span> <span data-ttu-id="44e5b-254">Webes szerepkör legalább egy végponttal rendelkeznie kell.</span><span class="sxs-lookup"><span data-stu-id="44e5b-254">A web role must have at least one endpoint.</span></span>

```xml
<!-- Cloud service endpoint -->
<Endpoints>
    <InputEndpoint name="HttpIn" protocol="http" port="80" />
</Endpoints>
```

<span data-ttu-id="44e5b-255">Ehhez hasonlóan a Service Fabric-végpontok a szolgáltatás jegyzékfájlban deklarált:</span><span class="sxs-lookup"><span data-stu-id="44e5b-255">Similarly, Service Fabric endpoints are declared in a service manifest:</span></span> 

```xml
<!-- Service Fabric endpoint -->
<Endpoints>
    <Endpoint Protocol="http" Name="ServiceEndpoint" Type="Input" Port="8002" />
</Endpoints>
```

<span data-ttu-id="44e5b-256">Egy felhőalapú szolgáltatás szerepkör eltérően azonban a Service Fabric-szolgáltatások is elhelyezhető ugyanazon a csomóponton belül.</span><span class="sxs-lookup"><span data-stu-id="44e5b-256">Unlike a cloud service role, however, Service Fabric services can be co-located within the same node.</span></span> <span data-ttu-id="44e5b-257">Ezért minden szolgáltatás egy különálló porttal kell figyelnie.</span><span class="sxs-lookup"><span data-stu-id="44e5b-257">Therefore, every service must listen on a distinct port.</span></span> <span data-ttu-id="44e5b-258">Ez a cikk későbbi részében mutatjuk meg, hogyan ügyfélkérelmek a 80-as portot vagy a 443-as porton van irányítva a szolgáltatás a megfelelő porthoz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-258">Later in this article, we'll discuss how client requests on port 80 or port 443 get routed to the correct port for the service.</span></span>

<span data-ttu-id="44e5b-259">Egy szolgáltatás, explicit módon létre kell hoznia figyelői végpontok.</span><span class="sxs-lookup"><span data-stu-id="44e5b-259">A service must explicitly create listeners for each endpoint.</span></span> <span data-ttu-id="44e5b-260">A hiba oka, hogy a Service Fabric a független kapcsolatos kommunikáció implementációt.</span><span class="sxs-lookup"><span data-stu-id="44e5b-260">The reason is that Service Fabric is agnostic about communication stacks.</span></span> <span data-ttu-id="44e5b-261">További információkért lásd: [előtérrendszereket hozhat létre web service használata az ASP.NET Core alkalmazás][sf-aspnet-core].</span><span class="sxs-lookup"><span data-stu-id="44e5b-261">For more information, see [Build a web service front end for your application using ASP.NET Core][sf-aspnet-core].</span></span>

## <a name="packaging-and-configuration"></a><span data-ttu-id="44e5b-262">Formátumokat támogató csomagolási és konfiguráció</span><span class="sxs-lookup"><span data-stu-id="44e5b-262">Packaging and configuration</span></span>

 <span data-ttu-id="44e5b-263">Egy felhőalapú szolgáltatás a következő konfigurációs és a csomagmegosztás fájlokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="44e5b-263">A cloud service contains the following configuration and package files:</span></span>

| <span data-ttu-id="44e5b-264">Fájl</span><span class="sxs-lookup"><span data-stu-id="44e5b-264">File</span></span> | <span data-ttu-id="44e5b-265">Leírás</span><span class="sxs-lookup"><span data-stu-id="44e5b-265">Description</span></span> |
|------|-------------|
| <span data-ttu-id="44e5b-266">szolgáltatás definíciós (.csdef)</span><span class="sxs-lookup"><span data-stu-id="44e5b-266">Service definition (.csdef)</span></span> | <span data-ttu-id="44e5b-267">A felhőszolgáltatás konfigurálása az Azure által használt beállításokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-267">Settings used by Azure to configure the cloud service.</span></span> <span data-ttu-id="44e5b-268">A szerepkörök, a végpontok, az indítási feladatok és a konfigurációs beállítások neveit határozza meg.</span><span class="sxs-lookup"><span data-stu-id="44e5b-268">Defines the roles, endpoints, startup tasks, and the names of configuration settings.</span></span> |
| <span data-ttu-id="44e5b-269">szolgáltatás konfigurációs (.cscfg)</span><span class="sxs-lookup"><span data-stu-id="44e5b-269">Service configuration (.cscfg)</span></span> | <span data-ttu-id="44e5b-270">Egy központi telepítési beállítások, beleértve a szerepkörpéldányok számát, a végpont portszámokat és a konfigurációs beállítások értékeit.</span><span class="sxs-lookup"><span data-stu-id="44e5b-270">Per-deployment settings, including the number of role instances, endpoint port numbers, and the values of configuration settings.</span></span> 
| <span data-ttu-id="44e5b-271">Felhőszolgáltatás csomagjához (.cspkg)</span><span class="sxs-lookup"><span data-stu-id="44e5b-271">Service package (.cspkg)</span></span> | <span data-ttu-id="44e5b-272">Az alkalmazás kódja és konfigurációkat, és a szolgáltatásdefiníciós fájlt tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="44e5b-272">Contains the application code and configurations, and the service definition file.</span></span>  |

<span data-ttu-id="44e5b-273">Van egy .csdef fájl a teljes alkalmazás esetében.</span><span class="sxs-lookup"><span data-stu-id="44e5b-273">There is one .csdef file for the entire application.</span></span> <span data-ttu-id="44e5b-274">Több különböző környezetek, például a local .cscfg-fájlok, tesztelési vagy éles rendelkezhet.</span><span class="sxs-lookup"><span data-stu-id="44e5b-274">You can have multiple .cscfg files for different environments, such as local, test, or production.</span></span> <span data-ttu-id="44e5b-275">Ha a szolgáltatás fut, a .cscfg, de a .csdef nem frissítheti.</span><span class="sxs-lookup"><span data-stu-id="44e5b-275">When the service is running, you can update the .cscfg but not the .csdef.</span></span> <span data-ttu-id="44e5b-276">További információkért lásd: [Mi a Cloud Service-modell, és hogyan tegye Becsomagolhatja azt?][cloud-service-config]</span><span class="sxs-lookup"><span data-stu-id="44e5b-276">For more information, see [What is the Cloud Service model and how do I package it?][cloud-service-config]</span></span>

<span data-ttu-id="44e5b-277">A Service Fabric rendelkezik egy hasonló osztás szolgáltatás közötti *definíció* és a szolgáltatás *beállítások*, de a struktúra még finomabban szabályozható.</span><span class="sxs-lookup"><span data-stu-id="44e5b-277">Service Fabric has a similar division between a service *definition* and service *settings*, but the structure is more granular.</span></span> <span data-ttu-id="44e5b-278">Tudni, hogy a Service Fabric konfigurációs modell, ez segít megérteni, hogyan a Service Fabric-alkalmazás van csomagolva.</span><span class="sxs-lookup"><span data-stu-id="44e5b-278">To understand Service Fabric's configuration model, it helps to understand how a Service Fabric application is packaged.</span></span> <span data-ttu-id="44e5b-279">A struktúra a következő:</span><span class="sxs-lookup"><span data-stu-id="44e5b-279">Here is the structure:</span></span>

```
Application package
  - Service packages
    - Code package
    - Configuration package
    - Data package (optional)
```

<span data-ttu-id="44e5b-280">Az alkalmazáscsomag, üzembe helyezése.</span><span class="sxs-lookup"><span data-stu-id="44e5b-280">The application package is what you deploy.</span></span> <span data-ttu-id="44e5b-281">Egy vagy több szolgáltatási csomagot tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="44e5b-281">It contains one or more service packages.</span></span> <span data-ttu-id="44e5b-282">A service-csomag kódját, konfiguráció és adatok csomagot tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-282">A service package contains code, configuration, and data packages.</span></span> <span data-ttu-id="44e5b-283">A kódcsomag tartalmazza a szolgáltatások bináris fájljait, és a konfigurációs csomagot konfigurációs beállításait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="44e5b-283">The code package contains the binaries for the services, and the configuration package contains configuration settings.</span></span> <span data-ttu-id="44e5b-284">Ez a modell lehetővé teszi, hogy frissítse az egyes szolgáltatásokat a teljes alkalmazás újbóli telepítése nélkül.</span><span class="sxs-lookup"><span data-stu-id="44e5b-284">This model allows you to upgrade individual services without redeploying the entire application.</span></span> <span data-ttu-id="44e5b-285">Ezenkívül lehetővé teszi az újbóli üzembe helyezés a kódot, vagy a szolgáltatás újraindítása nélkül csak a konfigurációs beállítások frissítése.</span><span class="sxs-lookup"><span data-stu-id="44e5b-285">It also lets you update just the configuration settings, without redeploying the code or restarting the service.</span></span>

<span data-ttu-id="44e5b-286">Service Fabric-alkalmazás a következő konfigurációs fájlokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="44e5b-286">A Service Fabric application contains the following configuration files:</span></span>

| <span data-ttu-id="44e5b-287">Fájl</span><span class="sxs-lookup"><span data-stu-id="44e5b-287">File</span></span> | <span data-ttu-id="44e5b-288">Tartózkodási hely</span><span class="sxs-lookup"><span data-stu-id="44e5b-288">Location</span></span> | <span data-ttu-id="44e5b-289">Leírás</span><span class="sxs-lookup"><span data-stu-id="44e5b-289">Description</span></span> |
|------|----------|-------------|
| <span data-ttu-id="44e5b-290">ApplicationManifest.xml</span><span class="sxs-lookup"><span data-stu-id="44e5b-290">ApplicationManifest.xml</span></span> | <span data-ttu-id="44e5b-291">Alkalmazáscsomag</span><span class="sxs-lookup"><span data-stu-id="44e5b-291">Application package</span></span> | <span data-ttu-id="44e5b-292">Meghatározza a szolgáltatások, az alkalmazás alkotó.</span><span class="sxs-lookup"><span data-stu-id="44e5b-292">Defines the services that compose the application.</span></span> |
| <span data-ttu-id="44e5b-293">ServiceManifest.xml</span><span class="sxs-lookup"><span data-stu-id="44e5b-293">ServiceManifest.xml</span></span> | <span data-ttu-id="44e5b-294">Szolgáltatási csomag</span><span class="sxs-lookup"><span data-stu-id="44e5b-294">Service package</span></span>| <span data-ttu-id="44e5b-295">Egy vagy több szolgáltatást ismerteti.</span><span class="sxs-lookup"><span data-stu-id="44e5b-295">Describes one or more services.</span></span> |
| <span data-ttu-id="44e5b-296">Settings.xml</span><span class="sxs-lookup"><span data-stu-id="44e5b-296">Settings.xml</span></span> | <span data-ttu-id="44e5b-297">Konfigurációs csomag feltöltése</span><span class="sxs-lookup"><span data-stu-id="44e5b-297">Configuration package</span></span> | <span data-ttu-id="44e5b-298">A szolgáltatások, a service csomagban meghatározott konfigurációs beállításait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="44e5b-298">Contains configuration settings for the services defined in the service package.</span></span> |

<span data-ttu-id="44e5b-299">További információkért lásd: [minta Service Fabric-alkalmazásokhoz][sf-application-model].</span><span class="sxs-lookup"><span data-stu-id="44e5b-299">For more information, see [Model an application in Service Fabric][sf-application-model].</span></span>

<span data-ttu-id="44e5b-300">Támogatja a különböző konfigurációs beállítások több környezethez, használja a következő módon, ismertetett [kezelése több környezethez alkalmazásparamétereket][sf-multiple-environments]:</span><span class="sxs-lookup"><span data-stu-id="44e5b-300">To support different configuration settings for multiple environments, use the following approach, described in [Manage application parameters for multiple environments][sf-multiple-environments]:</span></span>

1. <span data-ttu-id="44e5b-301">A szolgáltatás a Setting.xml fájlban adja meg a beállítást.</span><span class="sxs-lookup"><span data-stu-id="44e5b-301">Define the setting in the Setting.xml file for the service.</span></span>
2. <span data-ttu-id="44e5b-302">Az alkalmazásjegyzék határoz meg egy felülbírálást a beállítást.</span><span class="sxs-lookup"><span data-stu-id="44e5b-302">In the application manifest, define an override for the setting.</span></span>
3. <span data-ttu-id="44e5b-303">Környezet-specifikus beállításokat helyezzen alkalmazásparaméter-fájlokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-303">Put environment-specific settings into application parameter files.</span></span>


## <a name="deploying-the-application"></a><span data-ttu-id="44e5b-304">Az alkalmazás üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="44e5b-304">Deploying the application</span></span>

<span data-ttu-id="44e5b-305">Mivel az Azure Cloud Services egy felügyelt szolgáltatás, a Service Fabric-futtatókörnyezet a.</span><span class="sxs-lookup"><span data-stu-id="44e5b-305">Whereas Azure Cloud Services is a managed service, Service Fabric is a runtime.</span></span> <span data-ttu-id="44e5b-306">Sok környezetben, beleértve az Azure és helyszíni Service Fabric-fürtöket hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="44e5b-306">You can create Service Fabric clusters in many environments, including Azure and on premises.</span></span> <span data-ttu-id="44e5b-307">Ebben a cikkben koncentrálunk üzembe helyezése az Azure-bA.</span><span class="sxs-lookup"><span data-stu-id="44e5b-307">In this article, we focus on deploying to Azure.</span></span> 

<span data-ttu-id="44e5b-308">Az alábbi ábrán látható az üzembe helyezés javasolt:</span><span class="sxs-lookup"><span data-stu-id="44e5b-308">The following diagram shows a recommended deployment:</span></span>

![](./images/tailspin-cluster.png)

<span data-ttu-id="44e5b-309">A Service Fabric-fürtöt helyezünk üzembe egy [Virtuálisgép-méretezési csoportot][vm-scale-sets].</span><span class="sxs-lookup"><span data-stu-id="44e5b-309">The Service Fabric cluster is deployed to a [VM scale set][vm-scale-sets].</span></span> <span data-ttu-id="44e5b-310">A méretezési csoportok olyan Azure Compute-üzembe helyezéséhez és az azonos virtuális gépek kezelésére használható erőforrások.</span><span class="sxs-lookup"><span data-stu-id="44e5b-310">Scale sets are an Azure Compute resource that can be used to deploy and manage a set of identical VMs.</span></span> 

<span data-ttu-id="44e5b-311">Ahogy említettük, a Kestrel webkiszolgáló fordított biztonsági okokból szükséges.</span><span class="sxs-lookup"><span data-stu-id="44e5b-311">As mentioned, the Kestrel web server requires a reverse proxy for security reasons.</span></span> <span data-ttu-id="44e5b-312">Ez a diagram bemutatja [Azure Application Gateway][application-gateway], vagyis egy Azure-szolgáltatás, amely számos 7. rétegbeli terheléselosztási lehetőséget nyújt.</span><span class="sxs-lookup"><span data-stu-id="44e5b-312">This diagram shows [Azure Application Gateway][application-gateway], which is an Azure service that offers various layer 7 load balancing capabilities.</span></span> <span data-ttu-id="44e5b-313">Fordított proxyszolgáltatásként működik, az ügyfélkapcsolatok leállítását és a kérelmek háttérvégpontokhoz való továbbítását végzi.</span><span class="sxs-lookup"><span data-stu-id="44e5b-313">It acts as a reverse-proxy service, terminating the client connection and forwarding requests to back-end endpoints.</span></span> <span data-ttu-id="44e5b-314">Használhat egy másik fordított proxy megoldással, például az nginx-et.</span><span class="sxs-lookup"><span data-stu-id="44e5b-314">You might use a different reverse proxy solution, such as nginx.</span></span>  

### <a name="layer-7-routing"></a><span data-ttu-id="44e5b-315">Útválasztás 7. réteg</span><span class="sxs-lookup"><span data-stu-id="44e5b-315">Layer 7 routing</span></span>

<span data-ttu-id="44e5b-316">Az a [eredeti Surveys alkalmazás](https://msdn.microsoft.com/library/hh534477.aspx#sec21), a 80-as porton figyel egy webes szerepkör és a webes szerepkör 443-as porton figyel.</span><span class="sxs-lookup"><span data-stu-id="44e5b-316">In the [original Surveys application](https://msdn.microsoft.com/library/hh534477.aspx#sec21), one web role listened on port 80, and the other web role listened on port 443.</span></span> 

| <span data-ttu-id="44e5b-317">Nyilvános webhely</span><span class="sxs-lookup"><span data-stu-id="44e5b-317">Public site</span></span> | <span data-ttu-id="44e5b-318">Felmérés felügyeleti hely</span><span class="sxs-lookup"><span data-stu-id="44e5b-318">Survey management site</span></span> |
|-------------|------------------------|
| `http://tailspin.cloudapp.net` | `https://tailspin.cloudapp.net` |

<span data-ttu-id="44e5b-319">Egy másik lehetőség, hogy 7. rétegbeli útválasztási.</span><span class="sxs-lookup"><span data-stu-id="44e5b-319">Another option is to use layer 7 routing.</span></span> <span data-ttu-id="44e5b-320">Ebben a megközelítésben különböző URL-cím elérési első irányítja a rendszer a háttérben különböző portszámokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-320">In this approach, different URL paths get routed to different port numbers on the back end.</span></span> <span data-ttu-id="44e5b-321">Például a nyilvános hely előfordulhat, hogy használja a kezdetű URL-cím elérési utak `/public/`.</span><span class="sxs-lookup"><span data-stu-id="44e5b-321">For example, the public site might use URL paths starting with `/public/`.</span></span> 

<span data-ttu-id="44e5b-322">A 7. rétegbeli útválasztási lehetőségek a következők:</span><span class="sxs-lookup"><span data-stu-id="44e5b-322">Options for layer 7 routing include:</span></span>

- <span data-ttu-id="44e5b-323">Application Gateway használatára.</span><span class="sxs-lookup"><span data-stu-id="44e5b-323">Use Application Gateway.</span></span> 

- <span data-ttu-id="44e5b-324">Egy hálózati virtuális készüléket (nva-t), például az nginx-et használja.</span><span class="sxs-lookup"><span data-stu-id="44e5b-324">Use a network virtual appliance (NVA), such as nginx.</span></span>

- <span data-ttu-id="44e5b-325">Egyéni az átjáró az állapotmentes szolgáltatás írási.</span><span class="sxs-lookup"><span data-stu-id="44e5b-325">Write a custom gateway as a stateless service.</span></span>

<span data-ttu-id="44e5b-326">Fontolja meg ezt a módszert, ha már rendelkezik két vagy több szolgáltatások nyilvános HTTP-végpontokat, de rendezhet egy hely egy egyetlen tartomány nevét.</span><span class="sxs-lookup"><span data-stu-id="44e5b-326">Consider this approach if you have two or more services with public HTTP endpoints, but want them to appear as one site with a single domain name.</span></span>

> <span data-ttu-id="44e5b-327">Egy megközelítést, amiben *nem* ajánlott engedélyezi-e a révén a Service Fabric-kérelmeket küldjön a külső ügyfelek [fordított proxy][sf-reverse-proxy].</span><span class="sxs-lookup"><span data-stu-id="44e5b-327">One approach that we *don't* recommend is allowing external clients to send requests through the Service Fabric [reverse proxy][sf-reverse-proxy].</span></span> <span data-ttu-id="44e5b-328">Bár ez nem lehetséges, a fordított proxy a szolgáltatások közötti kommunikációs szól.</span><span class="sxs-lookup"><span data-stu-id="44e5b-328">Although this is possible, the reverse proxy is intended for service-to-service communication.</span></span> <span data-ttu-id="44e5b-329">Tesz elérhetővé külső ügyfeleknek megnyitással *bármely* szolgáltatás fut a fürtben, amely rendelkezik egy HTTP-végpontot.</span><span class="sxs-lookup"><span data-stu-id="44e5b-329">Opening it to external clients exposes *any* service running in the cluster that has an HTTP endpoint.</span></span>

### <a name="node-types-and-placement-constraints"></a><span data-ttu-id="44e5b-330">Csomóponttípusok és elhelyezési korlátozások</span><span class="sxs-lookup"><span data-stu-id="44e5b-330">Node types and placement constraints</span></span>

<span data-ttu-id="44e5b-331">A fenti központi telepítésben lévő összes szolgáltatás az összes csomóponton fut.</span><span class="sxs-lookup"><span data-stu-id="44e5b-331">In the deployment shown above, all the services run on all the nodes.</span></span> <span data-ttu-id="44e5b-332">Azonban is csoportosíthatók. szolgáltatások, így bizonyos szolgáltatások csak az adott csomóponton futnak.</span><span class="sxs-lookup"><span data-stu-id="44e5b-332">However, you can also group services, so that certain services run only on particular nodes within the cluster.</span></span> <span data-ttu-id="44e5b-333">Ez a módszer használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="44e5b-333">Reasons to use this approach include:</span></span>

- <span data-ttu-id="44e5b-334">Egyes szolgáltatások futtatása a virtuális gépek különböző típusairól.</span><span class="sxs-lookup"><span data-stu-id="44e5b-334">Run some services on different VM types.</span></span> <span data-ttu-id="44e5b-335">Például bizonyos szolgáltatások előfordulhat, hogy nagy számítási igényű vagy gpu-k igényelnek.</span><span class="sxs-lookup"><span data-stu-id="44e5b-335">For example, some services might be compute-intensive or require GPUs.</span></span> <span data-ttu-id="44e5b-336">A Service Fabric-fürt virtuális gép különböző vegyesen használhat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-336">You can have a mix of VM types in your Service Fabric cluster.</span></span>
- <span data-ttu-id="44e5b-337">Különítse el a háttér-szolgáltatásaikhoz, biztonsági okokból az előtér-szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="44e5b-337">Isolate front-end services from back-end services, for security reasons.</span></span> <span data-ttu-id="44e5b-338">Az összes előtér-szolgáltatásokat a csomópontok egy készletét fog futni, és a háttérszolgáltatások ugyanabban a fürtben lévő különböző csomópontokon fog futni.</span><span class="sxs-lookup"><span data-stu-id="44e5b-338">All the front-end services will run on one set of nodes, and the back-end services will run on different nodes in the same cluster.</span></span>
- <span data-ttu-id="44e5b-339">Különböző méretezési igényeknek.</span><span class="sxs-lookup"><span data-stu-id="44e5b-339">Different scale requirements.</span></span> <span data-ttu-id="44e5b-340">Egyes szolgáltatások igényelhet, mint a más szolgáltatások további csomópontokon való futtatáshoz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-340">Some services might need to run on more nodes than other services.</span></span> <span data-ttu-id="44e5b-341">Például, ha megadja az előtérbeli és háttérbeli csomópontok, egyes egymástól függetlenül skálázhatók.</span><span class="sxs-lookup"><span data-stu-id="44e5b-341">For example, if you define front-end nodes and back-end nodes, each set can be scaled independently.</span></span>

<span data-ttu-id="44e5b-342">Az alábbi ábrán látható, amely elválasztja az előtérbeli és háttérbeli szolgáltatások fürt:</span><span class="sxs-lookup"><span data-stu-id="44e5b-342">The following diagram shows a cluster that separates front-end and back-end services:</span></span>

![](././images/node-placement.png)

<span data-ttu-id="44e5b-343">Ez a megközelítés megvalósításához:</span><span class="sxs-lookup"><span data-stu-id="44e5b-343">To implement this approach:</span></span>

1.  <span data-ttu-id="44e5b-344">A fürt létrehozásakor két vagy több csomópont típust határoznak meg.</span><span class="sxs-lookup"><span data-stu-id="44e5b-344">When you create the cluster, define two or more node types.</span></span> 
2.  <span data-ttu-id="44e5b-345">Az egyes szolgáltatások használata [elhelyezési korlátozások] [ sf-placement-constraints] rendelhet a szolgáltatás a csomópont típusa.</span><span class="sxs-lookup"><span data-stu-id="44e5b-345">For each service, use [placement constraints][sf-placement-constraints] to assign the service to a node type.</span></span>

<span data-ttu-id="44e5b-346">Az Azure-ba történő telepítésekor mindegyik csomóponttípus külön Virtuálisgép-méretezési készlet van telepítve.</span><span class="sxs-lookup"><span data-stu-id="44e5b-346">When you deploy to Azure, each node type is deployed to a separate VM scale set.</span></span> <span data-ttu-id="44e5b-347">A Service Fabric-fürt minden csomópont típus átnyúlik.</span><span class="sxs-lookup"><span data-stu-id="44e5b-347">The Service Fabric cluster spans all node types.</span></span> <span data-ttu-id="44e5b-348">További információkért lásd: [Service Fabric-csomóponttípusok és virtuálisgép-méretezési csoportok közötti kapcsolat][sf-node-types].</span><span class="sxs-lookup"><span data-stu-id="44e5b-348">For more information, see [The relationship between Service Fabric node types and Virtual Machine Scale Sets][sf-node-types].</span></span>

> <span data-ttu-id="44e5b-349">Ha egy fürtben több csomóponttípus, csomóponttípussal elsődlegesként lett megjelölve a *elsődleges* typ uzlu.</span><span class="sxs-lookup"><span data-stu-id="44e5b-349">If a cluster has multiple node types, one node type is designated as the *primary* node type.</span></span> <span data-ttu-id="44e5b-350">A Service Fabric futásidejű szolgáltatások, például a fürtszolgáltatás felügyeleti futtassa az elsődleges csomóponttípushoz.</span><span class="sxs-lookup"><span data-stu-id="44e5b-350">Service Fabric runtime services, such as the Cluster Management Service, run on the primary node type.</span></span> <span data-ttu-id="44e5b-351">Az éles környezetben az elsődleges csomóponttípusnak legalább 5 csomópontok kiépítésére.</span><span class="sxs-lookup"><span data-stu-id="44e5b-351">Provision at least 5 nodes for the primary node type in a production environment.</span></span> <span data-ttu-id="44e5b-352">A csomóponttípus rendelkeznie kell legalább 2 csomópontot.</span><span class="sxs-lookup"><span data-stu-id="44e5b-352">The other node type should have at least 2 nodes.</span></span>

## <a name="configuring-and-managing-the-cluster"></a><span data-ttu-id="44e5b-353">Konfigurálása és a fürt kezelése</span><span class="sxs-lookup"><span data-stu-id="44e5b-353">Configuring and managing the cluster</span></span>

<span data-ttu-id="44e5b-354">Fürtök kell biztosítani, hogy megakadályozza a jogosulatlan felhasználók csatlakozzanak a fürtön.</span><span class="sxs-lookup"><span data-stu-id="44e5b-354">Clusters must be secured to prevent unauthorized users from connecting to your cluster.</span></span> <span data-ttu-id="44e5b-355">Javasoljuk, hogy Azure AD használata az ügyfelek és a csomópont és csomópont közötti biztonsághoz X.509 tanúsítványok hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="44e5b-355">It is recommended to use Azure AD to authenticate clients, and X.509 certificates for node-to-node security.</span></span> <span data-ttu-id="44e5b-356">További információkért lásd: [Service Fabric-fürtök biztonsági forgatókönyveit][sf-security].</span><span class="sxs-lookup"><span data-stu-id="44e5b-356">For more information, see [Service Fabric cluster security scenarios][sf-security].</span></span>

<span data-ttu-id="44e5b-357">Egy nyilvános HTTPS-végpont beállítása: [erőforrások meghatározása szolgáltatásjegyzékben][sf-manifest-resources].</span><span class="sxs-lookup"><span data-stu-id="44e5b-357">To configure a public HTTPS endpoint, see [Specify resources in a service manifest][sf-manifest-resources].</span></span>

<span data-ttu-id="44e5b-358">Az alkalmazás horizontális virtuális gépek felvétele a fürtbe.</span><span class="sxs-lookup"><span data-stu-id="44e5b-358">You can scale out the application by adding VMs to the cluster.</span></span> <span data-ttu-id="44e5b-359">Virtuálisgép-méretezési csoportok támogatása automatikus skálázást a teljesítményszámlálók alapján automatikus skálázási szabályok használatával.</span><span class="sxs-lookup"><span data-stu-id="44e5b-359">VM scale sets support auto-scaling using auto-scale rules based on performance counters.</span></span> <span data-ttu-id="44e5b-360">További információkért lásd: [és leskálázása automatikus skálázási szabályok használatával a Service Fabric-fürt skálázása][sf-auto-scale].</span><span class="sxs-lookup"><span data-stu-id="44e5b-360">For more information, see [Scale a Service Fabric cluster in or out using auto-scale rules][sf-auto-scale].</span></span>

<span data-ttu-id="44e5b-361">A fürt futása közben meg kell gyűjteni a központi helyet minden csomópontján.</span><span class="sxs-lookup"><span data-stu-id="44e5b-361">While the cluster is running, you should collect logs from all the nodes in a central location.</span></span> <span data-ttu-id="44e5b-362">További információkért lásd: [naplók gyűjtése az Azure Diagnostics használatával][sf-logs].</span><span class="sxs-lookup"><span data-stu-id="44e5b-362">For more information, see [Collect logs by using Azure Diagnostics][sf-logs].</span></span>   


## <a name="conclusion"></a><span data-ttu-id="44e5b-363">Összegzés</span><span class="sxs-lookup"><span data-stu-id="44e5b-363">Conclusion</span></span>

<span data-ttu-id="44e5b-364">A Service Fabric a Surveys alkalmazás portolása volt viszonylag egyszerű.</span><span class="sxs-lookup"><span data-stu-id="44e5b-364">Porting the Surveys application to Service Fabric was fairly straightforward.</span></span> <span data-ttu-id="44e5b-365">Összefoglalva, amiket a következőket:</span><span class="sxs-lookup"><span data-stu-id="44e5b-365">To summarize, we did the following:</span></span>

- <span data-ttu-id="44e5b-366">Konvertálja a szerepkörök állapotmentes szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="44e5b-366">Converted the roles to stateless services.</span></span>
- <span data-ttu-id="44e5b-367">ASP.NET Core webes előtérrendszerek alakítja.</span><span class="sxs-lookup"><span data-stu-id="44e5b-367">Converted the web front ends to ASP.NET Core.</span></span>
- <span data-ttu-id="44e5b-368">A Service Fabric-modellt a csomagolás és a konfigurációs fájlok módosult.</span><span class="sxs-lookup"><span data-stu-id="44e5b-368">Changed the packaging and configuration files to the Service Fabric model.</span></span>

<span data-ttu-id="44e5b-369">Emellett a központi telepítés változása: Cloud Services – egy Virtuálisgép-méretezési csoportban futó Service Fabric-fürtön.</span><span class="sxs-lookup"><span data-stu-id="44e5b-369">In addition, the deployment changed from Cloud Services to a Service Fabric cluster running in a VM Scale Set.</span></span>

## <a name="next-steps"></a><span data-ttu-id="44e5b-370">További lépések</span><span class="sxs-lookup"><span data-stu-id="44e5b-370">Next steps</span></span>

<span data-ttu-id="44e5b-371">Most, hogy a Surveys alkalmazás sikeresen már Tailspin szeretné a Service Fabric segédanyaghoz, például a független szolgáltatás üzembe helyezését és verziókezelését.</span><span class="sxs-lookup"><span data-stu-id="44e5b-371">Now that the Surveys application has been successfully ported, Tailspin wants to take advantage of Service Fabric features such as independent service deployment and versioning.</span></span> <span data-ttu-id="44e5b-372">Ismerje meg, hogyan a Tailspin szétbontása ezek a szolgáltatások kihasználásához ezeket a Service Fabric a funkciókat az egy részletesebb architektúra [újrabontása az Azure Service Fabric-alkalmazás migrálása az Azure Cloud Services][refactor-surveys]</span><span class="sxs-lookup"><span data-stu-id="44e5b-372">Learn how Tailspin decomposed these services to a more granular architecture to take advantage of these Service Fabric features in [Refactor an Azure Service Fabric Application migrated from Azure Cloud Services][refactor-surveys]</span></span>

<!-- links -->

[application-gateway]: /azure/application-gateway/
[aspnet-core]: /aspnet/core/
[aspnet-webapi]: https://www.asp.net/web-api
[aspnet-migration]: /aspnet/core/migration/mvc
[aspnet-hosting]: /aspnet/core/fundamentals/hosting
[aspnet-webapi]: https://www.asp.net/web-api
[azure-deployment-models]: /azure/azure-resource-manager/resource-manager-deployment-model
[cloud-service-autoscale]: /azure/cloud-services/cloud-services-how-to-scale-portal
[cloud-service-config]: /azure/cloud-services/cloud-services-model-and-package
[cloud-service-endpoints]: /azure/cloud-services/cloud-services-enable-communication-role-instances#worker-roles-vs-web-roles
[kestrel]: https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel
[lb-probes]: /azure/load-balancer/load-balancer-custom-probe-overview
[owin]: https://www.asp.net/aspnet/overview/owin-and-katana
[refactor-surveys]: refactor-migrated-app.md
[sample-code]: https://github.com/mspnp/cloud-services-to-service-fabric
[sf-application-model]: /azure/service-fabric/service-fabric-application-model
[sf-aspnet-core]: /azure/service-fabric/service-fabric-add-a-web-frontend
[sf-auto-scale]: /azure/service-fabric/service-fabric-cluster-scale-up-down
[sf-compare-cloud-services]: /azure/service-fabric/service-fabric-cloud-services-migration-differences
[sf-connect-and-communicate]: /azure/service-fabric/service-fabric-connect-and-communicate-with-services
[sf-containers]: /azure/service-fabric/service-fabric-containers-overview
[sf-logs]: /azure/service-fabric/service-fabric-diagnostics-how-to-setup-wad
[sf-manifest-resources]: /azure/service-fabric/service-fabric-service-manifest-resources
[sf-migration]: /azure/service-fabric/service-fabric-cloud-services-migration-worker-role-stateless-service
[sf-multiple-environments]: /azure/service-fabric/service-fabric-manage-multiple-environment-app-configuration
[sf-node-types]: /azure/service-fabric/service-fabric-cluster-nodetypes
[sf-overview]: /azure/service-fabric/service-fabric-overview
[sf-placement-constraints]: /azure/service-fabric/service-fabric-cluster-resource-manager-cluster-description
[sf-reliable-collections]: /azure/service-fabric/service-fabric-reliable-services-reliable-collections
[sf-reliable-services]: /azure/service-fabric/service-fabric-reliable-services-introduction
[sf-reverse-proxy]: /azure/service-fabric/service-fabric-reverseproxy
[sf-security]: /azure/service-fabric/service-fabric-cluster-security
[sf-why-microservices]: /azure/service-fabric/service-fabric-overview-microservices
[tailspin-book]: https://msdn.microsoft.com/library/ff966499.aspx
[tailspin-scenario]: https://msdn.microsoft.com/library/hh534482.aspx
[unity]: https://msdn.microsoft.com/library/ff647202.aspx
[vm-scale-sets]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
